LEDGER  -*- mode: org; fill-column: 78 -*-

#+STARTUP: content
#+SEQ_TODO: TODO(@) STARTED(@) WAITING(@) DELEGATED(@) DEFERRED(@) | DONE(@) CANCELLED(@) WONTFIX(@) WORKSFORME(@) INVALID(@) DUPLICATE(@) CLOSED(@) TESTED(@) NOTE
#+CATEGORY: Ledger
#+TAGS: LINK(l)
#+DRAWERS: PROPERTIES LOGBOOK OUTPUT SCRIPT SOURCE

* Bugs
** DONE [#A] The bal report does not honor -r
   - State "DONE"       from "STARTED"    [2009-11-07 Sat 08:34]
   If I run "bal simon -r" against this file:
   :SOURCE:
   10/26 trader joe's
       simon                         $-50
       alice                         $-50
       expenses:food:groceries
   :END:
   I see:
   :OUTPUT:
                   $-50  alice
                   $100  expenses:food:groceries
                   $-50  simon
   --------------------
                      0
   :END:

   The register version of this report works just fine.
   :PROPERTIES:
   :ID: 178501DC-6777-4A27-A9D3-587A92FF62D0
   :END:
   [2009-11-03 Tue 15:57]
** DONE [#A] Automated xact multipliers have no effect on null postings
   - State "DONE"       from "TODO"       [2009-11-09 Mon 22:02]
   :PROPERTIES:
   :ID:       3A14C840-0407-465E-A5AC-09338BB6B707
   :Message:  [[message://165AA794-0741-46E8-B4B5-44EB3DB9D337@surryhill.net][Re: ledger make fullcheck]]
   :END:
   [2009-11-09 Mon 02:47]
** DONE [#A] Using ! erroneously in a data file causes a segfault
   - State "DONE"       from "TODO"       [2009-11-10 Tue 01:06]
   :DATA:
   ! Assets:Cash
   
   2008/01/01 January
       Expenses:Books          $10.00
       Assets:Cash
   
   !end
   
   2008/01/01 January
       Expenses:One:Books          $10.00
       Expenses:One:Two:Books          $10.00
       Expenses:One:Two:Three:Books          $10.00
       Assets:Cash
   :END:
   Running the reg command this data file produces:
   :OUTPUT:
   vulcan ~/src/ledger $ ledger -f /tmp/bug.dat reg
   /opt/local/include/gcc44/c++/debug/list:242:error: attempt to access an 
       element in an empty container.
   
   Objects involved in the operation:
   sequence "this" @ 0x0x7fff5fbfac00 {
     type = NSt7__debug4listIPN6ledger9account_tESaIS3_EEE;
   }
   zsh: abort      ledger -f /tmp/bug.dat reg
   :END:
   :PROPERTIES:
   :ID:       D9C8EB08-C201-4FB0-9941-F4417BCF26BC
   :END:
   [2009-11-09 Mon 19:15]
** DONE [#A] 1,00.00 should result in an amount parsing error
   - State "DONE"       from "TODO"       [2009-11-10 Tue 00:12]
   :PROPERTIES:
   :ID:       1A546C4D-42BF-44B4-A477-BF71FB42AE52
   :END:
   [2009-11-08 Sun 18:23]
** DONE [#A] !include statememt no longer accepts simple filenames			   :LINK:
   - State "DONE"       from "TODO"       [2009-11-10 Tue 00:55]
   It needs the full path to the file.
   :PROPERTIES:
   :ID: 272532BD-9BC5-46AA-B94C-BBAD05F35893
   :Message:  [[message://20091101095935.GB3138@jue.netz][Re: All known bugs and features for 3.0 implemented]]
   :END:
   [2009-11-01 Sun 05:50]
** DONE [#A] No error message if the parser cannot find an included file		   :LINK:
   - State "DONE"       from "TODO"       [2009-11-10 Tue 00:13]
   :PROPERTIES:
   :ID: 6188B0EC-A38F-41AE-9B65-8E155641AB99
   :Message:  [[message://20091101095935.GB3138@jue.netz][Re: All known bugs and features for 3.0 implemented]]
   :END:
   [2009-11-01 Sun 05:50]
** DONE [#A] Problem with automated transactions and the balance command
   SCHEDULED: <2009-11-10 Tue>
   - State "DONE"       from "TODO"       [2009-11-11 Wed 00:27]
   :SCRIPT:
   % ledger --version | head -1
   Ledger next-0-ga345f9e, the command-line accounting tool
   % cat <<EOF | ledger --european -f - bal
   = Income:Clients:
     (Liabilities:Taxes:VAT)  ((1,00 / 1,19) * 0,19)
   
   2009/07/27 * Invoice
     Assets:Bank:Checking                                           €    1.190,00
     Income:Clients:ACME_Inc
   EOF
             € 1.190,00  Assets:Bank:Checking
            € -1.190,00  Income:Clients:ACME_Inc
   --------------------
                      0
   :END:
   :SCRIPT:
   % cat <<EOF | ledger --european -f - reg 
   = Income:Clients:
     (Liabilities:Taxes:VAT)  ((1,00 / 1,19) * 0,19)
   
   2009/07/27 * Invoice
     Assets:Bank:Checking                                           €    1.190,00
     Income:Clients:ACME_Inc
   EOF
   2009/07/27 Invoice               Assets:Bank:Checking    € 1.190,00   € 1.190,00
                                    In:Clients:ACME_Inc    € -1.190,00            0
                                    (L:Taxes:VAT)            € -190,00    € -190,00
   :END:
   :PROPERTIES:
   :ID:       FDFBA165-7328-4C4F-BC1C-EDF9C629E2B3
   :END:
   [2009-11-10 Tue 15:13]
** DONE The parser thinks [[link][desc]] is an invalid transaction date
   - State "DONE"       from "TODO"       [2009-11-15 Sun 05:05]
   :PROPERTIES:
   :ID:       8B15C4DD-31A1-403A-9BBF-DE41E08C2DD8
   :END:
   [2009-11-14 Sat 17:08]
** DONE Ledger is not parsing value expressions in report query correctly
   - State "DONE"       from "TODO"       [2009-11-15 Sun 05:16]
   In this command, the '=' gets interpreted as a token.
   :SCRIPT:
   ledger reg @another expr '(amount=$1000)'
   :END:
   :PROPERTIES:
   :ID:       3E0E985B-4AE0-462E-9E61-5C0B1BF1A864
   :END:
   [2009-11-14 Sat 02:42]
** DONE Only use ledger::string if VERIFY_ON or HAVE_BOOST_PYTHON
   - State "DONE"       from "TODO"       [2009-11-11 Wed 16:38]
   Otherwise, it results in empty function calls for optimized builds.
   :PROPERTIES:
   :ID:       3CAB257E-B4B5-47C4-BD19-74056E8B5A1C
   :END:
   [2009-11-11 Wed 15:09]
** DONE After applying automated transactions, verify the xact's balance
   - State "DONE"       from "TODO"       [2009-11-11 Wed 20:43]
   :PROPERTIES:
   :ID:       3F07C9B0-B14E-4C59-A919-0D50A1DE85E2
   :END:
   [2009-11-11 Wed 05:15]
** DONE Abstract a function to verify a transaction double-entry status
   - State "DONE"       from "TODO"       [2009-11-11 Wed 20:43]
   :PROPERTIES:
   :ID:       F9185DA2-634C-4B74-8F3B-EAAA21E6BB26
   :END:
   [2009-11-11 Wed 05:15]
** DONE Does the print command work with xact notes?
   - State "DONE"       from "TODO"       [2009-11-11 Wed 21:39]
   :PROPERTIES:
   :ID:       59A8EF7E-7FA9-4C88-B429-DC4E0B3C9273
   :END:
   [2009-11-02 Mon 15:50]
** DONE If --date is used, don't change the item's real date
   - State "DONE"       from "TODO"       [2009-11-12 Thu 18:25]
   :PROPERTIES:
   :ID:       3508313E-3C25-4B36-BEC8-7C04A966A850
   :END:
   [2009-11-12 Thu 06:05]
** DONE Monthly transactions via -M have the payee bolded
   - State "DONE"       from "TODO"       [2009-11-13 Fri 19:00]
   This is because the temporary transaction is not mark CLEARED.
   :PROPERTIES:
   :ID:       162C0700-B636-4E6C-B2AB-E778E2D20E33
   :END:
   [2009-11-12 Thu 05:04]
** DONE Scoping bug with defined value expression functions
   - State "DONE"       from "TODO"       [2009-11-10 Tue 02:28]
   If I parse the following data:
   :DATA:
    def elec := account_total("Usage:Electricity")
    
    2009/01/13 * Electricity
     Usage:Electricity          646,40 kWh
     Equity:OpeningBalance
    
    2009/02/13 * Electricity
     Usage:Electricity          (690,10 kWh - elec)
     Supplier:Vattenfall
   :END:
   I get an error that account_total is unknown, because it's not finding the
   report scope.  If I substitute the definition by hand, it works.
   :PROPERTIES:
   :ID: 53ACFFFA-E9DE-4526-ABBD-B38DAE0FBA6F
   :END:
   [2009-11-05 Thu 05:25]
** DONE textual.cc should report about illegal options
   - State "DONE"       from "TODO"       [2009-11-07 Sat 08:34]
   :PROPERTIES:
   :ID: 7A2732AF-FF0C-4418-AF38-BA65834866F0
   :END:
   [2009-11-02 Mon 15:50]
** DONE Problem with case sensitivity and UTF-8
   - State "DONE"       from "STARTED"    [2009-11-07 Sat 08:23]
   активы doesn't match Активы
   :PROPERTIES:
   :ID: FA84F4EF-0446-4237-98E1-381458645004
   :END:
   [2009-11-03 Tue 15:27]
** DONE gfuchedzhy is seeing a segfault with a simple input file			   :LINK:
   - State "DONE"       from "TODO"       [2009-11-05 Thu 04:17]
   :PROPERTIES:
   :ID:       880BC301-3EF1-4701-8599-CA6170BCC9DA
   :Issue:    http://github.com/jwiegley/ledger/issues#issue/8
   :END:
   [2009-11-03 Tue 14:09]
** DONE Improve symbol lookup [0/5]
   - State "DONE"       from "TODO"       [2009-11-05 Thu 04:17]
   This is to support the following types of handlers registered from Python:
   - [ ] Option
   - [ ] Function (also should handle get_quote)
   - [ ] Transform (chain handler (name determines sequence))
   - [ ] Command
   :PROPERTIES:
   :ID: F35179B5-E29B-4EA5-B9EA-5AF811615551
   :END:
   [2009-11-03 Tue 13:55]
** DONE Move session.cc read_journal code into journal_t
   - State "DONE"       from "TODO"       [2009-11-05 Thu 04:17]
   :PROPERTIES:
   :ID: 1E297D28-3012-4DF8-A456-4CC09086EB88
   :END:
   [2009-11-02 Mon 17:11]
** DONE In symbol scope make the map optional
   - State "DONE"       from "TODO"       [2009-11-24 Tue 04:21]
   :PROPERTIES:
   :ID:       1DEA172D-72F1-4AA1-B013-9B04E95E47F0
   :END:
   [2009-11-22 Sun 04:25]
** DONE Valuation balance reports should balance to zero
   - State "DONE"       from "TODO"       [2009-11-19 Thu 17:43]
   This is done by adding valuation differences to Equity:Unrealized Gains
   :PROPERTIES:
   :ID:       6ED158B5-361C-4B5D-AED5-8EBE8F374C45
   :END:
   [2009-11-18 Wed 16:11]
** DONE If a quote comes back in the wrong commodity, ignore it
   - State "DONE"       from "TODO"       [2009-06-28 Sun 15:19]
   :PROPERTIES:
   :ID: CD45A03D-0A90-4C60-BA81-81BAEC554544
   :END:
   [2009-06-26 Fri 17:50]
** DONE If there are multiple balancing xacts, print shows them all
   - State "DONE"       from "TODO"       [2009-06-28 Sun 15:56] \\
     This was fixed by implying --actual whenever "print" is used.
   :DATA:
2009/01/01 Sample
   Expenses:Alpha       10 A
   Expenses:Beta        10 B
   Expenses:Gamma       10 C
   Income:Unknown
   :END:
   :SCRIPT:
./ledger -f /tmp/bug.dat print
   :END:
   :OUTPUT:
2009/01/01 Sample
    Expenses:Alpha                              10 A
    Expenses:Beta                               10 B
    Expenses:Gamma                              10 C
    Income:Unknown                                  
    Income:Unknown                                  
    Income:Unknown                                  
   :END:
   The output should include only one "Income:Unknown" line.
   :PROPERTIES:
   :ID: E2E479BC-BC00-4539-A330-895B2C1C8D57
   :END:
   [2009-02-27 Fri 04:10]
** DONE Equity command doesn't handle multiple account commodities
   - State "DONE"       from "TODO"       [2009-11-14 Sat 02:32]
   As seen in:
   :SCRIPT:
   ledger -f doc/sample.dat equity
   :END:
   :PROPERTIES:
   :ID:       49EE4C3B-6FA9-4564-9434-6B3EB359DA6B
   :END:
   [2009-11-11 Wed 23:23]
** DONE Fix --anon so it preserves account hierarchy structure
   - State "DONE"       from "TODO"       [2009-06-27 Sat 14:11]
   :PROPERTIES:
   :ID: 76C15815-4D3C-46AC-996C-C6C26396283F
   :END:
   [2009-06-26 Fri 23:02]
** DONE Balance report was missing the parent account
   - State "DONE"       [2009-03-16 Mon 04:06]
   :PROPERTIES:
   :ID: 461980A1-86DE-4C76-9CB1-1480B5606624
   :END:
   [2009-03-15 Sun 22:32]
** DONE When reporting an imbalance, show the amount to balance against
   SCHEDULED: <2009-11-05 Thu>
   - State "DONE"       from "TODO"       [2009-11-05 Thu 17:48]
   :PROPERTIES:
   :ID: FE1E912D-7DFA-4489-98E9-8112B2B941CB
   :END:
   [2009-11-05 Thu 00:19]
** DONE Balance report wasn't reporting a final total
   - State "DONE"       [2009-03-16 Mon 04:06]
   :PROPERTIES:
   :ID: E9F130C5-33AA-4841-B238-1148506B3DDF
   :END:
   [2009-03-15 Sun 22:32]
** DONE Break up interval_t and move range_t into value_t
   - State "DONE"       [2009-03-16 Mon 04:56]
   - State "STARTED"    [2009-03-10 Tue 23:14]
   :PROPERTIES:
   :ID: FFD34FF1-66E2-4209-93A7-A6C09073B02A
   :END:
   [2009-03-10 Tue 19:40]
** DONE Fold gather_statistics into calc_posts
   - State "DONE"       [2009-03-04 Wed 04:41]
   :PROPERTIES:
   :ID: D64F0CA1-4810-4FD0-BAF5-E6614C69DB42
   :END:
   [2009-03-03 Tue 17:14]
** DONE Find an efficient way to make account_amount, etc., always available
   - State "DONE"       [2009-03-03 Tue 17:13]
   For example, in the register report we don't do any account tabulation.
   :PROPERTIES:
   :ID: 75E8A4EB-4596-47E0-B358-9C078C07C21F
   :END:
   [2009-03-03 Tue 16:29]
** DONE Determine if pre-reading the textual ledger speeds up parsing
   - State "DONE"       [2009-03-06 Fri 04:12] \\
     This is not where the slowness is, according to the profiler.
   :PROPERTIES:
   :ID: 5F272418-F871-4881-AE03-E12C1057E682
   :END:
   [2009-03-03 Tue 00:09]
** DONE Add a "show" report query term
   - State "DONE"       [2009-03-02 Mon 22:44]
   So that a person can say: ledger bal exp show expenses\$
   :PROPERTIES:
   :ID: 42637863-3BFE-43BB-8246-0F14C365B11D
   :END:
   [2009-03-02 Mon 16:52]
** DONE The formatter should itself call justify and scrub
   - State "DONE"       [2009-03-03 Tue 03:18]
   The user can use %{} to avoid any other calls.

   Also, there should be valexpr variables for all the ansi strings, like
   green, red, yellow, etc.  And there should be an alternate syntax for ?:
   use "if" and "else" keywords.  This way, a person can write:

   %12(display_amount)[red if display_amount < 0]
   :PROPERTIES:
   :ID: 5B31A223-DD34-4F97-ABC6-1C18FADC5389
   :END:
   [2009-03-02 Mon 05:25]
** DONE The 'entry' command is showing an effective date
   - State "DONE"       [2009-03-02 Mon 04:41]
   The entry that it prints out should not have an effective date.
   :PROPERTIES:
   :Submitter: John Wiegley <johnw@newartisans.com>
   :Milestone: 3.0
   :Ticket: 3
   :ID: 9457CE97-8EF2-F5B4-B31A-A8D06175EBF3
   :END:
   [2009-03-01 Sun 01:09]
** DONE "ledger parse 'foo(1, 2, 3, 4, (5, 6))'" doesn't parse right
   - State "DONE"       [2009-03-03 Tue 16:02]
   - State "STARTED"    [2009-03-03 Tue 15:28]
   :PROPERTIES:
   :ID: EAF588B2-BDD6-4B3E-A8BB-4D5047476140
   :END:
   [2009-02-28 Sat 05:39]
** DONE "ledger parse 'foo(1, 2, 3)'" now crashes
   - State "DONE"       [2009-02-28 Sat 06:10]
   :PROPERTIES:
   :ID: 0307B1C1-A2AC-43E2-AE2E-E3BE2617C5AD
   :END:
   [2009-02-27 Fri 21:32]
** DONE For unrounded numbers, trim zeroes but not less than display precision
   - State "DONE"       [2009-02-27 Fri 13:14]
   :PROPERTIES:
   :ID: 0BAD4288-C129-425D-8700-D4B2DD129007
   :END:
   [2009-02-27 Fri 04:30]
** DONE Use --head to limit post generation (and speed up GenerateTests!)
   - State "DONE"       [2009-02-27 Fri 13:14]
   :PROPERTIES:
   :ID: E02F85C9-B369-42AB-8463-0C9ACF601DA3
   :END:
   [2009-02-27 Fri 04:30]
** DONE Recursive printing causes costs to extend precision each time
   - State "DONE"       [2009-02-27 Fri 16:22]
   :PROPERTIES:
   :ID: 78F75F38-9069-4812-99E4-0D9FCDE14DFB
   :END:
   [2009-02-27 Fri 03:03]
** DONE foo(1, 2, 3) is printing as foo(1, (2, 3))
   - State "DONE"       [2009-02-27 Fri 13:15]
   :PROPERTIES:
   :ID: C0709A2B-2D63-405A-B7EC-B5FD97E62A72
   :END:
   [2009-02-26 Thu 23:16]
** DONE Improve changed_value_xacts so it reports rounding discrepancies
   - State "DONE"       [2009-02-26 Thu 03:18]
   This will require adding a --revalued-amount options, and verifying that the
   last_balance plus this amount equals the new balance.
   :PROPERTIES:
   :ID: 0854BABC-CB9F-4415-8984-D74F39374535
   :END:
   [2009-02-25 Wed 14:05]
** DONE Perhaps the -x option should be -X, to pair with -V
   - State "DONE"       [2009-02-25 Wed 13:49]
   :PROPERTIES:
   :ID: 3BEF3BCD-EE9A-4D29-B5A0-90D6AC868556
   :END:
   [2009-02-25 Wed 04:27]
** DONE Change streaming to std::cerr to use WARN
   - State "DONE"       [2009-02-26 Thu 04:53]
   :PROPERTIES:
   :ID: 142B89D4-7741-4951-A636-707273C1FE3D
   :END:
   [2009-02-25 Wed 01:32]
** DONE Error when running my 'bal' script
   - State "DONE"       [2009-02-26 Thu 05:07]
   When using my bal script, if there is an error in the large valexpr I use,
   it doesn't show the full context, only the valueof statement.
   :PROPERTIES:
   :Version: 2.6
   :Ticket: 25
   :ID: 88468528-A332-47E7-AA34-5E4F8126E3E7
   :END:
   [2007-12-10 Mon]
** DONE Ditch POST_AUTO for ITEM_GENERATED
   - State "DONE"       [2009-02-24 Tue 01:01]
   :PROPERTIES:
   :ID: D579B743-D87C-4168-8E83-7A49A77917F6
   :END:
   [2009-02-23 Mon 21:35]
** DONE Move the samples in contrib/scripts perhaps to contrib/?
   - State "DONE"       [2009-02-24 Tue 04:07]
   :PROPERTIES:
   :ID: 079B7BEC-73F9-4598-A6F6-6D9717B37F34
   :END:
   [2009-02-04 Wed 20:56]
** DONE Need to rename entry->xact and xact->post
   - State "DONE"       [2009-02-23 Mon 18:49]
   :PROPERTIES:
   :ID: CCD63092-FB8B-48DA-BA86-2C6710C6034A
   :END:
   [2009-02-23 Mon 03:46]
** DONE Problem with basis report
   - State "DONE"       [2009-02-24 Tue 11:38]
   The command is:
   :SCRIPT:
ledger -f utils/standard.dat -e 2004/4 -B reg 401
   :END:
   Far too many decimal places are being displayed in the register output from
   this command.
   :PROPERTIES:
   :Version: 2.6
   :Ticket: 13
   :ID: 41B5FF94-DF20-4530-81A5-20E78EEEDED2
   :END:
   [2007-12-10 Mon]
** DONE Problem with capital gains report
   - State "DONE"       [2009-02-24 Tue 11:37]
   The command is:
   :SCRIPT:
ledger -f utils/standard.dat -e 2004/4 -G reg 401
   :END:
   The results of this command are not at all what I would expecteven though
   they make sense!
 
   The difference is that in 2.4.1, all of the relevant revaluation lines were
   printed, such that the total made sense.
   :PROPERTIES:
   :Version: 2.6
   :Ticket: 12
   :ID: 51DD2F71-F5D0-4C89-AEBD-9BFCF56C1FDB
   :END:
   [2007-12-10 Mon]
** DONE reg -V -f doc/sample.dat is currently completely broken
   - State "DONE"       [2009-02-24 Tue 11:37]
   :PROPERTIES:
   :ID: D7A942B0-A071-496D-B2CE-E916837D50D6
   :END:
   [2009-02-05 Thu 03:36]
** DONE The following, with -B or -V, does not output correctly
   - State "DONE"       [2009-02-24 Tue 11:43]
   If you do a register report using this input:
   :DATA:
; reported by pll

D $1,000.00

2008/10/05 Shell
    Expenses:Auto:Fuel          GAL 5.580 @ $ 2.699
    Assets:BankAccounts:USAA:Checking      $ -15.06

2008/10/05 Shell
    Expenses:Auto:Fuel                    GAL 5.580
    Assets:BankAccounts:USAA:Checking      $ -15.06
   :END:
   What you will see in the -V case is that GAL is never converted to $, and in
   the -B case there is too much precision.
   :PROPERTIES:
   :Submitter: pll
   :Version: 2.6.0.90
   :Ticket: 201
   :ID: F5ABB1B6-B2C1-45B2-A9AE-174736521687
   :END:
   [2008-07-13 Sun]
** DONE The print command isn't showing the transaction cost
   - State "DONE"       [2009-02-24 Tue 15:04]
   :PROPERTIES:
   :ID: 69C29ACE-3685-405A-8EB6-D66941FF6A51
   :END:
   [2009-02-22 Sun 21:01]
** DONE Need to internationalize error messages
   - State "DONE"       [2009-02-25 Wed 04:15]
   :PROPERTIES:
   :Version: 2.6
   :Ticket: 138
   :ID: 6838FEA5-9283-462D-8651-351B0B6A6A0E
   :END:
** DONE --set-reported-account should just be --account
   - State "DONE"       from "TODO"       [2009-11-06 Fri 02:18]
   :PROPERTIES:
   :ID: F35973AD-80AB-4B7A-9111-4A9480C73DFB
   :END:
   [2009-11-04 Wed 16:06]
** DONE If a file's UTF8 coding is incorrect, display a meaningful error
   - State "DONE"       from "TODO"       [2009-11-07 Sat 06:09]
   :PROPERTIES:
   :ID: 91D5206E-44BF-433B-9D53-08711ECE7DE9
   :END:
   [2009-11-03 Tue 18:55]
** DONE Rename basket to bucket
   - State "DONE"       from "TODO"       [2009-11-07 Sat 06:41]
   :PROPERTIES:
   :ID: 4BC2BE6E-7A3D-4207-8F43-6BF07303B9DF
   :END:
   [2009-11-02 Mon 15:50]
** DONE There are too many O_CONS levels for parsing '((1, 2), 3)'
   - State "DONE"       [2009-02-23 Mon 05:29]
   :PROPERTIES:
   :ID: 539F3920-0426-40D0-AB6A-091EE1AC9B1B
   :END:
   [2009-02-23 Mon 05:07]
** DONE Fix the rendering of O_CONS and O_CALL
   - State "DONE"       [2009-02-23 Mon 14:21]
   :PROPERTIES:
   :ID: BE1CB9AB-6FE9-45EC-BD61-63D1F3AE612D
   :END:
   [2009-02-23 Mon 05:07]
** DONE If an option was not used, options.foo should return a null value
   - State "DONE"       [2009-02-22 Sun 15:16]
   :PROPERTIES:
   :ID: BA21ACF9-8213-4794-BF32-57C786E50B67
   :END:
   [2009-02-22 Sun 05:11]
** DONE Allow --exchange to take a comma-separated list of commodities
   - State "DONE"       [2009-02-22 Sun 16:12]
   :PROPERTIES:
   :ID: 924DA74D-7D4F-4412-AE2A-251DC139D86A
   :END:
   [2009-02-22 Sun 04:33]
** DONE The -- sequence isn't stopping option parsing from happening
   - State "DONE"       [2009-02-22 Sun 18:36]
   :PROPERTIES:
   :ID: 9CEDF17E-E7F2-4FBC-8B6E-3E90F33DB70A
   :END:
   [2009-02-22 Sun 03:10]
** DONE The string accumulator is swallowing strings
   - State "DONE"       [2009-02-21 Sat 23:43]
   :PROPERTIES:
   :ID: C5D32CCE-7FD4-4A39-B8F2-20147A4F6902
   :END:
   [2009-02-21 Sat 21:33]
** DONE 'q' in ledger-report should bury the report buffer
   - State "DONE"       [2009-02-21 Sat 19:40]
   :PROPERTIES:
   :ID: 084BCE44-1D07-4353-8719-4C46C7F45273
   :END:
   [2009-02-21 Sat 18:09]
** DONE Create an interactive_t object to do argument parsing
   - State "DONE"       [2009-02-21 Sat 18:57]
   :PROPERTIES:
   :ID: B42F7688-FC26-4A0A-9C36-AB9D30FBD864
   :END:
   [2009-02-21 Sat 16:14]
** DONE Change strip() function to more general scrub()
   - State "DONE"       [2009-02-21 Sat 19:17]
   :PROPERTIES:
   :ID: F10BB0FD-86C6-4B61-A2BA-473820F27BD6
   :END:
   [2009-02-21 Sat 12:30]
** DONE Enable gettext, but only for exceptions and public strings
   - State "DONE"       [2009-02-21 Sat 20:08]
   :PROPERTIES:
   :ID: C6772BE2-04DF-4027-AF96-16B677E08603
   :END:
   [2009-02-21 Sat 12:28]
** DONE Make --empty tests for bal, bal -n, weekly, etc.
   - State "DONE"       [2009-02-21 Sat 20:59]
   :PROPERTIES:
   :ID: EDE71916-D0FC-4EF3-99A5-34FF0B35F58F
   :END:
   [2009-02-21 Sat 12:27]
** DONE Amount reduction is not working
   - State "DONE"       [2009-02-21 Sat 01:39]
   :PROPERTIES:
   :ID: 363C38F0-FDE6-461C-8114-9B172F4B8115
   :END:
   [2009-02-20 Fri 13:17]
** DONE If --strict, warn if an uncleared account has never been seen before
   - State "DONE"       [2009-02-19 Thu 22:28]
   :PROPERTIES:
   :ID: 27E4A5B5-F9B9-46EA-9582-82573507F612
   :END:
   [2009-02-19 Thu 15:59]
** DONE Have ledger automatically fill up the terminal window
   - State "DONE"       [2009-02-19 Thu 15:11]
   :PROPERTIES:
   :ID: E05F54E7-FEA9-4B89-8A2E-75151FB7BF32
   :END:
   [2009-02-19 Thu 14:25]
** DONE An error message is printing incorrectly from Ledger
   - State "DONE"       [2009-02-19 Thu 13:09]
   :OUTPUT:
While calculating posting from "doc/sample.dat", line 11:
>     Assets:Bank:Checking        $1,000.00
   :END:
   This should say something about displaying posting.
   :PROPERTIES:
   :ID: F769BA6B-EE23-4E1F-A318-C3E51848104D
   :END:
   [2009-02-19 Thu 01:12]
** DONE --prices-db not performing tilde expansion in .ledgerrc				   :LINK:
   - State "DONE"       [2009-02-18 Wed 20:54]
   It seems that the --priced-db option in .ledgerrc does not perform tilde
   expansion on the filename specified, and so does not update the prices
   database file.
   
   For example, if my .ledgerrc file reads
   :DATA:
--file ~/docs/ledger/ledger.dat
--price-db ~/docs/ledger/prices.dat
   :END:
   and I issue the command
   :SCRIPT:
ledger -QV bal .
   :END:
   then I notice that my prices.dat file is not updated.
   
   However, if I specify an absolute path in .ledgerrc:
   :DATA:
--file ~/docs/ledger/ledger.dat
--price-db /Users/mcarter/docs/ledger/prices.dat
   :END:
   and issue the command, then prices.dat is properly updated.
   :PROPERTIES:
   :Submitter: Mark Carter <alt.mcarter@googlemail.com>
   :Version: 2.6.1
   :URL: message://a4942fb2-a459-4ba7-b6b9-0331baa42878@o40g2000prn.googlegroups.com
   :ID: 70E63F8E-8561-41F9-A1F1-48AB75A435AA
   :END:
   [2008-12-08 Mon 23:59]
** DONE Attempting to make a negative cost posting fails
   - State "DONE"       [2009-02-19 Thu 15:13]
   :PROPERTIES:
   :Version: 2.6
   :Ticket: 68
   :ID: 0C13AABF-F0CC-40ED-BC20-D322AF1DD784
   :END:
** DONE Balance command gets the sorting wrong
   - State "DONE"       [2009-02-19 Thu 22:28]
   The command is:
   :SCRIPT:
ledger -S -t -s bal wedding
   :END:
   :PROPERTIES:
   :Version: 2.6
   :Ticket: 29
   :ID: D913FCEE-88FF-41D1-98AB-2561382C7933
   :END:
   [2007-12-10 Mon]
** DONE Command does not sort correctly
   - State "DONE"       [2009-02-19 Thu 17:28]
   The command is:
   :SCRIPT:
ledger -f utils/cases/1032.dat -S t bal
   :END:
   :PROPERTIES:
   :Version: 2.6
   :Ticket: 24
   :ID: 72DA9574-0B30-4140-96EC-D721F73B7888
   :END:
   [2007-12-10 Mon]
** DONE Command fails to read any xacts (timelog support)
   - State "DONE"       [2009-02-19 Thu 17:28]
   :SCRIPT:
   ./ledger -f 2.6.2/tests/cases/1032.dat bal
   :END:
   :PROPERTIES:
   :ID: 48C39B0D-0B6A-4512-B60E-A5A1852B481D
   :END:
   [2009-02-16 Mon 14:48]
** DONE Ledger should output empty values with -E -j
   - State "DONE"       [2009-02-19 Thu 13:25]
   The -E flag should cause Ledger to report null figures:
   :OUTPUT:
$ ledger -E -j -p 2006.12 reg Travel

2006.12.18 32.1
2006.12.28 21.81
2006.12.28 63.83
2006.12.28 14.62
2006.12.28 13.4
2006.12.28 15.23
2006.12.28 23.14
2006.12.28 23.14
2006.12.28 23.14
2006.12.28 -28.32
   :END:
   There were null values in the above report, but they weren't output.
   :PROPERTIES:
   :Version: 2.6
   :Ticket: 44
   :ID: 86C0F968-F05B-4881-96B8-1C8CA8BB1315
   :END:
   [2008-04-05 Sat]
** DONE Ledger's long options should support --foo=value
   - State "DONE"       [2009-02-19 Thu 13:06]
   :PROPERTIES:
   :ID: 9ADBF039-BCA2-4FFE-9567-3857467E82AA
   :END:
   [2009-02-16 Mon 20:19]
** DONE More issues with price file parsing						 :ATTACH:
   - State "DONE"       [2009-02-19 Thu 15:02]
   - Note taken on [2008-07-18 Fri 22:44] \\
     Solving this is going to be part of a larger revising of the way commodities
     are translated in general.
   - Note taken on [2008-07-18 Fri 17:37] \\
     Here's the xact:
     :DATA:
2007/01/01 Wasatch Small Cap: WMCVX
    Assets:Wasatch                           178.170 WMCVX
    Equity:OpeningBalances
     :END:
   - Note taken on [2008-07-18 Fri 17:37] \\
     This must be used with the xact found in one of the comments.
   - Note taken on [2008-07-18 Fri 02:35] \\
     I need supporting information before I can do anything more here; I need the
     actual xact which, combined with the price file, causes the problem.
   See archive/New Artisans LLC // View topic - Problem with prices.db file/index.html.
   :PROPERTIES:
   :Submitter: <ktneely@astroturfgarden.com>
   :Version: 2.6
   :Ticket: 134
   :ID: 3850F5F3-8D73-435C-A734-1C39683430ED
   :Attachments: prices.db
   :END:
   [2008-04-11 Fri]
** DONE './ledger -f doc/sample.dat -E bal liab' shows the Assets account
   - State "DONE"       [2009-02-17 Tue 04:51]
   :PROPERTIES:
   :ID: 10D19C11-3698-4A95-AD8D-5CC3551F4567
   :END:
   [2009-02-16 Mon 23:52]
** DONE 'ledger -f doc/sample.dat reg -s -n liab' elides too much
   - State "DONE"       [2009-02-17 Tue 05:29]
   It collapses the account down to "<Total>", even though there was only one
   account!
   :PROPERTIES:
   :ID: 82763D86-E75E-4731-86A0-FB318E9B5F9B
   :END:
   [2009-02-16 Mon 21:55]
** DONE --begin and --end not working correctly
   - State "DONE"       [2009-02-17 Tue 22:49]
   :PROPERTIES:
   :Version: 2.6
   :Ticket: 136
   :ID: C0F9D986-4A39-49D3-9799-E6CFCF76E49A
   :END:
   [2008-04-11 Fri]
** DONE -p 2004/01 should strictly be an alias for -b 2004/01/01 -e 2004/01/31
   - State "DONE"       [2009-02-18 Wed 01:00]
   :PROPERTIES:
   :ID: 7AC5356B-04BF-4D05-BD39-0826D616D840
   :END:
   [2009-02-17 Tue 22:48]
** DONE Cannot stop the file parser by pressing Control-C
   - State "DONE"       [2009-02-16 Mon 04:16]
   :PROPERTIES:
   :ID: 51159E59-18E6-46D8-BBF6-60EFA98BFC6E
   :END:
   [2009-02-10 Tue 22:29]
** DONE Command fails to report monthly averages
   - State "DONE"       [2009-02-16 Mon 16:57]
   - State "TODO"       [2008-07-17 Thu 20:43] \\
     The output from this command is not what people would think it is, because it
     divides by total postings, not months.  This is an issue to be addressed
     again in 2.7.
   The command is:
   :SCRIPT:
ledger -p "this year" -MAs bal ^Expenses
   :END:
   This does not appear to report monthly averages; since it's now april,
   averages should be a third of the unaveraged total.
   :PROPERTIES:
   :Version: 2.6
   :Ticket: 22
   :ID: 5EDCE9E9-8610-4D31-950E-3659D1CD9218
   :END:
   [2007-12-10 Mon]
** DONE Complete the "stats" command
   - State "DONE"       [2009-02-16 Mon 05:17]
   An example from ledgerstat:
   :OUTPUT:
ledgerstat reports some useful ledger statistics using beancount:

$ ledgerstat
Ledger status report as of 2008-05-26
-------------------------------------
File: /Users/simon/current.ledger
Nb accounts: 104
Nb postings: 357
Nb commodities: 2
Nb postings: 830
Nb unique payees: 1
Postings: 357 over 145 days (2.5 per day)
Postings for the past 30 days: 78 (2.6 per day)
The last reconciliation seems to have been: 21 days ago (on 2008-05-05)
The last non-future posting was: 1 day ago
   :END:
   :PROPERTIES:
   :ID: 93DFA8A2-B54B-4BB5-809D-3857C8ECD472
   :END:
   [2009-02-10 Tue 04:34]
** DONE ledger -Z causes a bad memory reference
   - State "DONE"       [2009-02-16 Mon 16:56]
   :PROPERTIES:
   :ID: 8D55C469-CBA2-4F9D-B3E5-F4AFBA0A7A6B
   :END:
   [2009-02-07 Sat 05:04]
** DONE Move code at the bottom of report.h back into derive.h
   - State "DONE"       [2009-02-16 Mon 04:13]
   :PROPERTIES:
   :ID: 5031CD23-FD35-4622-B0D6-90E8FFAD33D4
   :END:
   [2009-02-12 Thu 01:17]
** DONE Use %32(" ") instead of %32| in the formatting codes
   - State "DONE"       [2009-02-17 Tue 18:07]
   :PROPERTIES:
   :ID: 382031D0-4E3D-48B5-9112-51C40F2C8528
   :END:
   [2009-02-17 Tue 07:22]
** DONE Using an invalid option should generate an error
   - State "DONE"       [2009-02-16 Mon 22:59]
   :PROPERTIES:
   :ID: 85C833A1-B710-484C-B892-EEE0E7240959
   :END:
   [2009-02-07 Sat 05:04]
** DONE When Nafai uses -E bal, it shows *all* accounts
   - State "DONE"       [2009-02-17 Tue 05:29]
   :PROPERTIES:
   :ID: 56B4B9CF-AAC4-455A-887F-6E2B359CD4DE
   :END:
   [2009-02-16 Mon 20:19]
** DONE Command gets reporting periods entirely wrong
   - State "DONE"       [2009-02-16 Mon 03:09]
   :SCRIPT:
   reg -f tools/drewr.dat --effective -n -p 2004/01 \( ^exp ^liab ^assets:sav \) and not %nobudget and not mastercard
   reg -f tools/drewr.dat -p 2004/01 food
   :END:
   :PROPERTIES:
   :ID: D77C48E5-7584-4CA7-9BBC-B2AAFF120C87
   :END:
   [2009-02-15 Sun 23:31]
** DONE Command ignores -b option entirely
   - State "DONE"       [2009-02-16 Mon 01:09]
   Part of the reason is --effective
   :SCRIPT:
   ./ledger reg -f tools/drewr.dat --effective -n -b 2004/01 \( ^exp ^liab ^assets:sav \) and not %nobudget and not mastercard
   :END:
   :PROPERTIES:
   :ID: 6EB9DDEA-2526-40D6-A18D-CAC614DF5E45
   :END:
   [2009-02-15 Sun 23:31]
** DONE 'ledger -f doc/sample.dat -n reg' shows $0.00 on first post
   - State "DONE"       [2009-02-16 Mon 03:51]
   :PROPERTIES:
   :ID: F524E251-C79C-4103-8DDC-A651B62A890C
   :END:
   [2009-02-15 Sun 21:55]
** DONE Move the new ledger xact completion to M-TAB
   - State "DONE"       [2009-02-15 Sun 18:03]
   :PROPERTIES:
   :ID: C6AC5776-AB18-4132-87E4-DE2A89E781CF
   :END:
   [2009-02-15 Sun 05:23]
** DONE -M is doubling the running totals
   - State "DONE"       [2009-02-15 Sun 15:40]
   :PROPERTIES:
   :ID: 3378AF83-AC53-49DF-9FB3-8254E4D6FC5B
   :END:
   [2009-02-15 Sun 05:07]
** DONE Remove special parsing of %!, in favor of '%(ansi(foo))'
   - State "DONE"       [2009-02-15 Sun 15:55]
   :PROPERTIES:
   :ID: 9C04DE6C-5539-4B55-B669-57284F34FD63
   :END:
   [2009-02-15 Sun 05:06]
** DONE Create a fmt_ handler category, for reading %P as %(payee)
   - State "DONE"       [2009-02-15 Sun 18:34]
   :PROPERTIES:
   :ID: 525D3608-5CA8-40B5-A0A6-D1A0BF37C06A
   :END:
   [2009-02-15 Sun 05:06]
** DONE Remove total_cost, all I need is amount_expr = cost
   - State "DONE"       [2009-02-15 Sun 15:55]
   :PROPERTIES:
   :ID: 7ACCA78F-81BE-48D7-B7EE-42C1DA67DE62
   :END:
   [2009-02-15 Sun 05:06]
** DONE Create set_expr method for HANDLER(limit_), removing append_predicate
   - State "DONE"       [2009-02-15 Sun 18:21]
   :PROPERTIES:
   :ID: E0346AE8-DA9F-4C11-B297-5D8937C5B05F
   :END:
   [2009-02-15 Sun 05:06]
** DONE Change op.calc debug class to expr.calc
   - State "DONE"       [2009-02-15 Sun 15:40]
   :PROPERTIES:
   :ID: E62413C7-8ADD-4221-B397-83AF6086E515
   :END:
   [2009-02-15 Sun 05:05]
** DONE interval_posts needs to keep its null_posts on temp-lists
   - State "DONE"       [2009-02-15 Sun 05:21]
   :PROPERTIES:
   :ID: 7B23FA1A-9AD3-48A3-A82E-5B0559A6448B
   :END:
   [2009-02-14 Sat 06:12]
** DONE Restore the -A reporting option
   - State "DONE"       [2009-02-15 Sun 15:41]
   This will require a new post/account valexpr variable: count.  For
   postings, it counts the number of postings calculated thus far.  For
   accounts, it reports how many postings it relates to.
   :PROPERTIES:
   :ID: 9CEB14C0-63A1-489A-90E0-453D1125DFFF
   :END:
   [2009-02-14 Sat 05:39]
** DONE Make sure -E can report an "empty month" when using -M
   - State "DONE"       [2009-02-15 Sun 23:16]
   :PROPERTIES:
   :ID: 1F47D0AF-0015-4CD6-8AE1-92D0791D61DE
   :END:
   [2009-02-13 Fri 20:51]
** DONE The print format should conform to what I use in my ledger.dat
   - State "DONE"       [2009-02-13 Fri 18:43]
   :PROPERTIES:
   :ID: 42174465-88BE-465D-B15C-4EDD150C1D17
   :END:
   [2009-02-12 Thu 19:10]
** DONE The sort needs to be able to reverse order of strings and dates
   - State "DONE"       [2009-02-15 Sun 23:17]
   :PROPERTIES:
   :ID: 1745DA15-B4A3-42EE-B8F0-11273A33627C
   :END:
   [2009-02-12 Thu 16:15]
** DONE Change the prices report again
   - State "DONE"       [2009-02-13 Fri 21:08]
   PAYEE   = commodity of history price
   ACCOUNT = commodity
   Report shows only DATE ACCOUNT, where PAYEE exists for searching purposes.
   :PROPERTIES:
   :ID: D083AAA7-B90B-4A3A-86EB-0C502DABB16C
   :END:
   [2009-02-12 Thu 05:13]
** DONE Allow for sorting by multiple criteria, like -S date,payee
   - State "DONE"       [2009-02-15 Sun 23:17]
   :PROPERTIES:
   :ID: AFAFB804-E156-4D94-B897-3AB4A9E611CB
   :END:
   [2009-02-12 Thu 04:54]
** DONE "reg food" is broken now, looks like a boost::variant issue
   - State "DONE"       [2009-02-12 Thu 03:11]
   :PROPERTIES:
   :ID: 8FFE1ACF-87B8-4EFD-AAEC-EFC1766A29ED
   :END:
   [2009-02-12 Thu 02:02]
** DONE Have the xact command recognize days of the week
   - State "DONE"       [2009-02-11 Wed 21:26]
   :PROPERTIES:
   :ID: A3F247BB-699E-40D5-B4D6-75A60192643A
   :END:
   [2009-02-11 Wed 19:18]
** DONE Running gettextize may be worse than autoreconf --intl
   - State "DONE"       [2009-02-15 Sun 23:17]
   :PROPERTIES:
   :ID: 81B2C4E9-2360-4055-88C2-076ACF88B97A
   :END:
   [2009-02-11 Wed 15:36]
** DONE release-distcheck fails because we're passing all args to configure
   - State "DONE"       [2009-02-11 Wed 21:26]
   :PROPERTIES:
   :ID: 903AC319-A260-4166-8318-34C5ACC95AE8
   :END:
   [2009-02-11 Wed 15:12]
** DONE Restore the "xact" command
   - State "DONE"       [2009-02-15 Sun 23:17]
   :PROPERTIES:
   :ID: 3B6F9C53-E7D6-413F-8356-DFD34822DE3B
   :END:
   [2009-02-10 Tue 21:17]
** DONE The file in tools/sample.drewr isn't working with the command it shows
   - State "DONE"       [2009-02-15 Sun 23:18]
   :PROPERTIES:
   :ID: AC7EAD11-1ECE-4E05-AC68-E2DB745F8A9B
   :END:
   [2009-02-10 Tue 21:17]
** DONE Make sure "make release-distcheck" still works for Ledger
   - State "DONE"       [2009-02-08 Sun 16:01]
   :PROPERTIES:
   :ID: F3B3E622-AD73-4B8A-8839-F1CF87D7CC7C
   :END:
   [2009-01-23 Fri 19:07]
** DONE For the parse command, create a dummy post/account to test against
   - State "DONE"       [2009-02-09 Mon 17:33]
   - State "STARTED"    [2009-02-09 Mon 17:08]
   :PROPERTIES:
   :ID: 038CB629-A628-4B12-9356-5CA2097B45D2
   :END:
   [2009-02-09 Mon 15:45]
** DONE drewr says --effective doesn't work either
   - State "DONE"       [2009-02-09 Mon 17:33]
   - State "STARTED"    [2009-02-09 Mon 16:47]
   :PROPERTIES:
   :ID: E0E258D8-E5FD-44D5-9BC9-01A6131E66ED
   :END:
   [2009-02-09 Mon 15:19]
** DONE The -y option doesn't work
   - State "DONE"       [2009-02-09 Mon 17:33]
   - State "STARTED"    [2009-02-09 Mon 17:01]
   :PROPERTIES:
   :ID: 0C00E4C0-3BA3-4785-8F29-52C8FA702AD4
   :END:
   [2009-02-09 Mon 15:19]
** DONE The expression "foo.bar.baz" gets precedence wrong too
   - State "DONE"       [2009-02-09 Mon 18:17]
   :PROPERTIES:
   :ID: 6632F5DF-77E9-4B2A-AA87-49C276F1C108
   :END:
   [2009-02-09 Mon 15:15]
** DONE For the "ledger parse" command line, concat the args
   - State "DONE"       [2009-02-09 Mon 17:33]
   :PROPERTIES:
   :ID: 7070FBC8-35F1-41C7-95DD-FAFF9D0BC7DB
   :END:
   [2009-02-09 Mon 15:15]
** DONE with ledger, "a or b and c" should be "(a or b) and c"
   - State "DONE"       [2009-02-09 Mon 18:27]
   :PROPERTIES:
   :ID: 25E8D531-9B09-4993-A8BB-CD8C5B88CCA5
   :END:
   [2009-02-09 Mon 15:12]
** DONE There is #if 0'd code in filters.cc stopping sample.sh from working
   - State "DONE"       [2009-02-09 Mon 15:10]
   :PROPERTIES:
   :ID: 2987030C-0911-46BC-95D6-4494319492D6
   :END:
   [2009-02-09 Mon 01:01]
** DONE Make Ledger not be so whitespace sensitive
   - State "DONE"       [2009-02-15 Sun 23:18]
   :PROPERTIES:
   :ID: C2B7ED9B-7C4D-4F52-98A2-157671FDF83F
   :END:
   [2009-02-08 Sun 22:46]
** DONE "reg -p this" gives an assertion whenever used at the REPL
   - State "DONE"       [2009-02-15 Sun 23:18]
   :PROPERTIES:
   :ID: FBD10B54-DC5E-420D-B558-450002C00F40
   :END:
   [2009-02-08 Sun 20:38]
** DONE The following command doesn't work: ledger -S display_date reg
   - State "DONE"       [2009-02-15 Sun 23:18]
   :PROPERTIES:
   :ID: D360E561-2F8E-43F3-AC51-D023A372C205
   :END:
   [2009-02-08 Sun 19:07]
** DONE Get PCH support working again for the Ledger build
   - State "DONE"       [2009-02-08 Sun 20:26]
   - State "STARTED"    [2009-02-08 Sun 18:12]
   :PROPERTIES:
   :ID: 2594BA36-AC89-4A83-BE3E-D0ED75C89658
   :END:
   [2009-02-08 Sun 18:12]
** DONE Command shows nothing: ledger -f doc/sample.dat -r reg @book 
   - State "DONE"       [2009-02-15 Sun 23:18]
   :PROPERTIES:
   :ID: 03D5A6A1-94FF-4D36-883D-E04024F19DA5
   :END:
   [2009-02-08 Sun 05:17]
** DONE Get rid of all uses of "ident"
   - State "DONE"       [2009-02-08 Sun 02:30]
   :PROPERTIES:
   :ID: EB366809-44CB-45AF-ABF1-3D3E3540773D
   :END:
   [2009-02-07 Sat 18:14]
** DONE --verify --verbose is showing object memory still in use
   - State "DONE"       [2009-02-08 Sun 16:04]
   :PROPERTIES:
   :ID: B3051A24-F835-4B2A-A601-501BC0FD69B8
   :END:
   [2009-01-31 Sat 06:18]
** DONE At the moment it seems that .ledgerrc is required
   - State "DONE"       [2009-02-08 Sun 16:04]
   :PROPERTIES:
   :ID: F13F5E8A-B40D-4ABA-9E2C-25DF45F4F6CF
   :END:
   [2008-08-31 Sun]
** DONE Don't use -s for bal the way it's used now
   - State "DONE"       [2009-02-08 Sun 16:04]
   :PROPERTIES:
   :ID: C27BABD9-CEAF-41E9-84D9-F1B97C785F50
   :END:
   [2008-08-14 Thu]
** DONE Have -T and -t set the expression template
   - State "DONE"       [2009-02-08 Sun 16:05]
   ... so that # may be used to refer to whatever the previous value (set by
   other options) was
   :PROPERTIES:
   :Version: 2.6
   :Ticket: 112
   :ID: A81F98B1-38AE-4550-8056-C3D7D35691B3
   :END:
   [2008-04-11 Fri]
** DONE Integrate omari's changes into 3.0
   - State "DONE"       [2009-02-08 Sun 16:05]
   :PROPERTIES:
   :ID: 8241124E-4FC6-46CD-9A64-1A79B59F426F
   :END:
   [2008-10-21 Tue 14:03]
** DONE Multiple -f options fail silently
   - State "DONE"       [2009-02-08 Sun 16:05]
   Ledger does not seem to be able to accept multiple -f options (further -f's
   get ignored silently). It should simply concatenate all the specified files
   in a single data set.
 
   :OUTPUT:
Predicate:
Display P: a
2007/12/31 Start of year / Op.. As:In:HSBC-Broker           100 IVV      100 IVV
                                Eq:Op:Cost             -15333.7200 USD      100 IVV
                                                                 -15333.7200 USD
banane:~$ ledger -f /tmp/b.txt reg
Predicate:
Display P: a
2007/12/31 Start of year / Op.. As:In:HSBC-Broker           100 IAA      100 IAA
                                Eq:Op:Cost             -15333.7200 USD      100 IAA
                                                                 -15333.7200 USD
banane:~$ ledger -f /tmp/a.txt /tmp/b.txt reg
Error: Unrecognized command '/tmp/b.txt'
banane:~$ ledger -f /tmp/a.txt -f /tmp/b.txt reg
Predicate:
Display P: a
2007/12/31 Start of year / Op.. As:In:HSBC-Broker           100 IVV      100 IVV
                                Eq:Op:Cost             -15333.7200 USD      100 IVV
                                                                 -15333.7200 USD
   :END:
   :PROPERTIES:
   :Submitter: Martin Blais <blais@furius.ca>
   :Version: 2.6
   :Ticket: 54
   :ID: B1E49EA5-18B9-413A-ACD6-9F9795F25722
   :END:
   [2008-04-07 Mon]
** DONE Problem reading Russian prices file						 :ATTACH:
   - State "DONE"       [2009-02-15 Sun 23:21]
   :PROPERTIES:
   :Version: 2.6
   :Ticket: 131
   :ID: 22D053B7-616B-4B64-83DF-80A46BA1EC2B
   :Attachments: bug.100
   :END:
   [2008-04-11 Fri]
** DONE Set the beginning and ending line/position for xacts
   - State "DONE"       [2009-02-08 Sun 16:06]
   ... that are in other files types: OFX.
   :PROPERTIES:
   :Version: 2.6
   :Ticket: 103
   :ID: 50357AC3-2CF8-4BBE-A679-7B3540139C44
   :END:
   [2008-04-11 Fri]
** DONE The operators in valexpr.cc shouldn't just assert
   - State "DONE"       [2009-02-15 Sun 23:21]
   ... but if somebody says "T&", it should give a syntax error.
   :PROPERTIES:
   :Version: 2.6
   :Ticket: 100
   :ID: AA448F9B-4200-4042-A4D6-57F6466D878C
   :END:
   [2008-04-11 Fri]
** DONE Value expressions should be able to access option values
   - State "DONE"       [2009-02-07 Sat 05:57]
   For example: "options.limit", would return HANDLER(limit_).str().
   :PROPERTIES:
   :ID: 21779153-CBB4-4B5B-B0A8-2E1C8DA08870
   :END:
   [2009-02-07 Sat 05:05]
** DONE The -U flag for Ledger isn't working at all
   - State "DONE"       [2009-01-14 Wed 00:36]
   :SCRIPT:
   ./ledger -U --tail 30 -f /Volumes/Files/ledger.dat reg trade:brok
   :END:
   :PROPERTIES:
   :ID: D66E8BEC-7FA3-4E7D-8E36-61321FA2B6E4
   :ARCHIVE_TIME: 2009-01-20 Tue 20:28
   :ARCHIVE_CATEGORY: Computer
   :END:
   [2009-01-07 Wed 23:14]
** DONE Add error handling to value expression parser/evaluator
   - State "DONE"       [2009-01-23 Fri 01:58]
   :PROPERTIES:
   :ID: FAF5D00C-7D45-40F3-8410-786273EA2F6E
   :ARCHIVE_TIME: 2009-02-01 Sun 15:50
   :ARCHIVE_CATEGORY: Computer
   :END:
   [2009-01-21 Wed 15:41]
** DONE Try converting Unicode only in the Ledger elision function
   - State "DONE"       [2009-01-24 Sat 00:14]
   - State "STARTED"    [2009-01-23 Fri 15:42]
   :PROPERTIES:
   :ID: C73E9D6F-85B0-4686-8D23-CD3EB4E70E39
   :ARCHIVE_TIME: 2009-02-01 Sun 15:50
   :ARCHIVE_CATEGORY: Computer
   :END:
   [2009-01-23 Fri 03:28]
** DONE Revise the way that option/command/etc handlers are defined
   - State "DONE"       [2009-02-05 Thu 21:54]
   - [ ] option
   - [ ] command
   - [ ] directive
   - [ ] function
   - [ ] method
   :PROPERTIES:
   :ID: 4D752AEF-B4C4-47A8-A5D8-CB36F5BFBE50
   :END:
   [2009-02-05 Thu 13:49]
** DONE Move --pager back to report_t
   - State "DONE"       [2009-02-05 Thu 21:54]
   :PROPERTIES:
   :ID: 45FE9185-591D-4965-A91A-99B7F708627B
   :END:
   [2009-02-05 Thu 04:35]
** DONE main.cc still needs cleaning up; move global_scope to global.cc
   - State "DONE"       [2009-02-05 Thu 21:55]
   :PROPERTIES:
   :ID: AD30D495-EFEB-4FB5-A831-6C452FF53D56
   :END:
   [2009-02-05 Thu 03:38]
** DONE Clean up the code in main.cc again, move stripwhite to utils.cc
   - State "DONE"       [2009-02-05 Thu 21:55]
   :PROPERTIES:
   :ID: D98F86D8-1789-4757-BC8D-C2E2A7AFA3C4
   :END:
   [2009-02-04 Wed 21:48]
** DONE Catch Control-C within the Ledger REPL
   - State "DONE"       [2009-02-04 Wed 21:01]
   :PROPERTIES:
   :ID: E755A238-65AE-485F-84C0-2D9DA8AFA8A1
   :END:
   [2009-02-04 Wed 19:58]
** DONE Remove all references to cache_file
   - State "DONE"       [2009-02-04 Wed 21:01]
   :PROPERTIES:
   :ID: AC1C1163-1EB0-4A8F-B4F5-CD0122442A64
   :END:
   [2009-02-04 Wed 18:17]
** DONE Separate out session option handlers from report.cc
   - State "DONE"       [2009-02-06 Fri 03:32]
   :PROPERTIES:
   :ID: 1B28673D-C55E-48A5-86AB-6052BB583D52
   :END:
   [2009-02-04 Wed 15:53]
** DONE The use of automated expressions increases invocation by 50%
   - State "DONE"       [2009-02-04 Wed 04:00] \\
     This is because value expressions are being calculated for every xact.
   :PROPERTIES:
   :ID: 13567C8B-DB84-4658-8C66-40AB211B7BF0
   :END:
   [2009-02-03 Tue 19:02]
** DONE Now that caching is not being used, simplification can be made
   - State "DONE"       [2009-02-03 Tue 18:53]
   - [X] No need for src_idx
   - [X] No need to store the amount/cost expr
   :PROPERTIES:
   :ID: 53742416-2085-450C-8E4E-9D2CD631C691
   :END:
   [2009-02-03 Tue 17:33]
** DONE Parse xact metadata that occurs at the end of the line
   - State "DONE"       [2009-02-04 Wed 04:00]
   :PROPERTIES:
   :ID: D3AD59D7-DAF4-41E7-92DE-397D7A1F449D
   :END:
   [2009-02-03 Tue 16:57]
** DONE Parse xact notes that occur at the end of the line
   - State "DONE"       [2009-02-04 Wed 04:00]
   :PROPERTIES:
   :ID: 18728C2C-FE0E-495C-9DAF-6DC7F7EF34D9
   :END:
   [2009-02-03 Tue 16:19]
** DONE Integrate support for gettext() into Ledger
   - State "DONE"       [2009-02-03 Tue 01:15]
   :PROPERTIES:
   :ID: D599561A-5CB2-4647-8A9E-FB1E558C04FD
   :END:
   [2009-02-02 Mon 17:01]
** DONE Document the new command-line query syntax for Ledger
   - State "DONE"       [2009-02-02 Mon 00:32]
   :PROPERTIES:
   :ID: BC8E6D64-2C61-464A-9B58-7BE039F7C97B
   :END:
   [2009-02-01 Sun 22:12]
** DONE Add full support for expression and metadata to the query expr
   - State "DONE"       [2009-02-01 Sun 22:11]
   - State "STARTED"    [2009-02-01 Sun 18:40]
   For example:
   :SCRIPT:
   ledger reg food @jumby %where=Grenada %work '= a > 100' &note_text
   :END:
   :PROPERTIES:
   :ID: 3F363529-B7C8-4624-BE10-8FDB5401A162
   :END:
   [2009-02-01 Sun 15:40]
** DONE When printing posts and xact, include post/pre comments
   - State "DONE"       [2009-02-01 Sun 22:11]
   - State "STARTED"    [2009-02-01 Sun 20:50]
   :PROPERTIES:
   :ID: 67E8E92B-25D5-4016-94F0-5C7F0EF05D89
   :END:
   [2009-02-01 Sun 15:40]
** DONE Complete the outputting of error context throughout Ledger
   - State "DONE"       [2009-02-02 Mon 00:32]
   - [ ] While parsing a file
   - [ ] In an included file
   - [ ] While parsing a value expression
   - [ ] While evaluating a value expression
   - [ ] While balancing an xact
   - [ ] While invoking a command
   :PROPERTIES:
   :ID: 9572CF73-D8E9-47B0-A00F-658C3A22EE9F
   :END:
   [2009-02-01 Sun 15:16]
** DONE 2.x value expression syntax must be restored
   - State "DONE"       [2008-08-04 Mon]
   The only way this is going to really be possible is with a battery of unit tests.
   :PROPERTIES:
   :ID: AEB2D4B6-6968-44A6-A3F5-63A42CEDF254
   :END:
   [2008-07-27 Sun]
** DONE Check out skanthak's fix to ledger --reconcile					   :LINK:
   - State "DONE"       [2008-11-23 Sun 23:43]
   http://github.com/skanthak/ledger/tree/fix-reconcile
   :PROPERTIES:
   :Submitter: Sebastian Kanthak <skanthak@gmail.com>
   :Version: 2.6.1
   :ID: FFFE432A-FE8F-4584-B4AB-E111F31174DC
   :END:
   [2008-11-20 Thu 19:14]
** DONE Compile errors with gcc 4.3							 :ATTACH:
   - State "DONE"       [2008-05-23 Fri 03:59] \\
     Thanks for that update; the earlier one failed to build on openbsd-x86-normal.
   - State "TODO"       [2008-05-22 Thu 20:50] \\
     Nathan Jones <nathanj@insightbb.com> writes:
     > I had debug on, so I didn't notice a few spots that needed <stdlib>
     > included.
   - State "TODO"       [2008-05-22 Thu 20:49] \\
     Nathan Jones <nathanj@insightbb.com> writes:
     > Another fix.
   - State "TODO"       [2008-05-20 Tue 19:14] \\
     Patch has been applied.
   gcc 4.3 moved some header files around, leading to compile errors. Attached
   is the patch for git.
   :PROPERTIES:
   :Submitter: Nathan Jones <nathanj@insightbb.com>
   :Version: 2.6
   :Ticket: 197
   :ID: E9AD679E-6A13-456E-820C-51C682957B55
   :Attachments: 0001-Fix-compile-errors-with-gcc-4.3.patch 0002-Fix-compile-errors-with-gcc-4.3.patch
   :END:
   [2008-05-20 Tue]
** DONE Enable the parsing of XML on standard input
   - State "DONE"       [2009-01-29 Thu 15:32]
   :PROPERTIES:
   :Version: 2.6
   :Ticket: 164
   :ID: E97BCC81-4E9E-49AA-A905-051C9524B769
   :END:
   [2008-04-11 Fri]
** DONE Fix the Ledger v2.6.1 branch
   - State "DONE"       [2008-05-08 Thu]
   - Every commit must relate to an issue, and name that issue in the commit message.
   - The comment for every fixed issue must reference the commit that fixed it.
   - There must be a ChangeLog set for every change, which also names the issue.
   - Every jww comment must name a Trac issue.
   :PROPERTIES:
   :ID: 1F5B58EB-F5ED-4467-8362-1E5094C19F80
   :END:
   [2008-04-21 Mon]
** DONE Get the register report to work again
   - State "DONE"       [2008-08-04 Mon]
   :PROPERTIES:
   :ID: 7D031D7C-A50D-479E-8C31-168D5F3E8CAB
   :END:
   [2008-07-26 Sat]
** DONE Get xactal assignments working again
   - State "DONE"       [2008-09-14 Sun 06:26]
   - State "STARTED"    [2008-09-06 Sat 08:11]
   Another thing that needs to happen is that these assignments are stored
   internally in the xact, in assign_amount and assign_expr, and then
   get double-checked against the running total when a regular register report
   is performed.
   :PROPERTIES:
   :ID: E6B6E93B-655B-4895-B72F-7B82E1E5D741
   :END:
   [2008-08-24 Sun]
** DONE How do I solve the fact that individual posts ...
   - State "DONE"       [2008-07-13 Sun 21:43]
   ... cannot be marked "cleared"?  This causes troubles when multiple accounts
   are reconciled that involve common posts.
   :PROPERTIES:
   :Version: 2.6
   :Ticket: 108
   :ID: 116B0437-6BA9-4211-B5DE-3BBFA69F1D33
   :END:
   [2008-04-11 Fri]
** DONE If an exception occurs while --verify --verbose is on
   ...it shows lots and lots of leaked memory
   - State "DONE"       [2008-08-10 Sun]
   :PROPERTIES:
   :ID: AAB6A9CC-4122-45F0-A69B-5DC7C59901F5
   :END:
   [2008-07-27 Sun]
** DONE Ledger is currently failing 'make check'
   - State "DONE"       [2008-11-23 Sun 23:43]
   :PROPERTIES:
   :ID: 15CFAA5C-5A95-43FD-8343-06047CF7440B
   :END:
   [2008-10-11 Sat 20:11]
** DONE Make it so that nil is considered a valid commodity
   - State "DONE"       [2007-10-22 Mon 03:23]
   :PROPERTIES:
   :ARCHIVE_TIME: 2007-10-29 Mon 04:29
   :ARCHIVE_CATEGORY: CL-Ledger
   :ID: F026F02F-6695-4310-82DA-E8869E56BF3E
   :END:
   This is rather than testing for nil everywhere; just have the generic
   functions relating to commodities able to act on null.
   [2007-10-20 Sat]
** DONE Make sure that every delete is a checked_delete
   - State "DONE"       [2008-07-27 Sun]
   :PROPERTIES:
   :ID: 5768AB32-D4BB-480E-AD7D-35AF842E2D32
   :END:
   [2008-07-25 Fri]
** DONE Multi-byte characters (like UTF-8) throws off the "emacs" report		 :ATTACH:
   - State "DONE"       [2008-08-25 Mon 23:54] \\
     This has been implemented.
   The emacs report uses byte-positioning to indicate the beginning of posts
   and posts.  This breaks with multi-byte files.

   The solution is either to support multi-byte correctly, or to use line
   numbering instead.  levin has offered a patch for this (attached).
   :PROPERTIES:
   :Submitter: Levin <zslevin@gmail.com>
   :Version: 2.6
   :Ticket: 5
   :ID: 6B7E468B-CB1E-41C3-A6BF-DCB64DA91C15
   :Attachments: line-positioning.patch
   :END:
   [2007-10-29 Mon]
** DONE Restore command-line regexps
   - State "DONE"       [2008-08-04 Mon]
   :PROPERTIES:
   :ID: 0356C673-4300-4CB8-B4A4-869EF0773AF9
   :END:
   [2008-08-03 Sun]
** DONE Restore deleted directories from src/ledger/lib
   - State "DONE"       [2008-08-13 Wed]
   :PROPERTIES:
   :ID: E40F6364-3155-49C1-B5B2-A2308C1F401A
   :END:
   [2008-08-13 Wed]
** DONE Restore reporting filters
   - State "DONE"       [2008-08-04 Mon]
   :PROPERTIES:
   :ID: 05D95071-2F29-4056-9146-708A13EED837
   :END:
   [2008-08-03 Sun]
** DONE Review the changes I've made to ledger::master since 2.6.0.90
   - State "DONE"       [2008-05-07 Wed]
     The only questionable change is the abortive fix to -e.  This should be
     reverted until a proper fix is found.
     :PATCH:
--- a/option.cc
+++ b/option.cc
@@ -482,17 +482,17 @@ OPT_BEGIN(begin, "b:") {
 OPT_BEGIN(end, "e:") {
 char buf[128];
 interval_t interval(optarg);
-  if (! interval.end)
+  if (! interval.begin)
   throw new error(std::string("Could not determine end of period '") +
 		    optarg + "'");

 if (! report->predicate.empty())
   report->predicate += "&";
 report->predicate += "d<[";
-  report->predicate += interval.end.to_string();
+  report->predicate += interval.begin.to_string();
 report->predicate += "]";

-  terminus = interval.end;
+  terminus = interval.begin;
 } OPT_END(end);

 OPT_BEGIN(current, "c") {
     :END:
   :PROPERTIES:
   :ID: CD409D8E-9926-4130-BB83-1179CF5AE84F
   :END:
   [2008-04-24 Thu]
** DONE Revise the way that error contexts are passed up
   - State "DONE"       [2008-08-04 Mon]
   Special care needs to be taken that legitimate uses of exceptions are not too expensive.
   :PROPERTIES:
   :ID: C86755E1-199A-4587-93A8-C18C04FC4996
   :END:
   [2008-07-25 Fri]
** DONE Special care needs to be taken that legitimate uses of exceptions
   ...are not too expensive.
   :PROPERTIES:
   :ID: 525657CE-DA76-4B4B-B88C-595F799A12A7
   :END:
   [2008-08-14 Thu]
** DONE Split binary.cc into journal-specific and generic
   ...and put the generic one in libamounts
   - State "DONE"       [2008-08-04 Mon]
   :PROPERTIES:
   :ID: 12C3D67F-0E7C-46D4-AE7B-7E1E22456997
   :END:
   [2008-07-29 Tue]
** DONE The period "Dec 2008" gives all of 2008
   - State "DONE"       from "STARTED"    [2009-03-23 Mon 01:15]
   - State "STARTED"    [2009-03-19 Thu 05:30]
   :PROPERTIES:
   :ID: 4C97E70D-5338-4360-93A6-F4EFD98BF2B1
   :ARCHIVE_TIME: 2009-04-12 Sun 20:34
   :ARCHIVE_CATEGORY: Ledger
   :END:
   [2009-03-06 Fri 00:02]
** DONE The -n option isn't working on this given sample data				 :ATTACH:
   - State "DONE"       [2009-02-16 Mon 05:21]
   The following two commands do not generate the correct output:
   :SCRIPT:
ledger -f %data% -n reg ^exp | wc -l
ledger -f %data% -n reg | wc -l
   :END:
   The latter command should report more, or the same, number of lines as the
   first, but this is not happening.  It seems that without a regexp, the -n
   report is dropping out several xacts altogether.
   :PROPERTIES:
   :Submitter: Drew Raines <aaraines@gmail.com>
   :Version: 2.6.1
   :ID: 313ACEEC-CFEB-45B9-9EB1-4DCAE40BFBDE
   :Attachments: gistde47de0f5a466f84a2b0-174c35de8c1af0f3c00d552b448042f6206a7d1b.tar.gz
   :END:
   [2008-10-26 Sun 19:06]
** DONE drewr is seeing doubled postings with his data file
   - State "DONE"       [2009-02-08 Sun 20:26]
   - State "STARTED"    [2009-02-08 Sun 18:28]
   :PROPERTIES:
   :ID: 09C9F3F1-FEE9-45E7-9DD4-6AA1D232918B
   :END:
   [2009-02-07 Sat 18:20]
** DONE Post about the new Ledger commodities feature
   - State "DONE"       [2009-01-21 Wed 20:16]
   :PROPERTIES:
   :ID: 9DC97062-391A-4C48-99E1-3B6037716469
   :ARCHIVE_TIME: 2009-02-01 Sun 15:50
   :ARCHIVE_CATEGORY: Computer
   :END:
   [2009-01-20 Tue 16:45]
** DONE PPC buildbot is failing due to a bad TeX installation
   - State "DONE"       [2009-02-03 Tue 14:20]
   :PROPERTIES:
   :ID: 560E59C8-8748-4679-9A17-C76893BDDDEF
   :END:
   [2009-02-01 Sun 03:03]
** DONE acprep upload is deleting the file after it uploads it
   - State "DONE"       from "TODO"       [2009-03-31 Tue 16:24]
   :PROPERTIES:
   :ID: E4EFE47F-2014-4AEF-A515-CBB3B5186C38
   :ARCHIVE_TIME: 2009-04-12 Sun 20:34
   :ARCHIVE_CATEGORY: Ledger
   :END:
   [2009-03-31 Tue 06:27]

** DONE [#C] Bug in showing budget balance
   - State "DONE"       [2009-02-24 Tue 15:10]
   I've been playing with budget feature in 2.4.  So far I've learned to make
   periodic income and expenses, and to show them balanced against actual
   transactions, which is very useful.  However I can't make it show how
   budgets for next month are balanced.  The obvious (for me) command:
   :OUTPUT:
$ ledger -Bs --budget -p "next month" bal ^inc ^exp
   :END:
   shows nothing unless I add an empty transaction on someday next month, which
   is weird, and not any kind of transaction will work.  Are there better ways
   to do this?
   :PROPERTIES:
   :Submitter: <pomin5@gmail.com>
   :Version: 2.4.1
   :Ticket: 20
   :ID: 41716CDE-670C-4F41-825F-FE64B624AF97
   :END:
   [2007-12-10 Mon]
** DONE [#C] Make sure Ledger's #include's are as minimal as possible
   - State "DONE"       [2009-02-15 Sun 23:20]
   :PROPERTIES:
   :ID: 857E3E86-674C-40CA-BDBD-70DFD477AAE7
   :END:
   [2008-08-14 Thu]
** DONE [#C] CSV format can't handle balances or balance pairs
   - State "DONE"       [2009-02-08 Sun 02:31]
   :PROPERTIES:
   :ID: FC689F1B-6155-462A-A170-E85ACEA42F79
   :END:
   [2009-02-07 Sat 05:52]
** DONE [#C] ledger bal -s food should always show accounts matching regex
   - State "DONE"       [2009-02-08 Sun 15:10]
   :PROPERTIES:
   :ID: 9598C8CD-8830-4AD3-BC81-0368E39F88F7
   :END:
   [2009-02-06 Fri 03:26]
** DONE [#C] Create a Merlin project for Ledger again
   - State "DONE"       [2008-10-30 Thu 20:52]
   :PROPERTIES:
   :ID: C57C3D54-917B-4FF1-BB22-804F14AE4AEC
   :ARCHIVE_TIME: 2008-11-28 Fri 16:45
   :ARCHIVE_CATEGORY: Computer
   :END:
   - State "STARTED"    [2008-10-25 Sat 20:00]
   [2008-10-21 Tue 14:24]
** DONE [#C] Cleanup the cl-ledger repository, and put it on GitHub
   - State "DONE"       [2009-02-01 Sun 18:39]
   - State "STARTED"    [2009-02-01 Sun 15:59]
   :PROPERTIES:
   :ID: EE45BD4D-E792-4668-98C5-B4CD50F9B3B7
   :END:
   [2009-02-01 Sun 03:03]
** CANCELLED [#A] The -V flag is producing a discrepancy when includes are used		 :ATTACH:
   - State "CANCELLED"  [2009-01-29 Thu 15:26] \\
     This was not a problem in Ledger itself.
   If you comment out AISChecking from main, the bug goes away.
   :SCRIPT:
./ledger -V reg AR:
   :END:
   :PROPERTIES:
   :Submitter: Russell Adams <RLAdams@AdamsInfoServ.Com>
   :Version: 2.6.1
   :Attachments: PrecisionBug.tar.gz
   :ID: A98BFCBA-012D-4E18-9CBB-4D880CDBFE7E
   :END:
   [2008-10-05 Sun 20:59]
** CANCELLED Pass the default report object into the textual parser
   - State "CANCELLED"  from "TODO"       [2009-11-05 Thu 04:17]
   :PROPERTIES:
   :ID: 048E2C5A-8AFA-4CF2-A1E6-F8693F96A9EE
   :END:
   [2009-11-02 Mon 15:50]
** CANCELLED Make balance assignment failures into a warning
   - State "CANCELLED"  from "DONE"       [2009-11-02 Mon 01:41] \\
     Instead, I've split this into assignments vs. assertions, where assertions are
     errors.
   - State "DONE"       from "TODO"       [2009-10-26 Mon 19:54]
   :PROPERTIES:
   :ID: B3F65D45-C77F-4E01-A8FC-3EDC92A9CB45
   :END:
   [2009-10-23 Fri 06:13]
** CANCELLED Rationalize register and balance total calculation
   - State "CANCELLED"  [2009-03-03 Tue 03:02]
   Rather than keeping the running total for the register report in each
   posting's xdata, perhaps it should be kept in the grand total for the master
   account?
   :PROPERTIES:
   :ID: E242CF42-062A-4B4C-A1A8-390465448F73
   :END:
   [2009-03-02 Mon 16:11]
** CANCELLED Finish my tickets script, so that I post from Org to Unfuddle
   - State "CANCELLED"  [2009-03-06 Fri 04:12]
   :PROPERTIES:
   :ID: 988239F0-3A75-4C6E-B12B-0701DFE173F1
   :END:
   [2009-03-01 Sun 05:23]
** CANCELLED bal -l 'depth<=2' has no effect in the REPL
   - State "CANCELLED"  [2009-03-03 Tue 03:02] \\
     It's because the REPL isn't honoring shell quoting syntax
   :PROPERTIES:
   :ID: 6DD90AF2-0088-4E4E-ACE4-FDD373B921A6
   :END:
   [2009-02-24 Tue 12:11]
** CANCELLED Change Ledger to use shave
   - State "CANCELLED"  [2009-02-24 Tue 01:01]
   :PROPERTIES:
   :ID: 54DAEF67-80D7-402A-BAF2-36EF86064DCD
   :END:
   [2009-02-24 Tue 00:22]
** CANCELLED Periodic budgeting problem when Yxxxx is used
   - State "CANCELLED"  [2009-02-24 Tue 04:07]
   Yeah, it works as expected for me as well.  I have since changed my ledger
   files to use YYYY/MM/DD strings.  In the past I was using the Yxxxx
   directive with MM/DD strings for each entry.  That might have had something
   to do with it... or there was some other problem with my ledger files.
   :PROPERTIES:
   :Submitter: <edavis@insanum.com>
   :Version: 2.6
   :Ticket: 21
   :ID: F2FC7C2B-0CB1-47E7-AE2E-C9E744A47927
   :END:
   [2007-12-10 Mon]
** CANCELLED Create an options_t object for inside of report_t
   - State "CANCELLED"  [2009-02-19 Thu 14:47]
   :PROPERTIES:
   :ID: 8984D061-9749-4543-A5DB-C4B239F16F55
   :END:
   [2009-02-15 Sun 05:08]
** CANCELLED Give an error if --input-date-format contains a space (or should it?)
   - State "CANCELLED"  [2009-02-20 Fri 13:08]
   :PROPERTIES:
   :Version: 2.6
   :Ticket: 144
   :ID: 60B631E4-9819-4460-ABC0-6B789865646D
   :END:
** CANCELLED Ledger is crashing on Thomas' computer when -O2 is used
   - State "CANCELLED"  [2009-02-19 Thu 14:46]
   - Note taken on [2008-10-26 Sun 00:44] \\
     When putting printf statements, the statements in my main() routine are
     executed up till the one right before the parse_and_report call. In the
     parse_and_report function, I put another printf statement before any statement
     is executed, but I don't see this ... Is it possible that there is something
     wrong with the function call itself or might it be the case that output is not
     yet synced before ledger segfaults?
   :PROPERTIES:
   :ID: 00DA5F10-6B76-4CB0-89E3-152A80BFBCED
   :END:
   [2008-10-06 Mon 19:15]
** CANCELLED Problem with piping input to ledger
   - State "CANCELLED"  [2009-02-19 Thu 14:49]
   I decided to just go ahead and push my whole ledger file through "print".
   At first I had been a little nervous about the possibility that I might goof
   up somehow and lose some data.  But it seems to have worked okay: I did a
   spot check of the result by verifying that my checking account and credit
   card accounts still end up with the same final balance as they did before.
   Also, I typically save any edits to my ledger file in a Subversion
   repository, so I can always get back to a previous version if I need to.
 
   So now I do have a nice, clean file.
 
   After I got your message, I did try the "output" command.  I guess I didn't
   understand epostly what it's supposed to be doing, because it didn't quite
   seem to work as I expected.
 
   If I type:
   :SCRIPT:
ledger -f foo output foo
   :END:
   is it supposed to rewrite foo?  It didn't seem to do that.  Instead, it
   seems to write its output onto stdout.  And not only that, it seems to
   duplicate the last xact in the file.
 
   For example, if this is my sample file foo:
   :DATA:
2006/01/01 * Xyzzy Mortgage Co.
    Assets:Bank:Checking                  $-1,000.00
    Expenses:Interest:Mortage              $950.00
    Liabilities:Mortgage                     $50.00

Y2005

01/01 * (1830) TPC
    Expenses:Phone                  $100.00
    Assets:Bank:Checking

2/3 (1832) ABC Dept Store
    Expenses:Clothing           $100.00
    Assets:Bank:Checking
   :END:
 
   Then when I run `ledger -f foo output foo` the output I get is this:
   :OUTPUT:
2006/01/01 * Xyzzy Mortgage Co.
    Assets:Bank:Checking                  $-1,000.00
    Expenses:Interest:Mortage                $950.00
    Liabilities:Mortgage                      $50.00

Y2005

2005/01/01 * (1830) TPC
    Expenses:Phone                           $100.00
    Assets:Bank:Checking

2005/02/03 (1832) ABC Dept Store
    Expenses:Clothing                        $100.00
    Assets:Bank:Checking
2/3 (1832) ABC Dept Store
    Expenses:Clothing           $100.00
    Assets:Bank:Checking
   :END:
 
   If instead I run `ledger -f foo output foo2`, then I get this:
   :OUTPUT:
Error: Journal does not refer to file ''
   :END:
   So I guess that wan't what I was supposed to do.
 
   Anyway, this is all just academic, 'cuz as I say I now have a nice, cleaned
   up file, thanks to the "print" command.
   :PROPERTIES:
   :Submitter: <arb46@cornell.edu>
   :Version: 2.6
   :Ticket: 27
   :ID: D3820740-8BFB-4234-8125-DE813A713032
   :END:
   [2007-12-10 Mon]
** CANCELLED 'derive_new_xact' shouldn't add accounts to the journal
   - State "CANCELLED"  [2009-02-16 Mon 05:18]
   :PROPERTIES:
   :Version: 2.6
   :Ticket: 119
   :ID: F229CDEA-1AED-4DBB-8DB6-24BEF30FC1E6
   :END:
** CANCELLED Have ledger.el only use fancy TAB if there are no accounts
   - State "CANCELLED"  [2009-02-15 Sun 23:17] \\
     I don't use fancy TAB, now it's fancy C-u TAB.
   :PROPERTIES:
   :ID: 545A16E5-49BE-44DB-AFAF-F0ABA87BF29E
   :END:
   [2009-02-12 Thu 19:12]
** CANCELLED Add comprehensive sanity checking to the XML parsers
   - State "CANCELLED"  [2009-02-08 Sun 16:01]
   :PROPERTIES:
   :ID: E2AC23FB-CCCF-4B2A-A925-43BD74EE30B0
   :END:
   [2009-01-24 Sat 04:47]
** CANCELLED Make every Ledger object able to render itself as XML
   - State "CANCELLED"  [2009-02-08 Sun 16:01]
   :PROPERTIES:
   :ID: B25DC71B-87DB-453F-87E9-D2015CCBAB26
   :END:
   [2009-01-24 Sat 04:01]
** CANCELLED Don't make uncommoditized amounts display differently
   - State "CANCELLED"  from "TODO"       [2009-10-27 Tue 22:03]
   :PROPERTIES:
   :ID: 677CB18D-C7EE-446A-8123-57D80E3EFDD4
   :END:
   [2009-10-23 Fri 06:13]
** CANCELLED Get gdtoa's tests working under "make check"
   - State "CANCELLED"  [2009-02-08 Sun 16:01]
   :PROPERTIES:
   :ID: 51B006B4-E3B4-41B6-865F-5E81926F8F73
   :END:
   [2009-01-23 Fri 18:36]
** CANCELLED Using -f - gives drewr a bus error
   - State "CANCELLED"  [2009-02-15 Sun 23:18]
   - State "TODO"       [2009-02-11 Wed 03:53]
   - State "STARTED"    [2009-02-10 Tue 05:50] \\
     I was unable to reproduce this.
   :PROPERTIES:
   :ID: D4C96EA8-57B3-43D8-A136-8FDB2309B011
   :END:
   [2009-02-10 Tue 00:55]
** CANCELLED CSV output needs a column for every commodity
   - State "CANCELLED"  [2009-02-08 Sun 02:30]
   :PROPERTIES:
   :ID: 1DB41F13-E745-4081-8DEA-57F986EF8113
   :END:
   [2009-02-07 Sat 16:12]
** CANCELLED Binary cache is invalidated if LEDGER_FILE is changed
   - State "CANCELLED"  [2009-02-08 Sun 15:59]
   - State "DEFERRED"   [2008-09-17 Wed 05:06] \\
     This bug is deferred until 3.0, since it is so rare there is no need to change
     it just yet.
   The following sequence of operations seemed to trigger it:
   :OUTPUT:
export LEDGER_FILE=/home/albino/temp/ledger/ledger.dat
./ledger bal rent food movies -- freddie
export LEDGER_FILE=/home/albino/temp/ledger/sample.dat
./ledger bal
   :END:
   :PROPERTIES:
   :Submitter: albino <#ledger>
   :Version: 2.6.1b
   :Ticket: 211
   :ID: C65875E1-CF5D-4923-8546-9784EB08AC9D
   :END:
   [2008-08-05 Tue]
** CANCELLED --debug isn't taking a regular expression
   - State "CANCELLED"  [2009-02-15 Sun 23:18]
   :PROPERTIES:
   :ID: 5936E070-F86A-4E52-B165-B70CE24C8109
   :END:
   [2008-07-24 Thu]
** CANCELLED Add to the commodity flags in the XML data
   - State "CANCELLED"  [2009-02-08 Sun 16:04]
   ... whether it should never be downloaded or not (N).
   :PROPERTIES:
   :Version: 2.6
   :Ticket: 109
   :ID: FEAD4FEA-64FC-4DCA-8653-1C29DC6BC66E
   :END:
   [2008-04-11 Fri]
** CANCELLED Another problem with XML output						   :LINK:
   - State "CANCELLED"  [2009-02-08 Sun 16:04]
   [[message://20060918231625.11184.qmail@web30708.mail.mud.yahoo.com][Re: Ledger 3 XML processing]]
   :PROPERTIES:
   :Version: 2.6
   :Ticket: 127
   :ID: 0AC36F03-A438-4547-8764-E2B90F6E2A1C
   :END:
   [2008-04-11 Fri]
** CANCELLED Command output-xml
   - State "CANCELLED"  [2009-02-08 Sun 16:04]
   As a corollary to the output command, have an output-xml command, which
   writes a complete Ledger file (including all automated xacts, etc) to an
   XML file.
   :PROPERTIES:
   :Version: 2.6
   :Ticket: 150
   :ID: 5D17A372-FB03-4E1D-9917-113E10211880
   :END:
   [2008-04-11 Fri]
** CANCELLED Finish implementing QIF parser, and document its use
   - State "CANCELLED"  [2009-02-08 Sun 16:05]
   :PROPERTIES:
   :Version: 2.6
   :Ticket: 113
   :ID: F7FFB324-9AC2-42A6-A6DD-38C02F30BEF7
   :END:
   [2008-04-11 Fri]
** CANCELLED Odditing in name of XML namespaces in Ledger				   :LINK:
   - State "CANCELLED"  [2009-02-08 Sun 16:05]
   [[message://20060304.181355.96677625.arb46@cornell.edu][e-mail]] one
   [[message://20060802015747.27838.qmail@web30706.mail.mud.yahoo.com][e-mail]] two
   :PROPERTIES:
   :Version: 2.6
   :Ticket: 122
   :ID: 9F69B516-9F57-4204-9EF2-BA0AB42B1401
   :END:
   [2008-04-11 Fri]
** CANCELLED There are a few thorny issues remaining with the binary cache
   - State "CANCELLED"  [2009-02-08 Sun 16:06]
   1. What happens to value expressions that have been compiled?  The FUNCTION
      operand must remember the name of the function it was compiled to; but
      even then, how can I recompile and maintain the same environment as the
      original point of definition?

   2. Base commodities no longer exist in their own data structure, but use
      shared_ptr to track multiple accesses.  How to write out this unwritten
      structure?
   :PROPERTIES:
   :ID: 69B51A07-5E5F-42F9-AB97-CEECAF4BB085
   :END:
   [2008-08-15 Fri]
** CANCELLED Use &lt; when writing out XML, instead of <
   - State "CANCELLED"  [2009-02-08 Sun 16:06]
   :PROPERTIES:
   :Version: 2.6
   :Ticket: 143
   :ID: BD664021-204A-4F16-B4F7-3ECEBA808530
   :END:
** CANCELLED Make !rex reverse a regexp
   - State "CANCELLED"  [2009-01-29 Thu 15:33] \\
     I now use "not rex".
   This is instead of -rex, allowing options to appear anywhere on the line.
   It also means that something has to be done about the meaning of "--".
   :PROPERTIES:
   :ID: 72B2202C-EC63-4A2E-A5C9-0C9A4991FB06
   :END:
   [2008-08-14 Thu]
** CANCELLED Nuke the doc/INSTALL file, since it's not accurate
   - State "CANCELLED"  [2009-03-19 Thu 03:41]
   :PROPERTIES:
   :ID: A441A43B-25F6-42C4-B950-CF54A7C55F6F
   :ARCHIVE_TIME: 2009-04-12 Sun 20:34
   :ARCHIVE_CATEGORY: Ledger
   :END:
   [2009-03-11 Wed 18:58]

** CANCELLED [#C] Budgeting oddness
   - State "CANCELLED"  [2009-03-03 Tue 05:20]
   - State "WAITING"    [2009-02-24 Tue 15:08] \\
     I'm waiting on Tim to get back to me.
   I am trying to understand the budgeting information in the ledger
   documentation, as well as to understand some basic syntax in my ledger file
   and why it does not appear to be working correctly.  If I have a ledger file
   with:
   :DATA:
~Monthly
   Exp:....   $1000.00
   Exp:....   $500.00
   Exp:....   $250.00
   Exp:....   $1000.00
   Assets
   :END:
   [with real categories blanked out, of course], and Assets at the end, what
   does this imply?  That expenses will be withdrawn/balanced against assets?
   What happens if I have no expenses recorded in my ledger, e.g., what is the
   intended behavior of the budgeting functionality?
 
   In addition, the following three entries seem to be causing somewhat odd
   behavior:
   :DATA:
2006/05/23
     Assets:Checking:xxxx             $1259.44
     Equity:Opening Balance

2006/05/23
     Assets:Savings:xxxx               $711.31
     Equity:Opening Balance

2006/05/23
     Expenses:Loans:xxxx               $750.00
     Assets:Checking:xxxx
   :END:
 
   When I perform:
   :OUTPUT:
% ledger -f ~/ledger.txt -MAs bal ^expenses
              $375.00  Expenses:Loans
              $750.00    xxxx
--------------------
              $375.00
   :END:
   and these are the only three entries in the ledger file, did I miss
   something as far as the intended behavior?  Is there a bug somewhere in my
   libgmp, etc?
 
   I'm on Mac OS X 10.4 on an Intel machine.
   :PROPERTIES:
   :Submitter: Tim <tim@scarybright.org>
   :Version: 2.6
   :Ticket: 18
   :ID: D112A53E-1D18-44F4-8B9E-6224A4EC8F72
   :END:
   [2007-12-10 Mon]
** CANCELLED [#C] Preserve file comments in the XML output
   - State "CANCELLED"  [2009-02-08 Sun 16:07]
   I would like to use the XML format for doing some transformations to my
   data. Not just reformatting for reporting, but actual changes to my data.

   This means I would like to export to XML, then do an XSLT transformation,
   and then re-import it back into ledger format. (Throw away my original
   ledger file, and replace it with the transformed version.)

   My problem is that comments don't seem to be preserved in the XML
   format. Well, the end-of-line comments on (what you call) postings
   do. (They come out as <tr:note> elements.) But whole-line comments do not.

   I wish these whole-line comments could somehow be preserved in the XML
   format.
   :PROPERTIES:
   :Version: 2.5
   :Ticket: 41
   :ID: D27098A4-647A-4EEA-B0B8-3088E069214D
   :END:
   [2008-04-05 Sat]
** CANCELLED [#C] Trouble reading an ofx file						 :ATTACH:
   - State "CANCELLED"  [2009-02-15 Sun 23:20]
   I'm using ledger from CVS and am having some trouble reading an OFX file
   that I downloaded from my bank.  The command I'm using is
   :OUTPUT:
$ ledger -f <ofx file> print
Error: Please specify ledger file using -f or LEDGER_FILE environment variable.
   :END:
   What might be going on?  As far as I can see, the OFX file is well-formed.
   :PROPERTIES:
   :Submitter: <alama@stanford.edu>
   :Version: 2.4.1
   :Ticket: 11
   :ID: D9CAC376-E751-4DC6-841B-70217748AA20
   :Attachments: 20060630-xxxxxx0779.ofx
   :END:
   [2007-12-10 Mon]
** CANCELLED [#C] Using --reconcile with -20 causes a segmentation fault
   - State "CANCELLED"  [2009-02-15 Sun 23:19]
   Using the trunk version:
   :OUTPUT:
./ledger -f sample.dat --reconcile -20.00 --reconcile-date 2007/05/27 reg master
   :END:
   which leads to a segmentation fault.
 
   Replace -20.00 with a number below 1 (e.g. 0.99), then that's OK.
 
   My gcc version:
   :OUTPUT:
$ gcc -v
Reading specs from /usr/lib/gcc/i686-magic-linux/3.4.6/specs
Configured with: ../configure --prefix=/usr --mandir=/usr/share/man --infodir=/usr/share/info --enable-shared --enable-threads=posix --disable-checking --with-system-zlib --enable-__cxa_atexit --disable-libunwind-exceptions --enable-java-awt=gtk --host=i686-magic-linux
Thread model: posix
gcc version 3.4.6 20060404 (MagicLinux 3.4.6-2mgc)
   :END:
   :PROPERTIES:
   :Submitter: Levin <zslevin@gmail.com>
   :Version: 2.6
   :Ticket: 4
   :ID: 567B5118-7A77-42B9-A1CD-C5DA688AC406
   :END:
   [2007-10-29 Mon]
** INVALID There is bad column alignment with certain UTF-8 characters
   - State "INVALID"    from "TODO"       [2009-11-14 Sat 02:49] \\
     This only happens in Eshell, it works fine in a Terminal window with UTF-8
     display support.
   :SCRIPT:
   ledger -f doc/sample.dat --columns=80 reg
   :END:
   :OUTPUT:
   04-May-14 Another dày in whic.. ..Bá:Ch:As:Bá:Chécking      $500.00   $-1,000.00
                                                                            50 AAPL
                                   Income:Salary              $-500.00   $-1,500.00
                                                                            50 AAPL
   04-May-14 Another dày in whic.. Ру:Ак:Ру:Русский язык     $1,000.00     $-500.00
                                                                            50 AAPL
                                   Income:Salary            $-1,000.00   $-1,500.00
                                                                            50 AAPL
   :END:
   :PROPERTIES:
   :ID:       72B0ACB4-37EB-492A-8EFE-8CC65CB66EC8
   :END:
   [2009-11-12 Thu 18:33]
** WONTFIX Precision error								   :LINK:
   - State "WONTFIX"    from "TODO"       [2009-10-26 Mon 00:52] \\
     This is expected behavior, based on the fact that a 3 decimal place dollar
     value was used before the transaction giving the error.
   [[message://1253475930.3701.41.camel@mithos.talinet.net]]
   :PROPERTIES:
   :ID: 77D3A0A9-35DF-4A4D-8469-8928E3954441
   :END:
   [2009-10-03 Sat 03:23]
** WONTFIX Change all the source code to utf-8
   - State "WONTFIX"    [2008-07-13 Sun 21:45] \\
     The source code itself doesn't use international characters!
   :PROPERTIES:
   :Version: 2.6
   :Ticket: 141
   :ID: D00D1F5A-8BD5-43B5-B8E0-1FEBB98F610A
   :END:
   [2008-04-11 Fri]
** WORKSFORME [#A] Corrupted double-linked list in the register report			   :LINK:
   - State "WORKSFORME" from "WAITING"    [2009-10-27 Tue 04:38]
   - State "WAITING"    from "TODO"       [2009-10-26 Mon 16:26] \\
     I'm waiting on a test case to come back from the user, as I've never seen this
     behavior.
   :PROPERTIES:
   :ID:       8C22A64E-6095-4933-9D66-FA970CCD1590
   :Message:  message://4AA8F383.3010801@gmail.com
   :END:
   [2009-10-03 Sat 03:23]
** WORKSFORME [#A] Minor inaccuracies in 2.6.1
   - State "WORKSFORME" [2009-02-01 Sun 00:41] \\
     This works as expected in 3.0.
   Since moving to 2.6.1, I'm still having some old posts which are
   showing extra pennies here and there. I've simplified my file to the
   following. Note that in my sell xact, I'm using a format that someone
   mentioned on this list a long time ago which allows me to keep track of
   capital gains. Is this still the format I should be using?
   :DATA:  
2006/03/30 BUY VVVVV
   Assets:Investments:Principal:VVVVV  0.99 VVVVV @ $34.07
   Assets:Investments:Principal:VVVVV  0.10 VVVVV @ $34.76
   Assets:Investments:Principal            $-37.21

2007/10/08 SELL VVVVV
   Assets:Investments:Principal:VVVVV  -1.09 VVVVV @ $34.09
   Assets:Investments:Principal:VVVVV   1.09 VVVVV @ $37.51
   Assets:Investments:Principal:VVVVV  -1.09 VVVVV @ $37.51
   Assets:Investments:Principal          $40.89
   Income:Capital Gains:NT
   :END:
   Yeah... weird, made-up numbers, but it shows the bug :-)
   :OUTPUT:
[22:25:47 vinod]:~/data $ ledger -f vk1.dat bal Ass.*VVVVV
--------------------
                  0
   :END:
   so far so good.
 
   :OUTPUT:
[22:26:36 vinod]:~/data $ ledger -f vk1.dat -V bal Ass.*VVVVV
             $-0.01  Assets:Investments:Principal:VVVVV
--------------------
             $-0.01
   :END:
   Now, I would expect this to be 0 as well, not $-0.01.
 
   :OUTPUT:
[22:26:39 vinod]:~/data $ ledger -f vk1.dat -Vs bal
              $3.67  Assets:Investments:Principal
             $-0.01    VVVVV
           $-3.7319  Income:Capital Gains:NT
--------------------
             $-0.06
   :END:
   :PROPERTIES:
   :Submitter: Vinod Kurup <vvkurup@gmail.com>
   :Version: 2.6.1
   :ID: 9211CFCF-8861-4E60-A501-75B2CB5DE8B1
   :END:
   [2009-09-28 Mon 20:32]
** WORKSFORME [#A] Thomas is experiencing a crash when running the balance command	   :LINK:
   - State "WORKSFORME" [2008-08-17 Sun 06:32] \\
     Thomas can't reproduce this anymore, after I logged into his machine to try
     and debug it directly.
   [[message://a8a10a0808160351v3f407203tf6fc1b87b3b4eef7@mail.gmail.com][Stack trace]]
   :PROPERTIES:
   :ID: D0D130E3-EDC0-4D9F-A77A-0B62E115D25A
   :END:
   [2008-08-16 Sat]
** WORKSFORME ledger bal --flat --display 'depth <= 2' fails to show any accounts	   :LINK:
   - State "WORKSFORME" from "TODO"       [2009-10-26 Mon 22:14] \\
     This is working fine in 3.0.
   It works fine without --flat, but not with.
   :PROPERTIES:
   :ID: CEA59DB9-93E4-44A9-977C-F68A9E2D308A
   :URL:      http://github.com/jwiegley/ledger/issues#issue/2
   :END:
   [2009-10-26 Mon 21:32]
** WORKSFORME Forecasting command with -Y doesn't do any forecasting
   - State "WORKSFORME" from "TODO"       [2009-10-26 Mon 21:09] \\
     This is working now in 3.0.
   The command is:
   :SCRIPT:
ledger -Y --forecast 'T>0' reg food
   :END:
   Doesn't do any forecasting!  If the -Y is dropped it does.
   :PROPERTIES:
   :Version: 2.6
   :Ticket: 28
   :ID: E2DF7C6C-BA02-4F3D-8C3C-B73F8BC30CD6
   :END:
   [2007-12-10 Mon]
** WORKSFORME 'xact' sometimes produces transactions without commodities
   - State "WORKSFORME" from "TODO"       [2009-06-28 Sun 15:25]
   :PROPERTIES:
   :ID: 0134251E-89B8-4F66-9B9C-253F6786E3A3
   :END:
   [2009-03-03 Tue 01:04]
** DUPLICATE [#A] The following example fails to apply automated transactions
   - State "DUPLICATE"  from "DONE"       [2009-11-09 Mon 23:30]
   - State "DONE"       from "TODO"       [2009-11-09 Mon 22:02]
   :DATA:
   = account =~ /^Assets:Cash/
     Assets:Bank:Visa                  -1
     Assets:Bank:Checking               1
   
   2008/01/01 January
       Expenses:One:Books          $10.00
       Expenses:One:Two:Books          $10.00
       Expenses:One:Two:Three:Books          $10.00
       Assets:Cash
   
   2008/01/01 January
       Assets:Cash    0
       Income:Books
   
   2008/01/01 January
       Assets:Cash
       Income:One:Books          $-10.00
       Income:One:Two:Books          $-10.00
       Income:One:Two:Three:Books          $-10.00
   :END:
   Doing a register report for Assets shows only the Assets:Cash line.
   :PROPERTIES:
   :ID:       C727C0E1-9996-4304-81DF-EDF03D1258F8
   :END:
   [2009-11-09 Mon 20:08]
** DUPLICATE Ledger formats UTF-8 strings incorrectly
   The report `ledger --tail 20 reg nrl:checking` has errors in the tabulation
   because of the width of UTF-8 characters that are larger than 8-bit.
   :PROPERTIES:
   :Version: 2.6
   :Ticket: 67
   :ID: 2FE8B7B7-15A3-4F02-9B53-3A629212561A
   :END:
   [2008-04-11 Fri]
** DUPLICATE Support multiple -f options
   - State "DUPLICATE"  [2009-01-29 Thu 15:36] \\
     Duplicated by B1E49EA5-18B9-413A-ACD6-9F9795F25722.
   So that add-in report files can be specified
   :PROPERTIES:
   :Version: 2.6
   :Ticket: 155
   :ID: 146B0BE4-C5EB-4A5B-A332-FE512B40D375
   :END:
   [2008-04-11 Fri]
** CLOSED [#A] Changes to make to the way things are calculated [8/10]
   - State "CLOSED"     from "DONE"       [2009-11-02 Mon 00:49]
   - State "DONE"       [2009-03-05 Thu 05:03]
   - [X] During parsing, each account is given a pointer to the posts it
	 contains, in a deque.
   - [X] calc_xacts should only compute the amount, and store it in the post's
	 xdata.
   - [X] It then marks the post as "visited".
   - [X] When session_t::clean_posts is called, it should clear the "visited"
	 flag.
   - [ ] The running total is not stored with the post, but is calculated as
	 needed by the format_xacts object.
   - [ ] Which means that format_xacts now need to know the display predicate,
	 much like format_accounts.
   - [X] account_t's xdata must remember whether or not the amount/total for
	 the account has been calculated (with a different bool for each).
   - [X] account_t exposes two methods: family_total and self_total, which
	 performs and caches a calculation based on walking the "visited"
	 posts relating to that account.
   - [X] These calculations must be lazy, so that if a report never uses them,
	 it never calculates either one.
   - [X] The same goes for statistics, which can determined from the list of
	 posts.
   :PROPERTIES:
   :ID: 240CAF9A-2681-4AE9-A0DF-F17416E31C60
   :END:
   [2009-03-04 Wed 15:34]
** CLOSED [#A] My current ledger.dat file is not reporting
   - State "CLOSED"     from "DONE"       [2009-11-02 Mon 00:49]
   - State "DONE"       [2008-10-29 Wed 03:29]
   :PROPERTIES:
   :ID: 807E9D3D-3F30-4818-9045-FDBC20C1417A
   :ARCHIVE_TIME: 2008-11-28 Fri 16:44
   :ARCHIVE_CATEGORY: Finance
   :END:
   [2008-10-06 Mon 19:38]
** CLOSED [#A] 'ledger -b 2007/08/16 -s reg food' is completely broken
   - State "CLOSED"     from "DONE"       [2009-11-02 Mon 00:49]
   - State "DONE"       [2007-08-23 Thu 21:22] \\
     Fixed by the following change:
	* walk.cc (handle_value): The xact xdata.dflags were being
	set too late; the XACT_COMPOUND setting was being thrown
	away as a result.
   Although reg without shows a ton of Expenses:Food expenses, searching for
   food expenses shows none.
   :PROPERTIES:
   :ID: 6CAF45D7-9098-41B4-A25A-12F8A8166006
   :END:
   [2007-08-22 Wed]
** CLOSED [#A] Change processing of ~/.ledgerrc
   - State "CLOSED"     from "DONE"       [2009-11-02 Mon 00:51]
   - State "DONE"       from "TODO"       [2009-10-29 Thu 00:51]
   - Note taken on [2009-10-27 Tue 22:02] \\
     Fixing this will fix [[id:863A769C-E97C-4CA6-B89F-B72C47F07543]].
   1. Before parsing, run through and handle options that session_t and
      global_scope_t know about.
   2. Before reporting or loading the REPL, run through and handle all other
      options and any commands found.
   :PROPERTIES:
   :ID: 71FE0FAB-622D-403C-A944-C7541948AFFF
   :END:
   [2009-02-19 Thu 15:10]
** CLOSED --verify fails to run now
   SCHEDULED: <2009-10-27 Tue>
   - State "CLOSED"     from "DONE"       [2009-11-02 Mon 00:51]
   - State "DONE"       from "TODO"       [2009-10-28 Wed 01:35]
   :PROPERTIES:
   :ID: A697E1A4-83D0-49EB-9533-29EB82659565
   :END:
   [2009-10-27 Tue 23:20]
** CLOSED iterations.cc, and maybe others, need to use temporaries_t
   SCHEDULED: <2009-10-27 Tue>
   - State "CLOSED"     from "DONE"       [2009-11-02 Mon 00:51]
   - State "DONE"       from "TODO"       [2009-10-28 Wed 01:19]
   :PROPERTIES:
   :ID: CE2AA70E-0B44-4A50-8D36-1DC1451F5473
   :END:
   [2009-10-27 Tue 23:20]
** CLOSED ITEM_TEMP posts must be removed from xacts and accounts properly
   SCHEDULED: <2009-10-27 Tue>
   - State "CLOSED"     from "DONE"       [2009-11-02 Mon 00:51]
   - State "DONE"       from "TODO"       [2009-10-27 Tue 16:40]
   :PROPERTIES:
   :ID: F1D055D3-DDCE-49A2-A670-A84D1FD0C299
   :END:
   [2009-10-27 Tue 05:13]
** CLOSED Latest build of next f35bc939 produces slow binary				   :LINK:
   - State "CLOSED"     from "DONE"       [2009-11-02 Mon 01:10]
   - State "DONE"       from "TODO"       [2009-10-26 Mon 21:32]
   :PROPERTIES:
   :ID: 18B7E853-848A-4211-BF98-C0C1B845E94F
   :URL:      http://github.com/jwiegley/ledger/issues#issue/3
   :END:
   [2009-10-26 Mon 21:31]
** CLOSED The Ledger REPL argument parser should honor quoting syntax
   - State "CLOSED"     from "DONE"       [2009-11-02 Mon 01:22]
   - State "DONE"       from "TODO"       [2009-10-26 Mon 17:17]
   :PROPERTIES:
   :ID: 7A3DF3DE-5425-491F-90AA-C8C162F1085A
   :END:
   [2009-03-03 Tue 03:02]
** CLOSED With --args-only, don't read ~/.pricedb
   - State "CLOSED"     from "DONE"       [2009-06-28 Sun 15:24]
   - State "DONE"       from "TODO"       [2009-06-28 Sun 15:21]
   :PROPERTIES:
   :ID: 5B07AD77-4920-4654-88F4-56CA55566BB4
   :END:
   [2009-06-24 Wed 14:18]
** CLOSED value_t::dump should render a string as it would parse it
   - State "CLOSED"     from "DONE"       [2009-06-28 Sun 15:28]
   - State "DONE"       from "TODO"       [2009-06-28 Sun 15:28]
   For example, what if "foo\"bar"?
   :PROPERTIES:
   :ID: BA74FF13-7F2C-487A-922F-8E6931025B61
   :END:
   [2009-02-27 Fri 04:45]
** CLOSED Bug in account balance display
   - State "CLOSED"     [2009-02-24 Tue 14:02] \\
     Simon can't remember exactly was the bug was here, so I'm closing it.
   - State "WAITING"    [2009-02-20 Fri 01:59]
   :DATA:
2008/01/01 * previous balances
    liabilities:credit cards:discover 4462            $-1094.38
    equity:opening balances

2008/01/18 * DISCOVER FEES
    liabilities:credit cards:discover 4462:interest          $-36.59
    assets:bank:wells fargo:checking

2008/01/18 * DISCOVER FEES
    liabilities:credit cards:discover 4462:fee          $-39
    liabilities:credit cards:discover 4462:interest    $-28.17
    assets:bank:wells fargo:checking

2008/3/1 * discover card payment
    liabilities:credit cards:discover 4462        $1198.14
    assets:bank:wells fargo:checking
   :END:
   that triggers it..
   :SCRIPT:
ledger -f test.ledger -s bal discover
   :END:
   :PROPERTIES:
   :Submitter: Simon Michael <simon@joyful.com>
   :Version: 2.6.1
   :ID: 55831A79-0556-4872-A81F-F082A7B2E96B
   :END:
   [2008-11-20 Thu 23:48]
** CLOSED Implied rates.
   - State "CLOSED"     [2009-02-24 Tue 13:36]
   Not sure what you should do in this case:
   :DATA:
2007-12-31 * Start of year / Opening balances.
    Account1   100 EUR @ 1.4 USD
    Account1   -200 EUR
    Account2   100 USD
   :END:

   You could calculate the cost:
   :OUTPUT:
   140 USD
   -200 EUR
   100 USD
   :END:
   So, 240 USD and -200 EUR, which implies an aggregate exchange rate of 1.2,
   which is wildly different of the 1.4 EUR/USD rate declared above.
   
   (Do you fill in? In my Python version, I'll prefer not to, because I think
   that in general these will be errors rather than reflect implied rates.)
   :PROPERTIES:
   :Submitter: Martin Blais <blais@furius.ca>
   :Version: 2.6
   :Ticket: 181
   :ID: 3E56A012-FE58-49B5-8CF0-7E80CD2B2F8A
   :END:
** TESTED [#A] 'ledger -f src/value.h bal capital' crashes
   - State "TESTED"     from "DONE"       [2009-11-02 Mon 00:48]
   - State "DONE"       from "TODO"       [2009-10-26 Mon 16:41] \\
     It now reports a series of errors and exits.
   - State "TODO"       from "DEFERRED"   [2009-10-22 Thu 07:34]
   - State "DEFERRED"   from "TODO"       [2009-06-16 Tue 16:24]
   :PROPERTIES:
   :ID: 25A099C9-EE9C-42E2-A18A-202DE9B9E157
   :END:
   [2009-02-27 Fri 15:38]
** TESTED [#A] Found bugs in the report query syntax parser
   - State "TESTED"     from "DONE"       [2009-11-02 Mon 00:51]
   - State "DONE"       from "TODO"       [2009-10-28 Wed 23:09]
   Fails to parse:
   :SCRIPT:
   ledger bal --sort total --flat -X '$' not '(Income|Liabilities)'
   :END:
   :PROPERTIES:
   :ID: 373540CC-613B-47BC-B72F-C6D347157736
   :END:
   [2009-10-26 Mon 17:50]
** TESTED [#A] --budget not including "~ Monthly" entry				    :LINK:ATTACH:
   - State "TESTED"     from "WORKSFORME" [2009-11-02 Mon 01:10] \\
     Found this bug and fixed it.
   - State "WORKSFORME" from "WAITING"    [2009-10-27 Tue 04:38]
   - State "WAITING"    from "TODO"       [2009-10-26 Mon 16:41] \\
     I've asked the user for more information; I can't see what's wrong with just
     the test case he sent, and I cannot find the original message.
   Thanks for your response.  I've attached a sample ledger file that I
   successfully reproduced the behaviour with.  Maybe it's something to do with
   it being the first of the month today?
 
   Here's what I'm seeing on the command-line:
   :OUTPUT:
   sayotte@damocles:~$ ledger -p april --budget reg
   2009/04/01 Budget entry         Assets:Bank:Checking     $-25000.00   $-25000.00
   2009/04/01 Budget entry         In:Ludicrous Salary       $25000.00            0
   2009/04/01 Budget entry         Expenses:Food              $-350.00     $-350.00
   2009/04/01 Budget entry         Assets:Bank:Checking        $350.00            0
   2009/04/01 Taco Schmell         Expenses:Food                 $6.50        $6.50
                                  Assets:Bank:Checking         $-6.50            0
   2009/04/10 Lienholder Bank      Assets:Bank:Checking       $-450.00     $-450.00
   :END:
   :OUTPUT:
   sayotte@damocles:~$ ledger -p april --budget reg Food
   2009/04/01 Taco Schmell         Expenses:Food                 $6.50        $6.50
   :END:
   :OUTPUT:
   sayotte@damocles:~$ date
   Wed Apr  1 19:07:20 EDT 2009
   :END:
   :OUTPUT:
   sayotte@damocles:~$ ledger --version
   Ledger 2.6.1, the command-line accounting tool
   
   Copyright (c) 2003-2008, John Wiegley.  All rights reserved.
   
   This program is made available under the terms of the BSD Public License.
   See LICENSE file included with the distribution for details and disclaimer.
   
   (modules: gmp, pcre)
   :END:
   :PROPERTIES:
   :Submitter: Stephen Ayotte <stephen.ayotte@gmail.com>
   :Message: [[x-devonthink-item://%3C837b29c80904011614x79fed2b0la56f8a44a8dc45cb@mail.gmail.com%3E][ledger-2.6.1: --budget not including ~Monthly entry]]
   :Version: 2.6.1
   :ID: 655F6DF5-A30D-4CD9-AA06-787A2DB3C5C2
   :Attachments: testledger.dat
   :END:
   [2009-04-01 Wed 19:40]
** TESTED Make sure the period flag (-p) can accept "YYYY/MM"				   :LINK:
   - State "TESTED"     from "DONE"       [2009-11-02 Mon 01:59]
   - State "DONE"       from "TODO"       [2009-11-02 Mon 01:59]
   :PROPERTIES:
   :ID: 7F3650FD-7225-47D5-AB77-A0D5025B4941
   :Message:  [[message://741c09a4-9f52-4346-9e6f-2f4d407e5e49@s31g2000yqs.googlegroups.com][Re: All known bugs and features for 3.0 implemented]]
   :END:
   [2009-11-01 Sun 05:51]
** TESTED Don't print trailing spaces after amount-elided postings
   SCHEDULED: <2009-10-27 Tue>
   - State "TESTED"     from "DONE"       [2009-11-02 Mon 00:51] \\
     This is being tested by several of the baseline tests.
   - State "DONE"       from "TODO"       [2009-10-28 Wed 01:40]
   :PROPERTIES:
   :ID: 68C50F8D-4407-430F-8FE1-40B96D38173A
   :END:
   [2009-10-27 Tue 22:42]
** TESTED --budget doesn't produce correct output					   :LINK:
   - State "TESTED"     from "DONE"       [2009-11-02 Mon 01:10]
   - State "DONE"       from "TODO"       [2009-10-27 Tue 05:51]
   I have a budget transaction like this:
   :SOURCE:
   ~ Monthly
     Expenses:Auto:Fuel           $ 120.00
     Expenses:Food:Out            $ 100.00
     Expenses:Food:Groceries      $ 350.00
     Assets
   :END:

   It doesn't, however, seem to take effect with --budget:
   :OUTPUT:
   % ledger bal --p this --flat auto:fuel food:out
               	$ 67.15  Expenses:Auto:Fuel
               	$ 18.30  Expenses:Food:Out
   --------------------
               	$ 85.45
   % ledger bal --p this --budget --flat auto:fuel food:out
               	$ 67.15  Expenses:Auto:Fuel
               	$ 18.30  Expenses:Food:Out
   --------------------
               	$ 85.45
   % ledger --version | head -1
   Ledger next-0-g752677e, the command-line accounting tool
   :END:
   :PROPERTIES:
   :ID: 8254755E-7B61-47C8-B48E-A2A7FD79EB80
   :URL:      http://github.com/jwiegley/ledger/issues#issue/5
   :END:
   [2009-10-26 Mon 21:27]
** TESTED Expenses:Wedding appears twice in the attached balance command
   SCHEDULED: <2009-10-26 Mon>
   - State "TESTED"     from "DONE"       [2009-11-02 Mon 01:21]
   - State "DONE"       from "TODO"       [2009-10-26 Mon 21:11]
   :SCRIPT:
   ledger bal --sort amount --flat expenses:foo
   :END:
   :PROPERTIES:
   :ID: 5F1BAF17-2A7C-4992-ACCA-B1111104E4EE
   :END:
   [2009-10-26 Mon 17:21]
** TESTED budget misbehavior with account tree						   :LINK:
   - State "TESTED"     from "DONE"       [2009-11-02 Mon 01:40]
   - State "DONE"       from "TODO"       [2009-11-02 Mon 01:40]
   The budget command behaves slightly different than I would expect
   for parent accounts.  Here is example output:
   :OUTPUT:
   % ledger budget -p this --effective --flat food
       $ 490.46     $ 925.00    $ -434.54   53%  Expenses:Food
       $ 361.11     $ 325.00      $ 36.11  111%  Expenses:Food:Groceries
       $ 129.35     $ 100.00      $ 29.35  129%  Expenses:Food:Out
   ------------ ------------ ------------ -----
       $ 490.46     $ 925.00    $ -434.54   53%
   :END:

   The relevant journal context:
   :SOURCE:
   ~ Monthly
     Expenses:Food                $ 500.00
     Expenses:Food:Out            $ 100.00
     Expenses:Food:Groceries      $ 325.00
     Assets
   :END:

   It looks like :Food gets added to its children instead of picking up the
   slack.  If I remove the children and let the parent provide a budget for it
   and its descendants, I get nothing.

   :SOURCE:
   ~ Monthly
     Expenses:Food                $ 500.00
     Assets
   :END:
   :OUTPUT:
   % ledger budget -p this --effective --flat food
              0     $ 500.00    $ -500.00     0  Expenses:Food
   :END:

   That's on the same journal data.
   :PROPERTIES:
   :ID:       D060256A-D0BD-429F-87B9-C9F73A24C0D3
   :Message:  [[message://4aec9a0bee27d_4b733fce572cbaf4188@fe3.rs.github.com.tmail][{GitHub} drewr sent you a message]]
   :Issue:    http://github.com/jwiegley/ledger/issues#issue/7
   :END:
   [2009-11-01 Sun 05:51]
** TESTED When --flat is being used, sort against all accounts
   - State "TESTED"     from "DONE"       [2009-11-02 Mon 01:40]
   - State "DONE"       from "TODO"       [2009-10-26 Mon 18:52]
   :PROPERTIES:
   :ID: 7D084EBD-3D4C-4967-9A4B-7F014E625DF6
   :END:
   [2009-03-11 Wed 15:11]
** TESTED Forecasting goes too far
   - State "TESTED"     from "DONE"       [2009-11-02 Mon 01:43]
   - State "DONE"       from "TODO"       [2009-10-26 Mon 20:55] \\
     This is fixed in 3.0.
   - Note taken on [2007-12-10 Mon 19:04] \\
     Because of the way that forecasting is (currently) implemented, you will often
     see an entry that is "one beyond" the condition of your forecast. I hope to
     remedy this in the near future.
   :OUTPUT:
tim@yggdrasil [/Users/tim]# ledger --forecast 'd<=[2006/08/27]' reg
^assets
[some entries which balance correctly]
2006/09/01 Forecast entry       Assets                      $-1322.00    $13313.99
   :END:
   Why is the last entry being displayed?  Doesn't the date predicate prevent
   that from happening?
   :PROPERTIES:
   :Submitter: <tim@scarybright.org>
   :Version: 2.6
   :Ticket: 15
   :ID: E627C594-A019-4D87-A6B4-C8E75F6D8FC0
   :END:
   [2007-12-10 Mon]
** TESTED Left justifying an amount with %-12{amount} does nothing
   - State "TESTED"     from "DONE"       [2009-06-28 Sun 15:24]
   - State "DONE"       from "TODO"       [2009-06-28 Sun 15:23]
   :PROPERTIES:
   :ID: F559EC12-7645-465D-8B2D-D3BC61030493
   :END:
   [2009-03-03 Tue 04:12]
** TESTED Cannot use uncommoditized amounts as a per-unit cost
   - State "TESTED"     from "DONE"       [2009-06-18 Thu 16:08]
   - State "DONE"       from "TODO"       [2009-06-18 Thu 16:08]
   :PROPERTIES:
   :ID: 86D2BDC4-53A4-4039-99C9-F8C0370A89FB
   :END:
   [2009-06-18 Thu 16:07]
** TESTED The period -p "june 2008" ranges from 6/2008-1/2009
   - State "TESTED"     from "DONE"       [2009-06-18 Thu 01:14]
   - State "DONE"       from "TODO"       [2009-06-18 Thu 01:13]
   :PROPERTIES:
   :ID: BBFA1759-3E90-402B-93A7-FC4E7E342B08
   :END:
   [2009-06-17 Wed 17:07]
** TESTED Regression: add support back for a "terminus" date				   :LINK:
   - State "TESTED"     from "DONE"       [2009-06-16 Tue 18:46]
   - State "DONE"       from "TODO"       [2009-06-16 Tue 18:46]
   Here's something I would like to open up for discussion.
 
   Suppose I have the ledger file:
   :DATA:
2008/01/01 * Purchase Apple shares
       Equities        1000 AAPL @ $2
       Cash

2008/06/30 * Sell some Apple shares
       Equities        -500 AAPL @ $2.5
       Cash

P 2008/10/01 02:18:02 AAPL $3
P 2009/01/31 02:18:02 AAPL $4
P 3000/01/01 02:18:02 APPL $100
   :END:
   At end of 2008, I have 500 AAPL shares.
 
   If I type
   :SCRIPT:
ledger -f example01.txt --end 2008/12/31 -JV bal Equities
   :END:
   I get the output:
   :OUTPUT:
2009-03-29 2000
   :END:
   I would argue that the output should be
   :OUTPUT:
2008-12-31 1500
   :END:

   My argument is that if I specify an end date, then I want ledger to assume
   that the current date is the end date I specify, and perform all reports and
   calculations on that basis. After all, if you stick with the current
   implementation, it could easily mess up any historical reporting you try to
   do.
   :PROPERTIES:
   :Submitter: Mark Carter <alt.mcarter@googlemail.com>
   :Message: [[message://62f2a66e0903290043l2e98bad4jfe20e0a313064674@mail.gmail.com][Discussion/bug about end/current dates]]
   :ID: 647D5DB9-DBBB-47C8-80CE-F3F70E3B0253
   :END:
   [2009-04-01 Wed 18:55]
** TESTED Rounding problem
   - State "TESTED"     from "DONE"       [2009-06-16 Tue 18:27]
   - State "DONE"       [2009-02-24 Tue 11:42]
   I seem to have a rounding problem when I use the -B option, if I have a
   ledger that looks like this:
   :DATA:
2008/01/01	* Checking balance
	Assets:Bank:Checking 				£0.00
	Equity:Opening Balances

2008/02/02	Salary
	Income:Employer						$-512.85
	Assets:Bank:Checking 				$512.85 @@ £334.00

2008/03/02	Salary
	Income:Employer						$-404.82
	Assets:Bank:Checking 				$404.82 @@ £248.07
   :END:
   Then issue the command "ledger -Bf test.ledger bal" I get this out:
   :OUTPUT:
           £582.07  Assets
    £-582.06999876  Income
--------------------
       £0.00000124
   :END:
   :PROPERTIES:
   :Submitter: Tony Edgecombe <tonyedgecombe@gmail.com>
   :Version: 2.6.1
   :ID: 5FBF2ED8-EEAA-440E-AED5-67401B107E44
   :END:
   [2008-10-21 Tue 19:00]
** TESTED The -V flag is not working
   - State "TESTED"     from "DONE"       [2009-06-16 Tue 18:28]
   - State "DONE"       [2009-02-24 Tue 11:42]
   Here's the data input
   :DATA:
2008/04/15 * Paid expenses back from cie.
   Expenses:Cie-Reimbursements    2000 CAD @ 1.10 EUR
   Assets:Checking

P 2008/04/20 00:00:00 CAD 1.20 EUR
   :END:
 
   When I run the following command this does not work:
   :OUTPUT:
Hermes:/Users/johnw $ ledger -f /tmp/test.dat -V reg
2008/04/15 Paid expenses back.. Ex:Cie-Reimbursements   2200.00 EUR  2200.00 EUR
                                Assets:Checking        -2200.00 EUR            0
2008/04/07 Commodities revalued                            2000 CAD
                                                       -2200.00 EUR     2000 CAD
                                                                    -2200.00 EUR
   :END:
 
   It should have reported in terms of Euros only.
   :PROPERTIES:
   :Submitter: Martin Blais <blais@furius.ca>
   :Version: 2.6
   :Ticket: 53
   :ID: D943AE0F-44EA-47EE-BA85-AFC513E039EB
   :END:
   [2008-04-07 Mon]
** TESTED The entry command is broken
   - State "TESTED"     from "DONE"       [2009-06-16 Tue 16:17]
   - State "DONE"       from "TODO"       [2009-06-16 Tue 16:15]
   :SCRIPT:
ledger -f doc/sample.dat entry 2009/03/15 book 10
   :END:
   gives me:
   :OUTPUT:
<no item context>
Unbalanced remainder is:
              $10.00
Error: Transaction does not balance
   :END:
   :PROPERTIES:
   :ID: 793F6BF0-9CDE-4741-967A-2CEA697476B4
   :END:
   [2009-03-24 Tue 18:31]
** TESTED An amount like 0h @ $70 gives divide by zero error
   - State "TESTED"     from "DONE"       [2009-06-16 Tue 16:23]
   - State "DONE"       from "TODO"       [2009-06-16 Tue 16:23]
   :PROPERTIES:
   :ID: 6DAB9FE3-1399-4727-9AB1-FE413FB85A03
   :END:
   [2009-03-11 Wed 19:24]
** TESTED 'ledger -f doc/sample.dat --color reg' is showing a red zero
   - State "TESTED"     from "DONE"       [2009-06-16 Tue 16:52]
   - State "DONE"       from "TODO"       [2009-06-16 Tue 16:27]
   :PROPERTIES:
   :ID: 727B2DF8-A2A1-4716-9C15-547F20D5F933
   :END:
   [2009-02-23 Mon 02:47]
** TESTED Cost parsing bug								   :LINK:
   - State "TESTED"     from "DONE"       [2009-06-16 Tue 15:41]
   - State "DONE"       from "TODO"       [2009-06-15 Mon 17:01]
   [[message://2aaaa8b6-4a51-4acb-8a73-ac4c98578b59@d7g2000prl.googlegroups.com][Re: Tracking fuel and milage]]
   :PROPERTIES:
   :ID: 04C5E1CA-1B39-4214-81C7-FD5AA785308F
   :ARCHIVE_TIME: 2009-06-15 Mon 17:13
   :ARCHIVE_CATEGORY: Ledger
   :END:
   [2009-06-03 Wed 19:11]
** TESTED Rounding bug									   :LINK:
   - State "TESTED"     from "DONE"       [2009-06-16 Tue 15:43]
   - State "DONE"       from "TODO"       [2009-06-15 Mon 17:13]
   [[message://20090411120649.GZ1037@lavos.net][Another rounding issue]]
   :DATA:
D $1,000.00

2009/01/01 Sample
   assets  134.123 FOO @ $8.88
   assets  100 BAR @ $8.88
   equity
   :END:
   :PROPERTIES:
   :ID: B68FFB0D-A9A0-479C-A6C0-68853F229333
   :ARCHIVE_TIME: 2009-06-15 Mon 17:13
   :ARCHIVE_CATEGORY: Ledger
   :END:
   [2009-06-03 Wed 19:11]
** TESTED Balance report is still broken
   - State "TESTED"     from "DONE"       [2009-06-16 Tue 15:44]
   - State "DONE"       from "TODO"       [2009-06-15 Mon 17:53]
   :SCRIPT:
./ledger -f test/input/drewr.dat bal assets
   :END:
   This produces an erroneous balance report if I change drewr.dat.
   :OUTPUT:
         $ -3,804.00  Assets
             $ 30.00    Checking:Business
         $ -5,200.00    Savings
--------------------
         $ -3,804.00
   :END:
   It should be:
   :OUTPUT:
         $ -3,804.00  Assets
          $ 1,366.00    Checking
             $ 30.00      Business
         $ -5,200.00    Savings
--------------------
         $ -3,804.00
   :END:
   :PROPERTIES:
   :ID: 5A03CFC3-1A76-4F93-A1FE-555F98438C5A
   :ARCHIVE_TIME: 2009-06-15 Mon 17:53
   :ARCHIVE_CATEGORY: Ledger
   :END:
   [2009-03-24 Tue 18:38]
** TESTED Problem when specifying the year in a data file
   When I use this file:
   :DATA:
Y2008

01/30 A
	Bank	130
	Income

02/01 B
	Bank	140
	Income

02/20 C
	Bank	150
	Income

03/01 D
	Bank	160
	Income
   :END:
   And I run ledger on it, the following output is produced:
   :OUTPUT:
ledger -f journal.txt reg
2008/01/30 A                     Bank      130          130
                               Income     -130            0
2002/01/01 B                     Bank      140          140
                               Income     -140            0
2008/02/20 C                     Bank      150          150
                               Income     -150            0
2003/01/01 D                     Bank      160          160
                               Income     -160            0
   :END:
   The years are not at all what I expected. Is this a bug or am I using a
   wrong file format?
   :PROPERTIES:
   :Submitter: Christopher <christopher.illies@ki.se>
   :Version: 2.6.1
   :ID: 13965214-EFDD-43DF-BD9F-9EC72DC509AD
   :END:
   [2008-10-15 Wed 06:39]
** TESTED Balances with non-matching exchange rates is ambiguous
   - State "TESTED"     [2009-02-24 Tue 13:09]
   - State "DONE"       [2009-02-20 Fri 01:55]
   Not sure what it should say here... it balances in EUR, but not in
   USD. Should it fail?
   :DATA:
2007-12-31 * Start of year / Opening balances.
  Account1   1000 EUR @ 1.6 USD
  Account2   -1000 EUR @ 1.5 USD
   :END:
   :OUTPUT:
-*- mode: compilation; default-directory: "/tmp/" -*-
Compilation started at Sat Apr 12 12:35:43

ledger -f /tmp/brokrate.ledger bal
While balancing xact:
  2007/12/31 * Start of year / Opening balances.
      Account1                            1000 EUR @ 1.6 USD
      Account2                            -1000 EUR @ 1.5 USD
Unbalanced remainder is:
           100.0 USD
Error: "/tmp/brokrate.ledger", line 3: Xact does not balance

Compilation exited abnormally with code 1 at Sat Apr 12 12:35:43
   :END:
   :PROPERTIES:
   :Submitter: Martin Blais <blais@furius.ca>
   :Version: 2.6
   :Ticket: 179
   :ID: 2E3496BD-143C-4D3E-8815-A01FFD31D132
   :END:
   [2008-04-12 Sat]
** TESTED Bug in ledger equity output
   - State "TESTED"     [2009-02-24 Tue 13:09]
   - State "DONE"       [2009-02-20 Fri 13:06]
   Seeing as how I've reached the end of my financial year my thoughts turned
   to how to 'close the books'.
 
   I have the following as part of my account tree:
   :DATA:
Assets:Super:ARF
Assets:Super:CSS
Assets:Super:CSS:Contributions
   :END:

   The ledger 'balance' report correctly shows `Contributions` to be a child of
   `Assets:Super:CSS`:
   :OUTPUT:
$ ledger -l 'd<=[30/06/2006]' -w -s bal ^Assets:Super
         $171,819.90  Assets:Super
          $12,777.87    ARF
         $159,042.03    CSS
           $3,861.00      Contributions
--------------------
         $171,819.90
   :END:
 
   However the ledger `equity` report formats `Contributions` as a new
   top-level account:
   :OUTPUT:
$ ledger -l 'd<=[30/06/2006]' -w equity ^Assets:Super

14/07/2006 Opening Balances
    Assets:Super:ARF                      $12,777.87
    Assets:Super:CSS                     $155,181.03
    Contributions                          $3,861.00
                                        $-171,819.90
   :END:
 
   Whilst its no great issue to manually edit the report (have to change the
   date anyway) its slightly annoying.
   :PROPERTIES:
   :Submitter: <rpw101ml@yahoo.com.au>
   :Version: 2.6
   :Ticket: 16
   :ID: 1CF1EEC2-74F2-4538-8508-F0B424BA5D19
   :END:
   [2007-12-10 Mon]
** TESTED Completing currency fails
   - State "TESTED"     [2009-02-24 Tue 13:09]
   - State "DONE"       [2009-02-20 Fri 13:08]
   Strange bug with inference of currency:
   :DATA:
2007/12/31 * Cost basis for: RED HAT INC RHT
  Assets:Investments:RBC-Broker:Account-RSP                                    4 RHT
  Equity:Opening-Balances:Cost                                            689.87 CAD

2008/01/03=2007/12/28 * Sell -- RHT -- RED HAT INC CA TAUX DE CHANGE    .96590
  Assets:Investments:RBC-Broker:Account-RSP                              -4.00 RHT @      21.14 CAD
  Expenses:Financial:Commissions                                          9.95 USD @     .96590 CAD
  Assets:Investments:RBC-Broker:Account-RSP                              72.06 CAD
  Expenses:Financial:Fees
   :END:

   The fees are inserted without a commodity as -9.610705:
   :OUTPUT:
ledger -w -f bug.txt  reg
2007/12/31  Cost basis for: RED HAT INC RHT     As:Investments:RBC-Broker:Account-RSP                4.00 RHT               4.00 RHT
                                                Equity:Opening-Balances:Cost                       689.87 CAD             689.87 CAD
                                                                                                                            4.00 RHT
2008/01/03  Sell -- RHT -- RED HAT INC CA TAU.. As:Investments:RBC-Broker:Account-RSP               -4.00 RHT             689.87 CAD
                                                Expenses:Financial:Commissions                       9.95 USD             689.87 CAD
                                                                                                                            9.95 USD
                                                As:Investments:RBC-Broker:Account-RSP               72.06 CAD             761.93 CAD
                                                                                                                            9.95 USD
                                                Expenses:Financial:Fees                             -9.610705              -9.610705
                                                                                                                          761.93 CAD
                                                                                                                            9.95 USD
                                                Expenses:Financial:Fees                             12.50 CAD              -9.610705
                                                                                                                          774.43 CAD
                                                                                                                            9.95 USD
   :END:
   This is a bug.

   I wish I could just say:
   :DATA:
2008/01/03=2007/12/28 * Sell -- RHT -- RED HAT INC CA TAUX DE CHANGE    .96590
  Assets:Investments:RBC-Broker:Account-RSP                              -4.00 RHT @      21.14 CAD
  Expenses:Financial:Commissions                                          9.95 USD @     .96590 CAD
  Assets:Investments:RBC-Broker:Account-RSP                              72.06 CAD
  Expenses:Financial:Fees                                                      CAD
   :END:
   ... to tell Ledger which currency to use to complete the xact.
   :PROPERTIES:
   :Submitter: Martin Blais <blais@furius.ca>
   :Version: 2.6
   :Ticket: 55
   :ID: E4C9A8EA-296B-443F-937A-80182B21AA20
   :END:
   [2008-04-07 Mon]
** TESTED Weird timelog report bug
   - State "TESTED"     [2009-02-24 Tue 13:09]
   - State "DONE"       [2009-02-20 Fri 13:19]
   ledger 2.6.1 can report wrong numbers for midnight-spanning timelog records
   depending on dates.
   :DATA:
i 2007/03/01 23:00:00 A
o 2007/03/02 01:00:00
i 2007/03/11 23:00:00 B
o 2007/03/12 01:00:00
   :END:
   :OUTPUT:
$ ledger -f <DATA> register
2007/03/02       (A)       2.0h         1.0h
2007/03/12       (B)       1.0h         3.0h
   :END:
   The B xact should be 2 hours. Changing the date will probably fix it.
   :PROPERTIES:
   :Submitter: Simon Michael <simon@joyful.com>
   :Version: 2.6.1
   :ID: 3AB70168-D4B6-48CE-8C61-8C775E5B0E1B
   :END:
   [2008-10-08 Wed 15:43]
** TESTED Ledger is still getting confused by trailing whitespace		    :LINK:ATTACH:
   - State "TESTED"     from "DONE"       [2009-06-16 Tue 17:04]
   - State "DONE"       from "TODO"       [2009-06-16 Tue 17:03]
   I just noticed that ledger ist confused by whitespace at the end of
   lines. Attached is a simple testcase where ledger reports:
   :OUTPUT:
% ledger -f test.ldg bal
            -17,94€  Aktiva:Bank
            -17,94€    Girokonto
           -800,00€    Girokonto
            800,00€    Sparkonto
             17,94€  Aufwand:Einkauf:Lebensmittel
--------------------
                  0
   :END:
   instead of:
   :OUTPUT:
% ledger -f test.ldg bal
            -17,94€  Aktiva:Bank
           -817,94€    Girokonto
            800,00€    Sparkonto
             17,94€  Aufwand:Einkauf:Lebensmittel
--------------------
                  0
   :END:
   This is caused by an extra space at the end of line 12.
   :PROPERTIES:
   :Submitter: Johann Klähn <kljohann@gmail.com>
   :Message: [[message://b0bc07100903260936n26b7c404nc1a9aaa2c9aa2da0@mail.gmail.com][Ledger bug: whitespace at eol]]
   :ID: C523E23F-CFAC-4A53-B0C6-21226640E763
   :Attachments: test.ldg
   :END:
   [2009-04-01 Wed 18:50]
** NOTE Found a very nasty interaction with g++-mp-4.4 and Boost			   :LINK:
   - Note taken on [2009-10-25 Sun 04:04] \\
     I've created a [[https://trac.macports.org/ticket/22234][MacPorts ticket]] for this issue.
   - Note taken on [2009-10-25 Sun 03:45] \\
     Apparently I have to use the following configure option:
     --enable-fully-dynamic-string.  Paolo Carlini [[message://20091025055053.32533.qmail@sourceware.org][writes]]:
     
     The Snow Leopard case is different, apparently they decided to build the
     system compiler with --enable-fully-dynamic-string and then that shows up
     everywhere, see [[http://gcc.gnu.org/bugzilla/show_bug.cgi%3Fid%3D41645][41645]]. As far as we can understand so far, people willing
     to experiment with recent GCCs on Snow Leopard have to use that configure
     time switch.

   I'm actually getting this same error on Snow Leopard (Mac OS X 10.6.0).
   It's pretty easy to reproduce with Boost (1.40):
   :SOURCE:
   #include <string>
   #include <sstream>
   
   #include <boost/variant.hpp>
   
   int main()
   {
     std::ostringstream buf;
     boost::variant<bool, std::string> data;
     data = buf.str();
     data = false;
     return 0;
   }
   :END:
   :SCRIPT:
   $ g++ -I/opt/local/include -o bug bug.cc
   :END:
   
   What happens here is that ostringstream, which is in libstdc++.dylib,
   returns an empty string which does not match the notion of empty string
   compiled into my executable; thus when Boost tries to deconstruct the
   string it stored in order to store the boolean, it crashes trying to
   deallocate a foreign lib's empty string.
   
   This doesn't happen with the same Boost using the stock compiler (g++ 4.2).

   With the stock compiler, g++ 4.2.1:
   :OUTPUT:
   vulcan /tmp $ otool -L bug
   bug:
           /usr/lib/libstdc++.6.dylib (compatibility version 7.0.0, current
   version 7.9.0)
           /usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current
   version 123.0.0)
   vulcan /tmp $ nm -o /usr/lib/libstdc++.6.dylib | grep empty_rep
   0003f200 T __ZNSbIwSt11char_traitsIwESaIwEE12_S_empty_repEv
   0003f2fd T __ZNSbIwSt11char_traitsIwESaIwEE4_Rep12_S_empty_repEv
   0006fe50 S __ZNSbIwSt11char_traitsIwESaIwEE4_Rep20_S_empty_rep_storageE
   0002fae3 T __ZNSs12_S_empty_repEv
   0002fbe7 T __ZNSs4_Rep12_S_empty_repEv
   0006fdb0 S __ZNSs4_Rep20_S_empty_rep_storageE
   vulcan /tmp $ nm bug | grep empty_rep                       
   0000000100001fc7 T __ZNSs12_S_empty_repEv
   0000000100001f14 T __ZNSs4_Rep12_S_empty_repEv
   000000010000dd00 D __ZNSs4_Rep20_S_empty_rep_storageE
   :END:
   
   With the compiler built from MacPorts, g++ 4.4.2:
   :OUTPUT:
   vulcan /tmp $ otool -L bug                                                    
   bug:
           /opt/local/lib/gcc44/libstdc++.6.dylib (compatibility version 7.0.0,
   current version 7.13.0)
           /opt/local/lib/gcc44/libgcc_s.1.dylib (compatibility version 1.0.0,
   current version 1.0.0)
           /usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current
   version 123.0.0)
   vulcan /tmp $ nm /opt/local/lib/gcc44/libstdc++.6.dylib | grep empty_rep 
   00000000000655c0 T __ZNSbIwSt11char_traitsIwESaIwEE12_S_empty_repEv
   00000000000658c0 T __ZNSbIwSt11char_traitsIwESaIwEE4_Rep12_S_empty_repEv
   00000000000bbe40 D __ZNSbIwSt11char_traitsIwESaIwEE4_Rep20_S_empty_rep_storageE
   000000000004de20 T __ZNSs12_S_empty_repEv
   000000000004e0e0 T __ZNSs4_Rep12_S_empty_repEv
   00000000000bbdc0 D __ZNSs4_Rep20_S_empty_rep_storageE
   vulcan /tmp $ nm bug | grep empty_rep                       
   000000010000193b T __ZNSs4_Rep12_S_empty_repEv
   0000000100007820 D __ZNSs4_Rep20_S_empty_rep_storageE
   :END:

   It likes like the S vs. D is the main difference.  Is it how MacPorts is
   building g++?  I've logged this information into the GCC bugs database:
   [[http://gcc.gnu.org/bugzilla/show_bug.cgi%3Fid%3D24196][Using string instances to pass arguments to dlls fails]].

   This discrepancy only occurs when _GLIBCXX_DEBUG=1.
   :PROPERTIES:
   :ID: E4156C53-FC70-49CD-80A1-552C4B508010
   :VISIBILITY: folded
   :END:
   [2009-10-25 Sun 01:44]
** NOTE Problem using boost::regex on Snow Leopard with g++ 4.4
   The following code shows the exception:
   :SOURCE:
   #include <string>
   #include <boost/regex.hpp>
   
   int main(int argc, char **argv)
   {
     std::string s("(.*)bar|(.*)bah");
     boost::regex re_node(s);
     return 1;
   }
   :END:

   This happens when there is a mismatch in the use of _GLIBCXX_DEBUG.
   :PROPERTIES:
   :ID: 3C40259C-BE0C-4657-A379-80E2F2B61286
   :VISIBILITY: folded
   :END:
   [2009-10-25 Sun 03:38]
** NOTE Building Boost with g++-4.4:
   boost/tools/build/v2/user-config.jam:
     using gcc : 4.4 : g++-4.4 ;
   boost/tools/build/v2/tools/darwin.jam:
     local command = [ common.get-invocation-command darwin : g++ : g++-mp-4.4 ] ;
     flags darwin.compile OPTIONS : -gdwarf-2 ;
   :PROPERTIES:
   :ID: 0C8CDAC9-5280-4111-82DE-91C0B7206714
   :VISIBILITY: folded
   :END:
   [2009-10-29 Thu 23:09]
* Build
** DONE [#A] Add a --no-git option to acprep for orc_emac
   SCHEDULED: <2009-11-10 Tue>
   - State "DONE"       from "TODO"       [2009-11-10 Tue 20:05]
   :PROPERTIES:
   :ID:       833997BF-EE60-4F81-BCBC-D9F7C607472F
   :END:
   [2009-11-10 Tue 15:13]
** DONE [#A] Build failure building latest Git version (archive.cc)			   :LINK:
   - State "DONE"       from "TODO"       [2009-11-07 Sat 06:51]
   [2009-11-03 Tue 15:18]
   :PROPERTIES:
   :ID: 9EF3FC3E-1699-4DFA-B7AF-27779BCAC510
   :Message:  [[message://7ff1eb7d-2fbe-4b50-9d0a-373e7d929574@j19g2000yqk.googlegroups.com][Build failure latest git]]
   :END:
   [2009-11-01 Sun 17:49]
** DONE [#A] tools/proof is failing
   - State "DONE"       [2009-03-08 Sun 01:24]
   - State "STARTED"    [2009-03-06 Fri 17:59]
   :PROPERTIES:
   :ID: 5663B55E-43BA-4694-B6C7-3A75E58024FA
   :END:
   [2009-03-06 Fri 17:55]
** DONE [#A] make release-distcheck is failing
   - State "DONE"       [2009-03-07 Sat 14:59]
   - State "STARTED"    [2009-03-06 Fri 17:59]
   :PROPERTIES:
   :ID: FF734E1D-5A6F-4E1E-927B-6D6D60075FAC
   :END:
   [2009-03-06 Fri 17:55]
** DONE acprep should call submodule
   - State "DONE"       from "TODO"       [2009-10-25 Sun 19:16]
   :PROPERTIES:
   :ID: 7A3A602A-3F31-4E4C-9941-F5BBF0D58ED6
   :END:
   [2009-10-23 Fri 06:13]
** DONE g++-4.3 core dumps when trying to use system.hh.gch
   - State "DONE"       [2009-03-16 Mon 04:56] \\
     The problem was that my pre-compiled header file was not the very first
     #include in every .cc file.
   :PROPERTIES:
   :ID: 3165A1E3-F216-4BA2-A09E-9C442D900802
   :END:
   [2009-03-09 Mon 20:16]
** DONE Add a BOOST_PREFIX envvar, and much more debugging info
   - State "DONE"       [2009-03-09 Mon 22:02]
   :PROPERTIES:
   :ID: A3B72BA7-5D50-4370-822B-FA63DF01B6F5
   :END:
   [2009-03-09 Mon 17:56]
** DONE Move system.hh.gch into the build directory
   - State "DONE"       [2009-03-09 Mon 17:22]
   :PROPERTIES:
   :ID: 81C1D1E9-3F33-4EFF-B8BD-4B4BF3520289
   :END:
   [2009-03-09 Mon 13:56]
** DONE Add a "dependencies" phase, which installs all of Ledger's deps
   - State "DONE"       [2009-03-09 Mon 17:22]
   :PROPERTIES:
   :ID: 62A2C553-30DA-48D5-9654-A6956A216D09
   :END:
   [2009-03-09 Mon 13:57]
** DONE Gather together the Ledger products directories
   - State "DONE"       [2009-03-09 Mon 05:52]
   For example, collect them all under ~/Products/ledger/<branch>/<type>
   :PROPERTIES:
   :ID: E82A95D4-D423-4739-A024-EF01A32409DA
   :END:
   [2009-03-08 Sun 18:40]
** DONE Ensure only the minimum amount of compilation is being done
   - State "DONE"       [2009-03-05 Thu 00:07]
   :PROPERTIES:
   :ID: 8E14BB51-28FF-484E-BEC1-F132A5C0F657
   :END:
   [2009-03-04 Wed 20:44]
** DONE Fix the warnings that g++ 4.3.3 finds
   - State "DONE"       [2009-02-28 Sat 05:02]
   :PROPERTIES:
   :ID: 56EACF79-5A4F-4880-878B-605731F7F0FC
   :END:
   [2009-02-27 Fri 21:33]
** DONE Why does the make process keep regenerating files
   - State "DONE"       [2009-02-27 Fri 04:11]
   :OUTPUT:
$ git --no-pager commit -F - --all --amend
make  check-recursive
Making check in po
make ledger.pot-update
if LC_ALL=C grep 'GNU ledger' ../* 2>/dev/null | grep -v 'libtool:' >/dev/null; then \
	  package_gnu='GNU '; \
	else \
	  package_gnu=''; \
	fi; \
	if test -n '' || test 'johnw@newartisans.com' = '@'PACKAGE_BUGREPORT'@'; then \
	  msgid_bugs_address=''; \
	else \
	  msgid_bugs_address='johnw@newartisans.com'; \
	fi; \
	case `/opt/local/bin/xgettext --version | sed 1q | sed -e 's,^[^0-9]*,,'` in \
	  '' | 0.[0-9] | 0.[0-9].* | 0.1[0-5] | 0.1[0-5].* | 0.16 | 0.16.[0-1]*) \
	    /opt/local/bin/xgettext --default-domain=ledger --directory=.. \
	      --add-comments=TRANSLATORS: --keyword=_ --keyword=N_  \
	      --files-from=./POTFILES.in \
	      --copyright-holder='Free Software Foundation, Inc.' \
	      --msgid-bugs-address="$msgid_bugs_address" \
	    ;; \
	  *) \
	    /opt/local/bin/xgettext --default-domain=ledger --directory=.. \
	      --add-comments=TRANSLATORS: --keyword=_ --keyword=N_  \
	      --files-from=./POTFILES.in \
	      --copyright-holder='Free Software Foundation, Inc.' \
	      --package-name="${package_gnu}ledger" \
	      --package-version='unknown' \
	      --msgid-bugs-address="$msgid_bugs_address" \
	    ;; \
	esac
test ! -f ledger.po || { \
	  if test -f ./ledger.pot; then \
	    sed -f remove-potcdate.sed < ./ledger.pot > ledger.1po && \
	    sed -f remove-potcdate.sed < ledger.po > ledger.2po && \
	    if cmp ledger.1po ledger.2po >/dev/null 2>&1; then \
	      rm -f ledger.1po ledger.2po ledger.po; \
	    else \
	      rm -f ledger.1po ledger.2po ./ledger.pot && \
	      mv ledger.po ./ledger.pot; \
	    fi; \
	  else \
	    mv ledger.po ./ledger.pot; \
	  fi; \
	}
test ! -f ./ledger.pot || \
	  test -z "" || make 
Making check in intl
make[2]: Nothing to be done for `check'.
make  RegressTests BaselineTests ConfirmTests UtilTests MathTests ExprTests DataTests ReportTests PyUnitTests
echo "/usr/bin/python ./test/RegressTests.py ./ledger ./test/regress" > RegressTests
chmod 755 RegressTests
echo "/usr/bin/python ./test/RegressTests.py ./ledger ./test/baseline" > BaselineTests
chmod 755 BaselineTests
echo "/usr/bin/python ./test/ConfirmTests.py ./ledger ./test/input" > ConfirmTests
chmod 755 ConfirmTests
    LD UtilTests
    LD MathTests
    LD ExprTests
    LD DataTests
    LD ReportTests
/usr/bin/python ./test/convert.py test/unit/t_utils.cc test/python/t_utils.py
/usr/bin/python ./test/convert.py test/unit/t_times.cc test/python/t_times.py
/usr/bin/python ./test/convert.py test/unit/t_commodity.cc test/python/t_commodity.py
/usr/bin/python ./test/convert.py test/unit/t_amount.cc test/python/t_amount.py
/usr/bin/python ./test/convert.py test/unit/t_balance.cc test/python/t_balance.py
/usr/bin/python ./test/convert.py test/unit/t_expr.cc test/python/t_expr.py
chmod 755 PyUnitTests
make  check-TESTS
. . . . . . .
OK (7) 
PASS: RegressTests
. . . . . . .
   :END:
   :PROPERTIES:
   :ID: 8CF2975B-3082-482B-9185-F265B756378D
   :END:
   [2009-02-26 Thu 05:53]
** DONE myacprep and tools/build shoud accept --opt, --prof, --gcov
   - State "DONE"       [2009-02-21 Sat 15:53]
   :PROPERTIES:
   :ID: 4CCF74DD-62AC-47F6-9E84-9D4C2EA6FB37
   :END:
   [2009-02-21 Sat 15:19]
** DONE Create a MacPorts Portfile for Ledger
   - State "DONE"       [2008-09-28 Sun 17:09]
   :PROPERTIES:
   :ID: 03B44F60-68CC-4A32-80AC-3C38E319750D
   :ARCHIVE_TIME: 2008-10-15 Wed 17:17
   :ARCHIVE_CATEGORY: Computer
   :END:
   [2008-09-28 Sun 16:45]
** DONE Quiet the Makefile by reducing the Python link lines
   - State "DONE"       [2009-02-05 Thu 21:55]
   :PROPERTIES:
   :ID: FC243C26-63F1-4969-88C0-FEC720DE0248
   :END:
   [2009-02-05 Thu 03:42]
** DONE Create a phase for packaging up and uploading ledger-3.0a.dmg
   - State "DONE"       from "TODO"       [2009-06-16 Tue 17:08]
   :PROPERTIES:
   :ID: 206551B6-6CF2-4D48-BC5C-7469C00F395C
   :END:
   [2009-03-19 Thu 03:04]
** DONE Restore old Ledger tests, like tools/confirm.py
   - State "DONE"       [2009-02-24 Tue 22:32]
   :PROPERTIES:
   :ID: 53E1B0D6-1CD9-44C1-B066-E40F4A3D461D
   :END:
   [2009-02-24 Tue 11:08]
** DONE Write unit tests for all of Ledger and its reporting options
   - State "DONE"       [2009-02-24 Tue 04:06]
   :PROPERTIES:
   :ID: A8DE6DCB-917B-433F-8D07-3ACE45A05F45
   :END:
   [2008-08-14 Thu]
** DONE Improve my pre-commit so it checks out everything it needs to
   - State "DONE"       [2009-02-21 Sat 16:32]
   :PROPERTIES:
   :ID: 5374E1C7-41CA-474D-A16F-54D26BD18AF3
   :END:
   [2009-02-21 Sat 02:09]
** DONE Add a way for building in any directory (other than ~/Products) in acprep
   - State "DONE"       [2008-08-08 Fri]
   :PROPERTIES:
   :ID: FFA63988-237E-4B2A-AC12-6CA362AEC7B1
   :END:
   [2008-07-24 Thu]
** DONE Create an MacPorts build of Ledger
   - State "DONE"       [2009-01-29 Thu 15:31]
   :PROPERTIES:
   :ID: 7F75AEF6-BBB8-4BBA-BCCA-FE328037EBC4
   :END:
   [2008-08-08 Fri]
** DONE Enable "buildbot try" on the VPS
   - State "DONE"       [2008-05-03 Sat]
   :PROPERTIES:
   :ID: 6A9A8E1B-29E9-4B06-9AE3-BBB2D5BB6D9E
   :END:
   [2008-04-24 Thu]
** DONE Find out how to submit a build against a specific branch on Buildbot
   - State "DONE"       [2008-07-26 Sat]
   This may simply be a matter of telling the scheduler and Git() object to
   watch other branches.
   :PROPERTIES:
   :ID: 4B291AFD-00BF-479B-A067-0B01139BA475
   :END:
   [2008-04-24 Thu]
** DONE Find out why master fails to build on tdelaet's OpenBSD box
   - State "DONE"       [2008-08-17 Sun 06:33] \\
     It's because his Boost isn't up to date.  I'll have to wait until he has Boost
     1.35 working OpenBSD 4.4 before we can build anything other than v2.6.1b on
     his machines.
   ssh obsd86
   :PROPERTIES:
   :ID: 30186BD0-CD2E-4B22-AD4C-84D7F6552D4B
   :END:
   [2008-08-14 Thu]
** DONE Get 'make check' working again for Ledger 2.7
   - State "DONE"       [2008-07-27 Sun]
   This means getting the unit tests running again.
   :PROPERTIES:
   :ID: 987FB7D3-B04E-44E4-9CC4-F0694F96051E
   :END:
   [2008-07-26 Sat]
** DONE Get 'make distcheck' working again with Ledger 2.6.1
   - State "DONE"       [2008-07-28 Mon]
   :PROPERTIES:
   :ID: F5850319-0C51-429B-90BE-DDA4400F7F02
   :END:
   [2008-04-23 Wed]
** DONE Get 'make distcheck' working again with Ledger 2.7
   - State "DONE"       [2008-08-08 Fri]
   :PROPERTIES:
   :ID: A6AA8D89-51B0-434B-8259-A557FB15BC47
   :END:
   [2008-07-27 Sun]
** DONE Get Buildbot builds to work on my MacBook Pro
   - State "DONE"       [2008-04-26 Sat]
   make[1]: *** No rule to make target `all'.  Stop.
   :PROPERTIES:
   :ID: 1D0FD629-FD7B-4E7F-8E8F-3D73FD725F32
   :END:
   [2008-04-24 Thu]
** DONE Have the version in Ledger's configure.in based off of git-describe
   - State "DONE"       [2008-05-18 Sun]
   :PROPERTIES:
   :ID: 08E58F60-5437-46BE-A81B-1839FA4921FB
   :END:
   [2008-05-08 Thu]
** DONE Restore VCS history for Ledger from April to September 2004 from backups
   - State "DONE"       [2008-07-15 Tue]
   :PROPERTIES:
   :ID: 844BCBC7-7DAB-479B-A448-9062F6F5480C
   :END:
   [2008-05-28 Wed]
** DONE The Buildbot is failing to build master
  - State "DONE"       [2008-08-17 Sun 06:32] \\
    Fixed now.
   :OUTPUT:
src/session.h: In member function 'void ledger::session_t::clean_all()':
src/session.h:171: error: 'clear_posts' was not declared in this scope
src/session.h:172: error: 'clear_accounts' was not declared in this scope
make[1]: *** [libledger_la-journal.lo] Error 1
   :END:
   :PROPERTIES:
   :ID: FFE100BB-3383-4E27-ADD9-08AFF0518846
   :END:
   [2008-08-16 Sat]
** DONE Upgrade to use local-time-0.9.2
   - State "DONE"       [2007-11-25 Sun 21:02]
   :PROPERTIES:
   :ARCHIVE_TIME: 2007-12-03 Mon 17:50
   :ARCHIVE_CATEGORY: Computer
   :ID: D7354D27-EFEA-4747-8185-B2A48E2F5FF3
   :END:
   [2007-11-24 Sat]
** DONE Using my PowerPC, build a universal Ledger binary for OS X Leopard
   - State "DONE"       [2008-08-08 Fri]
   :PROPERTIES:
   :ID: DF73E41F-A867-4A29-BA88-BC9F69A139CD
   :END:
   [2008-08-04 Mon]
** DONE acprep's --boost option does not accept a value
   - State "DONE"       from "TODO"       [2009-11-07 Sat 06:34]
   :PROPERTIES:
   :ID: 36778975-47E7-4D79-98FF-4B6C8F650914
   :END:
   [2009-11-01 Sun 06:41]
** DONE [#C] Comb through the warnings generated when all warnings are enabled
   - State "DONE"       [2009-02-16 Mon 22:59]
   - State "STARTED"    [2009-02-16 Mon 14:25]
   :PROPERTIES:
   :ID: B129BF67-ACC2-4800-870C-93F9ADA151F6
   :END:
   [2008-08-14 Thu]
** DONE [#C] Build Ledger master on Ubuntu so I can figure out Nafai's problem
   - State "DONE"       [2008-08-31 Sun 21:21] \\
     It's all working now, after three commits to fix things.
   - State "STARTED"    [2008-08-31 Sun 20:00] \\
     Working with Nafai on it now in #ledger.
   - State "STARTED"    [2008-08-28 Thu 23:57] \\
     I've gotten things to the point now where I can see what Nafai is seeing.  The
     next step is to fix it.
   - State "STARTED"    [2008-08-28 Thu 02:35] \\
     I'm still building the dependencies.
   :PROPERTIES:
   :ID: EC1EABBA-A613-4E57-AB8A-687DC5036BE8
   :END:
   [2008-08-27 Wed]
** DONE [#C] Get the PowerBook's buildbot working again
   - State "DONE"       [2008-08-17 Sun 02:52]
   :PROPERTIES:
   :ID: 6B92EE7F-9F6A-452A-B242-347FB9206832
   :END:
   [2008-08-16 Sat]
** CANCELLED Accept multiple phases in acprep if they can be recognized as such
   - State "CANCELLED"  from "DEFERRED"   [2009-10-22 Thu 07:35]
   - State "DEFERRED"   from "TODO"       [2009-06-16 Tue 17:08]
   :PROPERTIES:
   :ID: B8B9F5ED-32F0-4BFA-8E84-6B0F6064E88A
   :END:
   [2009-03-10 Tue 16:29]
** CANCELLED Devise a way to publish the Buildbot ledger builds				   :LINK:
   - State "CANCELLED"  from "TODO"       [2009-06-16 Tue 17:08]
   Michal Wallace has offered hosting space: [[message://3226fffd-f75a-4a17-8df0-34ee4d5f227f@m36g2000hse.googlegroups.com][buildbot but no builds?]]
   :PROPERTIES:
   :ID: AFFBA1FA-6D2A-45B6-B56A-A57FEE8B93CA
   :END:
   [2008-10-25 Sat 00:50]
** CANCELLED Create a fully static binary for OS X
   - State "CANCELLED"  [2009-03-08 Sun 04:30]
   :PROPERTIES:
   :ID: 0ECCBFEB-C2F6-4F13-95C4-95D835E7030C
   :END:
   [2009-02-21 Sat 15:20]
** CANCELLED Create a Puppet script for setting up a Ledger build slave
   - State "CANCELLED"  [2009-03-08 Sun 04:30]
   This should work for any platform, so that I can fire up a virtual
   buildslave on Solaris, Ubuntu, CentOS, OS X, etc.
   :PROPERTIES:
   :ID: 2599B64E-7888-4E56-9C46-718EFEF822BA
   :END:
   [2008-09-04 Thu]
** CANCELLED Problems with CVS version under Debian
   - State "CANCELLED"  [2009-02-08 Sun 16:03] \\
     This might not apply any longer.
  - State "TODO"       [2008-07-17 Thu 21:46] \\
    Until I get some info on this, I'll just have to postpone for 2.7.
  - State "TODO"       [2008-07-16 Wed 03:52] \\
    I don't have a Debian system to try this out with.  Can you give me a login to
    your, rpw, or let me know where I can find an ISO of the epost version you're
    using?
   Downloaded and (eventually) compiled the latest version from anonymous CVS.
 
   Had to update my 'automake' to 1.9 and add "#include <cassert>" to
   datetime.h to get it to make.
 
   Runs the help screen OK but SEGV's out when attempting to do any useful
   work.
 
   System is debian stable ('sarge'), gcc 3.3.5 fully upgraded.
 
   Any clues?
   :OUTPUT:
$gdb ledger
(gdb) run -f sample.dat print
Starting program: /home/rpw/ledger-cvs/ledger/ledger
-f sample.dat print

Program received signal SIGSEGV, Segmentation fault.
0x400a9e5a in std::ostream::sxact::sxact () from
/usr/lib/libstdc++.so.5
(gdb) bt
#0  0x400a9e5a in std::ostream::sxact::sxact () from
/usr/lib/libstdc++.so.5
#1  0x400a9fbf in std::operator<<
<std::char_traits<char> > () from
/usr/lib/libstdc++.so.5
#2  0x0805ef16 in
ledger::annotated_commodity_t::write_annotations
(out=@0xbfffdef0, price=@0xbfffde60,
    date=@0xbfffde40, tag=@0x815fd20) at
datetime.h:249
#3  0x0805f3b8 in ledger::(anonymous
namespace)::make_qualified_name (comm=@0x815fdc8,
price=@0xbfffe4f0,
    date=@0xbfffddf0, tag=@0xbfffddf0) at
amount.cc:1732
#4  0x0805f70f in
ledger::annotated_commodity_t::find_or_create
(comm=@0x815fdc8, price=@0xbfffe4f0,
    date=@0xbfffe410, tag=@0x815fd20) at
amount.cc:1752
#5  0x0805dfde in ledger::amount_t::annotate_commodity
(this=0x815fd48, price=@0xbfffe4f0, date=@0xbfffe410,
    tag=@0xbfffde00) at datetime.h:97
#6  0x080b9965 in ledger::parse_posting (
    line=0x8144040 "  Assets:Brokerage", ' ' <repeats
14 times>, "50 AAPL @ $30.00", account=0xbfffddf0,
    xact=0xbfffe530) at memory:271
#7  0x080bb2b8 in ledger::parse_xact (in=@0xbfffed40,
    line=0x8144040 "  Assets:Brokerage", ' ' <repeats
14 times>, "50 AAPL @ $30.00", master=0x815cb90,
    parser=@0x8143bd4, beg_pos=95) at memory:284
#8  0x080be0aa in ledger::textual_parser_t::parse
(this=0x8143bd4, in=@0xbfffed40, config=@0xbffff930,
    journal=0x815cb58, master=0x815cb90,
original_file=0xbffff934) at stl_list.h:671
#9  0x080af07c in ledger::parse_journal
(in=@0xbfffed40, config=@0xbfffddf0,
journal=0x815cb58,
    master=0x815cb90, original_file=0xbfffddf0) at
stl_list.h:585
#10 0x080af1ee in ledger::parse_journal_file
(path=@0x815c1f4, config=@0xbfffddf0,
journal=0x815cb58,
    master=0xbfffddf0, original_file=0xbffff934) at
parser.cc:92
#11 0x080afa5b in ledger::parse_ledger_data
(config=@0xbffff930, journal=0x815cb58,
cache_parser=0x815cb68,
    xml_parser=0x0, stdin_parser=0x8143bd4) at
parser.cc:181
#12 0x0804c977 in parse_and_report
(config=@0xbffff930, report=@0xbffff8d0, argc=4,
argv=0xbffffa04,
    envp=0xbfffddf0) at memory:284
#13 0x080535b6 in main (argc=-1073750544,
argv=0xbfffddf0, envp=0xbfffddf0) at main.cc:452
(gdb)
   :END:
   :PROPERTIES:
   :Submitter: rpw101ml@yahoo.com.au
   :Version: 2.5
   :Ticket: 9
   :ID: 0DD9D927-7C79-41A4-8D9A-67C00550B67D
   :END:
   [2007-12-10 Mon]
* Docs
** DONE Write the balance reporting algorithm for sm
   - State "DONE"       [2009-03-11 Wed 15:53]
   :PROPERTIES:
   :ID: 96737B51-1E78-473D-BE6A-B94094C20EB6
   :END:
   [2009-03-11 Wed 15:34]
** DONE Stop using Doxygen to generate code documentation
   - State "DONE"       [2009-03-06 Fri 17:52]
   :PROPERTIES:
   :ID: A7A589D0-2799-40ED-9729-BDB6892EB279
   :END:
   [2009-03-06 Fri 04:21]
** DONE Change --help* so it runs "man ledger"
   - State "DONE"       [2009-02-21 Sat 16:32]
   :PROPERTIES:
   :ID: 69F58499-2EE7-4A76-9B1B-E9F8495D9514
   :END:
   [2009-02-21 Sat 15:02]
** DONE Start a real manpage
   - State "DONE"       [2009-02-21 Sat 14:50]
   :PROPERTIES:
   :ID: 9ED06BD9-774E-411E-9942-F1D672EB67C8
   :END:
   [2009-02-21 Sat 12:49]
** DONE Describe the new balance algorithm in pseudocode for sm
   - State "DONE"       [2009-02-17 Tue 17:43]
   :PROPERTIES:
   :ID: 68EA6398-E410-45A2-8EB3-7ACFEA5238CC
   :END:
   [2009-02-17 Tue 07:20]
** DONE Post the Ledger manual in HTML format on newartisans.com
   - State "DONE"       from "TODO"       [2009-06-16 Tue 17:10]
   :PROPERTIES:
   :Version: 2.6
   :Ticket: 187
   :ID: C6E7C61C-13A3-4812-AA28-CD3E247D6F8C
   :END:
   [2008-08-14 Thu]
** DONE Add license headers to every file
   - State "DONE"       [2009-01-29 Thu 15:29]
   :PROPERTIES:
   :Version: 2.6
   :Ticket: 99
   :ID: E99806BC-8781-4469-9FEF-B77C23BB3413
   :END:
   [2008-04-11 Fri]
** DONE Format ledger.texi in the same manner as the SBCL manual
   - State "DONE"       [2007-12-04 Tue 18:14]
   :PROPERTIES:
   :ARCHIVE_TIME: 2007-12-11 Tue 18:33
   :ARCHIVE_CATEGORY: Computer
   :ID: 7D3DE56C-34E2-4992-87CA-B129E19B6FD1
   :END:
   [2007-11-28 Wed]
** DONE Organize my ledger todo file and integrate it into the main agenda
   - State "DONE"       [2007-10-01 Mon 03:40] \\
     Done, although I still need to pull all of my old data from Trac and Merlin.
   :PROPERTIES:
   :ARCHIVE_TIME: 2007-10-03 Wed 14:01
   :ARCHIVE_CATEGORY: Computer
   :ID: B89FA87D-CAE6-4F78-9442-E25EE572E8FD
   :END:
   [2007-09-27 Thu]
** DONE There is an issue with unescaped @ signs in the Ledger docs
   - State "DONE"       [2008-03-27 Thu]
   :PROPERTIES:
   :ID: 30ED70CB-0679-4651-A1C3-1247764B250D
   :END:
   [2008-03-26 Wed]
** DUPLICATE Apply fix to the Ledger documentation
   - State "DUPLICATE"  [2008-09-11 Thu 03:08] \\
     This has already been fixed by A7CA0F5B-1F08-417A-9071-A223601100CA.
   I found a tiny bug in the info documentation for ledger, version
   2.6.0.90, regarding per-unit and complete xact cost.  There
   seems to be @'s missing (maybe texinfo gobbles up at least on @)

   It says:

   > The `ACCOUNT' may be surrounded by parentheses if it is a virtual
   > posts, or square brackets if it is a virtual posts
   > that must balance.  The `AMOUNT' can be followed by a per-unit
   > xact cost, by specifying ` AMOUNT', or a complete
   > xact cost with `@ AMOUNT'.  Lastly

   whereas I believe (from reading the source of textual.cc) it should
   be:

   > The `ACCOUNT' may be surrounded by parentheses if it is a virtual
   > posts, or square brackets if it is a virtual posts
   > that must balance.  The `AMOUNT' can be followed by a per-unit
   > xact cost, by specifying `@ AMOUNT', or a complete
   > xact cost with `@@ AMOUNT'.  Lastly
   :PROPERTIES:
   :Submitter: Par Kurlberg <kurlberg@math.kth.se>
   :ID: ED900734-1655-4229-A88F-9BCB96634E00
   :END:
   [2008-09-02 Tue 06:26]
* Emacs
** DONE [#A] Pressing space bar on items on the reconcile window does nothing		   :LINK:
   - State "DONE"       from "TODO"       [2009-10-31 Sat 04:16]
   message://01BBC0A5-1185-4FCF-8D8C-72E29FA86675@gmail.com
   :PROPERTIES:
   :ID: AC756278-72D5-4CAC-82A7-334A9BB6F7EE
   :END:
   [2009-10-03 Sat 03:23]
** DONE C-c C-c on a cleared entry doesn't unclear it
   - State "DONE"       from "TODO"       [2009-06-16 Tue 18:11]
   :PROPERTIES:
   :Version: 2.6.0.90
   :Ticket: 212
   :ID: 863C0EE8-C193-46EE-9BAA-3A37DE73E4DB
   :END:
** DONE In ledger-mode, color directive lines a different color
   - State "DONE"       from "TODO"       [2009-06-16 Tue 18:13]
   :PROPERTIES:
   :Version: 2.6
   :Ticket: 186
   :ID: B34222A3-DD25-4717-B60B-865DB7F1DFD6
   :END:
   [2008-04-16 Wed]
** WORKSFORME C-c TAB no longer works in ledger-mode
   :PROPERTIES:
   :ID:       AA885449-23F0-450C-BBA8-ECC8C073F14C
   :END:
   [2009-11-17 Tue 16:29]
* Features
** DONE The date parser needs to be rewritten
   - State "DONE"       from "TODO"       [2009-11-18 Wed 04:27]
   It needs to be a real parser, to handle these strings:
   :SOURCE:
   from july
   from 2009
   from 2009 july
   from july 2009
   from last july
   :END:
   :PROPERTIES:
   :ID: 28A80FB5-2475-45CD-B4AD-7BBA0038F9E6
   :END:
   [2009-11-06 Fri 01:42]
** DONE Come up with a consistent syntax for scoped directives
   - State "DONE"       from "TODO"       [2009-11-15 Sun 06:10]
   - master account
   - bucket account
   - common metadata
   :PROPERTIES:
   :ID:       687F2794-AECA-4E0B-BDED-E71425D1F4C6
   :END:
   [2009-11-09 Mon 19:19]
** DONE Provide single-letter value expression shortcuts
   - State "DONE"       from "TODO"       [2009-11-14 Sat 03:13]
   This is for compatibility with 2.x.
   - m :: now, today
   - a :: amount
   - i :: price
   - b :: cost
   - d :: date
   - X :: cleared
   - Y :: pending
   - R :: real
   - L :: actual
   - n :: index
   - N :: count
   - l :: depth
   - O :: total
   - I :: total_price
   - B :: total_cost
   - t :: display_amount
   - T :: display_total
   - U :: abs
   - S :: quantity
   - A :: avg, mean, average
   - P :: market_value [general]
   - v :: market_value(amount)
   - V :: market_value(total)
   - g :: gain
   - G :: total_gain
   - min
   - max
   :PROPERTIES:
   :ID: 80339708-5B3E-4413-A770-89E4E9912C04
   :END:
   [2009-11-02 Mon 01:10]
** DONE Add a --date option, for setting the date of each posting
   - State "DONE"       from "TODO"       [2009-11-11 Wed 21:30]
   :PROPERTIES:
   :ID:       3CDC68C4-FB2A-44AA-824A-E3F5261647DF
   :END:
   [2009-11-11 Wed 05:15]
** DONE Add conversion valexpr methods, like to_date(STR)
   - State "DONE"       from "TODO"       [2009-11-11 Wed 21:30]
   :PROPERTIES:
   :ID:       496A6351-BE11-47DE-A1C3-5DE1257B14F7
   :END:
   [2009-11-11 Wed 05:15]
** DONE Add a mechanism that allows VAT to be calculated
   SCHEDULED: <2009-11-11 Wed>
   - State "DONE"       from "TODO"       [2009-11-11 Wed 04:37]
   This means adding mathematical functions like floor, round, ceiling, etc.
   But also it means have a value expression variable that refer to the
   incoming amount which an automated expression will be calculated against.
   :PROPERTIES:
   :ID:       BD29154A-6BB5-487E-9201-A306B7F9FD53
   :END:
   [2009-11-11 Wed 02:58]
** DONE Allow notes and metadata on timeclock entries
   - State "DONE"       from "TODO"       [2009-11-11 Wed 01:54]
   :PROPERTIES:
   :ID:       F225EA85-49B6-4E0C-B861-38DD3E784048
   :END:
   [2009-11-09 Mon 01:44]
** DONE Change automated expressions to use report query syntax
   - State "DONE"       from "TODO"       [2009-11-10 Tue 02:44]
   :PROPERTIES:
   :ID:       BBEF5801-56F2-44E0-BE3F-3B144F05328F
   :END:
   [2009-11-09 Mon 19:49]
** DONE Create Expr, Query, Period, Draft, Format objects
   - State "DONE"       from "TODO"       [2009-11-10 Tue 02:48]
   - State "TODO"       from "DONE"       [2009-11-09 Mon 14:08] \\
     I still need to expose this classes to Python.
   - State "DONE"       from "TODO"       [2009-11-09 Mon 14:08]
   One to represent every expression type.  All the expression types should
   have a preview() method.
   :PROPERTIES:
   :ID: D3395691-2BD5-4ADF-A528-3DBB96FC3F98
   :END:
   [2009-11-05 Thu 08:27]
** DONE In the "pricesdb" report, output commodity conversions
   - State "DONE"       from "TODO"       [2009-10-31 Sat 03:22]
   ... and "N" commands.
   :PROPERTIES:
   :Version: 2.6
   :Ticket: 110
   :ID: 1BE0C80D-AC4D-4372-B830-14193554EF6B
   :END:
   [2008-04-11 Fri]
** DONE Convert *all* valexpr functions to use interactive_t
   - State "DONE"       from "TODO"       [2009-10-31 Sat 03:33]
   :PROPERTIES:
   :ID: DF11A428-9958-44EB-99A8-34C48AB8365C
   :END:
   [2009-02-21 Sat 17:36]
** DONE The --strict option should also prevent new commodities
   - State "DONE"       from "TODO"       [2009-10-31 Sat 03:08]
   :PROPERTIES:
   :ID: 3254504D-FA9F-4E60-B56D-414C6EF03BFE
   :END:
   [2009-03-07 Sat 00:31]
** DONE The entry command drops price specifications
   - State "DONE"       from "TODO"       [2009-10-31 Sat 02:54]
   If you enter a pricing command like this in Emacs:
   :DATA:
   C -c C-a 2008/02/19 chevron 'GAL 11.118 @ $ 2.879'
   :END:
   The resulting entry omits the '@ ...' part.
   :PROPERTIES:
   :Version: 2.6
   :Ticket: 192
   :ID: 03C6208E-E48F-45BB-BFBF-2C38B129458A
   :END:
   [2008-05-03 Sat]
** DONE Valexpr strings cannot have chars like \n
   - State "DONE"       from "TODO"       [2009-10-31 Sat 02:59]
   - State "TODO"       from "DEFERRED"   [2009-10-22 Thu 07:34]
   - State "DEFERRED"   from "TODO"       [2009-06-28 Sun 17:37]
   :PROPERTIES:
   :ID: 23680D4C-0361-46DA-AC8F-C98CFF79F47B
   :END:
   [2009-02-27 Fri 13:19]
** DONE Have an option --forecast-years
   - State "DONE"       from "TODO"       [2009-10-31 Sat 03:06]
   :PROPERTIES:
   :ID: C6B21504-DF86-43AC-AEFE-2F3D843DDB0B
   :END:
   [2009-10-28 Wed 17:28]
** DONE Value expressions for getting at the lot date
   - State "DONE"       from "TODO"       [2009-10-31 Sat 03:10]
   For example: lotdate, lotdateof(x)
   :PROPERTIES:
   :Version: 2.6
   :Ticket: 148
   :ID: A1230B8C-EF48-40BB-A200-18E7E94620BE
   :END:
   [2008-04-11 Fri]
** DONE Allow // regex in the query parser
   SCHEDULED: <2009-10-28 Wed>
   - State "DONE"       from "TODO"       [2009-10-29 Thu 00:25]
   :PROPERTIES:
   :ID: 112D575E-51DB-4792-9280-3B559747BB00
   :END:
   [2009-10-28 Wed 17:28]
** DONE Use a "token context" in the query parser
   SCHEDULED: <2009-10-28 Wed>
   - State "DONE"       from "TODO"       [2009-10-28 Wed 17:46]
   :PROPERTIES:
   :ID: A77821CD-DB8D-46A1-B873-4257F2796A5B
   :END:
   [2009-10-28 Wed 17:28]
** DONE The query parser should produce ptr_op_t trees directly
   SCHEDULED: <2009-10-28 Wed>
   - State "DONE"       from "TODO"       [2009-10-28 Wed 17:46]
   :PROPERTIES:
   :ID: 9165C59D-8933-4115-8684-5851A1D059C6
   :END:
   [2009-10-28 Wed 17:29]
** DONE Sort register reports by date by default
   SCHEDULED: <2009-10-27 Tue>
   - State "DONE"       from "TODO"       [2009-10-28 Wed 01:20]
   :PROPERTIES:
   :ID: 926078B5-07B9-4258-B769-8C3FD4BC0C81
   :END:
   [2009-10-27 Tue 22:44]
** DONE Make -D a synonym for --daily, instead of --deviation
   SCHEDULED: <2009-10-27 Tue>
   - State "DONE"       from "TODO"       [2009-10-28 Wed 01:20]
   :PROPERTIES:
   :ID: 6DCB7E25-5D3B-47A6-9651-9B7F3EF71FB2
   :END:
   [2009-10-27 Tue 22:48]
** DONE Default to reading ~/.ledger if no -f is used
   SCHEDULED: <2009-10-27 Tue>
   - State "DONE"       from "TODO"       [2009-10-28 Wed 02:09]
   :PROPERTIES:
   :ID: A76909EF-6C29-4424-8E0C-F99A60D5A3D4
   :END:
   [2009-10-27 Tue 22:38]
** DONE Add an md5 valexpr function
   - State "DONE"       from "TODO"       [2009-10-25 Sun 22:01]
   Russell can generate a report using this instead of storing a string.
   :PROPERTIES:
   :ID: 18ADEF7A-6C43-4427-BC79-79F1E2905B85
   :END:
   [2009-10-23 Fri 06:10]
** DONE Valexpr function: magnitude
   - State "DONE"       from "TODO"       [2009-10-24 Sat 17:49]
   The largest positive value of a balance.
   :PROPERTIES:
   :ID: C53A9D20-ADB6-4B7C-BEA6-0074242044F9
   :END:
   [2009-10-23 Fri 06:14]
** DONE Add a --no-color option for Ledger
   - State "DONE"       from "TODO"       [2009-06-26 Fri 17:51]
   :PROPERTIES:
   :ID: E924C732-C3F9-40C7-8E69-8F20566EB920
   :END:
   [2009-06-17 Wed 16:45]
** DONE In the expression parser, 40% should mean 0.40
   - State "DONE"       from "TODO"       [2009-05-14 Thu 04:06]
   :PROPERTIES:
   :ID: CEC3AE64-64C8-4339-B4DB-86A4FBDBBD98
   :ARCHIVE_TIME: 2009-05-15 Fri 18:00
   :ARCHIVE_CATEGORY: Ledger
   :END:
   [2009-05-14 Thu 02:06]
** DONE In daily budget report, there's no budgeting entry for "today"
   - State "DONE"       [2009-03-08 Sun 04:21]
   :PROPERTIES:
   :Version: 2.6
   :Ticket: 65
   :ID: 5D1B0408-90D0-4019-AE0F-A914329C73CB
   :END:
   [2009-04-11 Sat]
** DONE Allow balance reports to have multiple totals columns
   - State "DONE"       [2009-03-03 Tue 03:18]
   For example, to show commodity quantities vs. market values; or to show
   date of latest cleared entry and cleared total vs. date of last queried
   entry and the query total.
   :PROPERTIES:
   :Submitter: John Wiegley <johnw@newartisans.com>
   :Milestone: 3.0
   :Ticket: 1
   :ID: D737F702-9848-F001-5AC1-9924A9C3E5BA
   :END:
   [2009-02-28 Sat 20:38]
** DONE Allow for fixed commodities, whose market value does not change
   - State "DONE"       [2009-03-02 Mon 17:06]
   Actually, this can be done with lot pricing, if I add a feature where a
   posting of a certain form causes it to fixate:

   2009/01/01 Payee
       Expenses:Gas                 20 Gallon {$10}
       Liabilities:MasterCard            $200
   :PROPERTIES:
   :ID: FB85DEF4-7D65-45B5-898B-20B511FEE022
   :END:
   [2009-02-10 Tue 04:10]
** DONE Support "a; b" in value expressions
   - State "DONE"       [2009-03-03 Tue 16:03]
   :PROPERTIES:
   :ID: 6AEE70BA-673E-446F-9131-A3C29195A499
   :END:
   [2009-02-23 Mon 05:07]
** DONE A mask by itself should generate a helpful error message
   - State "DONE"       [2009-02-26 Thu 04:10]
   Especially since people from 2.6 will want to use "/foo/" intead of "account
   =~ /foo".
   :PROPERTIES:
   :ID: F21E8B63-C6C9-4B09-90B2-2441FBD1F517
   :END:
   [2008-08-26 Tue]
** DONE Allow xact value expressions to access account totals
   - State "DONE"       [2009-03-03 Tue 16:29]
   I'd like to create entries that use a formula to compute the values, which
   doesn't seem to be supported (but I hope I'm wrong).
   
   I imagine something like:
   :DATA:
11/5 mortgage payment
  Assets:Checking                           $-2000
  Expenses:Mortgage Interest        0.05*(Liabilities:Mortgage)
  Expenses:Tax                                 $500
  Liabilities:Mortgage
   :END:
 
   So that I could automatically keep track of how much the principle still is
   on my mortgage.  Of course, I could write a script to generate this payment,
   but I'd rather not bother.  Is there a syntax for formulas like this? The
   closest I could see was the tithing example, but I'd like this to be a real
   account and a real (non- virtual) transaction.  On the other hand, perhaps
   it wouldn't hurt to allow the Liabilities:Mortgage account to be virtual,
   since I never directly access it...
   :PROPERTIES:
   :Submitter: David Roundy <droundy@darcs.net>
   :Version: 2.6.1
   :ID: B5CB8346-581D-4EBC-A980-B399CDD24961
   :END:
   [2008-11-01 Sat 11:43]
** DONE Make the balance report separator bar a format code
   - State "DONE"       [2009-02-27 Fri 16:31]
   :PROPERTIES:
   :Version: 2.6
   :Ticket: 124
   :ID: 373A0146-BE4B-4C7E-9DA2-38D1EB275216
   :END:
** DONE Add more color to the register report
   - State "DONE"       [2009-02-24 Tue 04:00]
   :PROPERTIES:
   :ID: BD2F22FC-CB2C-45A8-8C07-3366A96B6034
   :END:
   [2008-08-23 Sat]
** DONE Allow column width to be specified
   - State "DONE"       [2009-02-24 Tue 04:01]
   :PROPERTIES:
   :Version: 2.6
   :Ticket: 161
   :ID: 1F0FD61B-1734-4A30-9EB5-D7AC4A6C7D7B
   :END:
** DONE Make a helper macro to validate valexpr func args
   - State "DONE"       [2009-02-24 Tue 04:04]
   USAGE("ss:i");   <-- function expects two strings and an optional integer
   :PROPERTIES:
   :ID: D6049000-77E0-40EA-A15B-74490D0FFF3D
   :END:
   [2009-02-07 Sat 15:40]
** DONE Make sure it's possible to sort by the entry code
   - State "DONE"       [2009-02-24 Tue 04:04]
   :PROPERTIES:
   :Submitter: Christopher <christopher.illies@ki.se>
   :Version: 2.6.1
   :ID: FE972418-2D3B-41B5-B028-D2F6C477415E
   :END:
   [2008-10-13 Mon 10:28]
** DONE Have an option so that weeks begin on Monday
   - State "DONE"       [2009-02-21 Sat 01:37]
   :PROPERTIES:
   :Submitter: Simon Michael <simon@joyful.com>
   :Version: 2.6.1
   :ID: 9FF37C33-EBEF-4EC0-91F7-0E8681416D60
   :END:
   [2008-12-08 Mon 23:59]
** DONE Implement a --raw flag for print, to show what the user entered
   - State "DONE"       [2009-02-21 Sat 19:40]
   - State "TODO"       [2009-02-21 Sat 01:38]
   - State "CANCELLED"  [2009-02-21 Sat 01:37]
   :PROPERTIES:
   :Version: 3.0
   :ID: 9F074119-FF1C-4568-9297-54A8C31258D2
   :END:
   [2008-09-17 Wed]
** DONE Add support for "xact notes"
   - State "DONE"       [2009-02-16 Mon 05:22]
   :PROPERTIES:
   :ID: 334E9E08-0943-42DB-BB7A-A4D147508706
   :END:
   [2008-08-05 Tue]
** DONE Allow for data file assertions
   - State "DONE"       [2009-02-16 Mon 05:23]
   A use for these would be after reconciling the bank balance, you want to
   assert that the cleared balance on that day is a given amount and if it ever
   changes there should be an error.
   :PROPERTIES:
   :Version: 2.6
   :Ticket: 165
   :ID: 434EA2BD-BB4D-4F97-BB2A-BB983797F1AE
   :END:
   [2008-04-11 Fri]
** DONE Need a flag for sorting the amounts in a -M report in ledger
   - State "DONE"       [2009-02-16 Mon 14:26] \\
     The user can sort by display_amount.
   :PROPERTIES:
   :Version: 2.6
   :Ticket: 69
   :ID: D97CB3FC-C80F-428C-B2D6-D2B204E3D4D9
   :END:
** DONE Optimize parsing of posting amounts
   - State "DONE"       [2009-02-16 Mon 05:24]
   :PROPERTIES:
   :Version: 2.6
   :Ticket: 98
   :ID: 5EBDDE91-BF8A-4925-B53D-2533361583A5
   :END:
   [2008-04-11 Fri]
** DONE Promote tagging to a first-class concept
   - State "DONE"       [2009-02-16 Mon 05:24]
   - Tagging is indicated by the presence of ":tag:" in an xact note or a
     posting note.
   - Xact note postings apply also to all of their child xacts.
   - Searching by tag is support by using "/ tag..." on the command-line, after
     the fashion of "-- payee..".
   - When searching by tag, there should be a way to show a posting's tags
     in the register and balance outputs.
   :PROPERTIES:
   :Ticket: 208
   :ID: E7595DA3-4634-4275-A793-701A6D9438A4
   :END:
   [2008-08-01 Fri]
** DONE Remove dependency on all globals:
   - State "DONE"       [2009-02-16 Mon 05:24]
   :PROPERTIES:
   :Version: 2.6
   :Ticket: 101
   :ID: 0C030979-3BF9-404D-9B39-5BDEAD77A749
   :END:
   [2008-04-11 Fri]
** DONE Remove global commodities map
   - State "DONE"       [2009-02-16 Mon 05:24]
   Create a commodity_pool, which is linked to a journal (and which every
   amount has a pointer to).
   :PROPERTIES:
   :Version: 2.6
   :Ticket: 96
   :ID: E41E5A1F-BD14-419D-BF0D-6CCF990A59B1
   :END:
   [2008-04-11 Fri]
** DONE Revise the concept of commodities
   - State "DONE"       [2009-02-16 Mon 05:25]
   At the moment, commodities, conversions, exchanges and prices all relate to
   the same underlying ideas, but they're unfortunately spread out throughout
   the docs and the reporting struture.  It's time to unify all of this.
   :PROPERTIES:
   :Version: 2.6
   :Ticket: 180
   :ID: 29E1CF5D-FEA9-4A23-90F0-4E14C374D908
   :END:
   [2008-04-12 Sat]
** DONE Rewrite the concept of error contexts
   - State "DONE"       [2009-02-16 Mon 05:25]
   :PROPERTIES:
   :Version: 2.6
   :Ticket: 95
   :ID: 6FE3032D-5862-4213-B40F-80D5BDFB68E2
   :END:
   [2008-04-11 Fri]
** DONE A few changes for the textual parser [4/4]
   - State "DONE"       [2009-02-15 Sun 23:22]
   - [X] Ignore any line like /^\s*;/ as a comment -even in the middle of a
	 posting
   - [X] Treat -00.00 the same as hB300.00 : I found myself making this mistake
	 frequently.
   - [X] Print the out offending posting and the 'out of balance' amount
	 in the 'unbalanced posting' error message.
   - [X] It would be nice if the 'xact' command could be modified to assume
	 the amount is the same as last time if you dont supply it.  It also
	 doesn't seem to reproduce multiple-split postings either -- it
	 seems you only get the first split line.
   :PROPERTIES:
   :Version: 2.6
   :Ticket: 121
   :ID: 8C5FD48A-F498-4B97-9C6E-DD8B5A50B773
   :END:
   [2008-04-11 Fri]
** DONE Add a "scramble" command
   - State "DONE"       [2009-01-29 Thu 15:29]
   The purpose of this command is to anonymize the user's data so that they can
   submit a bug report without revealing any sensitive information about
   themselves.
   :PROPERTIES:
   :Version: 2.6
   :Ticket: 162
   :ID: 5B6D773A-E90F-4F36-8C97-79613427CA01
   :END:
   [2008-04-11 Fri]
** DONE Add UTF-8 support for input files, commands and reports
   - State "DONE"       [2009-01-29 Thu 15:30]
   :PROPERTIES:
   :Version: 2.6
   :Ticket: 140
   :ID: BDBB79F0-9FC4-4B91-B922-D128E18982BA
   :END:
** DONE Formalize tagging
   - State "DONE"       [2008-08-05 Tue]
   Search with "account / tags", similar to "account -- payee".
   Tagging is any note with :tag: in it.
   Posts now need notes.
   :PROPERTIES:
   :ID: 7D8F14BE-4E84-4B40-8C3E-D563B291D4CA
   :END:
   [2008-07-31 Thu]
** DONE getquote script for UK users						    :LINK:ATTACH:
   This is a little python file for downloading quotes for UK shares and unit
   trusts. An unusual wrinkle is that UK shares must have ".L" in them - but
   Ledger doesn't support this kind of format.
 
   By way of example, if you have Glaxosmithklein shares, its symbol is
   "GSK.L".  In Ledger, you must set up its symbol as GSK_L. Do not set it up
   as merely GSK or GSK.L -- because errors will occur.  _getquote-uk.py_
   (which you must symlink to getquote somewhere in your path) translates the
   underscores into dots. So if Ledger tries to download a quote, it will
   execute the command
   :SCRIPT:
getquote GSK_L
   :END:
   which (if you have symlinked it to my python file) will get the correct
   price for your share.
 
   OEICs and Unit Trusts are also supported.  If you own Fidelity Special
   Situations, for example, its symbol is GB0003875100GBP -- a bit of a
   mouthful, but it is correct when used in Ledger.
 
   I attached a revised version. For some reason, Ledger want to get a quote
   for £, which causes problems. I therefore give a quote of £1.00 in such
   circumstances.
   :PROPERTIES:
   :Submitter: Mark Carter <alt.mcarter@googlemail.com>
   :Version: 2.6.1
   :URL: message://62f2a66e0811070641v7fe3a574mc9ea5a9eb3dfa1cf@mail.gmail.com
   :ID: E400651B-FB69-4815-AE15-726E8B0675C3
   :Attachments: getquote-uk.py
   :END:
   [2008-12-08 Mon 23:59]
** DONE Add an --actual option to override --effective if in .ledgerc
   - State "DONE"       from "TODO"       [2009-10-27 Tue 19:15] \\
     It's called --actual-dates
   :PROPERTIES:
   :ID: 84C7C18B-8B06-4248-9C4F-A8E377FACA49
   :END:
   [2008-10-03 Fri]
** DONE [#C] Support a "prefix column" for all reports
   - State "DONE"       from "TODO"       [2009-11-11 Wed 01:55]
   For example, so that the register report could show the filename that each
   posting is from.  This would require both a configuratino option for the
   column's contents (if present), and the size it should be (default to 10?).
   :PROPERTIES:
   :ID:       38B3A6DB-5110-40B5-9B93-31BBCAB02180
   :END:
   [2009-11-09 Mon 13:55]
** DONE [#C] Change self_total to amount, and family_total to total
   - State "DONE"       from "TODO"       [2009-10-27 Tue 19:04]
   :PROPERTIES:
   :ID: AEDAEAE2-5A2D-4908-B733-B0FC80C5FC58
   :END:
   [2009-03-05 Thu 04:56]
** DONE [#C] Create a "cleared" report for balances
   - State "DONE"       from "TODO"       [2009-10-27 Tue 08:05]
   The idea for this report would be to show very nicely when the last date an
   account was balanced to was.  For example (from blais):
   :OUTPUT:
  .
  |----------------------------------------------------------------------------+-------------------------------------------------------------------------------+----------------------------------------------------------------------------+---------------------------------------------------------------------------|
  |                                                                            | -- Current                                                                    |                                                                            |                                                                           |
  |                                                                            |                                                                               | -- HSBC                                                                    |                                                                           |
  |                                                                            |                                                                               |                                                                            | -- Checking                                      2007-12-31 -> 2007-12-31 |
  |                                                                            |                                                                               |                                                                            | -- Savings                                       2007-12-31 -> 2008-03-28 |
  |                                                                            |                                                                               | `-- Secured                                       2007-12-31 -> 2008-03-28 |                                                                           |
  |                                                                            | `-- RBC                                                                       |                                                                            |                                                                           |
  |                                                                            |                                                                               | -- Checking                                      2007-12-31 -> 2008-04-02  |                                                                           |
  |                                                                            |                                                                               | -- Checking-US                                   2007-12-31 -> 2008-03-03  |                                                                           |
  |                                                                            | `-- Savings                                       2007-12-31 -> 2008-04-02    |                                                                            |                                                                           |
  | `-- Investments                                                            |                                                                               |                                                                            |                                                                           |
  |                                                                            | -- HSBC-Broker                                       2007-12-31 -> 2008-04-13 |                                                                            |                                                                           |
  |                                                                            | -- OANDA                                             2007-12-31 -> 2007-12-31 |                                                                            |                                                                           |
  | `-- RBC-Broker                                                             |                                                                               |                                                                            |                                                                           |
  |                                                                            | -- Account-CA                                    2008-01-01 -> 2008-04-01     |                                                                            |                                                                           |
  |                                                                            | -- Account-RSP                                   2007-12-31 -> 2008-01-31     |                                                                            |                                                                           |
  | `-- Account-US                                    2008-01-01 -> 2008-04-01 |                                                                               |                                                                            |                                                                           |
  `-- Liabilities
      |-- Credit-Card
      |   |-- HSBC-MasterCard                                   2007-12-31 -> 2008-04-04
      |   `-- RBC-VISA                                          2007-12-31 -> 2008-04-02
      `-- RBC
          |-- Credit-Line                                       2007-12-31 -> 2007-12-31
          `-- Mortgage
              |-- Credit-Line                                   2007-12-31 -> 2007-12-31
              `-- Loan                                          2007-12-31 -> 2007-12-31
   :END:
   To implement this I'll need the following value expressions items:
   - latest_cleared
   - latest
   - earliest
   All the kinds of things collected for the stats report, actually.  Maybe I
   should implement that report as a simple format string?
   :PROPERTIES:
   :Submitter: Martin Blais <blais@furius.ca>
   :Version: 2.6
   :Ticket: 182
   :ID: 4D175527-AE30-4030-B1B7-DD6A92B6F067
   :END:
   [2008-04-14 Mon]
** DONE [#C] Add a multi-column budget balance report					   :LINK:
   - State "DONE"       from "TODO"       [2009-10-27 Tue 07:47]
   Incidentally, it would be great to see something like:
   :OUTPUT:
   % ledger bal --p this --budget auto:fuel food:out
   $ 67.15  $ 120.00   $ -52.85  56%  Expenses:Auto:Fuel
   $ 18.30  $ 100.00   $ -81.70  18%  Expenses:Food:Out
   $ 85.45  $ 220.00  $ -134.55  39%  Total
   :END:
   :PROPERTIES:
   :ID: 8254755E-7B61-47C8-B48E-A2A7FD79EB80
   :URL:      http://github.com/jwiegley/ledger/issues#issue/5
   :END:
   [2009-10-26 Mon 21:29]
** DONE [#C] Add the concept of spatially delimited "pages"
   - State "DONE"       [2009-02-26 Thu 05:05]
   Another way to associate a custag tag/field to entries is by virtue of their
   organisation in the file. We could tag a sequence of consecutive entries in
   a block, like this:
   :DATA:
@page_begin Vacations

...

@page_end
   :END:
 
   This gives us yet another dimension of tagging of transactions:
   
   - The account in which a transaction belongs
   - The page in which a transaction was declared.
   - The "notes" at the end of postings
   - The description of the transaction
   - The file in which a transaction was defined.
   
   These are all fields that can be used for selecting a subset of
   transactions. Some of these fields may allow us to simplify our accounts
   hierarchy to some extent.
   :PROPERTIES:
   :Submitter: Martin Blais <blais@furius.ca>
   :Version: 2.6
   :Ticket: 176
   :ID: BCE275E5-37EA-4231-8F05-55ED96B5BB3F
   :END:
   [2008-04-11 Fri]
** DONE [#C] Add a --depth=X opton, which is equivalent to -l 'depth<=X'
   - State "DONE"       [2009-02-25 Wed 04:01]
   :PROPERTIES:
   :ID: 6E62D47D-2F63-4939-8D76-8078BAAB35A8
   :END:
   [2009-02-24 Tue 12:01]
** DONE [#C] Make --cost a synonym for --basis
   - State "DONE"       [2009-02-17 Tue 05:30]
   :PROPERTIES:
   :Version: 2.6
   :Ticket: 160
   :ID: 2CAD6455-2695-4BAC-BD79-FB61E0D8E092
   :END:
** DONE [#C] Make --last and --first be synonyms for --tail and --head
   - State "DONE"       [2009-02-16 Mon 16:05]
   :PROPERTIES:
   :Version: 2.6
   :Ticket: 159
   :ID: CD7B03D4-E0B2-4E7F-81B2-D98816B68B84
   :END:
** DONE [#C] Option --args-only
   - State "DONE"       [2009-02-16 Mon 16:57]
   Have `--args-only`, which causes Ledger to ignore the environment or any
   initialization files.  Use this in the test scripts.  It will require making
   a standard price database.
   :PROPERTIES:
   :Version: 2.6
   :Ticket: 153
   :ID: AB622F55-C2EF-43B9-B943-CABDBAF144F5
   :END:
   [2008-04-11 Fri]
** DONE [#C] Request for unique payee list						   :LINK:
   - State "DONE"       [2009-02-16 Mon 22:58]
   [[message://87k68rutji.fsf@kea-dev-lnx-lt.intruvert.com][e-mail]]
   :PROPERTIES:
   :Version: 2.6
   :Ticket: 157
   :ID: A75FE2B8-86B0-42B9-AB7F-C37C8FF576EC
   :END:
   [2008-04-11 Fri]
** DONE [#C] Add support for comments (notes) on entire xacts
   - State "DONE"       [2009-02-15 Sun 23:19]
   These get scanned for tags or regexp match when scanning xacts using e//.
   :PROPERTIES:
   :Version: 2.6
   :Ticket: 63
   :ID: DCB44369-82CE-44CB-AD05-42B25BA6A492
   :END:
   [2008-04-11 Fri]
** DONE [#C] Change value_t to use a union instead of a char array
   - State "DONE"       [2009-02-15 Sun 23:19]
   This is needed on systems like Sparc64, where *((long *) data) = value will
   cause a SIGBUS due to a misaligned pointer access.
   :PROPERTIES:
   :Submitter: Thomas Delaet <thomas@delaet.org>
   :Version: 2.6
   :Ticket: 196
   :ID: CAAC7BA1-882E-4BC1-A0BD-F65546EABDBF
   :END:
   [2008-05-07 Wed]
** DONE [#C] Enhanced comments								   :LINK:
   - State "DONE"       [2009-02-10 Tue 02:07]
   - Note taken on [2008-07-21 Mon 18:53] \\
     I agree that we need something like this.  Also, whatever format is chosen, we
     should look at adding a flexible properties/tags/annotation mechanism for
     xacts and postings.
   12:47 < Demosthenes> i think we need a comment or further descriptive field that is preserved with the record
   12:47 < Nafai> That would probably be useful
   12:48 < Nafai> I can imagine, for example, in the future if I start scanning all of my receipts and such.  I'd like to be able to associate an xact with a given scan file
   12:48 < Nafai> I would do that via a comment, I suppose
   12:48 < Nafai> I'd bring it up on the mailing list and see what johnw thinks
   12:48 < Demosthenes> i was thinking expense report notes ;]
   13:02 < Demosthenes> if there were to be a comment, how would we make it look?
   13:03 < Demosthenes> my immediate suggestion would be to keep it freeform and use the ;, just that the parser would preserve the comments in the same text block as the ledger xact bounded by whitespace
   13:43 < Nafai> Yeah, that sounds reasonable
   14:16 < Demosthenes> then as an extension,  /^; ([A-Z][a-z]+): (.*)$/ could match key : value pairs for tags ;] 
   14:17 < Nafai> Nice
   14:24 < Demosthenes> good news is, i can go ahead and write comments that way, and we'll see if its added later ;]
   15:22 < johnw> let me show you what I'm thinking of, in the spirit of Python
   15:23 < johnw> http://rafb.net/p/jyagP679.html
   15:25 < johnw> so, ; inside an xact will be a note, ; outside is a comment
 
   Example from johnw:
   :DATA:
2008/07/21 For my friend Demosthenes
   ; This is an xact note, although it looks just like a comment.
   Expenses:Food ....
   :END:
   :PROPERTIES:
   :Submitter: Demosthenes
   :Version: 2.6
   :Ticket: 204
   :ID: AC4FCEC6-7F38-4229-88AD-B0032C49AE93
   :END:
   [2008-07-21 Mon]
** CANCELLED Tie-in with beancounter and quantlib
   - State "CANCELLED"  [2009-02-27 Fri 16:31]
   :PROPERTIES:
   :Version: 2.6
   :Ticket: 118
   :ID: 7A8607F3-87C8-4A85-A4EF-BA090BB81EDE
   :END:
** CANCELLED Make ^ be a power operator
   - State "CANCELLED"  [2009-02-24 Tue 04:04]
   So that 0.234 * 10^7 notation is possible.
   :PROPERTIES:
   :Version: 2.6
   :Ticket: 156
   :ID: CE06A271-419D-4F27-87C6-74412BE546E1
   :END:
   [2008-04-11 Fri]
** CANCELLED Make commodity_t::qualified_symbol a virtual function
   - State "CANCELLED"  [2009-02-24 Tue 04:04]
   :PROPERTIES:
   :Version: 2.6
   :Ticket: 158
   :ID: B20E725A-B218-4A13-B08B-D74659B35F32
   :END:
** CANCELLED Option --transform VALEXPR
   - State "CANCELLED"  [2009-02-24 Tue 04:05]
   Which is a handler that applies valexpr to each transaction and outputs a
   temporary transaction with that amount -- or is this just the same as -t?
   :PROPERTIES:
   :Version: 2.6
   :Ticket: 152
   :ID: C112D47E-7814-47D1-AE8C-B777AEFB7C56
   :END:
   [2008-04-11 Fri]
** CANCELLED Value expression descriptions
   - State "CANCELLED"  [2009-02-24 Tue 04:05]
   When parsing a value expression, allowing keeping a description tag, so that
   when an exception is fired the user can be told where the value expression
   came from.
   :PROPERTIES:
   :Version: 2.6
   :Ticket: 123
   :ID: 81340878-2C17-485B-BBA7-62A271925401
   :END:
   [2008-04-11 Fri]
** CANCELLED Get rid of --print-format, and have print use hdr-format
   - State "CANCELLED"  [2009-02-21 Sat 01:38]
   ... and post-format, which output uses.
   :PROPERTIES:
   :Version: 2.6
   :Ticket: 114
   :ID: 9D95A1BB-AC3C-41C5-9AE3-C6324F13458A
   :END:
   [2008-04-11 Fri]
** CANCELLED Add item sequence list to journal_t
   - State "CANCELLED"  [2009-02-16 Mon 05:22]
   :PROPERTIES:
   :Version: 2.6
   :Ticket: 145
   :ID: 2BA660CC-E09A-4358-944F-4527BF11F19C
   :END:
** CANCELLED Add the ability to map OFX numbers to specific accounts
   - State "CANCELLED"  [2009-02-16 Mon 05:22]
   By allowing a directive like this:
   :DATA:
@mapaccount 0004637467862632    Assets:Current:RBC:Checking
   :END:
 
   It could facilitate the parsing of OFX data into Ledger date.
   :PROPERTIES:
   :Submitter: Martin Blais <blais@furius.ca>
   :Version: 2.6
   :Ticket: 52
   :ID: 4FE37F8F-99F4-4548-88F3-D64CF7A76856
   :END:
   [2008-04-07 Mon]
** CANCELLED Allow Payee | Description for an xact payee
   - State "CANCELLED"  [2009-02-16 Mon 05:23]
   :PROPERTIES:
   :Version: 2.6
   :Ticket: 185
   :ID: 383C04EE-94AF-4D01-BDEF-E644A12E97BF
   :END:
   [2008-04-20 Sun]
** CANCELLED New reporting options: --descend and --descend-if				   :LINK:
   - State "CANCELLED"  [2009-02-16 Mon 05:24]
   message://m2slpojqjc.fsf@newartisans.com
   :PROPERTIES:
   :Version: 2.6
   :Ticket: 168
   :ID: 06F4D252-4049-42D5-BBD4-F52130ED3F82
   :END:
   [2008-04-11 Fri]
** CANCELLED Normalize automated postings
   - State "CANCELLED"  [2009-02-16 Mon 05:24]
   So that there is no functional difference between the binary and textual
   data formats; this is needed for the GUI so that if xacts are added or
   changed, the auto_xacts are re-applied to that xact
   :PROPERTIES:
   :Version: 2.6
   :Ticket: 116
   :ID: F6E6FDE5-15FA-4AFB-B451-493F0C77F37C
   :END:
   [2008-04-11 Fri]
** CANCELLED Output error messages in a way that compilation-mode can parse		   :LINK:
   - State "CANCELLED"  [2009-02-16 Mon 05:24]
   message://20080421160053.C6CE61144C3@banane.furius.ca
   :PROPERTIES:
   :ID: EB8AAF67-40A1-479F-BF96-7CB17D9492C1
   :END:
   [2008-08-14 Thu]
** CANCELLED Support --read-format and --write-format
   - State "CANCELLED"  [2009-02-16 Mon 05:25]
   :PROPERTIES:
   :Version: 2.6
   :Ticket: 120
   :ID: 2BDB9BCA-6C3F-4766-9AFC-F363237C9049
   :END:
** CANCELLED read_xml and write_xml methods for values
   - State "CANCELLED"  [2009-02-08 Sun 16:06]
   :PROPERTIES:
   :Version: 2.6
   :Ticket: 151
   :ID: 415F72A7-A744-41EE-A849-D9E80237E00C
   :END:
   [2008-04-11 Fri]
** CANCELLED Think about making streamable and xml_streamable interfaces
   - State "CANCELLED"  [2009-02-08 Sun 16:07]
   :PROPERTIES:
   :ID: E777B7FF-F109-4199-B5AA-89CC9DA92A9E
   :END:
   [2009-01-29 Thu 18:31]
** CANCELLED [#C] Change the binary cache reader to use Boost.Interprocess
   - State "CANCELLED"  [2009-02-15 Sun 23:19]
   ...to read it in as a memory mapped file
   :PROPERTIES:
   :ID: A978C1E9-86EA-4074-B8E8-2A3DF1A12ED2
   :END:
   [2008-08-05 Tue]
** CANCELLED [#C] ledger date 2009/07/01 takes forever to return an error message
   - State "CANCELLED"  from "TODO"       [2009-11-10 Tue 14:21] \\
     This is somewhat necessary, as I need to parse the main data file before
     normalizing command options -- which must be done before looking up the
     command!
   :PROPERTIES:
   :ID:       C444D9F0-55AF-4D70-8C65-609761672953
   :END:
   [2009-11-06 Fri 02:44]
** CANCELLED [#C] Consider using mixed_amount_t instead of balance_t
   - State "CANCELLED"  [2009-02-10 Tue 02:07]
   :PROPERTIES:
   :ID: 34214DA1-8FFF-4AF5-8A68-7DD79EDE261B
   :END:
   [2008-10-18 Sat 02:06]
** CANCELLED [#C] Every destructor which contains TRACE_DTOR should specify throw()
   - State "CANCELLED"  [2009-02-10 Tue 02:07]
   :PROPERTIES:
   :ID: 44497B2D-292F-4C82-8D4F-B928FE6143EC
   :END:
   [2008-07-25 Fri]
** CANCELLED [#C] Consider Martin's @openbal directive
   "AutoOpenBalance" from Martin Blais <blais@furius.ca>
   :PROPERTIES:
   :ID: 60AC4948-4B40-46D4-A346-26C394C8F1F9
   :END:
   [2008-08-14 Thu]
** DUPLICATE ~/.ledgerrc not being consulted						   :LINK:
   - State "DUPLICATE"  from "TODO"       [2009-10-27 Tue 21:58] \\
     This is being caused by [[id:71FE0FAB-622D-403C-A944-C7541948AFFF]].
   :OUTPUT:
   % git log -1
   commit <a href="/jwiegley/ledger/commit/f35bc939c96c3a3bf09c5881d638b5ba60449c03">f35bc93</a>
   Author: John Wiegley <johnw@newartisans.com>
   Date:   Sun Oct 11 14:07:55 2009 -0400
   
       Added a note about "acprep update" to README
   % more ~/.ledgerrc            
   --date-format %Y/%m/%d
   % ./ledger reg -p this grocer | head -1
   09-Oct-02 Kroger               Expenses:Food:Groceries      $ 38.63      $ 38.63
   % ./ledger reg --date-format %Y/%m/%d -p this grocer | head -1
   2009/10/02 Kroger               Expenses:Food:Groceries      $ 38.63      $ 38.63
   :END:
   :PROPERTIES:
   :ID:       863A769C-E97C-4CA6-B89F-B72C47F07543
   :URL:      http://github.com/jwiegley/ledger/issues#issue/4
   :END:
   [2009-10-26 Mon 21:29]
** DUPLICATE Preserve XML comments
   - State "DUPLICATE"  [2009-01-29 Thu 15:38] \\
     Duplicated by D27098A4-647A-4EEA-B0B8-3088E069214D.
   :PROPERTIES:
   :Version: 2.6
   :Ticket: 142
   :ID: D964682A-2B95-482F-B7FE-BAEE3E2E2AA8
   :END:
   [2008-04-11 Fri]
* Python
** DONE For Python's sake, all Journals should share a commodity_pool
   - State "DONE"       from "TODO"       [2009-11-21 Sat 05:29]
   :PROPERTIES:
   :ID:       B3D2495F-F542-4F96-9A11-065194D63AAD
   :END:
   [2009-11-19 Thu 17:36]
** DONE Add implicit conversion of value_t::sequence_t to tuple
   - State "DONE"       from "TODO"       [2009-11-11 Wed 04:48]
   [[file:py_value.cc::jww%202009%2011%2002%20Need%20to%20support%20conversion%20eof%20value_t%20sequence_t][py_value.cc]]
   :PROPERTIES:
   :ID: 9D00371D-44BC-44DB-B8FB-14AD2125876F
   :END:
   [2009-11-03 Tue 14:01]
** DONE The "ledger hello" command fails with "unknown function import_"
   - State "DONE"       from "TODO"       [2009-11-10 Tue 13:47] \\
     I've removed the "hello" command, and fixed the underlying problem.
   - State "TODO"       from "STARTED"    [2009-11-10 Tue 02:49]
   :PROPERTIES:
   :ID:       5FF900A4-8F86-406C-91F5-9314F74A9C6E
   :END:
   [2009-11-07 Sat 09:05]
** DONE Deal with PyUnicode objects
   - State "DONE"       from "TODO"       [2009-11-10 Tue 14:15]
   :PROPERTIES:
   :ID:       B7403D92-8C73-414F-A0EC-145D1F7101D4
   :END:
   [2009-11-07 Sat 06:35]
** DONE account_total(X) should be account(X).amount
   - State "DONE"       from "TODO"       [2009-11-10 Tue 02:45]
   :PROPERTIES:
   :ID: AB130FE5-33EC-4243-8F89-35C1A0848382
   :END:
   [2009-11-05 Thu 06:09]
** DONE Add expr_t(string) and expr_t::operator() for ease of use from Python
   - State "DONE"       from "TODO"       [2009-11-09 Mon 14:08]
   :PROPERTIES:
   :ID: 55B576FF-4448-4569-8E5B-56C63D9703D8
   :END:
   [2009-11-03 Tue 18:54]
** DONE Expose journal_t::read to Python
   - State "DONE"       from "TODO"       [2009-11-07 Sat 06:50]
   :PROPERTIES:
   :ID: 9B059767-253E-451C-B65A-FD27FE27944D
   :END:
   [2009-11-05 Thu 06:09]
** DONE When passing SCOPE args, always downcast
   SCHEDULED: <2009-11-05 Thu>
   - State "DONE"       from "TODO"       [2009-11-05 Thu 17:17]
   This way I don't need to expose scope_t at all!
   :PROPERTIES:
   :ID: 2D867E72-2030-4451-9FEE-A77D77680847
   :END:
   [2009-11-05 Thu 08:29]
** DONE Delete unused python classes: op, token, parser
   - State "DONE"       from "TODO"       [2009-11-05 Thu 04:21]
   :PROPERTIES:
   :ID: C5834D2D-562C-4037-84B5-30D58337434B
   :END:
   [2009-11-03 Tue 18:54]
** DONE Make sure journal and xact support the Python iteration protocol		   :LINK:
   - State "DONE"       from "TODO"       [2009-11-05 Thu 04:21]
   http://wiki.python.org/moin/boost.python/iterator
   :PROPERTIES:
   :ID: 36026E30-95C9-4616-B39A-C1D30F807D12
   :END:
   [2009-11-03 Tue 07:59]
** DONE Make the Python interface simpler
   - State "DONE"       from "TODO"       [2009-11-05 Thu 04:22]
   For example, this should be possible:
   :SOURCE:
   from ledger import *

   for txn in Journal("~/.ledger"):
     print txn.payee
     for post in txn:
       print post.account        # str() calls fullname()
   :END:
   :PROPERTIES:
   :ID: 68226663-9FF5-428A-AC39-DD70750F11B0
   :END:
   [2009-11-03 Tue 08:23]
** DONE I can simplify the Python integration even further with scopes
   - State "DONE"       [2009-02-09 Mon 00:04]
   Rather than exposing post_t, I can just do __getattr__ lookups in the
   current scope_t, the same way that value expressions would.
   :PROPERTIES:
   :ID: DF2D6FE9-8598-4747-8B35-88075C6D7EAA
   :END:
   [2009-02-08 Sun 15:09]
** DONE Ledger: Add INFO statement regarding Python starting, etc.
   - State "DONE"       [2009-01-23 Fri 15:40]
   :PROPERTIES:
   :ID: 2BAE44BE-2EA4-4A51-B6A0-1DE6E7DFAA27
   :ARCHIVE_TIME: 2009-02-01 Sun 15:50
   :ARCHIVE_CATEGORY: Computer
   :END:
   [2009-01-23 Fri 03:41]
** DONE Have Ledger fire up the Python interpreter only "as needed"
   - State "DONE"       [2009-01-24 Sat 05:24]
   :PROPERTIES:
   :ID: A98BDA0B-8B08-433F-B292-AFCAFB675DE9
   :ARCHIVE_TIME: 2009-02-01 Sun 15:50
   :ARCHIVE_CATEGORY: Computer
   :END:
   [2009-01-23 Fri 03:39]
** DONE Restore py_amount, and the Python unit tests
   - State "DONE"       [2009-02-27 Fri 16:31]
   :PROPERTIES:
   :ID: 4F5490B3-7FE8-4CE7-B86C-71BCF3AE9918
   :END:
   [2009-02-21 Sat 12:35]
** DONE Move python/*.cc files into src/, so python/ can contain .py files
   - State "DONE"       [2009-02-24 Tue 16:13]
   :PROPERTIES:
   :ID: DB0E282A-F1D4-4009-BBE0-B2D97EACA9B5
   :END:
   [2009-02-24 Tue 15:04]
** DONE Create some standard Python modules for Ledger: http
   - State "DONE"       [2009-02-24 Tue 20:01]
   This would install from python/ledger/http.py, and would get activated if
   someone used the http command.
   :PROPERTIES:
   :ID: D4CFF147-B825-43E2-B85C-28501936EEAE
   :END:
   [2009-02-24 Tue 11:08]
** DONE Ledger should always hand Unicode strings back to Python
   - State "DONE"       from "TODO"       [2009-11-10 Tue 20:14]
   :PROPERTIES:
   :ID:       802AE33C-8AA3-4799-9277-79621D11E290
   :END:
   [2009-11-10 Tue 14:41]
** DONE Add implicit conversion of duration_t to PyDelta
   - State "DONE"       from "TODO"       [2009-11-10 Tue 20:34]
   [[file:py_times.cc::jww%202007%2005%2004%20Convert%20time%20duration%20objects%20to%20PyDelta][py_times.cc]]
   :PROPERTIES:
   :ID: B5D1ABA9-1580-4719-A1B5-CBE8EA89147D
   :END:
   [2009-11-03 Tue 14:00]
** CANCELLED Fix boost::optional translation class for Dmitriy				   :LINK:
   - State "CANCELLED"  from "DEFERRED"   [2009-11-10 Tue 20:34]
   - State "DEFERRED"   from "TODO"       [2009-11-10 Tue 20:16]
   - State "TODO"       from "DEFERRED"   [2009-11-05 Thu 04:23]
   - State "DEFERRED"   from "TODO"       [2009-10-27 Tue 19:11]
   - State "TODO"       from "DEFERRED"   [2009-10-22 Thu 07:34]
   - State "DEFERRED"   from "TODO"       [2009-06-16 Tue 16:27]
   [[message://2fd72fb20901281006u181318bke33c44a25098dfd8@mail.gmail.com][Re: boost::optional and boost::python]]
   :PROPERTIES:
   :ID: DD3AABF8-A52D-4E1E-A931-DA6131F31F7A
   :END:
   [2009-02-02 Mon 03:13]
** CANCELLED Rewrite py_scope.cc
   SCHEDULED: <2009-11-05 Thu>
   - State "CANCELLED"  from "TODO"       [2009-11-05 Thu 17:17]
   :PROPERTIES:
   :ID: 02F01290-311E-4A6C-9049-3EA78BA7CA1E
   :END:
   [2009-11-03 Tue 18:54]
** CANCELLED Create a Python wrapper for op_t objects
   - State "CANCELLED"  from "DEFERRED"   [2009-11-05 Thu 04:23]
   - State "DEFERRED"   from "TODO"       [2009-10-25 Sun 22:04]
   If it's evaluated in a value context, like str, int or __repr__, then
   calculate and determine the value.  Otherwise, don't calculate so it remains
   callable.
   :PROPERTIES:
   :ID: 3040E933-2068-4C78-954F-F78A7BAFB2D6
   :END:
   [2009-02-24 Tue 22:15]
* Tests
** DONE Clear out all #if 0 and jww commented sections
   - State "DONE"       from ""           [2009-10-31 Sat 04:33]
   :PROPERTIES:
   :Version: 2.6
   :Ticket: 97
   :ID: 7C87DEC8-1FB6-47FC-ADAC-01980020924B
   :END:
   [2008-04-11 Fri]
** DONE The tokenizer unit test can just iterate the token stream
   SCHEDULED: <2009-10-28 Wed>
   - State "DONE"       from "TODO"       [2009-10-28 Wed 17:46]
   :PROPERTIES:
   :ID: ABCB7791-E098-4C32-A2F6-129E61CC4B10
   :END:
   [2009-10-28 Wed 17:29]
** DONE Write an org-mode function to turn a bug TODO into a regression test
   - State "DONE"       from "TODO"       [2009-10-25 Sun 21:58]
   :PROPERTIES:
   :ID: 6A4F436B-E69C-45B2-ABBA-7E550EDBCFCD
   :END:
   [2009-02-27 Fri 04:41]
** DONE opt-prices-format.test is failing due to timezone differences			   :LINK:
   - State "DONE"       from "TODO"       [2009-10-22 Thu 07:09]
   :PROPERTIES:
   :ID: 70828011-2F1E-4823-8D7D-422720A0F8E8
   :Message: [[message://b0bc07100906260800m28db8cb1xd1199dd1e05675ea@mail.gmail.com][Test failure (opt-prices-format test) with git HEAD]]
   :END:
   [2009-07-02 Thu 18:09]
** DONE UtilTests is currently getting a bus error, with the new acprep
   - State "DONE"       [2009-03-09 Mon 22:02]
   :PROPERTIES:
   :ID: C89561FB-C59F-43EE-AD70-AFC01EF93F2A
   :END:
   [2009-03-09 Mon 05:26]
** DONE Can't build tests with -j3
   - State "DONE"       [2009-03-08 Sun 18:46]
   :OUTPUT:
g++ -DHAVE_CONFIG_H -I. -I..  -I../test -I../src -I../lib -I../lib/utfcpp/source -isystem /usr/local/stow/cppunit/include  -isystem /usr/local/include -isystem /usr/local/include/boost-1_38 -isystem /usr/include/python2.5 -isystem /opt/local/include  -pipe -c -o ReportTests-ReportTests.o `test -f 'test/ReportTests.cc' || echo '../'`test/ReportTests.cc
/opt/local/bin/python ../test/convert.py ../test/unit/t_utils.cc test/python/t_utils.py
/opt/local/bin/python ../test/convert.py ../test/unit/t_times.cc test/python/t_times.py
Traceback (most recent call last):
  File "../test/convert.py", line 45, in <module>
    os.makedirs(dirname)
  File "/System/Library/Frameworks/Python.framework/Versions/2.5/lib/python2.5/os.py", line 172, in makedirs
    mkdir(name, mode)
OSError: [Errno 17] File exists: '/private/tmp/ledger/ledger-3.0/_build/test/python'
make[5]: *** [test/python/t_utils.py] Error 1
make[5]: *** Waiting for unfinished jobs....
make[4]: *** [check-am] Error 2
make[3]: *** [check-recursive] Error 1
make[2]: *** [check] Error 2
make[1]: *** [distcheck] Error 2
make: *** [release-distcheck] Error 2
%%% FAILED to build release-distcheck %%%
   :END:
   :PROPERTIES:
   :ID: 7E6E57B8-A011-4F47-904C-71AD5D03EADF
   :END:
   [2009-03-08 Sun 18:43]
** DONE The regression tests are failing with the latest changes
   - State "DONE"       [2009-03-06 Fri 02:37]
   :PROPERTIES:
   :ID: E01A104A-2D45-4C0A-AF3C-93AF12324C53
   :END:
   [2009-03-05 Thu 05:12]
** DONE Ledger performance breakdown
   - State "DONE"       [2009-03-06 Fri 04:11]
   50% parsing
      7% balancing transactions
      7% parsing posting amounts
     36% applying automated transactions
   50% reporting
     38% calculating (due to balance copying in +=)
   :PROPERTIES:
   :ID: FD55C52B-46D3-4EAE-ABE5-571B7426B842
   :END:
   [2009-03-04 Wed 04:43]
** DONE Enable lot spec generation in generate.cc
   - State "DONE"       [2009-02-27 Fri 16:22]
   :PROPERTIES:
   :ID: C23B7780-378A-412D-AEB1-235B9788F78D
   :END:
   [2009-02-27 Fri 04:22]
** DONE tools/proof is failing
   - State "DONE"       [2009-03-08 Sun 04:31]
   :PROPERTIES:
   :ID: 72621A77-F08E-4DED-A2C6-F0B1F337CD9A
   :END:
   [2009-03-01 Sun 16:22]
** DONE The regression test 13965214.test is time sensitive
   - State "DONE"       [2009-03-02 Mon 04:41]
   :PROPERTIES:
   :ID: 8ED593A1-B953-4629-B0BD-411B82FF283F
   :END:
   [2009-03-01 Sun 05:36]
** DONE Abstract RegressTests.py (was: opt-lots should use input/wow.dat)
   - State "DONE"       [2009-03-03 Tue 03:18]
   This means that RegressTests.py needs to be sensitive to whether -f was
   explicitly specified, and should substitute $test for the input directory.

   I can also abstract the reading of <<<, >>> sections in RegressTests, into
   a RegressTest object that knows how to read out multiple subsections.
   :PROPERTIES:
   :ID: AEEB769E-9D44-428A-A028-D88E79D76B8D
   :END:
   [2009-02-28 Sat 06:17]
** DONE tools/regtest is producing errors
   - State "DONE"       [2009-02-26 Thu 04:10]
   :PROPERTIES:
   :ID: C7C5BDBF-59E9-4D75-924E-0167B077F35F
   :END:
   [2009-02-24 Tue 22:32]
** DONE Write an "xact generator", to create random xacts for testing
   - State "DONE"       [2009-02-27 Fri 04:11]
   :PROPERTIES:
   :ID: 031DAD5C-8C92-40C1-837F-ABE6F29D4046
   :END:
   [2009-02-24 Tue 21:46]
** DONE [#C] The opt-forecast-while test is time sensitive, and is failing
   - State "DONE"       from "TODO"       [2009-10-27 Tue 19:11]
   :PROPERTIES:
   :ID: 7B8D466B-6F38-41E6-B2B1-964B8378C929
   :END:
   [2009-03-01 Sun 05:36]
** TESTED Major areas of implementation remaining [117/117]
   - State "TESTED"     from "DONE"       [2009-06-28 Sun 15:14]
   - State "DONE"       from "TODO"       [2009-06-28 Sun 15:14]
   - State "TODO"       from "TESTED"     [2009-06-27 Sat 01:44]
   - State "TESTED"     from "DONE"       [2009-06-26 Fri 17:49] \\
     These are all being tested (except for those marked).
   - State "DONE"       from "TODO"       [2009-06-26 Fri 17:49]
   - [X] abbrev_len_
   - [X] account_
   - [X] account_width_
   - [X] actual
   - [X] add_budget
   - [X] amount_
   - [X] amount_data
   - [X] amount_width_
   - [X] anon
   - [X] args_only
   - [X] average
   - [X] balance_format_
   - [X] base
   - [X] basis
   - [X] basis, cost
   - [X] begin_
   - [X] budget
   - [X] by_payee
   - [X] cleared
   - [X] code_as_account
   - [X] code_as_payee
   - [X] collapse
   - [X] collapse_if_zero
   - [X] color
   - [X] color
   - [X] columns_
   - [X] comm-as-account
   - [X] comm-as-payee
   - [X] comm_as_account, commodity_as_account
   - [X] comm_as_payee, commodity_as_payee
   - [X] csv_format_
   - [X] current
   - [X] daily
   - [X] date_format_
   - [X] date_width_
   - [X] debug_
   - [X] depth_
   - [X] deviation
   - [X] display_
   - [X] display_amount_
   - [X] display_total_
   - [X] dow
   - [X] download [NOT TO BE TESTED]
   - [X] effective
   - [X] empty
   - [X] end_
   - [X] equity
   - [X] exact
   - [X] exchange
   - [X] file_
   - [X] flat
   - [X] forecast_while_, forecast_ [TIME DEPENDENT]
   - [X] format_
   - [X] gain
   - [X] head_, first_
   - [X] init_file_
   - [X] input_date_format_
   - [X] invert
   - [X] limit_
   - [X] lot_dates
   - [X] lot_prices
   - [X] lot_tags
   - [X] lots
   - [X] lots_actual
   - [X] market
   - [X] monthly
   - [X] no-total
   - [X] only_
   - [X] output_
   - [X] pager_
   - [X] payee_as_account
   - [X] payee_width_
   - [X] pending
   - [X] percent
   - [X] period_
   - [X] plot_amount_format_
   - [X] plot_total_format_
   - [X] price
   - [X] price_db_ [NOT TO BE TESTED]
   - [X] price_exp_, leeway_ [NOT TO BE TESTED]
   - [X] prices_format_
   - [X] pricesdb_format_
   - [X] print_format_
   - [X] quantity
   - [X] quarterly
   - [X] raw
   - [X] real
   - [X] register_format_
   - [X] related
   - [X] related_all
   - [X] revalued
   - [X] revalued_only
   - [X] script_
   - [X] seed_
   - [X] set_account_
   - [X] set_payee_
   - [X] sort_
   - [X] sort_all_
   - [X] sort_xacts_
   - [X] start_of_week_
   - [X] strict
   - [X] subtotal
   - [X] tail_, last_
   - [X] total_
   - [X] total_data
   - [X] total_width_
   - [X] trace_
   - [X] truncate_
   - [X] unbudgeted
   - [X] uncleared
   - [X] unround
   - [X] verbose
   - [X] verify
   - [X] version
   - [X] weekly
   - [X] wide
   - [X] yearly
   :PROPERTIES:
   :ID: C6C58983-0EB1-49EC-AB04-AB00DE67D61D
   :END:
   [2009-02-06 Fri 15:23]
* Website
** DONE Check out Mark Carter's Ledger page						   :LINK:
   - State "DONE"       [2008-12-09 Tue 20:39]
   http://mcarter.myzen.co.uk/ledger/ledger.htm
   :PROPERTIES:
   :ID: D6BE0562-9DE3-42CC-ADE5-3909B8140A63
   :ARCHIVE_TIME: 2008-12-17 Wed 14:08
   :ARCHIVE_CATEGORY: Computer
   :END:
   [2008-12-09 Tue 02:39]
** DONE Convert 10 Trac bugs to the Ledger TODO file
   - State "DONE"       [2008-09-17 Wed 08:31]
   - State "DONE"       [2008-09-10 Wed 22:00]
   - State "DONE"       [2008-09-08 Mon 05:46]
   - State "DONE"       [2008-08-29 Fri 04:27]
   :PROPERTIES:
   :ID: 4372A987-E157-4F44-A22F-F5A2E85A974B
   :ARCHIVE_TIME: 2008-10-15 Wed 17:18
   :ARCHIVE_CATEGORY: Computer
   :END:
   [2008-08-26 Tue]
** DONE Add a link to the Fink package for Ledger on the Ledger page			   :LINK:
   - State "DONE"       [2007-10-28 Sun 22:33]
   :PROPERTIES:
   :ARCHIVE_TIME: 2007-11-04 Sun 23:42
   :ARCHIVE_CATEGORY: Computer
   :ID: BEAF3CBA-298C-4711-95EC-E437915D2D3E
   :END:
   [2007-10-27 Sat] [[message://m2ve8rnc8c.fsf@dnab423967.stanford.edu][fink package for ledger]]
** DONE Find out why Thomas can't fetch my git repo over HTTP				   :LINK:
   - State "DONE"       [2008-04-26 Sat]
     error: pick-rref: refs/heads/master not found No such ref
     refs/heads/master at http://newartisans.com/git/ledger.git
   - State "TODO"       [2008-04-26 Sat 00:16]
     It turns out this is a bug in git itself, which someone in #git said they
     are going to work on.
   :PROPERTIES:
   :ID: 5B36755A-03D7-47FF-BE7F-4AFFC570C5FB
   :END:
   [2008-04-25 Fri]
** DONE Fix the link on my Ledger project page to sourceforge.net
   - State "DONE"       [2007-11-07 Wed 03:56]
   :PROPERTIES:
   :ARCHIVE_TIME: 2007-11-14 Wed 17:14
   :ARCHIVE_CATEGORY: Ledger-2
   :ID: 753361B3-7BE0-45CE-A8E5-B8A277F259C9
   :END:
   [2007-11-06 Tue]
** DONE Post to the Ledger forums about Ledger's new direction
   - State "DONE"       [2008-08-04 Mon]
   :PROPERTIES:
   :ID: A11857E2-776B-4A0D-8BE1-D6D75843FBA2
   :END:
   [2008-04-24 Thu]
** DONE The Ledger project page is not formatted correctly
   - State "DONE"       [2008-06-26 Thu]
   It appears that the MultiMarkdown codes are being ignored.
   :PROPERTIES:
   :ID: 5C4EA977-7231-42E4-BAB5-77F9963D846F
   :END:
   [2008-05-29 Thu]
** DONE Make a note of the published Ledger manual on the webpage			   :LINK:
   - State "DONE"       from "TODO"       [2009-06-16 Tue 18:30]
   one big page: http://joyful.com/repos/ledger/doc/ledger.html
   many pages: http://joyful.com/repos/ledger/doc/ledger/
   pdf: http://joyful.com/repos/ledger/doc/ledger.pdf
   :PROPERTIES:
   :Submitter: Simon Michael <simon@joyful.com>
   :Version: 2.6.1
   :ID: B5748AF6-A3D8-4F49-B0B0-7C8E463883AB
   :END:
   [2008-10-25 Sat 23:59]
** DONE Mention Martin's beancount project from the Ledger home page
   - State "DONE"       from "TODO"       [2009-06-16 Tue 18:30]
   "Beancount on PyPi" from Martin Blais <blais@furius.ca>
   :PROPERTIES:
   :Submitter: Martin Blais <blais@furius.ca>
   :ID: 81540394-3662-4CBA-8747-3F6CEAEE61D5
   :END:
   [2008-08-14 Thu]

** DONE [#C] Create a Wiki page titled "Who's using Ledger?"
   - State "DONE"       from "TODO"       [2009-10-26 Mon 22:19]
   :PROPERTIES:
   :Version: 2.6
   :Ticket: 93
   :ID: F50ADD18-F246-4FDC-85A2-65C435ADE1A4
   :END:
   [2008-04-11 Fri]
* Misc
** NOTE Speed comparison of strptime/strftime to Boost time_facet
   |                   |  Debug | Optimized |
   |-------------------+--------+-----------|
   | strptime/strftime |  9.356 |     3.355 |
   | Boost time_facet  | 10.367 |     3.765 |
   :PROPERTIES:
   :ID: BFA80E12-0390-47A5-8B4C-5604DAB44E08
   :VISIBILITY: folded
   :END:
   [2009-10-25 Sun 19:02]
