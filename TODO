LEDGER  -*- mode: org; fill-column: 78 -*-

* Scripts
** Output bug table from TODO
#+begin_src emacs-lisp :results output
(save-excursion
  (goto-char (point-min))
  (while (re-search-forward
          (concat "\\* \\([A-Z]+\\) \\(\\[#\\([A-C]\\)\\]\\s-+\\)?"
                  "\\[\\[bug:\\([0-9]+\\)\\]\\[#[0-9]+\\]\\]\\s-+\\(.+\\)")
          nil t)
    (let ((status (match-string 1))
          (priority (match-string 2))
          (bug (match-string 4))
          (desc (match-string 5))
          (milestone "3.0.0")
          (severity "normal"))
      (if (string= status "TODO")
          (setq status "CONFIRMED"))
      (if (string= status "DONE") (setq status "RESOLVED"))
      (if (string= status "WORKSFORME") (setq status "RESOLVED"))
      (if (string= status "WONTFIX") (setq status "RESOLVED"))
      (if (string= status "INVALID") (setq status "RESOLVED"))
      (if (string= status "DUPLICATE") (setq status "RESOLVED"))
      (if (string= status "CANCELED") (setq status "RESOLVED"))
      (if (string= status "DEFERRED")
          (setq milestone "3.1.0"
                status "CONFIRMED"))
      (if (string-match ":\\(critical\\|blocker\\):" desc)
          (setq severity (match-string 1 desc)))
      (setq desc (replace-regexp-in-string "\\s-+:[a-zA-Z:]+:$" "" desc))
      (when (re-search-forward ":ID:\\s-+\\(.+\\)"
                               (save-excursion (outline-next-heading) (point)))
        (let ((uuid (match-string 1)))
          (princ bug)
          (princ ",")
          (princ status)
          (princ ",")
          ;;(princ severity)                    ; severity #
          ;;(princ ",")
          (princ desc)
          ;;(princ ",")
          ;;(princ milestone)
          ;;(princ ",")
          ;;(princ uuid)
          (princ "\n"))))))
#+end_src

#+RESULTS:
#+begin_example
790,CONFIRMED,Python query with -M segfaults
771,CONFIRMED,--explicit not working
789,CONFIRMED,Various weirdness of "fixed CURRENCY VALUE ... end fixed"
788,CONFIRMED,Assertion failed with unbalanced remainder and input from stdin
686,CONFIRMED,Virtual transactions and the equity command
201,CONFIRMED,Handling currencies that were replaced by the Euro
207,CONFIRMED,No output to file in REPL with "push -o output.journal"
347,CONFIRMED,All contexts should be accessible by name
348,CONFIRMED,Make every item detail gettable and settable via metadata
362,CONFIRMED,bal --inject=Expected '^income:ceg' output is not correct
375,CONFIRMED,-p "until MONTH YEAR" ignores YEAR, but -p "in MONTH YEAR" works
376,CONFIRMED,ledger reg ^exp is showing Assets in a budget report
377,CONFIRMED,ledger -f DIRECTORY doesn't fail with a clear error
378,CONFIRMED,budget: Cannot convert balance with multiple commodities to amount
381,CONFIRMED,ledger bal and --forecast gives wrong result (60 * of monthly value)
382,CONFIRMED,treats {xx} as {=xx}
383,CONFIRMED,--lot-prices doesn't honour date-format
384,CONFIRMED,ledger shows lot prices for fixated commodities when not requested
387,CONFIRMED,There should be a simpler syntax for referring to past lots
390,CONFIRMED,Cannot access account total in automated transaction
392,CONFIRMED,Reporting multiple commodities with -J
398,CONFIRMED,Default commodity depends on the order of postings
400,CONFIRMED,-l commodity and -B
401,CONFIRMED,-l "commodity = ''AA1" doesn't match when commodity contains digits
402,CONFIRMED,Enhance color output for --budget
403,CONFIRMED,--budget ignores "Yearly in August"-type transactions
410,CONFIRMED,Forecasting is broken
411,CONFIRMED,Refrain from downloading a quote if can't get newer
412,CONFIRMED,Error masked by certain options with -J -X EUR
415,CONFIRMED,Order of budget entries is significant
433,CONFIRMED,Possible issue with Balanced automated transactions
434,CONFIRMED,Problem with the new --anon and speed-test.dat
436,CONFIRMED,Allow multiple null amounts if the rest have balance assignments
439,CONFIRMED,Ledger does not correctly sort balance of anonymized data
443,CONFIRMED,Ignores entry with wrong data instead of giving an error
444,CONFIRMED,Output of lines w/ negative amounts and thousands separator is 81 chars
445,CONFIRMED,Could handle mixing of decimal comma and decimal point better
455,CONFIRMED,Free shares & --exchange & --total-data
457,CONFIRMED,Comma parsing problem
459,CONFIRMED,Expression-based automatic transaction predicate not working
462,CONFIRMED,Default currency/commodity not respected
469,CONFIRMED,Account / commodity periodic gain question
470,CONFIRMED,Period support and forecast reports
477,CONFIRMED,Ledger print command does not handle GnuCash Capital Gain Split
480,CONFIRMED,Ledger budget expressions failing?
482,CONFIRMED,Commodity cost basis does not transfer across different accounts
483,CONFIRMED,House accounts
484,CONFIRMED,Sorting problem concerning amounts and -X
487,CONFIRMED,Multiple file-level balance assertions for the same account conflict
488,CONFIRMED,amount_t::floor does not really floor, it rounds to nearest
489,CONFIRMED,Confusion about a few things
491,CONFIRMED,Automated postings match differently
492,CONFIRMED,Running totals computed using the wrong precision
493,CONFIRMED,Precision specified with D being ignored
494,CONFIRMED,Problem using German date format
499,CONFIRMED,Getting quotes?
504,CONFIRMED,Forecast doesn't include current month's budget
511,CONFIRMED,ledger and currency format in entry command
513,CONFIRMED,--comm-as-payee (-x) is unrecognized
514,CONFIRMED,'accounts' and 'commodities' should sort their output
517,CONFIRMED,Strange balance reports
518,CONFIRMED,Weekly report lost data?
530,CONFIRMED,Problem with "N" command
531,CONFIRMED,Balance assertions broken when combined with fixed commodities
532,CONFIRMED,Every N days problem in budgeting
533,CONFIRMED,Trailing entry going past the forecast period
534,CONFIRMED,account_amount is listed on the man page, but is not supported
535,CONFIRMED,Make timeclock transactions balanced
537,CONFIRMED,Auto-balancing of transactions of no value
540,CONFIRMED,Adjustment accounts are not collapsed by -n
549,CONFIRMED,ledger-next-amount does not handle fixated commodity prices
551,CONFIRMED,Clear virtual transactions based on triggering real transaction
553,CONFIRMED,Budget period entry without interval gives error
554,CONFIRMED,Error: Unexpected date period token '1000'
558,CONFIRMED,Significant figure mishandling causes divide by zero.
561,CONFIRMED,ledger xml produces duplicate transactions
562,CONFIRMED,Metadata/Note contents can't include a ledger formatted date
566,CONFIRMED,Selinger's multiple currency accounting & ledger
567,CONFIRMED,Error parsing auto-xact predicate mith "expr payee"
568,CONFIRMED,Forecast fails with "every <X> days from" for several values of <X>
571,CONFIRMED,List differences 2.6.3->3.0.0
576,CONFIRMED,Strange cleared report formatting
577,CONFIRMED,Error in automated virtual postings with multiple commodities
583,CONFIRMED,--monthly prices report SUM rather than average or end of month price
587,CONFIRMED,ledger --anon print regex fails
588,CONFIRMED,'getquote' only queries one commodity at a time, which can be slow
590,CONFIRMED,Budget entry is applied only once if xacts are in reverse order
591,CONFIRMED,Future forecast events aren't shown in forecast
597,CONFIRMED,If total transaction in a budgeted account equals zero...
598,CONFIRMED,Cleared report total lines are not aligned correctly
602,CONFIRMED,Provide facility for easy generation of command line completion
603,CONFIRMED,print ignores @tag ... @end tag
604,CONFIRMED,print ignores @bucket
606,CONFIRMED,Padding formatting commands does not ignore invisible characters
607,CONFIRMED,Expand the --price-exp argument handling
609,CONFIRMED,Piping input file doesn't handle relative file expansion correctly
610,CONFIRMED,Whole transaction is ignored when there's a specific comment
611,CONFIRMED,--trace throws an assertion errors when files are @included
612,CONFIRMED,Changing trace level has no effect
613,CONFIRMED,Convert fails on empty lines
615,CONFIRMED,--strict sees auto xacts at beginning of Journal as uncleared
616,CONFIRMED,bal --amount-data fails wrong
617,CONFIRMED,bal --anon anonymizes *before* it generates the report
618,CONFIRMED,--anon loses all structural information
619,CONFIRMED,Format functions do not work in --group-title-format
621,CONFIRMED,New install will not execute without ~/.pricedb existing
622,CONFIRMED,print ignores Y.... tag
623,CONFIRMED,Virtual transactions cause unbalanced equity report
624,CONFIRMED,Lack of newline at end of file causes rounding error
626,CONFIRMED,emacs command does not report xact level comments/tags
630,CONFIRMED,Basis cost should "follow" commodities with lot pricing
634,CONFIRMED,Correctly implement floor(), ceil() and round()
636,CONFIRMED,Budget report query doesn't generate correct report
637,CONFIRMED,Trying to understand the pivot command
648,CONFIRMED,Don't use boost::any in value.h, since it causes allocations
649,CONFIRMED,Unrecognized initial chars in a journal should cause an error
652,CONFIRMED,How to handle stale results from getquote
655,CONFIRMED,Ledger no longer downloads stock prices using the -Q option
663,CONFIRMED,Detect recursive inclusion and report an error
667,CONFIRMED,ledger-reconcile-visit no longer functioning
673,CONFIRMED,display_total chokes on account with non-dollar commodities
676,CONFIRMED,Error about missing boost regex misleading when boost regex is installed but not boost regex dev
677,CONFIRMED,Error building current next branch: no type named ‘key_type’ in ‘class ledger::date_specifier_t’
682,CONFIRMED,post.xact.posts yields: 'instancemethod' object is not iterable
684,CONFIRMED,Ledger v3 slower than ledger v2
685,CONFIRMED,"truncated" does not mean what is expected in value expressions
687,CONFIRMED,Budgeting bug?
692,CONFIRMED,Warnings need to use the included file name
693,CONFIRMED,Optimized Ledger crashes whenever an exception is thrown
694,CONFIRMED,If posts_list::iterator is stable, use it in ~account_t
695,CONFIRMED,--init-file is ignored
696,CONFIRMED,Change to -F parsing rules (casting to int)
697,CONFIRMED,--dc has a problem with -V and -B
698,CONFIRMED,When format_t outputs a balance, it should know the next line width
700,CONFIRMED,@alias segfaults
705,CONFIRMED,Should error if file specified by --price-db does not exist
707,CONFIRMED,Year directive confuses today for entry command
709,CONFIRMED,Make @account/!account be a synonym for "apply account"
712,CONFIRMED,Capital gains/losses accounted for twice
713,CONFIRMED,Results of bal -B not intuitive when a previous capital loss/gain was made
716,CONFIRMED,Need a better error for automated transactions with null amounts
717,CONFIRMED,Error: Cannot convert a balance with multiple commodities to an amount
722,CONFIRMED,Segfault with -S t -t t
723,CONFIRMED,-S t doesn't sort timelog entries correctly
724,CONFIRMED,Assertion failed in "src/unistring.h" with --payee-width=1
725,CONFIRMED,Output of cleared not aligned with --date-format
726,CONFIRMED,Option draft (mentioned in doc/ledger.1) doesn't exist
727,CONFIRMED,Option lisp (mentioned in doc/ledger.1) doesn't exist
729,CONFIRMED,Output of cleared doesn't align
730,CONFIRMED,Segmentation fault
731,CONFIRMED,--current does not apply with --end
732,CONFIRMED,csv command required ledger file with -f
733,CONFIRMED,ledger convert should not generate note when note is empty
734,CONFIRMED,ledger convert should allow empty posted date
735,CONFIRMED,Error: Assertion failed in "src/item.h" with ledger convert when no date is specified
736,CONFIRMED,Strange error from cvs convert
737,CONFIRMED,ledger xact does not honour payee tag
738,CONFIRMED,pricemap shows commodities not listed in file
739,CONFIRMED,prices/pricedb only show pricedb info for commodities listed in transactions
740,CONFIRMED,ledger stat calculates days incorrectly
741,CONFIRMED,ledger stat doesn't handle future transactions well
742,CONFIRMED,ledger stats ignores -p until
743,CONFIRMED,ledger source: does it take file from argument or -f?
744,CONFIRMED,ledger select: output of account contains control characters
745,CONFIRMED,ledger budget: Error: Cannot multiply an amount with a balance
746,CONFIRMED,ledger convert --auto-match only matches only one posting
747,CONFIRMED,Error: Illegal option --cleared-format
748,CONFIRMED,--primary-date / --aux-date not accepted
749,CONFIRMED,Value expression parser confused by ( ) in commodity name
750,CONFIRMED,--strict lists wrong line number for tag
751,CONFIRMED,account check/assert not applied to default account
752,CONFIRMED,ArithmeticError: Adding amounts with different commodities: EUR != EUR
753,CONFIRMED,prices -A and prices -D doesn't work
754,CONFIRMED,Segfault with -D and no transaction
755,CONFIRMED,Make format strings backward compatible with 2.x
756,CONFIRMED,Bad pricedb info with --anon pricedb
759,CONFIRMED,Compare a string with commodity
761,CONFIRMED,Make uncommoditized amounts behave like commoditized ones
762,CONFIRMED,--only doesn't work: does the same as --limit
763,CONFIRMED,Error: Cannot convert a balance with multiple commodities to an amount
764,CONFIRMED,csv: posted should be renamed to aux_date or aux or auxdate
765,CONFIRMED,bucket command drops first letter of following account name
766,CONFIRMED,Deprecation of '@' not carried through in example file drewr3.dat
767,CONFIRMED,Apparent new form of alias command is undocumented
769,CONFIRMED,Dated balance assertions not working
772,CONFIRMED,segfault when using "short" versions of option in ledgerrc
777,CONFIRMED,Error: Divide by zero for 1/9
778,CONFIRMED,Only one pricedb entry per day
779,CONFIRMED,Please add pricrdb entries in both directions
781,CONFIRMED,Setting precision on the command line
782,CONFIRMED,Ledger produces xml/json with only one or two entries.
783,CONFIRMED,Automated postings with a tag = value match ignore the value
784,CONFIRMED,Regression on 647D5DB9.test
785,CONFIRMED,Error message not friendly when "note" without argument
786,CONFIRMED,Transaction check doesn't give line number for included file
787,CONFIRMED,--yearly/quarterly gives correct output...
370,CONFIRMED,Let time periods use "starting" to fix the exact start date
399,CONFIRMED,Add function to determine budgeted amount for a time period
417,CONFIRMED,'&' in account names causes trouble during GNU Cash import
512,CONFIRMED,--cache does nothing
559,CONFIRMED,Improve the Ledger 3.0 stats command with ideas from hledger
631,CONFIRMED,Minimize redundant scope walks due to multiple SCOPE bindings
664,CONFIRMED,Value expression regexp matching should return a match object
163,RESOLVED,Exponential slowdown when using --exchange
189,RESOLVED,Optimize value truncation
192,RESOLVED,Problem with the new fixed rate feature
226,RESOLVED,print --anon fails completely
228,RESOLVED,Make sequences comparable
345,RESOLVED,speed-test.dat with -V is failing verification
380,RESOLVED,"Unbalanced remainder" pops up depending on the order of postings
498,RESOLVED,File inclusion is broken
157,RESOLVED,Make sure this is legal: = expr 'account =~ /foo/'
158,RESOLVED,"ledger template exxons 10 from checking" applies 10 to "from"
161,RESOLVED,ledger budget fails with "Something odd has happened"
165,RESOLVED,--exchange seems to be ignored when combined with -M
196,RESOLVED,Bug when not using commodities in a posting's cost
197,RESOLVED,Bug with -J and multiple commodities
200,RESOLVED,Commodities containing digits and ledger bal
210,RESOLVED,Problems with tags that contain spaces
227,RESOLVED,Make --anon anonymize commodities as well
327,RESOLVED,Insert --input-date-format strings at the beginning of format list
335,RESOLVED,Restore value expression functions min and max
336,RESOLVED,ledger period 'this month' is only showing the current day
337,RESOLVED,Rationalize formatting strings
342,RESOLVED,Budgeting should include transactions for interstitial months
352,RESOLVED,Account abbreviation puts too much emphasis on top-level account
360,RESOLVED,'today' isn't today
373,RESOLVED,Change amount/total expr evaluation to use a priority queue
416,RESOLVED,Not all past prices are repeatable or valid for future exchanges
454,RESOLVED,Rename actual and effective dates to primary/auxiliary
476,RESOLVED,alias does not work across !include
501,RESOLVED,Confusion about a few things
506,RESOLVED,Loss of data in weekly report
507,RESOLVED,Reproducible crash
510,RESOLVED,Transactions match from oldest->newest
548,RESOLVED,Are automatic transactions working in the latest 3.0.0
552,RESOLVED,Missing ')' error in automated transactions with valexpr predicate
557,RESOLVED,Missing ')' in posting value expression does NOT cause an error
582,RESOLVED,Problems with account name completion
593,RESOLVED,XML reports should output a <fullname> tag
605,RESOLVED,Inconsistent command directive syntax
608,RESOLVED,lot tags are wrong if more than one lot tag in a transaction
632,RESOLVED,Strange "print" behavior in comments
633,RESOLVED,Ledger crashes with --account=payee --monthly
654,RESOLVED,Commodity flags cleanup
656,RESOLVED,Historical prices with and without revaluation
657,RESOLVED,--print removes amount
719,RESOLVED,Creates bogus(?) Adjustment with -H -X EUR
329,RESOLVED,Suggestions for improving the documentation
338,RESOLVED,Issue with spaces in account names
341,RESOLVED,Document suggestions from Russell
343,RESOLVED,Journal with only periodic transactions gives an error
397,RESOLVED,--price-db doesn't expand ~
599,RESOLVED,Add index to documentation
446,RESOLVED,Segfault on wrong command directive
372,RESOLVED,Rename "total" to "raw_total" and "display_total" to "total"
435,RESOLVED,Re-anonymize speed-test.dat
406,RESOLVED,Unable to install ledger on Ubuntu Hardy
418,RESOLVED,Ledger 3.0 will not build under cygwin on Windows
156,RESOLVED,Instead of unistring(x).length(), have unilength(x)
160,RESOLVED,Attached file should print out Unrealized Gains in the report
205,RESOLVED,Specifying commodity price and total
214,RESOLVED,Question about credit card transactions
220,RESOLVED,In output intermediate, do not reduce prices to one per day
326,RESOLVED,Strip out quotes in the options parser
351,RESOLVED,print command puts tag in same line as payee
490,RESOLVED,Pull request: Next [jwiegley/ledger GH-22]
519,RESOLVED,ledger reg expr 'code > 100' breaks
592,RESOLVED,'print' command does not handle multiple spaces in the payee
651,RESOLVED,The - query prefix character no longer excludes accounts
203,RESOLVED,Problem with fixed commodities and rounding
332,RESOLVED,Assert failure when using tag in a limit expression
388,RESOLVED,Can't build next branch OS X 10.6.4 (Intel)
426,RESOLVED,ledger --budget reg|wc -l depends on order of transactions
437,RESOLVED,Crash when using automatic rules
440,RESOLVED,Complex command causes core dump
503,RESOLVED,Abort trap on MacOS 10.6.7
159,RESOLVED,--unrealized also reports realized gains
164,RESOLVED,--balance-format overrides --exchange
168,RESOLVED,Balance wrong because of exchange rates
171,RESOLVED,Path handling issues in master
204,RESOLVED,Problem with price conversions and -V
213,RESOLVED,Balancing problems with fixated commodity prices
222,RESOLVED,tag/pop to apply metadata does not work
323,RESOLVED,-r does not output related accounts when using --effective
344,RESOLVED,Budgeting behavior changed between 2.6 and 3.0
516,RESOLVED,Ledger entry takes the first entry
543,RESOLVED,ledger make check failure report...
585,RESOLVED,ledger payees is not honoring its regexp argument
614,RESOLVED,--input-date-format does not effect convert
463,RESOLVED,Question about commodity sub-total vs. total in balance
466,RESOLVED,Error in latest GIT version
212,RESOLVED,Question about using the same tag twice
508,RESOLVED,Register command doesn't filter anymore
556,RESOLVED,Value expressions do not handle significant figures correctly
601,RESOLVED,ledger entry command skipping digit after currency sign
206,RESOLVED,Specifying exchange rate with @ doesn't led to expected result
428,RESOLVED,Build is failing on Ubuntu 10.10
429,RESOLVED,Build is failing on Ubuntu 10.10
191,RESOLVED,Optimize conversion of commodities
505,RESOLVED,Ampersand in GnuCash transaction creates conversion problem
541,RESOLVED,--collapse not collapsing
563,RESOLVED,Highlight account names with spaces
564,RESOLVED,Double-quoted filename in Emacs output breaks reconciliation
235,RESOLVED,Add some more configure arguments
236,RESOLVED,Add some more configure arguments
404,RESOLVED,Strange libboost suffix on Debian Squeeze with acprep
478,RESOLVED,ledger-font-lock-keywords uses spaces instead of tabs
188,CLOSED,Not calculating commodity conversions due to rounding
353,CLOSED,No longer handles multiple postings to one account in one transacation
420,CLOSED,Ledger will not build on OS X 10.5
425,CLOSED,date>=[2010/02/10] causes a parsing error
427,CLOSED,Build problems with boost_iostreams
438,CLOSED,Case where register and balance do not agree
449,CLOSED,Ledger build, iostreams, and boost 1.45
565,CLOSED,Transactions with leading whitespace not detected
650,CLOSED,Input date format not recognized
672,CLOSED,Latest next/HEAD does not build
683,CLOSED,ledger --anon pricedb gets a seg fault
701,CLOSED,Use of --pager corrupts the terminal
703,CLOSED,Assertion failed in "src/history.cc": source != price.commodity()
708,CLOSED,Ignoring PriceDB file
166,CLOSED,--percent incompatible with --exchange
167,CLOSED,Another rounding issue
193,CLOSED,Useful links from the mailing list
198,CLOSED,Errors with using the -J option
199,CLOSED,Issue with reporting asset history and -j/-J
211,CLOSED,The --european option not really European
224,CLOSED,A large number of GenerateTests are failing
330,CLOSED,libledger_math.so: undefined reference to `vtable for ledger::expr_t'
350,CLOSED,--gain shows wrong resuls
354,CLOSED,Forecasting bug with terminating periodic entries
355,CLOSED,Problem with forecasting not showing biweekly transactions
358,CLOSED,When abbreviating account names, consume trailing whitespace
359,CLOSED,Balance command now shows empty accounts
374,CLOSED,Problem with periodic transactions having a null posting
379,CLOSED,equity shows two entries for the same commodity/account
386,CLOSED,print command should never strip quotation marks from commodity
394,CLOSED,Weekly report and monthly report (possible bug)
395,CLOSED,Need commodity alias
448,CLOSED,Only one posting with null amount allowed because of note
458,CLOSED,Spaces seem to be significant in automatic transaction predicate
515,CLOSED,Pull request: Vim: Support for payee completion and caching
546,CLOSED,Record timelog hours on the day(s) of check-in
550,CLOSED,Trailing white space is not ignored in tag vales
555,CLOSED,ledger stats reports days per posting, not postings per day
560,CLOSED,Allow a space between the minus sign and its amount
569,CLOSED,Problem in ledger3.texi
570,CLOSED,Add warning to docs about whitespace in ledger format
584,CLOSED,Trailing white space is not ignored in payee names
600,CLOSED,-d "l>=2" performs > rather than >=
658,CLOSED,print does not indent properly
659,CLOSED,Date parser does not accept 2/29 this year (2012)
661,CLOSED,include directive causes a segmentation fault
674,CLOSED,--decimal-comma and --percent are incompatible
678,CLOSED,-X GBP -H leads to Adjustment, or: ledger gets calculation/rounding wrong
679,CLOSED,Error: Attempting to nail down a balance with -X -H
680,CLOSED,ledger pricedb shows incorrect(?) entries
681,CLOSED,Commodities revalued with -X -H when no pricedb entry for one transaction
688,CLOSED,print command does not handle multiple spaces in the payee
691,CLOSED,Assertion failed in "src/pool.cc" with -X -H
702,CLOSED,No carriage return
704,CLOSED,pricedb entries randomly repeated
706,CLOSED,Alias is causing segfault and other strangeness
711,CLOSED,Behavior of alias appears to have changed
715,CLOSED,Error: Cannot divide a balance by an amount with -X -H
718,CLOSED,Strange <Adjustment> entries with -X -H and ledger maybe hangs?
721,CLOSED,Equity shows commodities that have already been sold
728,CLOSED,pricesdb command renamed to pricedb - preserve compatibility
757,CLOSED,emacs baseline test failure
770,CLOSED,Options --monthly and --invert do not work together
322,CLOSED,Minor typo in acprep output
638,CONFIRMED,ledger-mode dropping first digit of inserted dates
389,CONFIRMED,Emacs mode autocompletion issue
391,CONFIRMED,Emacs reconciliation mode does not work on Linux
396,CONFIRMED,ledger emacs doesn't escape double quotes
431,CONFIRMED,Reconciling with ledger.el doesn't seem to work
441,CONFIRMED,Patch to allow jumping between records with M-n and M-p
442,CONFIRMED,Trouble with the emacs reconciling features
460,CONFIRMED,ledger.el expects blank lines around transactions
464,CONFIRMED,auto-indenting in emacs mode?
465,CONFIRMED,ledger.el tweak for handling yyyy-mm-dd
468,CONFIRMED,New ledger mode in master sometimes erases data when aligning amounts
485,CONFIRMED,Problem reconciling with ledger.el: spacebar does nothing
495,CONFIRMED,Emacs ledger mode v3 & reconcile
509,CONFIRMED,Reconciling using ledger.el doesn't work with latest ledger from git
521,CONFIRMED,ledger and currency format in entry command
523,CONFIRMED,Two patches for ledger.el
525,CONFIRMED,Trouble with Emacs ledger-mode
526,CONFIRMED,ledger-mode.el does not recognize decimal dot separator
527,CONFIRMED,Include check numbers in emacs reconcile buffer
545,CONFIRMED,Create a quick entry function for Ledger to reduce keystrokes
620,CONFIRMED,The -j option needs a way to specific the base to report values in
635,CONFIRMED,ledger.el and support for YYYY-MM-DD dates
653,CONFIRMED,Do automatic transactions break emacs reconcile mode?
699,CONFIRMED,Typing chars in reconcile-mode should quick set the account name
710,CONFIRMED,ledger-mode is ruining the undo history
245,CONFIRMED,Add colorized highlighting to the reconciler
246,CONFIRMED,Add folding support to ledger.el
247,CONFIRMED,Allow for quicker reporting commands in ledger.el
248,CONFIRMED,Allow reconciling postings in multiple included files
249,CONFIRMED,Allow reports, such as completed tasks last week, etc.
250,CONFIRMED,Break ledger.el up into sections
251,CONFIRMED,C-c C-c should be magical in ledger-mode
252,CONFIRMED,Create a hotkey for creating Ledger transactions
253,CONFIRMED,Fix toggle-current-transaction
254,CONFIRMED,Have ledger.el warn if the ledger version is too old
255,CONFIRMED,Highlight transaction lines based on their status
256,CONFIRMED,Inserting comments in ledger-mode is inserting leading whitespace
257,CONFIRMED,Ledger-context-at-point fails to parse acct-transaction
258,CONFIRMED,ledger.el should define its own faces
259,CONFIRMED,Look at making ledger's new entry completion behavior cyclic
260,CONFIRMED,Make M-x ledger-sort work on the current region
261,CONFIRMED,Make TAB more magical in ledger-mode
262,CONFIRMED,Pressing C-c C-c on an entry line should clear it
263,CONFIRMED,Redesign ledger.el
264,CONFIRMED,The Great Renaming still needs to take place in ledger.el
265,CONFIRMED,Use of ledger.el with various invalid "ledger" binaries (and none)
266,CONFIRMED,Use yasnippet with ledger-mode
502,CONFIRMED,Auto-complete with Ledger.el in Emacs
479,RESOLVED,Descriptions of cleared transactions are not highlighted
183,RESOLVED,Adding memo field breaks ledger-add-entry
467,CLOSED,ledger.el won't highlight account names if they have a space
524,CLOSED,ledger.el, highlighting of account names w/spaces
580,CLOSED,Emacs mode 'reconcile' doesn't work
639,CLOSED,Highlight accounts with spaces in Emacs
173,CONFIRMED,Make the prices report use standard report query terms
174,CONFIRMED,Make path to getquote script configurable using an option
217,CONFIRMED,Make "primary COMM ACCOUNT" force primary comm for an account
225,CONFIRMED,Complain about mutually exclusive options (such as -M and -s)
292,CONFIRMED,Make alias names for directives, like convert for C
299,CONFIRMED,The CSV report should optionally generate a "title line"
333,CONFIRMED,Add warning when duplicate meta references are given
393,CONFIRMED,Allow lot tags to "link" to a past priced commodity
409,CONFIRMED,Almost strictly defined accounts
447,CONFIRMED,Make value sequences comparable
451,CONFIRMED,Handling multiple Ledgers
461,CONFIRMED,Balance report that shows commodities and value or basis cost
471,CONFIRMED,Swapping out memory allocators for performance testing
486,CONFIRMED,More formal methods of doing lot-based reporting
522,CONFIRMED,Add a 'tags' command
536,CONFIRMED,Add an option to Ledger to account for time rounding
595,CONFIRMED,Add a value expression function to round non-commoditized amounts
627,CONFIRMED,Add help option "--help-{commands|options}-plain"
628,CONFIRMED,round(value) should take an optional precision amount
660,CONFIRMED,Create options in Ledger to define important localized strings
668,CONFIRMED,Add an option for specifying the separator to ledger convert
675,CONFIRMED,Add options --commodity-value-expr and --account-value-expr
690,CONFIRMED,Add an option to output periodic transactions
714,CONFIRMED,Support for re-write rules (aka ledger "views", allows keeping separate books)
172,CONFIRMED,Merge functionality of the C and P directives
177,CONFIRMED,lot_price should be able to return if commodity is "fixed rate"
179,CONFIRMED,Allow specification of times on transactions and postings
182,CONFIRMED,Port Gnucash support to 3.0
233,CONFIRMED,Make 'last' a valexpr term of the last posting output
269,CONFIRMED,Add a "date" term to report queries
273,CONFIRMED,Add complete calculation history in Ledger
274,CONFIRMED,Add support for command aliases, to allow "canned reports"
278,CONFIRMED,Allow reading an encrypted ledger file directly
279,CONFIRMED,Annotations should allow for HH:MM:SS
284,CONFIRMED,Greatly improve Ledger's help system
286,CONFIRMED,Implement readline completion for the REPL
288,CONFIRMED,Integrate Org-mode with Ledger
290,CONFIRMED,journal_t objects should be copyable
291,CONFIRMED,Make a curses or http GUI for Ledger
294,CONFIRMED,Forecasting performance would be weak with a lot of period xacts
298,CONFIRMED,Support for exceptions to interval_t
320,CONFIRMED,Implement move constructors for amount_t, balance_t and value_t
361,CONFIRMED,Change value expression syntax to closely match Haskell's
365,CONFIRMED,Generalize value sequences into iterators and generators
366,CONFIRMED,Add "each" syntax, and closures like Ruby has
408,CONFIRMED,Enabling OFX support in Ledger 3
413,CONFIRMED,Have a look at Boost.TimeSeries
414,CONFIRMED,Use Boost.Accumulator for ledger stats
432,CONFIRMED,Create a command to list all options, commands, and functions
496,CONFIRMED,Add --time-colon option
542,CONFIRMED,Create a --reset-amount/total option, to clear the expr series
547,CONFIRMED,Allow Ledger to read data directly from CSV files
589,CONFIRMED,Add ability to control color output
629,CONFIRMED,Add ability to jump to transactions from a report buffer
647,CONFIRMED,Add ability to pass offset dates to xact command
670,CONFIRMED,Make ledger convert a sub-parser within textual.cc
181,RESOLVED,Add a --group-by=EXPR option for clustered reports
190,RESOLVED,Optimize finding and creation of annotated commodities
232,RESOLVED,Support variant behaviors for -V
270,RESOLVED,Add a feature for "object descriptions"
271,RESOLVED,Add a {{total}} syntax for lot price specification
272,RESOLVED,Add an entry type for specifying value constraints
275,RESOLVED,Add the ability to have "typed" metadata
276,RESOLVED,Allow for payee name mappings
277,RESOLVED,Allow forecasting from a specific date
280,RESOLVED,Check for duplicated transactions
281,RESOLVED,Combine a random seed when hashing when using --anon
283,RESOLVED,Create new files for commodity_pool and annotated commodities
285,RESOLVED,Have an option for showing all amounts in the print report
297,RESOLVED,Support debit/credit register and balance reports
301,RESOLVED,When abbreviating account names, expand to fill
334,RESOLVED,Support period expressions like "every 14 days"
356,RESOLVED,Budgeting and forecasting should use all periodic entries
363,RESOLVED,Make "only" a report query modifier, to match --only
364,RESOLVED,Make "for" a special report query modifier, for period strings
368,RESOLVED,A commodity annotation that asserts no negative quantities
475,RESOLVED,A solution to the commodity pricing problem
538,RESOLVED,-X should use posting dated values, and with -V should use current
539,RESOLVED,Add 'any' and 'all' as operators in query expressions
175,RESOLVED,Make an assert directive for Ledger
176,RESOLVED,Make "until today", "from yesterday" work for -p
178,RESOLVED,Have a way to set the date range to "this week" easily
180,RESOLVED,Allow for period expressions "4 months ago" and "last 5 weeks"
223,RESOLVED,Consider deprecating the --cache option
293,RESOLVED,Option --bold-if
481,RESOLVED,Add a native "test" command to Ledger
218,RESOLVED,Make {{AMOUNT}} universal give the total cost/amount
282,RESOLVED,Create an operator for value + post
287,RESOLVED,In the equity report, if the "collapse" option is used ...
295,RESOLVED,Restore the XML parser (code is in xml local branch)
300,RESOLVED,Warn if a file link points to a missing file
575,RESOLVED,Save file comments along with the transaction that follows them
625,RESOLVED,Add "semiannually" interval
267,RESOLVED,Restore the --price option
268,RESOLVED,@@ -- allow negative costs
497,RESOLVED,Review: CSV converter for multipart transactions
229,RESOLVED,Have a primary directive
289,RESOLVED,Integrate with libgcrypt so ledger files can be encrypted
296,RESOLVED,Support alert warnings in Ledger
581,RESOLVED,Port GnuCash support to 3.0
230,CLOSED,Make format strings backward compatible with 2.x
231,CLOSED,Allow conversion of some but not all commodities
666,CLOSED,Add --daybreak to split multi-day time log entries into multiple days
407,CONFIRMED,Problem with decimal commas and Python integration support
682,CONFIRMED,post.xact.posts yields: 'instancemethod' object is not iterable
773,CONFIRMED,ledger python intepreter segfaults on second command entered
774,CONFIRMED,ledger python messes up subsequent console input
302,CONFIRMED,Add implicit conversion of mask_t to re
303,CONFIRMED,After using python/server.py, it segfaults on exit
304,CONFIRMED,Allow a Python function to be used to download quotes
305,CONFIRMED,Allow to_xml methods on all Python-exposed objects
306,CONFIRMED,Do a complete review of all the Python bindings
307,CONFIRMED,Every ledger object should honor the iteration protocol
308,CONFIRMED,Get ledger python to run within the build tree
309,CONFIRMED,Have methods for serializing to and from a string
310,CONFIRMED,Having problems exporting std::pair<T, U *> from Boost.Python
311,CONFIRMED,In py_report.cc, export all "global" functions
312,CONFIRMED,Make sure I'm handling object lifetime correctly for Boost.Python
313,CONFIRMED,Standardize the find_account and find_commodity methods
314,CONFIRMED,The error output when calling Python is out of order
316,CONFIRMED,Write a Python demo script
424,CONFIRMED,Make acprep compatible with Python 3
665,RESOLVED,pymodule.value doesn't work yet for Python
315,RESOLVED,Use Python to create a per-account debit/credit report
184,RESOLVED,For those interested in the Python support
758,CLOSED,post.cost: No Python class registered for C++ class boost::optional<ledger::amount_t>
760,CLOSED,value(eur, post.date) doesn't work
234,CONFIRMED,Add some more configure arguments
371,CONFIRMED,VS project files & Windows installer
405,CONFIRMED,Strange libboost suffix on Debian Squeeze with acprep
456,CONFIRMED,Building on Arch Linux
544,CONFIRMED,Failing tests in Ledger should cause all tests to fail
586,CONFIRMED,Improve build error for users without MacPorts or Fink
594,CONFIRMED,ExprTests fail if --decimal-comma is specified in ~/.ledgerrc
644,CONFIRMED,MacPorts #25213: ledger-devel Portfile
669,CONFIRMED,Fix --no-python option
671,CONFIRMED,--boost-file-suffix=.so.1.49.0 has not effect
689,CONFIRMED,configure is not finding python on freebsd 8.2, 2.6 and 2.7 installed
720,CONFIRMED,Linker warning about library locations
768,CONFIRMED,OS X installer is incomplete
775,CONFIRMED,"--local" acprep option is not honoured
776,CONFIRMED,"acprep check" fails not being able to find Tests executables
780,CONFIRMED,Support Homebrew
216,CONFIRMED,Ledger packages for Debian
238,CONFIRMED,Build .deb, .rpm, .exe (in .zip), and .pkg installs
240,CONFIRMED,Setup virtual machines for every OS Ledger should run on
339,CONFIRMED,Automate the building of Ledger binaries on CentOS 5
573,CONFIRMED,acprep should accept --python --python-home and --python-version
346,RESOLVED,Release Ledger 2.6.3
472,RESOLVED,Regression failure in Ledger master
215,RESOLVED,Compile fails for version 3.0
321,RESOLVED,vim syntax doesn't support tag/pop
324,RESOLVED,Get the CentOS build working for orc_emac
328,RESOLVED,Build Ledger with Visual Studio
331,RESOLVED,[MacPorts] #25213: ledger-devel Portfile
367,RESOLVED,Missing install-sh in ledger-2.6.3.tar.gz
419,RESOLVED,Resolve Clang warnings in the Ledger build
430,RESOLVED,Build is failing on Ubuntu 10.10
574,RESOLVED,Change acprep bindmg to include Boost and all dependencies
237,RESOLVED,Avoid having to rm -fr ledger-proof
239,RESOLVED,Ledger 2.6 is not building on Debian 5 latest
421,RESOLVED,Provide a pre-built DMG of Leger for OS X 10.5 users
572,RESOLVED,Rebuild Boost and Ledger with gcc-4.6
162,RESOLVED,sm is seeing a segfault with the register command
645,RESOLVED,acprep opt producing a debug executable
473,RESOLVED,RegressTests failing on Ubuntu 10.10
646,RESOLVED,configure is not finding python on freebsd 8.2
185,CONFIRMED,Read through Peter's article, and make sure it all applies
187,CONFIRMED,Use coverage analysis to determine if everything is being tested
349,CONFIRMED,Implement empty tests in test/baseline
318,CONFIRMED,New tests to create for Ledger [0/3]
319,CONFIRMED,Use --cache=/dev/null when running the unit tests
340,CONFIRMED,Create OptionsTests, which generate possible option combinations
219,RESOLVED,Add a Makefile rule ensuring all options are tested and documented
317,RESOLVED,Ledger is still failing the higher-numbered generation seed tests
325,RESOLVED,Migrate from CppUnit to the Boost Test FrameWork
357,RESOLVED,The parallelized RegressTests no longer notices errors
169,CONFIRMED,Language translations for 3.0
186,CONFIRMED,Rewrite the sample.dat file to be more realistic
195,CONFIRMED,How to declare a statement reconciliation
452,CONFIRMED,Fixes to the ledger wiki/README-1ST
474,CONFIRMED,Create documentation stubs in ledger3.texi for all features
500,CONFIRMED,Enforcing balanced books
520,CONFIRMED,Ledger's Doxygen file is broken
579,CONFIRMED,Depreciate assets (cars, equipment, buildings, etc)
596,CONFIRMED,Improve download/install instructions for the Mac
641,CONFIRMED,Add note about ledger openbsd port to ledger-cli.org
642,CONFIRMED,Post to the Wiki that Ledger 3 is in nixpkgs
643,CONFIRMED,Ledger syntax coloring for TextWrangler
170,CONFIRMED,Fill out membership form for the Software Conservancy
241,CONFIRMED,Complete the internal documentation, exported using Doxygen
242,CONFIRMED,Ledger example: building a better "du"
243,CONFIRMED,Using Ledger as a scientific analysis tool
244,CONFIRMED,Using Ledger to track inventory
369,CONFIRMED,Internalize the --help option in v3
423,CONFIRMED,Rubygem for converting arbitrary csv files into ledger format
422,RESOLVED,Correct definitions of release and beta in the README
578,RESOLVED,Show Craig how to write testable Ledger examples
194,RESOLVED,Initial example in ledger manual bogus
209,RESOLVED,Escape @ characters in the manual
385,RESOLVED,Syntax error in new ledger3 doc
453,RESOLVED,Documentation patches for 3.0
640,RESOLVED,Add the "autopoint" dependency for Debian to the README
202,RESOLVED,doc/NEWS and xml
208,RESOLVED,Special characters in manual don't show up in PDF
662,RESOLVED,If Ledger crashes in std::string::_Rep::_M_dispose...
221,RESOLVED,Value expressions don't work as documented
450,RESOLVED,Document how to do inventory accounting
528,CLOSED,vim 'commentstring'
529,CLOSED,vim indent file
#+end_example

** Update Bugzilla UUIDs
#+begin_src emacs-lisp :results output
(save-excursion
  (let ((sql-update ""))
    (goto-char (point-min))
    (while (re-search-forward "\\[bug:\\([0-9]+\\)\\]" nil t)
      (let ((bug (match-string 1)))
        (when (re-search-forward ":ID:\\s-+\\(.+\\)"
                                 (save-excursion (outline-next-heading) (point)))
          (let ((uuid (match-string 1)))
            (setq sql-update
                  (concat sql-update
                          (format
                           "UPDATE bugs SET cf_uuid = '%s' WHERE bug_id = %s;\n"
                           uuid bug)))))))
    (with-temp-buffer
      (insert sql-update)
      (copy-region-as-kill (point-min) (point-max)))))
#+end_src

* Bugs
  :PROPERTIES:
  :CATEGORY: Bugs
  :OVERLAY: (face (:background "#fdebeb"))
  :END:
** TODO [[bug:790][#790]] Python query with -M segfaults
SCHEDULED: <2012-10-06 Sat>
:PROPERTIES:
:ID:       309A994C-3328-4C0F-A5CA-BAEF6331F35E
:CREATED:  [2012-10-06 Sat 03:49]
:END:
** TODO [[bug:771][#771]] --explicit not working
SCHEDULED: <2012-10-06 Sat>
:PROPERTIES:
:ID:       BCE72F3E-F995-4C14-96D9-C45557F9ECE4
:CREATED:  [2012-10-06 Sat 03:48]
:URL:      [[http://bugs.ledger-cli.org/show_bug.cgi?id%3D771][Bug 771 – --explicit not working]]
:END:
** TODO Synchronize and organize Ledger bugs
SCHEDULED: <2012-10-05 Fri>
:PROPERTIES:
:ID:       6C88DF37-8B9A-4902-A3C9-9E695DEEAA60
:CREATED:  [2012-10-05 Fri 13:16]
:END:
** TODO (jeroendv) [ledger] bug: cleared records don't get checked wihen using --strict or --pedantic ???
:PROPERTIES:
:ID:       CD5E0903-8B5D-4EE4-9411-A320CB075304
:CREATED:  [2012-10-05 Fri 11:44]
:Date:     Fri, 5 Oct 2012 07:02:49 -0700
:Message:  [[message://jwiegley/ledger/issues/87@github.com][{ledger} bug: cleared records don't get checked wihen using --strict or --pedantic ??? (#87)]]
:Author:   jeroendv <notifications@github.com>
:END:
** TODO (jeroendv) [ledger] Bug: --strict and bucket
:PROPERTIES:
:ID:       7C38B696-5DF7-4A57-A799-D6AC98E137D3
:CREATED:  [2012-10-04 Thu 23:37]
:Date:     Thu, 4 Oct 2012 06:22:24 -0700
:Message:  [[message://jwiegley/ledger/issues/86@github.com][{ledger} Bug: --strict and bucket  (#86)]]
:Author:   jeroendv <notifications@github.com>
:END:
** TODO (Christophe) Adjustment in ledger register report with -Mn
:PROPERTIES:
:ID:       59BA7359-BA5E-4F35-B48F-E7DF29EB73C1
:CREATED:  [2012-10-03 Wed 14:37]
:Date:     Sun, 30 Sep 2012 09:04:03 +0100
:Message:  [[message://873920kkcs.fsf@cantab.net][Adjustment in ledger register report with -Mn]]
:Author:   Christophe Rhodes <csr21@cantab.net>
:END:
** TODO (Bradley) Discussion of Bug 712: Should Equity:Capital.* actually be generated automatically? (was  Re: Weirdness when converting between two fixated cost currencies in same transaction)
:PROPERTIES:
:ID:       B4380969-B9F0-4DED-AA09-2B433CD2740A
:CREATED:  [2012-10-03 Wed 14:38]
:Date:     Sun, 30 Sep 2012 13:59:10 -0400
:Message:  [[message://87sj9z4ck1.fsf_-_@ebb.org][Discussion of Bug 712: Should Equity:Capital.* actually be generated automatically? (was  Re: Weirdness when converting between two fixated cost currencies in same transaction)]]
:Author:   "Bradley M. Kuhn" <bkuhn@ebb.org>
:END:
** TODO (Alexis) RegressionTest_647D5DB9 (Failed)
When running ctest I noticed that the following tests FAILED:
	239 - RegressionTest_647D5DB9 (Failed)

The patch below fixes the regression test for me:
diff --git a/test/regress/647D5DB9.test b/test/regress/647D5DB9.test
index 7e53f23..9b6d851 100644
--- a/test/regress/647D5DB9.test
+++ b/test/regress/647D5DB9.test
@@ -11,5 +11,5 @@ P 2009/01/31 02:18:02 AAPL $4
 P 3000/01/01 02:18:02 APPL $100

 test bal --end 2008/12/31 -JV Equities
-2008-12-31 1500
+2008-06-30 1500
 end test
:PROPERTIES:
:ID:       26957ECD-F5B5-40EC-958F-2FD42F2DC875
:CREATED:  [2012-09-26 Wed 22:54]
:Date:     Wed, 26 Sep 2012 22:45:51 +0200
:Message:  [[message://20120926204551.GA42493@kaori.local][Re: Building with Ninja instead of Make]]
:Author:   Alexis <surryhill@gmail.com>
:END:
** TODO [[bug:789][#789]] Various weirdness of "fixed CURRENCY VALUE ... end fixed"
... blocks, when compared to VALUE {=CONVERTED_VAL} syntax
:PROPERTIES:
:ID:       8DA48C3B-B406-45B7-B9E3-2B781948A3B6
:CREATED:  [2012-09-14 Fri 15:38]
:Date:     Fri, 14 Sep 2012 19:35:32 +0000
:Message:  [[message://bug-789-1@http.bugs.ledger-cli.org/][{Bug 789} New: Various weirdness of "fixed CURRENCY VALUE ... end fixed" blocks, when compared to VALUE {=CONVERTED_VAL} syntax]]
:Author:   bugzilla-daemon@mail.johnwiegley.com
:END:
** TODO (Martin) Towards ledger 3.0 (was Re: newbie confusion)
:PROPERTIES:
:ID:       47F8DC45-EB9E-4DA6-8659-D909DF2AE349
:CREATED:  [2012-09-10 Mon 18:45]
:Date:     Sat, 8 Sep 2012 10:35:13 +0100
:Message:  [[message://20120908093513.GL7425@jirafa.cyrius.com][Towards ledger 3.0 (was Re: newbie confusion)]]
:Author:   Martin Michlmayr <tbm@cyrius.com>
:END:
** TODO (John Rakestraw) %(code) is interepolating as (null) when there is no code
:PROPERTIES:
:ID:       267ECAD3-D6E0-4889-A016-6C33C0C4E1AD
:CREATED:  [2012-09-04 Tue 15:55]
:Date:     Tue, 4 Sep 2012 13:33:02 -0700 (PDT)
:Message:  [[message://3ceafa25-f705-4796-8c8e-d7c8023df88e@googlegroups.com][Re: 3.0.0-20120518 (master branch): Error: Unrecognized formatting character: {]]
:Author:   John Rakestraw <johnr@johnrakestraw.com>
:END:
** TODO [[bug:788][#788]] Assertion failed with unbalanced remainder and input from stdin
:PROPERTIES:
:ID:       BF3C1F82-C18F-436F-9C56-C8720F524247
:CREATED:  [2012-08-23 Thu 20:05]
:Date:     Thu, 23 Aug 2012 14:21:53 +0000
:Message:  [[message://bug-788-1@http.bugs.ledger-cli.org/][{Bug 788} New: Assertion failed with unbalanced remainder and input from stdin]]
:Author:   bugzilla-daemon@mail.johnwiegley.com
:END:
** TODO (Thierry) acprep check failing
:PROPERTIES:
:ID:       CA53FCF3-8FE7-4DF1-9F6E-8A62338FC439
:CREATED:  [2012-08-23 Thu 01:57]
:Date:     Fri, 17 Aug 2012 00:40:41 +0200
:Message:  [[message://CA+R89YLqb4by84L=eURbhGoyNR3=Vmo=qdd1_9OPPHDLcoiRaA@mail.gmail.com][Re: acprep check failing]]
:Author:   Thierry Daucourt <thierry.daucourt@free.fr>
:END:
** TODO (Martin) Regression on 647D5DB9.test
:PROPERTIES:
:ID:       9589BD5A-F486-460C-8926-C39D17DC8369
:CREATED:  [2012-08-23 Thu 01:42]
:Date:     Sun, 19 Aug 2012 11:42:24 +0100
:Message:  [[message://20120819104224.GG6064@jirafa.cyrius.com][Re: Regression on 647D5DB9.test]]
:Author:   Martin Michlmayr <tbm@cyrius.com>
:END:
** TODO [#A] [[bug:686][#686]] Virtual transactions and the equity command
- State "TODO"       from "CLOSED"     [2012-03-27 Tue 14:56] \\
  I've cloned the latest next branch this morning (even started with a clean
  clone -- can I say that?), and I still can't make this work.
  
  This is not a crucial error for me, because I can edit the equity file.
  
  Here's another test file:
  #+begin_src ledger
  2005/01/03 Opening Balances
      Assets:Current:Checking               $-1,000.00
      Liabilities:CredCard                   $1,000.00
      (Virtualaccount)                       $1,000.00
  
  2005/01/10 carfund
      Assets:Savings           $1550.00
      Assets:Checking
  
  2005/01/03 Joe's
      Expenses:Dining                          $46.50   
      Liabilities:CredCard
      (Virtualaccount2)                        $46.50
  
  2005/01/05 Another gift
      Expenses:Gifts                          $30.00
      Liabilities:CredCard
  
  2006/01/03 Gift shop
      Expenses:Gifts                          $46.50   
      Liabilities:CredCard
  #+end_src
  
  "ledger -f testfile.dat equity -e 2006 > testequity.dat" produces this:
  :OUTPUT:
  2005/01/10 Opening Balances
      Assets:Checking                       $-1,550.00
      Assets:Current:Checking               $-1,000.00
      Assets:Savings                         $1,550.00
      Expenses:Dining                           $46.50
      Expenses:Gifts                            $30.00
      Liabilities:CredCard                     $923.50
      (Virtualaccount)                       $1,000.00
      (Virtualaccount2)                         $46.50
      Equity:Opening Balances               $-1,046.50
  :END:
  
  Note that there's an "equity:opening balances" line that balances the
  total of the two virtual accounts.
  
  (I realize that this could be my error rather than yours.)
- State "CLOSED"     from "WAITING"    [2012-03-22 Thu 23:42] \\
  Fixed by 5addacf.  The equity command was generating the wrong output.
- State "WAITING"    from "TODO"       [2012-03-19 Mon 04:23]
I have what I think is a large ledger file, with personal finances dating back
to 1988. I'd like to archive the earlier years so that ledger will generate
reports more quickly. (I think it's slower than I'd like in part because I've
started using automatic transactions recently.)

I used the equity command to archive command to generate balances for all
accounts prior to 2010, and printed my working data file so that my regular
working file has transactions beginning in 2010.

However, when I include the pre-2010 balances in my 2010-and-later data file,
ledger generates the following error:
:OUTPUT:
In file included from "scrooge_test", line 3: 
While parsing file "equity.dat", line 1645: 
Error: Assertion failed in "src/item.cc", line 535: ledger::string
ledger::item_context(const ledger::item_t&, const string&): len < 8192
Line 1645 is the last line of equity.dat.
:END:

It appears that the error only occurs when the archived portion of the data
file (in this case, records prior to 2010) includes at least one virtual
transaction that is not expected to balance (that is, a virtual transaction
indicated by parentheses rather than square brackets). It seems not to matter
whether the virtual record is actually in a particular transaction or
generated by an automatic transaction. (And virtual entries in the non-archive
[in my case, 2010-and-later] file are not a problem.)

Has anyone successfully used the equity command to archive balances in data
that include virtual transactions?
:PROPERTIES:
:ID:       012ADB60-600A-44B6-93E6-DC859BC64436
:CREATED:  [2012-03-10 Sat 22:11]
:Date: Sun, 04 Mar 2012 16:52:14 -0500
:Message: [[message://87vcmkhw4x.fsf@buster.johnrakestraw.com][Virtual transactions and the equity command]]
:Author: John Rakestraw <johnr-hdTKlMK9g6hNu5YjidvPyAC/G2K4zDHf@public.gmane.org>
:END:
** TODO (Howard) Question about streambuf::sputc
:PROPERTIES:
:ID:       C5373763-0EC4-4117-96FA-2C6DD47F6EDA
:CREATED:  [2012-04-30 Mon 03:12]
:Date: Sat, 28 Apr 2012 10:08:08 -0400
:Message: [[message://71823A6C-B9EB-4F12-8605-9CE40619CF2E@apple.com][Re: Question about streambuf::sputc]]
:Author: Howard Hinnant <hhinnant@apple.com>
:END:
** TODO (MAAD) Enter "absolute" account names
I am keeping my personal and business finances with ledger and use the
@account directive to construct the correct account hierarchy without entering
it all every time.

That poses a problem though, as I have to be able to move funds from my
business receivable accounts to my checking account, which is not in the same
prefix as my business transactions.

Is there a way to specify that an account name is "absolute", i.e. not
affected by @account directives? If not, how could I achieve this kind of
result?
:PROPERTIES:
:ID:       857B48D4-8952-4A64-A00D-B7A9F5F6FD0E
:CREATED:  [2012-04-15 Sun 21:34]
:Date: Sat, 14 Apr 2012 09:47:33 -0700
:Message: [[message://jwiegley/ledger/issues/63@github.com][{ledger} Enter "absolute" account names (#63)]]
:Author: "Prof. MAAD" <reply+i-4118725-18fbec6d3699786681d425c444bd3552c11ef160-8460@reply.github.com>
:END:
** TODO (Martin) Confusion about cost vs price
I see how price and cost makes sense from ledger's point of view.  I'm
worried though that cost basis doesn't always represent the accounting
concept of cost basis and I think that's an important concept that
ledger should support because it's used in a lot of cases.

I wonder whether fixing the behaviour described in bug 713 would bring
ledger's cost basis concept back in sync with the accounting concept.

Let's take an example (from bug 713): I buy 1 AAA for $10 and 1 BBB
for $15 and then sell the 1 AAA for $12.
According to ledger, the costs are:
 - AAA: $10 (when buying) and $-12 (when selling)
 - BBB: $15
And -B on my investment account will add up all of these costs:
$10 + $-12 + $15 = $13

And this is where the "cost basis" no longer represents the accounting
concept of cost basis -- my investment account only contains BBB and
the cost basis of 1 BBB is $15.  ledger should not take the costs of
commodities into account which are not in the account anymore.

To show this better, let's take this example: 1 buy 1 AAA for $10 and
then sell this 1 AAA for $12.  The costs are: $10 and $-12, and ledger
-B on the investment account - which is now empty - will show $-2.

How can the cost basis of an empty account be $-2?

I believe if you fix bug 713 by only taking the costs of current
commodities into account (i.e. things that are still in my account and
haven't been sold previously), the cost basis concept would reflect
that in accounting again. (I'm not sure if there are other scenarios
where ledger's understanding of cost basis doesn't reflect the
accounting concept, but so far I only ran into this particular case.)
:PROPERTIES:
:ID:       7D60CFE6-12B8-46A1-B470-F5E1618B8708
:CREATED:  [2012-03-18 Sun 19:23]
:Date: Sun, 18 Mar 2012 10:04:19 +0000
:Message: [[message://20120318100419.GC4368@jirafa.cyrius.com][Re: Confusion about cost vs price]]
:Author: Martin Michlmayr <tbm-R+vWnYXSFMfQT0dZR+AlfA@public.gmane.org>
:END:
** TODO (Martin) Setting precision on the command line
> Is there a way so I can tell ledger - ideally on the command line - to limit
> precision to 2 digits, so I'll get the same result as what my broker shows?

At present there is no "trap" for this.  I'll have to think about it.  It may
be really easy, or it might require some significant changes.

The problem is that you can rewrite the individual posting amounts (too fine),
and you can rewrite the final account totals (too coarse), but you can't
rewrite the individual account totals in between.
:PROPERTIES:
:ID:       BF6CE22A-3472-4E8C-AD1E-4334072BDDAF
:CREATED:  [2012-07-02 Mon 19:17]
:Date: Sun, 1 Jul 2012 21:59:26 +0100
:Message: [[message://20120701205926.GA21063@jirafa.cyrius.com][Setting precision on the command line]]
:Author: Martin Michlmayr <tbm@cyrius.com>
:END:
** TODO (Matthew) --pedantic doesn't work if specified in Ledger file
First, I thought that I could put flags directly into my journal file and they
would be equivalent to providing them on the command line. But with this input
file:

--pedantic
2012/01/01 Payday
  Assets:Checking  $100.00
  Income

'ledger -f test.dat reg' doesn't complain about unknown accounts, but 'ledger
-f test.dat reg --pedantic' does. Why?
:PROPERTIES:
:ID:       AB4A1EBB-71E2-46CC-B484-8837679923B4
:CREATED:  [2012-06-18 Mon 01:17]
:Date: Thu, 14 Jun 2012 23:15:47 -0700 (PDT)
:Message: [[message://ff338824-f0e9-4ea2-982b-f770838050ff@googlegroups.com][--strict and --pedantic]]
:Author: Matthew Harris <mharris312@gmail.com>
:END:
** TODO (Matthew) Having trouble with -Y from the command line
:PROPERTIES:
:ID:       4248A7DE-668D-4EE7-A22F-E0F4ED82E787
:CREATED:  [2012-06-25 Mon 19:09]
:Date: Sat, 23 Jun 2012 19:22:36 -0700 (PDT)
:Message: [[message://91d960d9-530d-4b76-bf06-dad4419307e0@googlegroups.com][Re: Exploring the Python interface -- segfault]]
:Author: Matthew Harris <mharris312@gmail.com>
:END:
** TODO (Simon) Account aliases should match account name components
IIRC, when I checked last year Ledger's aliases also weren't as robust at
matching account name components - it was more like a plain text substitution,
which made them less useful.
:PROPERTIES:
:ID:       9E88A67C-03A7-487B-BCF0-50C7F65C6B3A
:CREATED:  [2012-03-20 Tue 00:41]
:Date: Mon, 19 Mar 2012 08:53:33 -0700
:Message: [[message://jk7kpv$6hg$1@dough.gmane.org][Re: ledger re-write rules (aka ledger "views")]]
:Author: Simon Michael <simon-jbxitMBJ2LLQT0dZR+AlfA@public.gmane.org>
:END:
** TODO (Thierry) "make check" is failing on BaselineTests
:PROPERTIES:
:ID:       7B1FAADF-E8D7-44A8-BBC3-C238109CDA18
:CREATED:  [2012-03-19 Mon 15:44]
:Date: Mon, 19 Mar 2012 21:14:25 +0100
:Message: [[message://CA+R89YLMc51unwYd8jAhHGOLHHO91KrS+C6A8BiuHh3qH=1gEg@mail.gmail.com][Re: "make check" is failing on BaselineTests]]
:Author: Thierry Daucourt <thierry.daucourt@free.fr>
:END:
** TODO (Thierry) Incorporate Thierry's TODO notes
> - DONE Balance report wasn't reporting a final total
>   TODO ID is E9F130C5, but I am not sure that E9F130C5.test is linked to
> this bug

I'll look into this.

> - DONE [#C] Add a multi-column budget balance report
>   This one has an TODO ID=8254755E, but the 8254755E.test does not
> correspond.

I'll look into this.

> do you want me to move the status to "CLOSED" for the above listed bug?

Already done, thanks for the offer.

> bug 440 : I cannot reproduce. This now working for me. I put a comment in
> bugzilla. Please update TODO file.

Will do.
:PROPERTIES:
:ID:       6CC14150-1F82-492C-A7D9-CCE10D53A69B
:CREATED:  [2012-03-18 Sun 19:16]
:Date: Sun, 18 Mar 2012 18:59:04 +0100
:Message: [[message://CA+R89YLKW+FoLyH1yA2iF66UbSf603SMKCLK5cN=DzRTxdsnKw@mail.gmail.com][Re: A call for help: creating regression tests]]
:Author: Thierry Daucourt <thierry.daucourt@free.fr>
:END:
** TODO (Thierry) Regression on 647D5DB9.test
:PROPERTIES:
:ID:       A52C75F4-4CE1-44F5-A473-E380D9DCD701
:CREATED:  [2012-08-16 Thu 01:09]
:Date:     Wed, 15 Aug 2012 13:07:56 +0200
:Message:  [[message://CA+R89Y+GzO7GCkTzBeNz0r+t-tVYYNC+s15LV8bjhAtSZkOL9A@mail.gmail.com][Re: Regression on 647D5DB9.test]]
:Author:   Thierry Daucourt <thierry.daucourt@free.fr>
:END:
** TODO (Thierry) Trouble using the python interface
- Note taken on [2012-03-18 Sun 19:22] \\
  :OUTPUT:
  $ gdb ./ledger
  GNU gdb (Ubuntu/Linaro 7.3-0ubuntu2) 7.3-2011.08
  Copyright (C) 2011 Free Software Foundation, Inc.
  License GPLv3+: GNU GPL version 3 or later <http://gnu.org/licenses/gpl.html>
  This is free software: you are free to change and redistribute it.
  There is NO WARRANTY, to the extent permitted by law.  Type "show copying"
  and "show warranty" for details.
  This GDB was configured as "x86_64-linux-gnu".
  For bug reporting instructions, please see:
  <http://bugs.launchpad.net/gdb-linaro/>...
  Reading symbols from /home/thierry/ledger/ledger...done.
  (gdb) run python
  Starting program: /home/thierry/ledger/ledger python
  [Thread debugging using libthread_db enabled]
  Python 2.7.2+ (default, Oct  4 2011, 20:41:12)
  [GCC 4.6.1] on linux2
  Type "help", "copyright", "credits" or "license" for more information.
  >>> import ledger
  >>> dir(ledger)
  >>>
  Program received signal SIGSEGV, Segmentation fault.
  0x00007ffff22492f1 in ?? () from /usr/lib/python2.7/lib-dynload/readline.so
  (gdb) bt
  #0  0x00007ffff22492f1 in ?? () from /usr/lib/python2.7/lib-dynload/readline.so
  #1  0x00007ffff76e1210 in PyOS_Readline () from /usr/lib/libpython2.7.so.1.0
  #2  0x00007ffff76e1ff5 in ?? () from /usr/lib/libpython2.7.so.1.0
  #3  0x00007ffff76e2eb8 in PyTokenizer_Get () from /usr/lib/libpython2.7.so.1.0
  #4  0x00007ffff76de3a4 in ?? () from /usr/lib/libpython2.7.so.1.0
  #5  0x00007ffff77b15a6 in PyParser_ASTFromFile () from /usr/lib/
  libpython2.7.so.1.0
  #6  0x00007ffff77b2619 in PyRun_InteractiveOneFlags ()
     from /usr/lib/libpython2.7.so.1.0
  #7  0x00007ffff77b28de in PyRun_InteractiveLoopFlags ()
     from /usr/lib/libpython2.7.so.1.0
  #8  0x00007ffff77b2e8c in PyRun_AnyFileExFlags () from /usr/lib/
  libpython2.7.so.1.0
  #9  0x00007ffff77c4f75 in Py_Main () from /usr/lib/libpython2.7.so.1.0
  #10 0x000000000065fb2a in ledger::python_interpreter_t::python_command (this=
  0xe01690,
      args=...) at src/pyinterp.cc:337
  #11 0x0000000000667f1d in boost::_mfi::mf1<ledger::value_t,
  ledger::python_interpreter_t, ledger::call_scope_t&>::operator() (this=
  0x7fffffffd728, p=0xe01690, a1=...)
      at /usr/include/boost/bind/mem_fn_template.hpp:165
  #12 0x0000000000667717 in boost::_bi::list2<boost::_bi::value
  <ledger::python_interpreter_t*>, boost::arg<1> >::operator()<ledger::value_t,
  boost::_mfi::mf1<ledger::value_t, ledger::python_interpreter_t,
  ledger::call_scope_t&>, boost::_bi::list1<ledger::call_scope_t&> > (this=
  0x7fffffffd738, f=..., a=...) at /usr/include/boost/bind/bind.hpp:303
  #13 0x00000000006670bf in boost::_bi::bind_t<ledger::value_t, boost::_mfi::mf1
  <ledger::value_t, ledger::python_interpreter_t, ledger::call_scope_t&>,
  boost::_bi::list2<boost::_bi::value<ledger::python_interpreter_t*>, boost::arg
  <1> > >::operator()<ledger::call_scope_t> (this=0x7fffffffd728, a1=...) at /usr
  /include/boost/bind/bind_template.hpp:32
  #14 0x0000000000666afd in boost::detail::function::function_obj_invoker1
  <boost::_bi::bind_t<ledger::value_t, boost::_mfi::mf1<ledger::value_t,
  ledger::python_interpreter_t, ledger::call_scope_t&>, boost::_bi::list2
  <boost::_bi::value<ledger::python_interpreter_t*>, boost::arg<1> > >,
  ledger::value_t, ledger::call_scope_t&>::invoke (
      function_obj_ptr=..., a0=...)
      at /usr/include/boost/function/function_template.hpp:132
  #15 0x00000000004470f8 in boost::function1<ledger::value_t,
  ledger::call_scope_t&>::operator() (this=0x7fffffffd720, a0=...)
      at /usr/include/boost/function/function_template.hpp:1013
  #16 0x000000000042e5c6 in ledger::global_scope_t::execute_command (this=
  0xe00760,
      args=..., at_repl=false) at src/global.cc:236
  #17 0x000000000042e845 in ledger::global_scope_t::execute_command_wrapper (
      this=0xe00760, args=..., at_repl=false) at src/global.cc:246
  ---Type <return> to continue, or q <return> to quit---
  #18 0x0000000000417834 in main (argc=2, argv=0x7fffffffe1e8, envp=
  0x7fffffffe200)
      at src/main.cc:120
  (gdb) quit
  A debugging session is active.
  
      Inferior 1 [process 11432] will be killed.
  
  Quit anyway? (y or n) y
  
  $ ldd ./ledger
      linux-vdso.so.1 =>  (0x00007fff431ff000)
      libboost_python-py27.so.1.46.1 => /usr/lib/libboost_python-py27.so.1.46.1
  (0x00007ff52c7e0000)
      libpython2.7.so.1.0 => /usr/lib/libpython2.7.so.1.0 (0x00007ff52c2e4000)
      libboost_iostreams.so.1.46.1 => /usr/lib/libboost_iostreams.so.1.46.1
  (0x00007ff52c0ca000)
      libboost_filesystem.so.1.46.1 => /usr/lib/libboost_filesystem.so.1.46.1
  (0x00007ff52beac000)
      libboost_system.so.1.46.1 => /usr/lib/libboost_system.so.1.46.1
  (0x00007ff52bca8000)
      libboost_date_time.so.1.46.1 => /usr/lib/libboost_date_time.so.1.46.1
  (0x00007ff52ba96000)
      libicuuc.so.44 => /usr/lib/libicuuc.so.44 (0x00007ff52b74f000)
      libboost_regex.so.1.46.1 => /usr/lib/libboost_regex.so.1.46.1
  (0x00007ff52b44d000)
      libedit.so.2 => /usr/lib/x86_64-linux-gnu/libedit.so.2 (0x00007ff52b225000)
      libmpfr.so.4 => /usr/lib/libmpfr.so.4 (0x00007ff52afd0000)
      libgmp.so.10 => /usr/lib/libgmp.so.10 (0x00007ff52ad5c000)
      libstdc++.so.6 => /usr/lib/x86_64-linux-gnu/libstdc++.so.6
  (0x00007ff52aa54000)
      libm.so.6 => /lib/x86_64-linux-gnu/libm.so.6 (0x00007ff52a7d0000)
      libgcc_s.so.1 => /lib/x86_64-linux-gnu/libgcc_s.so.1 (0x00007ff52a5ba000)
      libpthread.so.0 => /lib/x86_64-linux-gnu/libpthread.so.0
  (0x00007ff52a39c000)
      libc.so.6 => /lib/x86_64-linux-gnu/libc.so.6 (0x00007ff529ffb000)
      libssl.so.1.0.0 => /lib/x86_64-linux-gnu/libssl.so.1.0.0
  (0x00007ff529daa000)
      libcrypto.so.1.0.0 => /lib/x86_64-linux-gnu/libcrypto.so.1.0.0
  (0x00007ff5299fa000)
      libz.so.1 => /lib/x86_64-linux-gnu/libz.so.1 (0x00007ff5297e2000)
      libdl.so.2 => /lib/x86_64-linux-gnu/libdl.so.2 (0x00007ff5295de000)
      libutil.so.1 => /lib/x86_64-linux-gnu/libutil.so.1 (0x00007ff5293da000)
      libbz2.so.1.0 => /lib/libbz2.so.1.0 (0x00007ff5291ca000)
      libicudata.so.44 => /usr/lib/libicudata.so.44 (0x00007ff528189000)
      libicui18n.so.44 => /usr/lib/libicui18n.so.44 (0x00007ff527dd2000)
      libbsd.so.0 => /lib/libbsd.so.0 (0x00007ff527bc6000)
      libncurses.so.5 => /lib/libncurses.so.5 (0x00007ff5279a4000)
      /lib64/ld-linux-x86-64.so.2 (0x00007ff52ca53000)
      libtinfo.so.5 => /lib/libtinfo.so.5 (0x00007ff52777d000)
  $
  :END:
:PROPERTIES:
:ID:       A5DCF64E-0F90-459B-8D1F-C60253FE646F
:CREATED:  [2012-03-17 Sat 15:51]
:Date: Fri, 16 Mar 2012 16:52:35 -0700 (PDT)
:Message: [[message://19113789.1845.1331941956011.JavaMail.geo-discussion-forums@ynil17][Re: Trouble using the python interface]]
:Author: thierry <thierry.daucourt-GANU6spQydw@public.gmane.org>
:END:
** TODO (Thierry) acprep check failing
:PROPERTIES:
:ID:       912AD49F-DB08-4EF9-A47B-5E7F62186E1D
:CREATED:  [2012-08-16 Thu 01:16]
:Date:     Mon, 13 Aug 2012 20:38:22 +0200
:Message:  [[message://CA+R89YJ4+V5AVEVP3_dpbeYNOWLpGkwM92D5Ke6UFGkFzkYYBw@mail.gmail.com][acprep check failing]]
:Author:   Thierry Daucourt <thierry.daucourt@free.fr>
:END:
** TODO (Tom) Printing notes in register/csv
:PROPERTIES:
:ID:       F9C9835E-83EC-4C4D-B0BA-0CB2A9552DE3
:CREATED:  [2012-05-13 Sun 08:51]
:Date: Sat, 12 May 2012 02:47:51 -0700 (PDT)
:Message: [[message://25012548.393.1336816071734.JavaMail.geo-discussion-forums@vbjb10][Re: Printing notes in register/csv]]
:Author: Tom Usher <4dmm.tom-Re5JQEeQqe8AvxtiuMwx3w@public.gmane.org>
:END:
** TODO (eternaleye) Automated postings with a tag = value match ignore the value
:PROPERTIES:
:ID:       642A1D86-87F1-4FD8-BFC3-519862E7DD78
:CREATED:  [2012-06-26 Tue 04:12]
:Date: Tue, 26 Jun 2012 00:04:26 -0700
:Message: [[message://jwiegley/ledger/issues/68/6568583@github.com][Re: {ledger} Automated postings with a tag = value match ignore the value (#68)]]
:Author: eternaleye <reply+i-5162488-36b43c31c1308c337b0d41a370952e9980b9f61f-8460@reply.github.com>
:END:
** TODO (kirubakaran) Ledger crashes on a certain condition
:PROPERTIES:
:ID:       D386D03C-BF43-40A0-8C4B-07AF2C57E7D5
:CREATED:  [2012-06-19 Tue 01:57]
:Date: Mon, 18 Jun 2012 00:08:47 -0700
:Message: [[message://jwiegley/ledger/issues/67/6389247@github.com][Re: {ledger} Ledger crashes on a certain condition (#67)]]
:Author: kirubakaran <reply+i-5110041-acd6560d846bdc485f8098e5927721c926757fc2-8460@reply.github.com>
:END:
** TODO (yunzheng) Account directive not giving warning with --strict
:PROPERTIES:
:ID:       ED7DC55C-D6A3-40A3-99F1-48CC9B32C315
:CREATED:  [2012-04-08 Sun 23:12]
:Date: Sat, 7 Apr 2012 07:59:19 -0700
:Message: [[message://jwiegley/ledger/issues/62@github.com][{ledger} account directive not giving warning with --strict (#62)]]
:Author: yunzheng <reply+i-4015598-813dfad6b62bc1f1c6e7432c8b479d21376683c1-8460@reply.github.com>
:END:
** TODO (yunzheng) Dated balance assertions not working
:PROPERTIES:
:ID:       31C9A484-6C06-4D9C-B6F1-F63E5366E4B3
:CREATED:  [2012-04-01 Sun 14:48]
:Date: Sun, 1 Apr 2012 09:28:34 -0700
:Message: [[message://jwiegley/ledger/issues/61@github.com][{ledger} Dated balance assertions not working (#61)]]
:Author: yunzheng <reply+i-3917273-42c16092c82266cb963e5014b71b6c4bdbff99c7-8460@reply.github.com>
:END:
** TODO Apply C++ and Understand to the Ledger codebase
:PROPERTIES:
:ID:       C381FBE5-790F-4D6B-A793-7588F8BB042E
:CREATED:  [2012-04-05 Thu 16:11]
:Date: Thu, 05 Apr 2012 12:27:22 -0400
:Message: [[message://m2ty0yp2j9.fsf@pluto.luannocracy.com][Re: Ping]]
:Author: Dave Abrahams <dave@boostpro.com>
:END:
** TODO Merge Craig's changes into next branch [0/17]
- [ ] 0001-correct-cleared_format-to-align-total-lines.patch
- [ ] 0002-fixed-bug-in-budget-format-that-failed-when-total-ex.patch
- [ ] 0003-Fixed-pathname-doublequoting-in-emacs.cc.patch
- [ ] 0004-resolved-bug-584-trailing-whitespace-not-ignored-in-.patch
- [ ] 0005-resolved-bug-550-trailing-white-space-not-ignore-in-.patch
- [ ] 0006-resolved-enhancement-551.-generated-posts-are-now-ma.patch
- [ ] 0007-Fixes-bug-565-Transactions-with-leading-whitespace-n.patch
- [ ] 0008-Removed-the-cache-option-from-session.h-and-session..patch
- [ ] 0009-Modified-global.h-and-global.cc-to-call-info-for-the.patch
- [ ] 0010-Dramatically-improved-the-online-help-system.patch
- [ ] 0011-Added-option-getquotes-to-specify-the-path-for-teh-g.patch
- [ ] 0012-download-and-getquote-now-actually-trying-to-downloa.patch
- [ ] 0013-Download-quotes-is-working-with-configurable-getquot.patch
- [ ] 0014-Completed-activating-download-and-allowing-a-configu.patch
- [ ] 0015-Fixed-price-exp-checking.patch
- [ ] 0016-Added-filebase-abd-filepath-to-item_t.patch
- [ ] 0017-Fixes-bug-609-ledger-doesn-t-handle-relative-paths-f.patch
:PROPERTIES:
:ID:       15CE5322-71AC-4A2B-9D25-EED42CD8ACD1
:CREATED:  [2011-11-22 Tue 17:53]
:Date: Tue, 22 Nov 2011 14:35:53 -0600 (CST)
:Message: [[message://8592039.8154.1321994153563.JavaMail.SYSTEM@dlev230][{Code Collaborator} Respond to new chat in Review #4115]]
:Submitter: Cody Addison <c-addison@ti.com>
:END:
** TODO Remove <xmlattr> entries in property trees
:PROPERTIES:
:ID:       87CB99B7-DDD9-4DC0-A39A-CB190BF0E09B
:CREATED:  [2012-05-18 Fri 01:38]
:END:
** TODO Rewrite reporting code to use report_* variants of journal objects
:PROPERTIES:
:ID:       F3879559-16DE-42F7-85CB-8A35F080A588
:CREATED:  [2012-03-20 Tue 05:14]
:END:
** TODO Segmentation fault with --unbudgeted but all account have a budget
Segmentation fault with --unbudgeted but all accounts have a budget
:PROPERTIES:
:ID:       2844A6C4-FDD9-4FE6-A258-C1F5A3A9BBC7
:CREATED:  [2012-07-19 Thu 01:50]
:Date: Wed, 11 Jul 2012 09:31:54 -0700 (PDT)
:Message: [[message://8cf15bad-7fe3-4e38-9126-9f0f67ae2688@googlegroups.com][Segmentation fault with --unbudgeted but all account have a budget]]
:Author: Qwertyu <scheit@gmail.com>
:END:
** TODO [[bug:201][#201]] Handling currencies that were replaced by the Euro
- State "TODO"       from "DONE"       [2012-03-09 Fri 20:09] \\
  There are more issues with this bug than just the title line.
- State "DONE"       from "TODO"       [2012-03-09 Fri 20:08]
- State "TODO"       from "DEFERRED"   [2012-02-28 Tue 21:37]
   - State "DEFERRED"   from "TODO"       [2010-06-10 Thu 12:57] \\
     This is not something that can be supported in 3.0, as I believe it
     requires many supporting features which don't exist yet.  Ledger doesn't
     try this hard to allow for time-bounded commodity translations.
   - Note taken on [2010-05-28 Fri 00:59] \\
     Okay, using
     #+begin_src sh
      C 1.00 EUR = 13.7603 ATS
     #+end_src
     rather than
     #+begin_src sh
      P 2001-12-31 EUR 13.7603 ATS
     #+end_src
     solves most of these issues.

     However, would it be possible to add a date for C?  I'd like to see ATS
     before 2002-01-01 and EUR from then on.
   There are a couple of problems with ledger when using currencies that were
   replaced by the Euro as well as the Euro.

   First, I know that ledger is mostly designed as a "calculator" without any
   knowledge about the actual input.  However, given that some currencies
   were replaced by the Euro and have fixed exchange rates that will not
   change, it would be nice if ledger would know about those.  How about
   adding a text file to ledger that is read by default with such fixed
   conversion rates?  (If you agree, I'm happy to write one for the
   currencies replaced by the Euro.)

   Related to this is a problem with showing currencies.  Let's say that I
   have accounts with ATS, EUR and GBP.  How can I tell ledger to convert ATS
   to EUR but do no other conversation.  -X EUR won't work because it would
   also convert GBP, but I want to see both EUR and GBP (I just want the
   obsolete ATS to be converted to EUR).  Is this possible somehow?

   Finally, there appear to be some artefacts because ledger doesn't know
   that ATS is a currency replaced by EUR.  Normally, "ledger bal" does not
   display accounts that are empty (see the first example below).  But if I
   put something into an account as ATS and then take out exactly the same
   amount (but as EUR), "ledger bal" will show the account name and "0"
   (probably because it switches to commodity mode).

   Example:

   a)
   #+begin_src sh
   2010-04-02 Test
      A:Foo  10.00
      A:Bar

   2010-04-02 Test
      A:Foo  -10.00
      A:Baz
   #+end_src

   b)
   #+begin_src sh
   P 2001-12-31 EUR 13.7603 ATS

   2001-01-01 Test
      B:Foo  13.7603 ATS
      B:Bar

   2010-04-02 Test
      B:Foo  -1.00 EUR
      B:Baz
   #+end_src

   a) will show no Foo with "ledger bal" but b) will show "0 Foo".
   :PROPERTIES:
   :ID:       9EAC63D2-8DD7-438D-9767-3AAE79BF0BD3
   :Message:  [[message://20100402164233.GA10410@jirafa.cyrius.com][Handling currencies that were replaced by the Euro]]
   :Submitter: Martin Michlmayr <tbm@cyrius.com>
   :CREATED:  [2010-04-04 Sun 15:18]
   :END:
** TODO [[bug:207][#207]] No output to file in REPL with "push -o output.journal"
- State "TODO"       from "WORKSFORME" [2012-03-10 Sat 22:42]
- State "WORKSFORME" from "TODO"       [2012-02-28 Tue 22:52]
   - State "TODO"       from "WORKSFORME" [2011-08-05 Fri 14:10] \\
     Thierry confirms this still happens for him.
   - State "WORKSFORME" from "WAITING"    [2010-06-15 Tue 05:23]
   - State "WAITING"    from "STARTED"    [2010-06-10 Thu 04:54] \\
     To Thomas: I just tried this and it worked fine.  After your "push" command,
     does the prompt change to a ]]?
   :LOGBOOK:
   CLOCK: [2010-06-10 Thu 04:52]--[2010-06-10 Thu 04:54] =>  0:02
   :END:
   :PROPERTIES:
   :ID:       D6B17614-288D-44E5-99C2-569E020809C4
   :CREATED:  [2010-05-30 Sun 03:33]
   :END:
** TODO [[bug:347][#347]] All contexts should be accessible by name
   - post.foo
   - xact.foo
   - account.foo
   - report.foo
   - session.foo
   - global.foo
   - options.foo
   - python.foo
   :PROPERTIES:
   :ID:       FA125CB3-F420-4350-9774-83186C81C8F3
   :CREATED:  [2010-06-18 Fri 17:37]
   :END:
** TODO [[bug:348][#348]] Make every item detail gettable and settable via metadata
- [ ] Date
  Make Date:: a synonym for just [foo] in a posting comment
- [ ] AuxDate
- [ ] Code
- [ ] Payee
- [ ] State
- [ ] Account
- [ ] Amount
- [ ] Price
- [ ] Total
- [ ] Cost
:PROPERTIES:
:ID:       B301B118-5563-4EC9-8E1E-054819C2898E
:CREATED:  [2010-06-18 Fri 06:52]
:END:
** TODO [[bug:362][#362]] bal --inject=Expected '^income:ceg' output is not correct
#+begin_src sh
ledger reg -s --inject=Expected '^income:ceg'
#+end_src
:OUTPUT:
07-Jan-12 - 10-Jun-22           Expected                $200,044.36  $200,044.36
                                Income:CEG:Holiday Pay   $-4,153.83  $195,890.53
                                Income:CEG:Retro Pay     $-4,749.99  $191,140.54
                                Income:CEG:Salary      $-191,140.54            0
:END:
#+begin_src sh
bal --inject=Expected '^income:ceg'
#+end_src
:OUTPUT:
                   0  Income:CEG
          $-4,153.83    Holiday Pay
          $-4,749.99    Retro Pay
           $8,903.82    Salary
--------------------
                   0
:END:
For some reason, in the balance reported the Expected account is being
subsumed within the Income:CEG:Salary account.
:PROPERTIES:
:ID:       807D19BB-DCF3-4ADA-99CC-7480BADF687C
:CREATED:  [2010-06-22 Tue 18:44]
:END:
** TODO [[bug:375][#375]] -p "until MONTH YEAR" ignores YEAR, but -p "in MONTH YEAR" works
:PROPERTIES:
:ID:       DE5CBC0F-BD49-46A3-AEB1-4F354B9F4A36
:Submitter: bugzilla-daemon@mail.johnwiegley.com
:Message:  [[message://bug-375-1@http.newartisans.com/bugzilla/][{Bug 375} New: -p "until MONTH YEAR" ignores YEAR, but -p "in MONTH YEAR" works]]
:CREATED:  [2010-07-05 Mon 00:06]
:END:
** TODO [[bug:376][#376]] ledger reg ^exp is showing Assets in a budget report
This happens if the periodic transaction contain both Assets and Expenses.
:PROPERTIES:
:ID:       3806746F-6745-4D2F-BC8A-20B26F90C3B9
:CREATED:  [2010-07-06 Tue 16:14]
:END:
** TODO [[bug:377][#377]] ledger -f DIRECTORY doesn't fail with a clear error
:PROPERTIES:
:ID:       8DC11F98-5C85-4651-A63D-6847474E3CD2
:Submitter: bugzilla-daemon@mail.johnwiegley.com
:Message:  [[message://bug-377-1@http.newartisans.com/bugzilla/][{Bug 377} New: -f DIRECTORY doesn't fail with a clear error]]
:CREATED:  [2010-07-15 Thu 08:02]
:END:
** TODO [[bug:378][#378]] budget: Cannot convert balance with multiple commodities to amount
:PROPERTIES:
:ID:       30B48934-48F2-46B9-B058-99DEF9BF43C7
:Submitter: bugzilla-daemon@mail.johnwiegley.com
:Message:  [[message://bug-378-1@http.newartisans.com/bugzilla/][{Bug 378} New: budget: Cannot convert a balance with multiple commodities to an amount]]
:CREATED:  [2010-07-15 Thu 08:02]
:END:
** TODO [[bug:381][#381]] ledger bal and --forecast gives wrong result (60 * of monthly value)
:PROPERTIES:
:ID:       24678A34-5DD0-4119-B0CB-CC56ED5CA3D8
:Submitter: bugzilla-daemon@mail.johnwiegley.com
:Message:  [[message://bug-381-1@http.newartisans.com/bugzilla/][{Bug 381} New: ledger bal and --forecast gives wrong result (60 * of monthly value)]]
:CREATED:  [2010-07-18 Sun 23:13]
:END:
** TODO [[bug:382][#382]] treats {xx} as {=xx}
:PROPERTIES:
:ID:       15D16351-F0B2-4B79-8BCE-A47193607CDB
:Submitter: bugzilla-daemon@mail.johnwiegley.com
:Message:  [[message://bug-382-1@http.newartisans.com/bugzilla/][{Bug 382} New: treats {xx} as {=xx}]]
:CREATED:  [2010-07-19 Mon 16:59]
:END:
** TODO [[bug:383][#383]] --lot-prices doesn't honour date-format
   :PROPERTIES:
   :ID:       FDC49608-9E96-4DF5-AFD8-BA2041A89D82
   :Submitter: bugzilla-daemon@mail.johnwiegley.com
   :Message:  [[message://bug-383-1@http.newartisans.com/bugzilla/][{Bug 383} New: --lot-prices doesn't honour date-format]]
   :CREATED:  [2010-07-19 Mon 17:43]
   :END:
** TODO [[bug:384][#384]] ledger shows lot prices for fixated commodities when not requested
   :PROPERTIES:
   :ID:       D4668D57-05F9-46E4-A1D6-1B4CA122588C
   :Submitter: bugzilla-daemon@mail.johnwiegley.com
   :Message:  [[message://bug-384-1@http.newartisans.com/bugzilla/][{Bug 384} New: ledger shows lot prices for fixated commodities even when I didn't request it]]
   :CREATED:  [2010-07-19 Mon 17:52]
   :END:
** TODO [[bug:387][#387]] There should be a simpler syntax for referring to past lots
   - Note taken on [2010-07-30 Fri 03:07] \\
     I was thinking about commodity valuations last night, and I realized
     there is fundamental detail which Ledger has no concept of right now: the
     finality of postings.

     There are postings which are "open", waiting to be "closed" on another
     day.  For example, if I get paid at work, I now have money that is
     waiting to be spent.  This money is "open", in the sense that it's future
     has not been determined.  It therefore has a fluctuating value based on
     the cost of the dollar.  It's a movement of funds *in transition* from
     one place to another.

     Other postings are final, like when I pay $20 to see a movie.  That $20
     is now finally and absolutely *spent*.  It has no future, with regard to
     my finances.  Whatever valuation the amount had on the day I saw the
     movie is the valuation it must always have.

     Reflecting on this, it seems that Income/Expenses are by nature final
     categories, while Assets/Liabilities are open.  Then again, sometimes
     there are individual postings which should be considered final, even
     though their parent account is not by rule.

     To accomodate this detail (which some have tried to express through
     fixated commodities), I suggest the following additional syntax:

       final REGEXP

         Any accounting matching REGEXP is considered a final category.
         Postings which move amounts into or from these accounts will always
         show amounts in terms of the posting's value at that time.

     In addition, if a period (.) is found at the end of a posting's amount or
     cost, the amount of that posting is considered final:

       Expenses:Food        $20.00.

     Internally, this usage would be modelled using fixated commodities.  The
     $ would get annotated with the date of the posting, and then any use of
     -V or -X would constrain the valuation to that date.  If multiple
     commodities occur in the transaction, then a fixed price is automatically
     set as well.
   - Note taken on [2010-07-29 Thu 03:05] \\
     22:26 < johnw> something easy like KRW#A, where A is defined in an
         unambiguous way
     22:26 < johnw> like a metadata tag in the transaction

     Couldn't this be achieved with the existing (Note) syntax that can be
     used to define arbitrary notes for lots?
   - Note taken on [2010-07-24 Sat 04:30] \\
     Later: [[message://20100720082626.GA29263@jirafa.cyrius.com][Re: Our discussion on IRC today]]
   :PROPERTIES:
   :ID:       B0808272-25FC-4606-9E80-FB5485FE412A
   :Submitter: Martin Michlmayr <tbm@cyrius.com>
   :Message:  [[message://20100719230158.GA26275@jirafa.cyrius.com][Our discussion on IRC today]]
   :CREATED:  [2010-07-20 Tue 00:15]
   :END:
** TODO [[bug:390][#390]] Cannot access account total in automated transaction
   :PROPERTIES:
   :ID:       38AB760F-06BC-401A-8FED-A8B394125D20
   :Submitter: bugzilla-daemon@mail.johnwiegley.com
   :Message:  [[message://bug-390-1@http.newartisans.com/bugzilla/][{Bug 390} New: Cannot access account total in automated transaction]]
   :CREATED:  [2010-08-01 Sun 18:55]
   :END:
** TODO [[bug:392][#392]] Reporting multiple commodities with -J
   :PROPERTIES:
   :ID:       5590D50E-F380-4D76-8BAD-71B2A77346FB
   :Submitter: Gabriel Kerneis <kerneis@pps.jussieu.fr>
   :Message:  [[message://20100730074700.GA3033@kerneis.info][Reporting multiple commodities with -J]]
   :CREATED:  [2010-07-30 Fri 06:08]
   :END:
** TODO [[bug:398][#398]] Default commodity depends on the order of postings
   :PROPERTIES:
   :ID:       9A925FF4-5BDD-489C-8585-BAABB61BF345
   :Submitter: bugzilla-daemon@mail.johnwiegley.com
   :Message:  [[message://bug-398-1@http.newartisans.com/bugzilla/][{Bug 398} New: default commodity depends on the order of postings]]
   :CREATED:  [2010-08-16 Mon 16:28]
   :END:
** TODO [[bug:400][#400]] -l commodity and -B
   :PROPERTIES:
   :ID:       79B191C4-5A95-408B-A473-6D1520129941
   :Submitter: bugzilla-daemon@mail.johnwiegley.com
   :CREATED:  [2010-08-28 Sat 15:33]
   :END:
** TODO [[bug:401][#401]] -l "commodity = ''AA1" doesn't match when commodity contains digits
   :PROPERTIES:
   :ID:       F3B9F18B-9366-4607-9B28-4912123E9140
   :Submitter: bugzilla-daemon@mail.johnwiegley.com
   :Message:  [[message://bug-401-1@http.newartisans.com/bugzilla/][{Bug 401} New: -l "commodity = ''AA1" doesn't match when commodity contains digits]]
   :CREATED:  [2010-08-28 Sat 15:33]
   :END:
** TODO [[bug:402][#402]] Enhance color output for --budget
   :PROPERTIES:
   :ID:       016E1187-1FB7-4E77-906D-55D490588D24
   :Submitter: bugzilla-daemon@mail.johnwiegley.com
   :Message:  [[message://bug-402-1@http.newartisans.com/bugzilla/][{Bug 402} New: Enhance color output for --budget]]
   :CREATED:  [2010-08-29 Sun 19:25]
   :END:
** TODO [[bug:403][#403]] --budget ignores "Yearly in August"-type transactions
   :PROPERTIES:
   :ID:       B9CC8CD3-71EA-40DC-AAE6-EA59FA57B5D6
   :Submitter: bugzilla-daemon@mail.johnwiegley.com
   :Message:  [[message://bug-403-1@http.newartisans.com/bugzilla/][{Bug 403} New: --budget ignores "Yearly in August"-type transactions]]
   :CREATED:  [2010-08-30 Mon 18:27]
   :END:
** TODO [[bug:410][#410]] Forecasting is broken
   :PROPERTIES:
   :ID:       6F51229F-1C32-4C01-983A-52BA47421A38
   :Submitter: bugzilla-daemon@mail.johnwiegley.com
   :Message:  [[message://bug-410-1@http.newartisans.com/bugzilla/][{Bug 410} New: Forecasting broken]]
   :CREATED:  [2010-10-03 Sun 22:16]
   :END:
** TODO [[bug:411][#411]] Refrain from downloading a quote if can't get newer
   :PROPERTIES:
   :ID:       1AB29C8F-B661-4D47-8B80-E785E480D97B
   :Submitter: bugzilla-daemon@mail.johnwiegley.com
   :Message:  [[message://bug-411-1@http.newartisans.com/bugzilla/][{Bug 411} New: refrain from downloading a quote if can't get newer]]
   :CREATED:  [2010-10-03 Sun 22:19]
   :END:
** TODO [[bug:412][#412]] Error masked by certain options with -J -X EUR
   :PROPERTIES:
   :ID:       660641D5-0203-4A95-83A0-58E055803311
   :Submitter: bugzilla-daemon@mail.johnwiegley.com
   :Message:  [[message://bug-412-1@http.newartisans.com/bugzilla/][{Bug 412} New: error masked by certain options with -J -X EUR]]
   :CREATED:  [2010-11-13 Sat 12:01]
   :END:
** TODO [[bug:415][#415]] Order of budget entries is significant
   The order of budget entries is important.  The following budget:
   #+begin_src ledger
   ~ Monthly
      Assets
      Expenses         $200.00
      Expenses:Food    $100.00
      Expenses:Health   $20.00
   #+end_src
   is *invalid*! Any Expenses:Food or Expenses:Health posting will match the
   first Expenses. The proper budget looks like this:
   #+begin_src ledger
   ~ Monthly
      Expenses:Health   $20.00
      Expenses:Food    $100.00
      Expenses         $200.00
      Assets
   #+end_src

   To sort budget elements always use reversed order (sort -r), this assures
   that child accounts always come before thier parents (e.g. Expenses:Food
   before Expenses).
   :PROPERTIES:
   :ID:       A355D63D-8D76-434A-BA7E-D44C97200B26
   :Submitter: Łukasz Stelmach <lukasz.stelmach@iem.pw.edu.pl>
   :Message:  [[message://87bp7ulmx4.fsf@kotik.lan][{NOTE} order of budget entries is important]]
   :CREATED:  [2010-09-19 Sun 14:43]
   :END:
** TODO [[bug:433][#433]] Possible issue with Balanced automated transactions
   Let's say I've got a ledger file like this:
   #+begin_src ledger
   = /^Income:Salary:BigCorp/
      Expense:Tax                                         400,00 €
      Expense:Pension                                     100,00 €

   2010-03-03 BigCorp
      Income:Salary:BigCorp                             -2000,00 €
      Assets:Checking

   2010-04-03 BigCorp
      Income:Salary:BigCorp                             -2000,00 €
      Assets:Checking
   #+end_src
   :OUTPUT:
   $ ledger -f ~/Money/salary.dat print
   :END:
   yields
   :OUTPUT:
   2010-03-03 BigCorp
      Income:Salary:BigCorp               -2000,00 €
      Assets:Checking                      1500,00 €
      Expense:Tax                           400,00 €
      Expense:Pension                       100,00 €

   2010-04-03 BigCorp
      Income:Salary:BigCorp               -2000,00 €
      Assets:Checking                      1500,00 €
      Expense:Tax                           400,00 €
      Expense:Pension                       100,00 €
   :END:
   balance and register output look reasonable too.  What's even more
   interesting is that with transaction of this form:
   #+begin_src ledger
   2010-04-03 BigCorp
      Income:Salary:BigCorp
      Assets:Checking                                   -2000,00 €
   #+end_src
   The fees are as if added and the Income is increased, exactly as I would
   expect it (Income is -2500 and Assets is 2000). But why
   :OUTPUT:
   $ ledger --actual -f ~/Money/salary.dat print
   2010-03-03 BigCorp
      Income:Salary:BigCorp               -2000,00 €
      Assets:Checking                      1500,00 €

   2010-04-03 BigCorp
      Income:Salary:BigCorp               -2000,00 €
      Assets:Checking                      1500,00 €
   :END:
   subtracts tax and superannuation without printing them?  Is it a bug or
   I've missed something in the documentation?
   :PROPERTIES:
   :ID:       CD835715-9FF8-464E-9806-A5F641D43046
   :Submitter: Łukasz Stelmach <lukasz.stelmach@iem.pw.edu.pl>
   :Message:  [[message://87hbhmlsab.fsf@kotik.lan][balanced automated transaction]]
   :CREATED:  [2010-09-19 Sun 14:43]
   :END:
** TODO [[bug:434][#434]] Problem with the new --anon and speed-test.dat
   - Note taken on [2010-11-26 Fri 18:43] \\
     This command generates the problem:
     :OUTPUT:
     ledger --args-only --file=ledger/test/input/speed-test.dat --decimal-comma --anon print
     :END:
   I tried to "ledger --anon print > new-speed-test.dat" and I found that
   there is a bug in "--anon".

   When currency CUR appears 1st time, this is anonymized to A.
   When currency CUR appears 2nd time, this is anonymized to A.
   When commodity COM appears 1st time, this is anonymized to B.
   When commodity COM appears 2nd time, this is anonymized to C. <-- bug here
   :PROPERTIES:
   :ID:       500F3A63-69F9-4E40-8A88-9121D24F3FB5
   :CREATED:  [2010-11-26 Fri 13:15]
   :END:
** TODO [[bug:436][#436]] Allow multiple null amounts if the rest have balance assignments
   #+begin_src ledger
   2010/01/01 * Check or set balance
      Assets              = $ 1,000
      Equity:Balance
   #+end_src

   What I would expect is:
   - ledger computes the amount x for the first line, so that
      current_assets + x = $ 1,000
   - and then sets equity to -x.
   - and did not work when x = 0.

   It was some time ago, so maybe this works now.  Or is there some reason for
   it not to work that I cannot figure out (my algorithm looks straightforward
   but it might not generalize to more complex cases)?
   :PROPERTIES:
   :ID:       6A3BCDE8-DD0C-4749-888F-71AC6825558A
   :Submitter: Gabriel Kerneis <kerneis@pps.jussieu.fr>
   :Message:  [[message://20101126151723.GA17097@rhodium.pps.jussieu.fr][Re: null amount allowed per entry error because of note]]
   :CREATED:  [2010-11-26 Fri 11:51]
   :END:
** TODO [[bug:439][#439]] Ledger does not correctly sort balance of anonymized data
   - Note taken on [2010-12-27 Mon 18:27] \\
     [[message://AANLkTikxjUwSPLMLpY%2BomL0A1TNJgCr1n37eM2Zqqq9G@mail.gmail.com][Re: ledger: balance sorting bug]]
   I came across a bug where ledger does not sort the balance output.  I used
   test files that are in ledger/test directory.  First example does work.
   Second example does work.
   :OUTPUT:
   $ ledger --args-only --file ~/ledger/test/input/drewr.dat balance --flat --sort=total
           $ -5,200.00  X
           $ -2,000.00  X
           $ -1,000.00  X
              $ -30.00  X
              $ -20.00  X
               $ 20.00  X
               $ 30.00  X
              $ 200.00  X
              $ 300.00  X
              $ 334.00  X
              $ 500.00  X
            $ 1,396.00  X
            $ 5,500.00  X
   --------------------
                     0
   :END:
   :OUTPUT:
   $ ledger --args-only --file ~/ledger/test/input/speed-test.dat balance --decimal-comma --exchange=€ --flat --sort=total | head
           -27330,09 €  X
             -403,53 €  X
               -0,11 €  X
              687,56 €  X
             -146,85 €  X
           136034,33 €  X
            33452,82 €  X
            10083,56 €  X
            10405,79 €  X
            62282,60 €  X
   :END:
   :PROPERTIES:
   :ID:       D65D80C9-623A-4F18-96A9-936ED4399AC6
   :Submitter: Thierry Daucourt <thierry.daucourt@free.fr>
   :Message:  [[message://AANLkTikwx%2B-AQQrjQ62nm__P0BAwaNB4WRKF4bPc2Bfj@mail.gmail.com][ledger: balance sorting bug]]
   :CREATED:  [2010-10-18 Mon 16:04]
   :END:
** TODO [[bug:443][#443]] Ignores entry with wrong data instead of giving an error
   :PROPERTIES:
   :ID:       94A4467D-FDD2-47B0-9796-6889824E84BA
   :Submitter: bugzilla-daemon@mail.johnwiegley.com
   :Message:  [[message://bug-443-1@http.newartisans.com/bugzilla/][{Bug 443} New: ignores entry with wrong data instead of giving an error]]
   :CREATED:  [2010-11-29 Mon 19:52]
   :END:
** TODO [[bug:444][#444]] Output of lines w/ negative amounts and thousands separator is 81 chars
   :PROPERTIES:
   :ID:       071633F4-C52A-4BE7-954D-297A0F4B778B
   :Submitter: GitHub <noreply@github.com>
   :Message:  [[message://4cfcd2658178a_635d3fa1c18bc87c270@fe4.rs.github.com.tmail][{GitHub} Output of lines containing negative amounts with thousands separator is 81 chars long {jwiegley/ledger GH-20}]]
   :CREATED:  [2010-12-06 Mon 14:48]
   :END:
** TODO [[bug:445][#445]] Could handle mixing of decimal comma and decimal point better
   :PROPERTIES:
   :ID:       038408E7-7926-44AC-96D3-0E113E515903
   :Submitter: bugzilla-daemon@mail.johnwiegley.com
   :Message:  [[message://bug-445-1@http.newartisans.com/bugzilla/][{Bug 445} New: could handle mixing of decimal comma and decimal point better]]
   :CREATED:  [2010-12-17 Fri 05:14]
   :END:
** TODO [[bug:455][#455]] Free shares & --exchange & --total-data
   :PROPERTIES:
   :ID:       E0DAC7C0-471E-4A45-A341-1F29F4670A98
   :Submitter: thierry <thierry.daucourt@free.fr>
   :Message:  [[message://845bd74e-8d33-43c5-9668-87ee9fe334d5@q18g2000vbm.googlegroups.com][free shares & --exchange & --total-data]]
   :CREATED:  [2010-12-06 Mon 12:41]
   :END:
** TODO [[bug:457][#457]] Comma parsing problem
   :PROPERTIES:
   :ID:       F2C4AB15-D0DE-4917-AC45-8DCB0D4C117D
   :Submitter: Andrew Stribblehill <stribb@gmail.com>
   :Message:  [[message://AANLkTinfypuh_Q%2BKkbEJaWBGh637C%3D%2BSDR95ZiwLL8cP@mail.gmail.com][Comma parsing problem]]
   :CREATED:  [2010-11-28 Sun 20:33]
   :END:
** TODO [[bug:459][#459]] Expression-based automatic transaction predicate not working
   :PROPERTIES:
   :ID:       29BE8505-CAE7-40E6-85F8-4D91DB524DB8
   :Submitter: Zack Williams <zdwzdw@gmail.com>
   :Message:  [[message://AANLkTin1k5DdW_Ctc0d_WsBb%2BxnPLBUs6%3DA11VdhX8d4@mail.gmail.com][Re: Automatic transactions only for certain entry amounts]]
   :CREATED:  [2010-12-29 Wed 17:42]
   :END:
** TODO [[bug:462][#462]] Default currency/commodity not respected
   In 2.6.2 on 64-bit ubuntu; calculations in disagreement.
   :PROPERTIES:
   :ID:       BA8A5D0A-C65F-42BC-801F-78A37BD9CDD4
   :Submitter: bugzilla-daemon@mail.johnwiegley.com
   :Message:  [[message://bug-462-1@http.newartisans.com/bugzilla/][{Bug 462} New: Default currency/commodity not respected in 2.6.2 on 64-bit ubuntu; calculations in disagreement]]
   :CREATED:  [2011-01-03 Mon 23:10]
   :END:
** TODO [[bug:469][#469]] Account / commodity periodic gain question
   :PROPERTIES:
   :ID:       9DB996BD-2E83-49F4-AF11-8EC5CA3927DE
   :Message:  [[message://AANLkTikcQ-9Aifi3c6a-tUHSr2tcqbxh2c_dxUb4cY8k@mail.gmail.com][Re: Account / commodity periodic gain]]
   :CREATED:  [2011-01-13 Thu 23:09]
   :END:
** TODO [[bug:470][#470]] Period support and forecast reports
   :PROPERTIES:
   :ID:       0A606F26-9B6F-44A1-8C25-72D9E3E68297
   :Message:  [[message://17302579.215.1294968238136.JavaMail.geo-discussion-forums@yqep2][Period support and forecast reports]]
   :CREATED:  [2011-01-13 Thu 23:10]
   :END:
** TODO [[bug:477][#477]] Ledger print command does not handle GnuCash Capital Gain Split
   :PROPERTIES:
   :ID:       61E2AF09-F622-4DAF-B1A5-7B10478F883E
   :CREATED:  [2011-02-10 Thu 16:22]
   :Message:  [[message://bug-477-1@http.newartisans.com/bugzilla/][{Bug 477} New: Ledger print command does not handle GnuCash Capital Gain Split]]
   :END:
** TODO [[bug:480][#480]] Ledger budget expressions failing?
   :PROPERTIES:
   :ID:       3E3A32F2-7DDB-4EAC-AEA0-9CE7ED2963B9
   :CREATED:  [2011-02-17 Thu 21:09]
   :Message:  [[message://bug-480-1@http.newartisans.com/bugzilla/][{Bug 480} New: ledger budget expressions failing?]]
   :Submitter: bugzilla-daemon@mail.johnwiegley.com
   :Date:     Thu, 17 Feb 2011 15:15:13 -0600 (CST)
   :END:
** TODO [[bug:482][#482]] Commodity cost basis does not transfer across different accounts
   :PROPERTIES:
   :ID:       BDAE1EE5-B352-443C-BDD6-A135C93B94F0
   :CREATED:  [2011-02-23 Wed 23:55]
   :Message:  [[message://87de5636-c9d2-4a0c-b155-4d27512429cc@x4g2000prf.googlegroups.com][Re: commodity cost basis does not transfer across different accounts]]
   :Submitter: daniel <daniel.puleo@gmail.com>
   :Date:     Tue, 22 Feb 2011 22:48:20 -0800 (PST)
   :END:
** TODO [[bug:483][#483]] House accounts
   :PROPERTIES:
   :ID:       1B608006-F9CB-4467-B23D-A3CA420EED0D
   :CREATED:  [2011-02-23 Wed 23:56]
   :Message:  [[message://B8AC3F3F-A851-4C47-BB4B-CFFACB2C4E3E@gmail.com][Re: House accounts]]
   :Submitter: Felix Ingram <f.ingram.lists@gmail.com>
   :Date:     Tue, 22 Feb 2011 19:04:48 +0000
   :END:
** TODO [[bug:484][#484]] Sorting problem concerning amounts and -X
   :PROPERTIES:
   :ID:       B07F66BD-80FB-4AA9-8AF1-0BB403C8C760
   :CREATED:  [2011-02-09 Wed 14:27]
   :Message:  [[message://807813.1344.1296903400080.JavaMail.geo-discussion-forums@prfp36][Is this expected sorting behavior?]]
   :END:
** TODO [[bug:487][#487]] Multiple file-level balance assertions for the same account conflict
   :PROPERTIES:
   :ID:       727D00DC-1EAA-462C-8D64-2CE3DA1B8B7B
   :CREATED:  [2011-02-24 Thu 15:03]
   :Message:  [[message://bug-487-1@http.newartisans.com/bugzilla/][{Bug 487} New: multiple file-level balance assertions for same account conflict ?]]
   :Submitter: bugzilla-daemon@mail.johnwiegley.com
   :Date:     Thu, 24 Feb 2011 14:02:36 -0600 (CST)
   :END:
** TODO [[bug:488][#488]] amount_t::floor does not really floor, it rounds to nearest
   There should be a round() function for round-to-nearest, and a floor()
   function that rounds toward zero.  The latter is especially needed for tax
   accounting.
   :PROPERTIES:
   :ID:       BA184B3C-6BC0-4717-8C02-D00CD255D15E
   :CREATED:  [2011-03-05 Sat 17:50]
   :END:
** TODO [[bug:489][#489]] Confusion about a few things
   - Note taken on [2011-02-28 Mon 01:33] \\
     So, there are three types of parent accounts in accounting: Assets,
     Liabilities, Equity

     First, just to clear up a common misunderstanding, debit and credit
     simply mean left and right.  Without context, that doesn't mean
     positive or negative.

     Assets have a normal debit (dr) balance, while liabilities and equity
     have a credit (cr) balances.  That means that an asset account with a
     debit balance would be positive while a liability account with a
     credit balance would be positive.

     A balance sheet is an implementation of the concept that what you own
     must equal how you bought it.  Ie.

     Assets = (Liabilities + Equity)

     Or put another way:

     My Stuff = How did I buy it?
     My Stuff = Money I've borrowed + Profit I've accumulated

     So one of the many internal checks in accounting is that this equation
     is always holding true, if it's not then you have a problem (note:
     this in addition to dr=cr, there are scenarios where dr=cr and the
     balance sheet is not equaling).

     So, expenses and revenue are "temporary equity" accounts.    The idea
     is that during a period (like say a month), you accumulate revenue
     into the revenue accounts and expenses in the expense accounts.  When
     you "close" the period (you set those back to zero) and place the
     accumulated balance into an equity account.  For instance, say you
     have 1000 of revenue in January and 500 of expenses.  Let's say you
     are closing the account for January and staring February.  You would
     produce an entry like this:

     2011/2/1 Closing Entry
        Revenue                                         1000
        Expenses                                                                500
        Equity                                                                  500

     (I'm simplifying, you in the above scenario, I'm assuming there is
     only one revenue and expense account, but the idea is you close ALL
     revenue and expense accounts -- the balance to make that entry equal
     will be that periods profit/loss)

     Aside:
     ~~
     There is no such thing as an income account.  Based on some examples,
     I knew you meant revenue, but they're not the same thing.  Income is
     (some) revenue minus (some) expense.  Which revenue and expense
     accounts you include depend on what type of income you are trying to
     report (net, gross, etc).

     Anyhow, I know you need to support backwards compatibility, but you
     really should at least allow both "Revenue:" and "Income:" (with your
     program knowing they are, in your case, the same thing), then fix the
     manual.
     ~~

     If you were taking an intro accounting course, the instructor would
     tell you that there is a very specific order to producing financials.
     First you produce the income statement, cash flow, *then you close*
     (so revenue and expenses will be zero), then you produce the balance
     sheet.  In practice, you do that for external reports, but you can't
     close every-time you need a balance sheet, so you place the temporary
     accounts under their respective sections.

     So, let's make up numbers:

     Assets:

     Cash                       1000
     A/R                        200
     A. for B/D         (50)

     Total Assets:      1150

     Liabilities:

     Credit Card           50

     Total Liabilities  50

     Equity:
     Revenue            200
     Bad Debt Ex  (50)
     Owners' Eq 950

     Total Equity:      1100

     Some people will also place the liabilities and equity in the right
     side of the page, with the assets on the left.  I'm not sure that's
     necessary as long as they are properly broken up.

     So, let's go through a few of these numbers. Cash is an asset account,
     it has a positive number because it has a debit balance.  Allowance of
     bad debt is also an asset account (it is actually a special type of
     asset account called a contra account), but it has a credit balance so
     it has a negative number.  Revenue has a credit balance, but because
     it is a type of equity account that is a positive number.  Bad debt
     expense has a debit balance which means it has a negative number.

     If you were to close for the period, the Equity section would be
     simplified to :

     Equity:
     Owners' Eq 1100

     Total Equity:      1100

     There's also a specific order that accounts should be listed; but I
     think that might be expecting too much.  So, the big items are:

     * Revenue and Expenses are type of equity account
     * Equity + Liabilities must equal Assets
     * Equity and Liabilities have credit balances
     * Assets have debit balances
   Ok, so I want to apologize, I went to b-school, so small stupid things
   might be bothering me.  I dumped about 50 transactions into a file and
   did the balance sheet command on it:

   Assets:Checking
   Expenses
        Ads
        Apps
        Hosting
        Phone
        Processing
   Income
        Credit Cards:PayPal
        Pre Payments
        Google Checkout
        PayPal

   So, from what I can tell, ledger does two things that seem strange to
   me; (please correct me if I'm just not understanding what it's doing),
   it seems to represent credit balances (right column) with a negative
   number.  Second it doesn't seem to know that expenses and income are
   equity accounts (you manual says you can use Expenses and Income --
   which I assumed means that they are linked/aliased/whatever as
   children of equity) and such should be grouped together.

   Also, again small thing, but on a balance sheet assets, liabilities
   and equity really should be totalled (even if their zero).  Ideally
   there should be forming break between them as well (Also negative and
   credit balance isn't really the same thing -- it would look really
   weird to show revenue as negative number).
   :PROPERTIES:
   :ID:       96364A1A-7E35-4EB8-A63D-BA801A684661
   :CREATED:  [2011-02-28 Mon 01:33]
   :Message:  [[message://54325f64-3471-4c6f-a92a-ab316342b1af@x4g2000prf.googlegroups.com][Confusion about a few things]]
   :Submitter: tazz_ben <ben@wbpsystems.com>
   :Date:     Sat, 26 Feb 2011 17:52:37 -0800 (PST)
   :END:
** TODO [[bug:491][#491]] Automated postings match differently
   :PROPERTIES:
   :ID:       0C605FC2-BBD2-41EC-9842-EA2A79473C12
   :CREATED:  [2011-03-07 Mon 15:15]
   :Message:  [[message://bug-491-1@http.newartisans.com/bugzilla/][{Bug 491} New: Automated postings match differently]]
   :Submitter: bugzilla-daemon@mail.johnwiegley.com
   :Date:     Mon,  7 Mar 2011 14:14:39 -0600 (CST)
   :END:
** TODO [[bug:492][#492]] Running totals computed using the wrong precision
   :PROPERTIES:
   :ID:       CAE63F5C-CA90-45D1-943D-FD772DCDDF56
   :CREATED:  [2011-03-09 Wed 13:57]
   :Message:  [[message://bug-492-1@http.newartisans.com/bugzilla/][{Bug 492} New: Running totals computed using the wrong precision]]
   :Submitter: bugzilla-daemon@mail.johnwiegley.com
   :Date:     Wed,  9 Mar 2011 10:12:27 -0600 (CST)
   :END:
** TODO [[bug:493][#493]] Precision specified with D being ignored
   :PROPERTIES:
   :ID:       6333E3DF-433A-4B91-B744-FBAED702B12C
   :CREATED:  [2011-03-11 Fri 14:22]
   :Message:  [[message://bug-493-1@http.newartisans.com/bugzilla/][{Bug 493} New: precision specified with D being ignored]]
   :Submitter: bugzilla-daemon@mail.johnwiegley.com
   :Date:     Fri, 11 Mar 2011 13:12:20 -0600 (CST)
   :END:
** TODO [[bug:494][#494]] Problem using German date format
   :PROPERTIES:
   :ID:       56392A55-B755-4222-882F-81FED69A9C5D
   :CREATED:  [2011-03-07 Mon 14:49]
   :Message:  [[message://06e69798-2ec2-4519-93ab-77814660bc8e@dn9g2000vbb.googlegroups.com][Problem using German date format]]
   :Submitter: Michael Strecke <michael.strecke@googlemail.com>
   :Date:     Mon, 7 Mar 2011 03:00:36 -0800 (PST)
   :END:
** TODO [[bug:499][#499]] Getting quotes?
   :PROPERTIES:
   :ID:       3CA48C37-C35A-4329-AC18-1B8F786816A5
   :CREATED:  [2011-03-26 Sat 15:24]
   :Message:  [[message://87zkoims81.fsf@facilitatedsystems.com][Getting quotes?]]
   :Submitter: Bill Harris <bill_harris@facilitatedsystems.com>
   :Date:     Fri, 25 Mar 2011 21:16:30 -0700
   :END:
** TODO [[bug:504][#504]] Forecast doesn't include current month's budget
   :PROPERTIES:
   :ID:       745317A8-9D4F-433C-86B6-61C9794FDF0C
   :CREATED:  [2011-04-05 Tue 04:32]
   :Message:  [[message://bug-504-1@http.newartisans.com/bugzilla/][{Bug 504} New: Forecast doesn't include current month's budget]]
   :Submitter: bugzilla-daemon@mail.johnwiegley.com
   :Date:     Mon,  4 Apr 2011 09:14:10 -0500 (CDT)
   :END:
** TODO [[bug:511][#511]] ledger and currency format in entry command
   - Note taken on [2011-05-27 Fri 18:08] \\
     I had some problem recently too. It looks like the `entry' command now
     takes the first matching entry in the file as a template instead of the
     last like it did before. I gave a bit more detailed description of my
     observation here:

     http://article.gmane.org/gmane.comp.finance.ledger.general/2561
   Since my last update, the command entry now produces the wrong entry value
   regardless what decimal separator (comma or dot) I use.
   :OUTPUT:
   $ ledger -f BR01.dat entry 05/13 Salsa 12.00 Cash

   2011/05/13 Salsalito
       Expenses:Restaurante                       1.200
       Assets:Cash

   $ ledger -f BR01.dat entry 05/13 Salsa 12,00 Cash

   2011/05/13 Salsalito
       Expenses:Restaurante                       1.200
       Assets:Cash
   :END:
   :PROPERTIES:
   :ID:       0831AC52-90BA-44EF-B39C-FD2F20ABC5BC
   :CREATED:  [2011-05-27 Fri 18:07]
   :Date:     Sun, 22 May 2011 17:21:30 -0700 (PDT)
   :Message:  [[message://16932293.4231.1306110091000.JavaMail.geo-discussion-forums@vbjl31][Re: ledger and currency format in entry command]]
   :Submitter: Alexandre Rademaker <arademaker@gmail.com>
   :END:
** TODO [[bug:513][#513]] --comm-as-payee (-x) is unrecognized
   > > - --comm-as-payee (-x) is unrecognized. Does this have a new syntax in
   > > the current version?
   >
   > --payee=comm, although the old option should still work.  Bug.

   Ah. --payee=commodity and --payee=code work, but --payee=comm says "Unknown
   identifier 'comm'".
   :PROPERTIES:
   :ID:       5FBA9B5B-CFAD-42C4-AB65-AB44A7282659
   :CREATED:  [2011-05-27 Fri 18:09]
   :Date:     Mon, 23 May 2011 18:17:27 -0700 (PDT)
   :Message:  [[message://30671703.170.1306199847233.JavaMail.geo-discussion-forums@prcm34][Re: My experience with Ledger so far]]
   :Submitter: Matthew Harris <mharris312@gmail.com>
   :END:
** TODO [[bug:514][#514]] 'accounts' and 'commodities' should sort their output
   I'd also like to suggest that 'accounts' and 'commodities' sort their
   output, like 'payees' appears to. I don't see a reason to leave it unsorted.
   :PROPERTIES:
   :ID:       0EA1B52E-43D8-4577-87AE-CB837C8E9B32
   :CREATED:  [2011-05-27 Fri 18:10]
   :Date:     Mon, 23 May 2011 18:17:27 -0700 (PDT)
   :Message:  [[message://30671703.170.1306199847233.JavaMail.geo-discussion-forums@prcm34][Re: My experience with Ledger so far]]
   :Submitter: Matthew Harris <mharris312@gmail.com>
   :END:
** TODO [[bug:517][#517]] Strange balance reports
   Both ledger (20100615) and hledger show the zero balances of a and b in
   this balance report - I expected them to be elided by default:
   #+begin_src sh
   2010/1/1
   a   16$ @@ 10€
   b   -10€

   2010/1/2
   a   -16$
   b   10€ @@ 16$
   #+end_src
   :OUTPUT:
   $$$ ledger -f - balance
                  0  a
                  0  b
   --------------------
                  0
   :END:
   With -B, again ledger and hledger agree, but I'm puzzled - usually -B
   results in fewer commodities in the output, not more:
   #+begin_src sh
   2010/1/1
   a   16$ @@ 10€
   b   -10€

   2010/1/2
   a   -16$
   b   10€ @@ 16$
   #+end_src
   :OUTPUT:
   $$$ ledger -f - balance
   >>>
               -16$
                10€  a
                16$
               -10€  b
   --------------------
                  0
   :END:
   This time with implicit conversion prices - strange output:
   #+begin_src sh
   2010/1/1
   a   16$
   b   -10€

   2010/1/2
   a   -16$
   b   10€
   #+end_src
   :OUTPUT:
   $$$ ledger -f - balance
                  0  a
   :END:
   :PROPERTIES:
   :ID:       B1953314-4573-4DB4-AFDD-ED745290CCE5
   :CREATED:  [2011-04-23 Sat 05:03]
   :Message:  [[message://2673402D-97F9-4E5D-8057-57DF2C2B01B0@joyful.com][strange balance reports]]
   :Submitter: Simon Michael <simon@joyful.com>
   :Date:     Thu, 21 Apr 2011 06:53:45 -0700
   :END:
** TODO [[bug:518][#518]] Weekly report lost data?
   I have been using ledger version 3.0.0-20110325.  I ran the command
   below:
   :OUTPUT:
   $ ledger -p "weekly this month" reg Foods
   11-Apr-01 - 11-Apr-02           Expenses:Foods:Work $1.00        $1.00
   11-Apr-08 - 11-Apr-14           Expenses:Foods:Work $7.00        $8.00
   11-Apr-15 - 11-Apr-21           Expenses:Foods:Work $1.00        $9.00
   :END:
   I noted that I lost all transaction of the period: 11-Apr-03 until 11-
   Apr-07. As you can see in the report:
   :OUTPUT:
   $ ledger -p "this month" reg Foods
   11-Apr-01 Portucho              Expenses:Foods:Work $1.00        $1.00
   11-Apr-03 Portucho              Expenses:Foods:Work $1.00        $2.00
   11-Apr-04 Mineiro               Expenses:Foods:Work $1.00        $3.00
   11-Apr-05 Sta Madalena          Expenses:Foods:Work $1.00        $4.00
   11-Apr-06 Sta Madalena          Expenses:Foods:Work $1.00        $5.00
   11-Apr-07 Sta Madalena          Expenses:Foods:Work $1.00        $6.00
   11-Apr-08 Natural               Expenses:Foods:Work $1.00        $7.00
   11-Apr-10 Center                Expenses:Foods:Work $1.00        $8.00
   11-Apr-11 Natural               Expenses:Foods:Work $1.00        $9.00
   11-Apr-11 Bela Emila            Expenses:Foods:Work $1.00       $10.00
   11-Apr-12 Xavier e Sena         Expenses:Foods:Work $1.00       $11.00
   11-Apr-13 Sta Madalena          Expenses:Foods:Work $1.00       $12.00
   11-Apr-14 Sta Madalena          Expenses:Foods:Work $1.00       $13.00
   11-Apr-15 Xavier e Sena         Expenses:Foods:Work $1.00       $14.00
   :END:
   Is this the expected behaviour for the option -p "weekly this month"?
   :PROPERTIES:
   :ID:       393CAB58-46DE-4FD7-8E7C-EAEAE8DEEDD7
   :CREATED:  [2011-04-20 Wed 18:01]
   :Message:  [[message://29846561-b2be-4e61-af03-4d6b0c9413bb@r6g2000vbz.googlegroups.com][Weekly report lost data?]]
   :Submitter: leandroohf <leandroohf@gmail.com>
   :Date:     Sun, 17 Apr 2011 14:46:34 -0700 (PDT)
   :END:
** TODO [[bug:530][#530]] Problem with "N" command
   :PROPERTIES:
   :ID:       3CA7A9F1-F4B6-457C-AAE8-D1AF24813D5C
   :CREATED:  [2011-06-09 Thu 01:24]
   :END:
   I thought the "N" command was just supposed to tell Ledger not to download
   the given commodity (because I invented the symbol), but it turns out also
   to exclude printing its price with the prices command, which isn't what I
   wanted. I do want to track the price of the commodity, especially because I
   can't just look up the symbol online.
** TODO [[bug:531][#531]] Balance assertions broken when combined with fixed commodities
   #+begin_src ledger
   2000/01/01 A
    Assets  100 STOCK {$1}
    Income
   2000/02/01 B
    Assets2
    Assets  = 0 STOCK {$1}
   #+end_src

   This yields the error, "Error: Subtracting amounts with different
   commodities: STOCK != STOCK". I've worked around this by removing the price
   from the balance calculation.
   :PROPERTIES:
   :ID:       D5F21DC3-1F16-4FAE-A196-6C19883B9229
   :CREATED:  [2011-06-09 Thu 01:23]
   :END:
** TODO [[bug:532][#532]] Every N days problem in budgeting
   I tried to set up a periodic entry for biweekly pay periods to compare
   budgeted income to actual income, with the pay periods starting on a
   certain day in a certain month, like this:
   #+begin_src ledger
   ~ every 14 days from 2011/03/25
   #+end_src

   This is working except that when running a command like
   #+begin_src sh
   ledger register --sort d -b "January 01 2011" -e "June 31 2011" Income.*Me --add-budget -f my_ledger.dat
   #+end_src
   there is a budget entry for 2011/03/25 then another for 2011/03/31 then the
   14 days continues fine but offset by that second hiccup entry, even
   crossing later month boundaries.
   :PROPERTIES:
   :ID:       9C1486DD-13E7-4341-8B83-60F958F714AA
   :CREATED:  [2011-06-14 Tue 13:52]
   :Date:     Fri, 10 Jun 2011 09:51:22 -0700 (PDT)
   :Message:  [[message://7337691.1034.1307724682642.JavaMail.geo-discussion-forums@prmu4][every N days problem in budgeting]]
   :Submitter: Anatortoise House <anatortoise@gmail.com>
   :END:
** TODO [[bug:533][#533]] Trailing entry going past the forecast period
   Two questions about forecasts (please see the sample script and output
   below):

   - Why is a trailing forecast entry (that doesn't balance) going over the
     forecast period generated? The manual seems to indicate this is to show
     the total somehow (section 2.9.2: "A final transaction is always output,
     to show you what the total afterwards would be."). But I can already see
     the running total of register entries using the last register entry
     _within_ the forecast period, right? This additional entry causes issues
     with calculations of running totals for the forecast period (by including
     the out of the forecast period trailing entry).

   - It seems the balance command when run with forecasts but without
     specifying an account regex doesn't include forecast entries in the
     calculation.  Shouldn't it? Notice that you can get around this by doing
     a "bal ^" which will match all transactions, but then you get the last
     trailing non-balanced transaction mentioned above included, making the
     calculation include entries that shouldn't be there.

   Using ledger 2.6.2.

   Script:
   #+begin_src sh
   #!/bin/sh

   cat > ledger.dat <<EOF
   ~ Monthly
    Income:Salary           -100.00
    Assets:Checking

   06-01 Start
    Equity                    -1.00
    Assets:Checking
   EOF

   ledger -f ledger.dat --forecast 'd < [september]' reg; echo
   ledger -f ledger.dat --forecast 'd < [september]' -s bal; echo
   ledger -f ledger.dat --forecast 'd < [september]' -s bal ^
   #+end_src

   Output:
   :OUTPUT:
   + cat
   + ledger -f ledger.dat --forecast 'd < [september]' reg
   2011/06/01 Start                Equity
   -1.00        -1.00
                                   Assets:Checking
   1.00            0
   2011/07/01 Forecast entry       Income:Salary
   -100.00      -100.00
   2011/07/01 Forecast entry       Assets:Checking
   100.00            0
   2011/08/01 Forecast entry       Income:Salary
   -100.00      -100.00
   2011/08/01 Forecast entry       Assets:Checking
   100.00            0
   2011/09/01 Forecast entry       Income:Salary
   -100.00      -100.00
   + echo

   # Notice that the balance below does not contain forecast entries,
   despite forecasting being specified:

   + ledger -f ledger.dat --forecast 'd < [september]' -s bal
                 101.00  Assets:Checking
                  -1.00  Equity
                -100.00  Income:Salary
   + echo

   # Notice that the balance below includes the 2011/09/01 non-balanced
   trailing entry, making the running total not sum up and include
   entries from outside the forecast period:

   + ledger -f ledger.dat --forecast 'd < [september]' -s bal '^'
                 201.00  Assets:Checking
                  -1.00  Equity
                -300.00  Income:Salary
   --------------------
                -100.00
   :END:
   :PROPERTIES:
   :ID:       9D99B5FB-1A24-464B-8044-6008354816E8
   :CREATED:  [2011-06-14 Tue 13:53]
   :Date:     Fri, 10 Jun 2011 06:10:23 -0700 (PDT)
   :Message:  [[message://02a1b2dd-2a45-4b76-8a87-4fc014193cb0@16g2000yqy.googlegroups.com][Trailing entry going past the forecast period]]
   :Submitter: Seppo Sade <sepposade1@gmail.com>
   :END:
** TODO [[bug:534][#534]] account_amount is listed on the man page, but is not supported
   :PROPERTIES:
   :ID:       FEDA301C-A3F0-4E5A-9C79-754E2E0DDFE3
   :CREATED:  [2011-06-21 Tue 14:33]
   :END:
** TODO [[bug:535][#535]] Make timeclock transactions balanced
   :PROPERTIES:
   :ID:       B4110944-02C5-48B7-8788-2110365F0A85
   :CREATED:  [2011-06-20 Mon 02:11]
   :Date:     Sat, 18 Jun 2011 14:20:33 -0700 (PDT)
   :Message:  [[message://4f2c2924-8502-4a3d-b722-ecf44fc88fbd@m24g2000yqc.googlegroups.com][Timeclock transactions balanced?]]
   :Submitter: Seppo Sade <sepposade1@gmail.com>
   :END:
** TODO [[bug:537][#537]] Auto-balancing of transactions of no value
   :PROPERTIES:
   :ID:       DAA39C02-64C1-4A5F-A4A6-93353C7ABAE5
   :CREATED:  [2011-06-28 Tue 22:54]
   :Date:     Tue, 28 Jun 2011 01:55:22 -0500 (CDT)
   :Message:  [[message://bug-537-1@http.bugs.ledger-cli.org/][{Bug 537} New: Auto-balancing of transactions of no value]]
   :Submitter: bugzilla-daemon@mail.johnwiegley.com
   :END:
** TODO [[bug:540][#540]] Adjustment accounts are not collapsed by -n
   With the following input file:
   #+begin_src ledger
   P 2010/01/01 foo $1.00
   P 2010/02/01 foo $2.00
   P 2010/03/01 foo $3.00

   2010-01-01 First
     Account  1 foo @ $1.00
     Income
   2010-03-01 Second
     Account  2 foo @ $3.00
     Income
   #+end_src

   I would have expected the command "ledger -f test.dat reg -MVnE account" to
   print exactly one line for each month, containing the dollar value of the
   account for that month. Instead, I get two lines for March:
   :OUTPUT:
   > ledger -f test2.dat reg -MVnEn account
   2010/01/01 - 2010/01/31          Account                         $1   $1
   2010/02/01 - 2010/02/28          <None>                           0   $2
   2010/03/01 - 2010/03/31          <Adjustment>                    $2   $3
                                 Account                         $6   $9
   :END:
   :PROPERTIES:
   :ID:       590C3C39-5916-414D-8A77-3AF43442E442
   :CREATED:  [2011-06-30 Thu 11:51]
   :Date:     Thu, 30 Jun 2011 09:44:22 -0700 (PDT)
   :Message:  [[message://21774456.1840.1309452262141.JavaMail.geo-discussion-forums@prdr36][Re: Printing monthly balances]]
   :Submitter: Matthew Harris <mharris312@gmail.com>
   :END:
** TODO [[bug:549][#549]] ledger-next-amount does not handle fixated commodity prices
   :PROPERTIES:
   :ID:       BDF9B99E-C9AB-40AA-9030-29A81B8B8B70
   :CREATED:  [2011-11-02 Wed 12:59]
   :END:
** TODO [[bug:551][#551]] Clear virtual transactions based on triggering real transaction
   :PROPERTIES:
   :ID:       D3AE4E7A-0C22-423D-874D-94C07C9894CD
   :CREATED:  [2011-09-28 Wed 14:19]
   :Date:     Wed, 28 Sep 2011 13:28:07 +0000
   :Message:  [[message://bug-551-1@http.bugs.ledger-cli.org/][{Bug 551} New: Clear virtual transactions based on triggering real transaction]]
   :Submitter: bugzilla-daemon@mail.johnwiegley.com
   :END:
** TODO [[bug:553][#553]] Budget period entry without interval gives error
   :PROPERTIES:
   :ID:       24C4A592-D8A0-4FCA-B692-B86B6AF4D048
   :CREATED:  [2011-10-10 Mon 06:38]
   :Date:     Sat, 08 Oct 2011 17:24:35 +0000
   :Message:  [[message://bug-553-1@http.bugs.ledger-cli.org/][{Bug 553} New: Budget period entry without interval gives error]]
   :Submitter: bugzilla-daemon@mail.johnwiegley.com
   :END:
** TODO [[bug:554][#554]] Error: Unexpected date period token '1000'
   :PROPERTIES:
   :ID:       F0730126-6F56-48E4-87CD-90310F8D347F
   :CREATED:  [2011-10-10 Mon 06:38]
   :Date:     Sat, 08 Oct 2011 17:26:08 +0000
   :Message:  [[message://bug-554-1@http.bugs.ledger-cli.org/][{Bug 554} New: Error: Unexpected date period token '1000']]
   :Submitter: bugzilla-daemon@mail.johnwiegley.com
   :END:
** TODO [[bug:558][#558]] Significant figure mishandling causes divide by zero.
   :PROPERTIES:
   :ID:       05B7B6F0-F55C-4245-B74D-7FBF15A3E924
   :CREATED:  [2011-10-14 Fri 02:48]
   :Date:     Fri, 14 Oct 2011 05:22:05 +0000
   :Message:  [[message://bug-558-1@http.bugs.ledger-cli.org/][{Bug 558} New: Significant figure mishandling causes divide by zero.]]
   :Submitter: bugzilla-daemon@mail.johnwiegley.com
   :END:
** TODO [[bug:561][#561]] ledger xml produces duplicate transactions
   I tried this with a fresh build from master:
   #+begin_src ledger
   2011-09-09 Description
       Expenses:Foo                $123.45
       Expenses:Bar                 $67.89
       Assets:Baz
   #+end_src
   
   Running this through `ledger xml` produces the following:
   #+begin_src xml
   <?xml version="1.0" encoding="utf-8"?>
   <ledger version="3.0.0-20110325">
     <commodities>
       <commodity flags="P">
         <symbol>$</symbol>
       </commodity>
     </commodities>
     <accounts>
       <account id="0000000001622f40">
         <name></name>
         <total>
           <amount>
             <commodity flags="P">
               <symbol>$</symbol>
             </commodity>
             <quantity>0</quantity>
           </amount>
         </total>
       </account>
       <account id="000000000162b540">
         <name>Assets</name>
         <total>
           <amount>
             <commodity flags="P">
               <symbol>$</symbol>
             </commodity>
             <quantity>-191.34</quantity>
           </amount>
         </total>
       </account>
       <account id="000000000162b8a0">
         <name>Baz</name>
         <amount>
           <amount>
             <commodity flags="P">
               <symbol>$</symbol>
             </commodity>
             <quantity>-191.34</quantity>
           </amount>
         </amount>
         <total>
           <amount>
             <commodity flags="P">
               <symbol>$</symbol>
             </commodity>
             <quantity>-191.34</quantity>
           </amount>
         </total>
       </account>
       <account id="000000000162a5e0">
         <name>Expenses</name>
         <total>
           <amount>
             <commodity flags="P">
               <symbol>$</symbol>
             </commodity>
             <quantity>191.34</quantity>
           </amount>
         </total>
       </account>
       <account id="000000000162afb0">
         <name>Bar</name>
         <amount>
           <amount>
             <commodity flags="P">
               <symbol>$</symbol>
             </commodity>
             <quantity>67.89</quantity>
           </amount>
         </amount>
         <total>
           <amount>
             <commodity flags="P">
               <symbol>$</symbol>
             </commodity>
             <quantity>67.89</quantity>
           </amount>
         </total>
       </account>
       <account id="000000000162a8a0">
         <name>Foo</name>
         <amount>
           <amount>
             <commodity flags="P">
               <symbol>$</symbol>
             </commodity>
             <quantity>123.45</quantity>
           </amount>
         </amount>
         <total>
           <amount>
             <commodity flags="P">
               <symbol>$</symbol>
             </commodity>
             <quantity>123.45</quantity>
           </amount>
         </total>
       </account>
     </accounts>
     <transactions>
       <transaction>
         <date>2011/09/09</date>
         <payee>Description</payee>
         <posting>
           <account ref="000000000162a8a0">
             <name>Expenses:Foo</name>
           </account>
           <post-amount>
             <amount>
               <commodity flags="P">
                 <symbol>$</symbol>
               </commodity>
               <quantity>123.45</quantity>
             </amount>
           </post-amount>
           <total>
             <amount>
               <commodity flags="P">
                 <symbol>$</symbol>
               </commodity>
               <quantity>123.45</quantity>
             </amount>
           </total>
         </posting>
         <posting>
           <account ref="000000000162afb0">
             <name>Expenses:Bar</name>
           </account>
           <post-amount>
             <amount>
               <commodity flags="P">
                 <symbol>$</symbol>
               </commodity>
               <quantity>67.89</quantity>
             </amount>
           </post-amount>
           <total>
             <amount>
               <commodity flags="P">
                 <symbol>$</symbol>
               </commodity>
               <quantity>191.34</quantity>
             </amount>
           </total>
         </posting>
         <posting>
           <account ref="000000000162b8a0">
             <name>Assets:Baz</name>
           </account>
           <post-amount>
             <amount>
               <commodity flags="P">
                 <symbol>$</symbol>
               </commodity>
               <quantity>-191.34</quantity>
             </amount>
           </post-amount>
           <total>
             <amount>
               <commodity flags="P">
                 <symbol>$</symbol>
               </commodity>
               <quantity>0</quantity>
             </amount>
           </total>
         </posting>
       </transaction>
       <transaction>
         <date>2011/09/09</date>
         <payee>Description</payee>
         <posting>
           <account>ref="000000000162a8a0"&gt;
           <name>Expenses:Foo</name></account>
           <post-amount>
             <amount>
               <commodity>flags="P"&gt;
               <symbol>$</symbol></commodity>
               <quantity>123.45</quantity>
             </amount>
           </post-amount>
           <total>
             <amount>
               <commodity>flags="P"&gt;
               <symbol>$</symbol></commodity>
               <quantity>123.45</quantity>
             </amount>
           </total>
         </posting>
         <posting>
           <account>ref="000000000162afb0"&gt;
           <name>Expenses:Bar</name></account>
           <post-amount>
             <amount>
               <commodity>flags="P"&gt;
               <symbol>$</symbol></commodity>
               <quantity>67.89</quantity>
             </amount>
           </post-amount>
           <total>
             <amount>
               <commodity>flags="P"&gt;
               <symbol>$</symbol></commodity>
               <quantity>191.34</quantity>
             </amount>
           </total>
         </posting>
         <posting>
           <account>ref="000000000162b8a0"&gt;
           <name>Assets:Baz</name></account>
           <post-amount>
             <amount>
               <commodity>flags="P"&gt;
               <symbol>$</symbol></commodity>
               <quantity>-191.34</quantity>
             </amount>
           </post-amount>
           <total>
             <amount>
               <commodity>flags="P"&gt;
               <symbol>$</symbol></commodity>
               <quantity>0</quantity>
             </amount>
           </total>
         </posting>
       </transaction>
       <transaction>
         <date>2011/09/09</date>
         <payee>Description</payee>
         <posting>
           <account>ref="000000000162a8a0"&gt;
           <name>Expenses:Foo</name></account>
           <post-amount>
             <amount>
               <commodity>flags="P"&gt;
               <symbol>$</symbol></commodity>
               <quantity>123.45</quantity>
             </amount>
           </post-amount>
           <total>
             <amount>
               <commodity>flags="P"&gt;
               <symbol>$</symbol></commodity>
               <quantity>123.45</quantity>
             </amount>
           </total>
         </posting>
         <posting>
           <account>ref="000000000162afb0"&gt;
           <name>Expenses:Bar</name></account>
           <post-amount>
             <amount>
               <commodity>flags="P"&gt;
               <symbol>$</symbol></commodity>
               <quantity>67.89</quantity>
             </amount>
           </post-amount>
           <total>
             <amount>
               <commodity>flags="P"&gt;
               <symbol>$</symbol></commodity>
               <quantity>191.34</quantity>
             </amount>
           </total>
         </posting>
         <posting>
           <account>ref="000000000162b8a0"&gt;
           <name>Assets:Baz</name></account>
           <post-amount>
             <amount>
               <commodity>flags="P"&gt;
               <symbol>$</symbol></commodity>
               <quantity>-191.34</quantity>
             </amount>
           </post-amount>
           <total>
             <amount>
               <commodity>flags="P"&gt;
               <symbol>$</symbol></commodity>
               <quantity>0</quantity>
             </amount>
           </total>
         </posting>
       </transaction>
     </transactions>
   </ledger>
   #+end_src
   
   The three `transaction` elements shown are identical:
   #+begin_src sh
   $ grep '<transaction>' test.xml
   #+end_src
   #+begin_src xml
   <transaction>
     <date>2011/09/09</date>
     <payee>Description</payee>
     <posting>
       <account ref="000000000162a8a0">
         <name>Expenses:Foo</name>
       </account>
       <post-amount>
         <amount>
           <commodity flags="P">
             <symbol>$</symbol>
           </commodity>
           <quantity>123.45</quantity>
         </amount>
       </post-amount>
       <total>
         <amount>
           <commodity flags="P">
             <symbol>$</symbol>
           </commodity>
           <quantity>123.45</quantity>
         </amount>
       </total>
     </posting>
     <posting>
       <account ref="000000000162afb0">
         <name>Expenses:Bar</name>
       </account>
       <post-amount>
         <amount>
           <commodity flags="P">
             <symbol>$</symbol>
           </commodity>
           <quantity>67.89</quantity>
         </amount>
       </post-amount>
       <total>
         <amount>
           <commodity flags="P">
             <symbol>$</symbol>
           </commodity>
           <quantity>191.34</quantity>
         </amount>
       </total>
     </posting>
     <posting>
       <account ref="000000000162b8a0">
         <name>Assets:Baz</name>
       </account>
       <post-amount>
         <amount>
           <commodity flags="P">
             <symbol>$</symbol>
           </commodity>
           <quantity>-191.34</quantity>
         </amount>
       </post-amount>
       <total>
         <amount>
           <commodity flags="P">
             <symbol>$</symbol>
           </commodity>
           <quantity>0</quantity>
         </amount>
       </total>
     </posting>
   </transaction>
   <transaction>
     <date>2011/09/09</date>
     <payee>Description</payee>
     <posting>
       <account>ref="000000000162a8a0"&gt;
       <name>Expenses:Foo</name></account>
       <post-amount>
         <amount>
           <commodity>flags="P"&gt;
           <symbol>$</symbol></commodity>
           <quantity>123.45</quantity>
         </amount>
       </post-amount>
       <total>
         <amount>
           <commodity>flags="P"&gt;
           <symbol>$</symbol></commodity>
           <quantity>123.45</quantity>
         </amount>
       </total>
     </posting>
     <posting>
       <account>ref="000000000162afb0"&gt;
       <name>Expenses:Bar</name></account>
       <post-amount>
         <amount>
           <commodity>flags="P"&gt;
           <symbol>$</symbol></commodity>
           <quantity>67.89</quantity>
         </amount>
       </post-amount>
       <total>
         <amount>
           <commodity>flags="P"&gt;
           <symbol>$</symbol></commodity>
           <quantity>191.34</quantity>
         </amount>
       </total>
     </posting>
     <posting>
       <account>ref="000000000162b8a0"&gt;
       <name>Assets:Baz</name></account>
       <post-amount>
         <amount>
           <commodity>flags="P"&gt;
           <symbol>$</symbol></commodity>
           <quantity>-191.34</quantity>
         </amount>
       </post-amount>
       <total>
         <amount>
           <commodity>flags="P"&gt;
           <symbol>$</symbol></commodity>
           <quantity>0</quantity>
         </amount>
       </total>
     </posting>
   </transaction>
   <transaction>
     <date>2011/09/09</date>
     <payee>Description</payee>
     <posting>
       <account>ref="000000000162a8a0"&gt;
       <name>Expenses:Foo</name></account>
       <post-amount>
         <amount>
           <commodity>flags="P"&gt;
           <symbol>$</symbol></commodity>
           <quantity>123.45</quantity>
         </amount>
       </post-amount>
       <total>
         <amount>
           <commodity>flags="P"&gt;
           <symbol>$</symbol></commodity>
           <quantity>123.45</quantity>
         </amount>
       </total>
     </posting>
     <posting>
       <account>ref="000000000162afb0"&gt;
       <name>Expenses:Bar</name></account>
       <post-amount>
         <amount>
           <commodity>flags="P"&gt;
           <symbol>$</symbol></commodity>
           <quantity>67.89</quantity>
         </amount>
       </post-amount>
       <total>
         <amount>
           <commodity>flags="P"&gt;
           <symbol>$</symbol></commodity>
           <quantity>191.34</quantity>
         </amount>
       </total>
     </posting>
     <posting>
       <account>ref="000000000162b8a0"&gt;
       <name>Assets:Baz</name></account>
       <post-amount>
         <amount>
           <commodity>flags="P"&gt;
           <symbol>$</symbol></commodity>
           <quantity>-191.34</quantity>
         </amount>
       </post-amount>
       <total>
         <amount>
           <commodity>flags="P"&gt;
           <symbol>$</symbol></commodity>
           <quantity>0</quantity>
         </amount>
       </total>
     </posting>
   </transaction>$ grep '
   <transaction>' test.xml | uniq 
   <transaction>
     <date>2011/09/09</date>
     <payee>Description</payee>
     <posting>
       <account ref="000000000162a8a0">
         <name>Expenses:Foo</name>
       </account>
       <post-amount>
         <amount>
           <commodity flags="P">
             <symbol>$</symbol>
           </commodity>
           <quantity>123.45</quantity>
         </amount>
       </post-amount>
       <total>
         <amount>
           <commodity flags="P">
             <symbol>$</symbol>
           </commodity>
           <quantity>123.45</quantity>
         </amount>
       </total>
     </posting>
     <posting>
       <account ref="000000000162afb0">
         <name>Expenses:Bar</name>
       </account>
       <post-amount>
         <amount>
           <commodity flags="P">
             <symbol>$</symbol>
           </commodity>
           <quantity>67.89</quantity>
         </amount>
       </post-amount>
       <total>
         <amount>
           <commodity flags="P">
             <symbol>$</symbol>
           </commodity>
           <quantity>191.34</quantity>
         </amount>
       </total>
     </posting>
     <posting>
       <account ref="000000000162b8a0">
         <name>Assets:Baz</name>
       </account>
       <post-amount>
         <amount>
           <commodity flags="P">
             <symbol>$</symbol>
           </commodity>
           <quantity>-191.34</quantity>
         </amount>
       </post-amount>
       <total>
         <amount>
           <commodity flags="P">
             <symbol>$</symbol>
           </commodity>
           <quantity>0</quantity>
         </amount>
       </total>
     </posting>
   </transaction></transaction></transaction>
   #+end_src
   
   The number of transactions appears to correspond to the number of accounts
   referenced.
   :PROPERTIES:
   :ID:       ED46C559-294C-48C9-B7CA-FFF15FEA4B9C
   :CREATED:  [2011-09-09 Fri 22:06]
   :Date:     Fri, 9 Sep 2011 19:28:13 -0700
   :Message:  [[message://jwiegley/ledger/issues/39@github.com][{ledger} ledger xml produces duplicate transactions ]]
   :Submitter: Matthew Turland <reply+i-1612871-d1d8357b67528589b8038a0904ccde9eceede741@reply.github.com>
   :END:
** TODO [[bug:562][#562]] Metadata/Note contents can't include a ledger formatted date
   I am finally starting to play with the Metadata features.  I travel for
   business and like to keep track of each trip separately along with it
   reimbursement.  I use "Expenses:Company:Travel" for the asset to charge to.
   After each expense I tried putting "; trip: 2011/08/30 Corona" to show the
   day of departure and destination.
   
   Running
   #+begin_src sh
   ledger reg tag trip="2011/08/30 Corona"
   #+end_src
   
   yields:
   :OUTPUT:
   While parsing value expression:
     has_tag(((/trip/, /2011/08/30 Corona/)))
                                          ^
   Error: ) operator not followed by argument
   :END:
   
   If I change my date format to use dashes instead of slashes it work as
   expected.  Did I accidentally bump into a value expression?
   :PROPERTIES:
   :ID:       D0F48916-4058-4F08-ACE1-EE4013889B57
   :CREATED:  [2011-09-08 Thu 01:58]
   :Date:     Wed, 7 Sep 2011 13:40:01 -0700
   :Message:  [[message://CAKs9TOLu142ntQ8e8a2HzfM7FDW2kNFrEG+rMBLA9E1QzqPAUA@mail.gmail.com][Metadata/Note contents can't include a ledger formatted date?]]
   :Submitter: Craig Earls <enderw88@gmail.com>
   :END:
** TODO [[bug:566][#566]] Selinger's multiple currency accounting & ledger
   Well, after modifying two thousands transactions in my personal ledger
   file, I realized that I got it wrong and that I had not fully
   understood the way ledger handles multiple currency accounting.
   
   I used the following syntax, that I mistakenly believed the smartest.
   #+begin_src ledger
   2011/01/03 Buy food
       Assets:US_Cash   -40 USD
       Expenses:Food     40 USD @ 1.3 CAD
       Income:Currency
   #+end_src
   
   With 2000 transactions like that in my personal ledger, the problem is
   that I accumulated a lot of "XX USD @ YY CAD". When accumulating
   several thousands of USD, a very slight change in USD/CAD currency
   rate make a huge change in CAD total.
   
   As an example, let's add the following line in my test files named
   "selinger_table_4_4-*".
   #+begin_src ledger
   P 2011/01/08 USD 1.45 CAD
   #+end_src
   
   When doing "ledger bal", only 3 files give a zero balance:
   - selinger_table_4_4-currency_trading_account
   - selinger_table_4_4-pricing@
   - selinger_table_4_4-pricing@@
   
   When doing "ledger -X CAD bal", only 2 give a correct result:
   - selinger_table_4_4-balanced
   - selinger_table_4_4-currency_trading_account
   
   Only "selinger_table_4_4-currency_trading_account" looks to be the
   solution. I remind the syntax used:
   #+begin_src ledger
   2011/01/03 Buy food
       Assets:US_Cash        -40 USD
       Income:Currency:USD    40 USD
       Income:Currency:CAD   -52 CAD
       Expenses:Food          52 CAD
   #+end_src
   
   While correct, I do not like this syntax, because I have to manually
   compute the CAD amount (52 CAD equals 40 USD @ 1.3 CAD), and also when
   "ledger reg Food", I lost the fact that it was a 40 USD spending.
   
   After some thinking, I finally found the trick, by using the following
   syntax:
   #+begin_src ledger
   2011/01/03 Buy food
       Assets:US_Cash   -40 USD
       Expenses:Food     40 USD {= 1.3 CAD}
       Income:Currency
   #+end_src
   
   This gives me satisfaction: "bal", "bal --basis", "bal -X CAD" all
   gives correct results, even when using --end with dates 2011/01/04,
   2011/01/07, and 2011/01/08.
   
   In my previous post, I disregarded "fixated commodity price" because
   it gives weird results. Actually, it gives correct result when
   balanced with an empty "Income:Currency". But if used without an empty
   "Income:Currency", it gives strange results.
   
   As a summary, here is file syntax:
   #+begin_src ledger
   2011/01/01 Opening balance
       Assets:Canadian_Cash        200 CAD
       Equity:Initial_Capital
   
   2011/01/02 Exchange
       Assets:Canadian_Cash       -120 CAD
       Assets:US_Cash              100 USD
       Income:Currency
   
   P 2011/01/03 USD 1.30 CAD
   
   2011/01/03 Buy food
       Assets:US_Cash              -40 USD
       Expenses:Food                40 USD {= 1.3 CAD}
       Income:Currency
   
   2011/01/05 Exchange
       Assets:US_Cash              -60 USD
       Assets:Canadian_Cash         75 CAD
       Income:Currency
   
   2011/01/07 Buy food
       Assets:Canadian_Cash        -20 CAD
       Expenses:Food
   
   P 2011/01/08 USD 1.45 CAD
   #+end_src
   :PROPERTIES:
   :ID:       83B5FEC5-81F5-496B-B121-305B1F12EDFB
   :CREATED:  [2011-08-13 Sat 16:50]
   :Date:     Sat, 13 Aug 2011 08:03:30 -0700 (PDT)
   :Message:  [[message://dc5590b5-3088-4394-93e3-73f7d70bd4ed@f41g2000yqh.googlegroups.com][Selinger's multiple currency accounting & ledger]]
   :Submitter: thierry <thierry.daucourt@free.fr>
   :END:
** TODO [[bug:567][#567]] Error parsing auto-xact predicate mith "expr payee"
   #+begin_src ledger
   = /^Asset:Checking/ & expr payee =~ /^Buying Shares/
       (Temp)              1
   #+end_src
   
   :OUTPUT:
   $ ledger bal -f test.txt
   While parsing file "test.txt", line 1:
   While parsing automated transaction:
   > = /^Asset:Checking/ & expr payee =~ /^Buying Shares/
   Error: payee operator not followed by argument
   $
   :END:
   :PROPERTIES:
   :ID:       D7EE079F-354A-4CAB-B4EF-3B066711433C
   :CREATED:  [2011-08-09 Tue 17:05]
   :Date:     Tue, 9 Aug 2011 14:47:47 -0700 (PDT)
   :Message:  [[message://5be6f581-b3b1-4749-ac63-c4168eff71b6@z14g2000yqh.googlegroups.com][Choosing the commodity in automatic transactions]]
   :Submitter: rjc <richard+google@richardcooper.net>
   :END:
** TODO [[bug:568][#568]] Forecast fails with "every <X> days from" for several values of <X>
    Ran command as:
    #+begin_src sh
    ledger --forecast 'd<[2012]' reg
    #+end_src
    
    This works OK:
    #+begin_src ledger
    ~ every 1 days from 2011/08/05
        A  1
        B
    #+end_src
    
    This fails (nothing is shown).
    #+begin_src ledger
    ~ every 2 days from 2011/08/05
        A  1
        B
    #+end_src
    
    This works:
    #+begin_src ledger
    ~ every 3 days from 2011/08/05
        A  1
        B
    #+end_src
    
    These two don't work (nothing is shown again):
    #+begin_src ledger
    ~ every 4 days from 2011/08/05
        A  1
        B
    
    ~ every 5 days from 2011/08/05
        A  1
        B
    #+end_src
    
    Those two work:
    #+begin_src ledger
    ~ every 6 days from 2011/08/05
        A  1
        B
    
    ~ every 7 days from 2011/08/05
        A  1
        B
    #+end_src
    
    This fails (nothing shown):
    #+begin_src ledger
    ~ every 8 days from 2011/08/05
        A  1
        B
    #+end_src
    
    This fails in a different way. The first date shown in the forecast is
    *not* 9 days after the "from" date, that would've been the 14th, but the
    11th is showing.
    #+begin_src ledger
    ~ every 9 days from 2011/08/05
        A  1
        B
    #+end_src
   :PROPERTIES:
   :ID:       CDAFE1CE-226C-49B3-8EB3-A2E49459F9EC
   :CREATED:  [2011-08-07 Sun 01:36]
   :Date:     Sat, 6 Aug 2011 17:02:11 -0700
   :Message:  [[message://jwiegley/ledger/issues/36@github.com][{ledger} Forecast fails with "every <X> days from" for several values of <X> (#36)]]
   :Submitter: leamsi <reply+i-1359410-33fcca4575a13841571ed55da74547765f4c4979@reply.github.com>
   :END:
** TODO [[bug:571][#571]] List differences 2.6.3->3.0.0
- State "TODO"       from "DONE"       [2012-03-27 Tue 15:14] \\
  Reopened, since this has not been done yet.
- State "DONE"       from "TODO"       [2011-11-18 Fri 20:02]
   :PROPERTIES:
   :ID:       3D486775-60A8-4A90-B2A2-453F680F67C7
   :CREATED:  [2011-08-19 Fri 19:27]
   :Date:     Thu, 18 Aug 2011 18:44:50 +0100
   :Message:  [[message://20045.20370.231763.36820@dk.dks.ie][Differences 2.6.3->3.0.0]]
   :Submitter: "David Keegan" <dksw@eircom.net>
   :END:
** TODO [[bug:576][#576]] Strange cleared report formatting
   I tried running a cleared report today using the command
   #+begin_src sh
   ledger cleared Assets
   #+end_src
   
   The report seems bit garbled, there are unexpected line feeds.  I replaced
   all numerals with 'X' in below:
   :OUTPUT:
        $ XXXXX.XX
      XXX.XXX VBMFX
     XXX.XXXX VIFSX
     XXX.XXXX VSGBX
     XXX.XXXX VTHRX          $ XXXXX.XX
                          XXX.XXX VBMFX
                         XXX.XXXX VIFSX
                         XXX.XXXX VSGBX
                         XXX.XXXX VTHRX                 Assets
      XXX.XXX VBMFX
     XXX.XXXX VIFSX
     XXX.XXXX VSGBX
     XXX.XXXX VTHRX       XXX.XXX VBMFX
                         XXX.XXXX VIFSX
                         XXX.XXXX VSGBX
                         XXX.XXXX VTHRX                   Investments
     XXX.XXXX VIFSX
     XXX.XXXX VSGBX      XXX.XXXX VIFSX
                         XXX.XXXX VSGBX    XX-Aug-XX        XXXK Deferred
     XXX.XXXX VIFSX
     XXX.XXXX VSGBX      XXX.XXXX VIFSX
                         XXX.XXXX VSGBX    XX-Aug-XX        XXXK Matching
     XXX.XXXX VTHRX      XXX.XXXX VTHRX    XX-Apr-XX        Craig IRA
     XXX.XXXX VTHRX      XXX.XXXX VTHRX    XX-Jan-XX        Grace IRA
      XXX.XXX VBMFX       XXX.XXX VBMFX    XX-May-XX        Vanguard
          $ XXXX.XX           $ XXXX.XX                   NFCU
           $ XXX.XX           $ XXXX.XX    XX-Jul-XX        Checking
          $ XXXX.XX            $ XXX.XX    XX-Jul-XX        Money Market
          $ XXXX.XX           $ XXXX.XX    XX-Jul-XX        PV Escrow
         $ XXXXX.XX          $ XXXXX.XX                   VWCU
          $ XXXX.XX           $ XXXX.XX    XX-Aug-XX        Grace Checking
           $ XXX.XX           $ XXXX.XX    XX-Aug-XX        Joint Checking
         $ XXXXX.XX          $ XXXXX.XX    XX-Aug-XX        Savings
   ----------------  ----------------    ---------
         $ XXXXX.XX
      XXX.XXX VBMFX
     XXX.XXXX VIFSX
     XXX.XXXX VSGBX
     XXX.XXXX VTHRX          $ XXXXX.XX
                          XXX.XXX VBMFX
                         XXX.XXXX VIFSX
                         XXX.XXXX VSGBX
                         XXX.XXXX VTHRX
   :END:
   :PROPERTIES:
   :ID:       88F931F2-A3FB-495A-B135-E9FD38975506
   :CREATED:  [2011-08-04 Thu 14:35]
   :Date:     Thu, 4 Aug 2011 12:18:37 -0700
   :Message:  [[message://CAKs9TOKs9uqPJRWepvy7XRXcAbJQQFjFdA8E_aBk74m-TbH+Qg@mail.gmail.com][Strange cleared report formatting]]
   :Submitter: Craig Earls <enderw88@gmail.com>
   :END:
** TODO [[bug:577][#577]] Error in automated virtual postings with multiple commodities
   Given the following ledger file
   #+begin_src ledger
   = /^Equity:/
       (Virtual Account)        1
   
   2011/01/01 Opening Balances
       Account1                 100 USD
       Account2                 100 GBP
       Account3                 100 EUR
       Equity:Opening Balance
   #+end_src
   
   I get
   :OUTPUT:
   $ ledger bal -f test.txt
                100 USD  Account1
                100 GBP  Account2
                100 EUR  Account3
               -100 EUR
               -100 GBP
               -100 USD  Equity:Opening Balance
               -100 EUR  Virtual Account
   --------------------
               -100 EUR
   :END:
   
   I would expect my virtual account to be identical to Equity:Opening Balance
   and contain -100 EUR, -100 GBP and -100 USD not just -100 EUR.
   :OUTPUT:
   $ ledger --version
   Ledger 3.0.0-20110325, the command-line accounting tool
   :END:
   :PROPERTIES:
   :ID:       227CC4EE-EC28-479E-9727-4364EEE301EC
   :CREATED:  [2011-08-03 Wed 15:52]
   :Date:     Wed, 3 Aug 2011 13:22:08 -0700
   :Message:  [[message://jwiegley/ledger/issues/35@github.com][{ledger} Error in automated virtual postings with multiple commodities (#35)]]
   :Submitter: richardcooper <reply+i-1339989-90be759f0f0510a9fe33caba8e36a0b8e6a5c288@reply.github.com>
   :END:
** TODO [[bug:583][#583]] --monthly prices report SUM rather than average or end of month price
  :PROPERTIES:
  :ID:       49CA1DB2-060D-418D-BE28-0A6A01966F18
  :CREATED:  [2011-10-17 Mon 18:30]
  :Date:     Mon, 17 Oct 2011 20:14:22 +0000
  :Message:  [[message://bug-583-1@http.bugs.ledger-cli.org/][{Bug 583} New: --monthly prices report SUM rather than average or end of month price]]
  :Submitter: bugzilla-daemon@mail.johnwiegley.com
  :END:
** TODO [[bug:587][#587]] ledger --anon print regex fails
Using 24d6619a52 (recent origin/next):

Output from 
#+begin_src sh
$ ledger --anon print asx 
#+end_src
produces a file that doesn't balance (most transactions have only one account
line).  See below for an example.

Also, can you get this mode to also print out pricing info (P lines), with
commodities suitably anonymised of course?

I have a bug to report that is dependent on the included prices, so it would
be nice to be able to easily report this in suitably anonymous form.

#+begin_src ledger
2010/04/04 * ce80e1d8
    4c56e22c:ffa2eb05:3cd29cb0:54187da5       1142 A

2010/04/04 * a6af6b86
    a2ab19c2:a61f2fdf:3e112853:5ca7144b        155 B @ C32.27

2010/04/04 * 5b210ea7
    83c7b8b9:306dcb9c:b1703f6b:2df07fdc        450 D @ C11.30

2010/04/04 * 1292cf1c
    aceeecab:6831267b:97503fd9:da7e2834        250 E @ C20.30

2010/04/04 * 277aed6b
    273a85a6:a43d6c12:f4e329ea:8bfbfa5c:bdd039b2       C6.79

2010/04/04 * 2ca15c6a
    9649be03:bf8c0d59:2544d251:f58fb6fa         11 F

2010/04/04 * d3622969
    05ef8415:2647caab:ab0a7fe2:e5c02402       1700 G @ C2.97

2010/05/18=2010/05/21 * a67b13c6
    ed1c01b4:5d2ccb92:bd4a343d:cb0df7f2        200 H @ C27.19

2010/07/02 * b54b0e38
    440fb1c4:973d920a:3367793e:4c656b96          6 I @ C22.64
    2a419ca0:45a18c24:3a7851e8:87f1487f:40df29e3

2010/10/15 * bc1f024f
    2a580f0d:8a12ecf0:6da144e1:9ba590d4          2 J @ C29.23
    9ab62257:a5962488:da55f7fa:430026f6:3d915197       C3.54

2010/12/20 * 7e8ecf2b
    8e1f36b1:77cd4b0c:690330fc:4aa25a1d          7 K @ C21.57
    d939ffc2:536a1935:3c6ad6b0:5d3f8004:4f8d78cf

2011/04/20 * 976ef9b9
    71d3bd54:f1ada5f2:60aab10b:0928961b         60 L @ C81.90

2011/04/29 * 10a331bb
    1b5554c1:4797d976:240a9f6e:e7e064db          2 M @ C26.885
    d6f119d4:468c1c83:595a0afd:04c0d9a0:693dd2d4       C4.37

2011/05/10 * d7fd2ea6
    b21ebdf6:4f0208a8:1d515d0a:dc39cfcc        780 N @ C6.33

2011/05/10 * bb93b8c7
    d8287474:298d1128:c3af6113:eaf430fc        210 O @ C23.36

2011/07/04 * de028b78
    648d6bf7:ba62d49e:adbea0cf:7bb5a5c3          8 P @ C21.78
    a780b5d3:7250b0c2:2c6e5566:3b89e252:ea78592b      C-4.00

2011/08/04 * 92dd1a28
    e077926e:b93ecd2b:98b240bd:c151d8a0        325 Q @ C15.21
#+end_src
:PROPERTIES:
:ID:       1A83FBAE-C015-43E2-B748-97D8A8D12231
:CREATED:  [2011-10-17 Mon 18:24]
:Date:     Mon, 17 Oct 2011 16:52:07 +1100
:Message:  [[message://4E9BC287.1020803@gmail.com][ledger --anon print regex fails]]
:Submitter: Michael Norrish <michael.norrish-Re5JQEeQqe8AvxtiuMwx3w@public.gmane.org>
:END:
** TODO [[bug:588][#588]] 'getquote' only queries one commodity at a time, which can be slow
  :PROPERTIES:
  :ID:       D367EB64-B542-49C3-958B-C099E3291361
  :CREATED:  [2011-10-18 Tue 02:42]
  :Date:     Mon, 17 Oct 2011 16:29:53 -0700
  :Message:  [[message://CAKs9TOKgBfCwS+gDt78f39SBGou6waPqaF79wK4p-bFwex28Dg@mail.gmail.com][Re: 'getquote' responsibilities]]
  :Submitter: Craig Earls <enderw88-Re5JQEeQqe8AvxtiuMwx3w@public.gmane.org>
  :END:
** TODO [[bug:590][#590]] Budget entry is applied only once if xacts are in reverse order
I have a single monthly budget entry and I can't get it to work correctly. Here is the command and the output:
:OUTPUT:
$ ledger -f budget_test.txt --budget reg ^income
2011/10/01 Budget entry         Income:Salary                  $500         $500
2011/10/04 Work                 Income:Salary                 $-500            0
2011/09/04 Work                 Income:Salary                 $-500        $-500
2011/08/04 Work                 Income:Salary                 $-500       $-1000
2011/07/04 Work                 Income:Salary                 $-500       $-1500
:END:

I am using the file below:
#+begin_src ledger
~ Monthly
    Assets:Bank:Checking                                                 $500
    Income:Salary

2011/10/04 Work
    Assets:Bank:Checking                                                 $500
    Income:Salary

2011/09/04 Work
    Assets:Bank:Checking                                                 $500
    Income:Salary

2011/08/04 Work
    Assets:Bank:Checking                                                 $500
    Income:Salary

2011/07/04 Work
    Assets:Bank:Checking                                                 $500
    Income:Salary
#+end_src

I expect it to output something like this:
:OUTPUT:
$ ledger -f budget_test.txt --budget reg ^income
2011/10/01 Budget entry         Income:Salary                  $500         $500
2011/10/04 Work                 Income:Salary                 $-500            0
2011/09/01 Budget entry         Income:Salary                  $500         $500
2011/09/04 Work                 Income:Salary                 $-500           $0
2011/08/01 Budget entry         Income:Salary                  $500         $500
2011/08/04 Work                 Income:Salary                 $-500           $0
2011/07/01 Budget entry         Income:Salary                  $500         $500
2011/07/04 Work                 Income:Salary                 $-500           $0
:END:
  :PROPERTIES:
  :ID:       5E54B30B-5E92-40A8-A4B0-D015F3BAAA87
  :CREATED:  [2011-10-24 Mon 19:06]
  :Date:     Mon, 24 Oct 2011 16:54:22 -0700
  :Message:  [[message://jwiegley/ledger/issues/42/2511217@github.com][Re: {ledger} Budget entry is applied only once (#42)]]
  :Submitter: Atamert Ölçgen <reply+i-2040004-d712a429bf511af30213a3c11f67e893d9505cf0@reply.github.com>
  :END:
** TODO [[bug:591][#591]] Future forecast events aren't shown in forecast
  :PROPERTIES:
  :ID:       8794BC3F-A3EE-41B7-BAB8-421E03B16521
  :CREATED:  [2011-11-01 Tue 21:58]
  :Date:     Wed, 02 Nov 2011 02:40:34 +0000
  :Message:  [[message://bug-591-1@http.bugs.ledger-cli.org/][{Bug 591} New: future Forecast events aren't shown in forecast]]
  :Submitter: bugzilla-daemon@mail.johnwiegley.com
  :END:
** TODO [[bug:597][#597]] If total transaction in a budgeted account equals zero...
  ...the report fails trying to multiply a balance * quantity
  :PROPERTIES:
  :ID:       015286EB-3234-44C8-87DE-E57D8F4CD39A
  :CREATED:  [2011-11-04 Fri 01:09]
  :Date:     Fri, 04 Nov 2011 03:25:26 +0000
  :Message:  [[message://bug-597-1@http.bugs.ledger-cli.org/][{Bug 597} New: If total transaction in a budgeted account equals zero, the report fails trying to multiply a balance * quantity]]
  :Submitter: bugzilla-daemon@mail.johnwiegley.com
  :END:
** TODO [[bug:598][#598]] Cleared report total lines are not aligned correctly
  It is off by two characters.
  :PROPERTIES:
  :ID:       73FFF610-7F55-4823-9B7C-7EF40AD8DD55
  :CREATED:  [2011-11-04 Fri 01:10]
  :Date:     Fri, 04 Nov 2011 03:27:14 +0000
  :Message:  [[message://bug-598-1@http.bugs.ledger-cli.org/][{Bug 598} New: cleared report total lines are not aligned correctly (off by two characters)]]
  :Submitter: bugzilla-daemon@mail.johnwiegley.com
  :END:
** TODO [[bug:602][#602]] Provide facility for easy generation of command line completion
  :PROPERTIES:
  :ID:       A865D025-4FFA-446C-B93B-9E92AB63EBF7
  :CREATED:  [2011-11-16 Wed 01:29]
  :Date:     Wed, 16 Nov 2011 04:18:25 +0000
  :Message:  [[message://bug-602-1@http.bugs.ledger-cli.org/][{Bug 602} New: provide facility for easy generation of command line completion]]
  :Submitter: bugzilla-daemon@mail.johnwiegley.com
  :END:
** TODO [[bug:603][#603]] print ignores @tag ... @end tag
:PROPERTIES:
:ID:       C807FF4A-E895-4BA3-ADC5-5DCFFF26DAD9
:CREATED:  [2011-11-24 Thu 00:42]
:Date: Thu, 24 Nov 2011 04:41:20 +0000
:Message: [[message://bug-603-1@http.bugs.ledger-cli.org/][{Bug 603} New: print ignores @tag ... @end tag]]
:Submitter: bugzilla-daemon@mail.johnwiegley.com
:END:
** TODO [[bug:604][#604]] print ignores @bucket
:PROPERTIES:
:ID:       ACE150C4-F015-4124-92B1-9934E5BAC1C6
:CREATED:  [2011-11-24 Thu 00:42]
:Date: Thu, 24 Nov 2011 05:11:06 +0000
:Message: [[message://bug-604-1@http.bugs.ledger-cli.org/][{Bug 604} New: print ignores @bucket]]
:Submitter: bugzilla-daemon@mail.johnwiegley.com
:END:
** TODO [[bug:606][#606]] Padding formatting commands does not ignore invisible characters
:PROPERTIES:
:ID:       0782D33B-4DAA-46EF-A566-41E2C3EEA890
:CREATED:  [2011-12-02 Fri 13:45]
:Date: Fri, 02 Dec 2011 13:07:34 +0000
:Message: [[message://bug-606-1@http.bugs.ledger-cli.org/][{Bug 606} New: padding formatting commands do not ignore invisible characters]]
:Submitter: bugzilla-daemon@mail.johnwiegley.com
:END:
** TODO [[bug:607][#607]] Expand the --price-exp argument handling
... to allow specification of hours vice only minutes.
:PROPERTIES:
:ID:       FE5430FF-A397-4A81-993C-E870B5037B24
:CREATED:  [2011-12-02 Fri 13:45]
:Date: Fri, 02 Dec 2011 14:26:01 +0000
:Message: [[message://bug-607-1@http.bugs.ledger-cli.org/][{Bug 607} New: Expand the --price-exp argument handling to allow specification of hours vice only minutes]]
:Submitter: bugzilla-daemon@mail.johnwiegley.com
:END:
** TODO [[bug:609][#609]] Piping input file doesn't handle relative file expansion correctly
:PROPERTIES:
:ID:       CE5B3DED-BF4A-47FD-A507-87E48E46EBDC
:CREATED:  [2011-12-12 Mon 18:22]
:Date: Mon, 12 Dec 2011 23:02:03 +0000
:Message: [[message://bug-609-1@http.bugs.ledger-cli.org/][{Bug 609} New: piping input file to ledger doesn't handle relative file expansion correctly]]
:Submitter: bugzilla-daemon@mail.johnwiegley.com
:END:
** TODO [[bug:610][#610]] Whole transaction is ignored when there's a specific comment
:PROPERTIES:
:ID:       CD85B7F8-7727-45F6-B957-5F41172037DF
:CREATED:  [2011-12-13 Tue 16:36]
:Date: Tue, 13 Dec 2011 13:04:07 +0000
:Message: [[message://bug-610-1@http.bugs.ledger-cli.org/][{Bug 610} New: ledger ignores whole transaction when there's a specific comment]]
:Submitter: bugzilla-daemon@mail.johnwiegley.com
:END:
** TODO [[bug:611][#611]] --trace throws an assertion errors when files are @included
:PROPERTIES:
:ID:       D90B316D-FDA8-44E6-A405-445A182C4C19
:CREATED:  [2011-12-13 Tue 16:36]
:Date: Tue, 13 Dec 2011 13:14:46 +0000
:Message: [[message://bug-611-1@http.bugs.ledger-cli.org/][{Bug 611} New: trace throwing assertion errors when files are @included]]
:Submitter: bugzilla-daemon@mail.johnwiegley.com
:END:
** TODO [[bug:612][#612]] Changing trace level has no effect
:PROPERTIES:
:ID:       974BC10A-231B-4DDD-B8E4-D7341D974D9F
:CREATED:  [2011-12-13 Tue 16:36]
:Date: Tue, 13 Dec 2011 13:33:28 +0000
:Message: [[message://bug-612-1@http.bugs.ledger-cli.org/][{Bug 612} New: changing trace level has no effect]]
:Submitter: bugzilla-daemon@mail.johnwiegley.com
:END:
** TODO [[bug:613][#613]] Convert fails on empty lines
:PROPERTIES:
:ID:       1F275F21-3C2F-47FC-B350-68AA69B3A640
:CREATED:  [2011-12-13 Tue 16:33]
:Date: Tue, 13 Dec 2011 21:30:29 +0000
:Message: [[message://bug-613-1@http.bugs.ledger-cli.org/][{Bug 613} New: convert fails on empty lines]]
:Submitter: bugzilla-daemon@mail.johnwiegley.com
:END:
** TODO [[bug:615][#615]] --strict sees auto xacts at beginning of Journal as uncleared
... so reports their accounts as unknown
:PROPERTIES:
:ID:       7C0DEA50-B755-4C5E-A5D1-F7BFC19B7A16
:CREATED:  [2011-12-14 Wed 16:57]
:Date: Wed, 14 Dec 2011 19:35:21 +0000
:Message: [[message://bug-615-1@http.bugs.ledger-cli.org/][{Bug 615} New: --strict sees automated transactions at the beginning of a Journal as uncleared, so reports their accounts as unknown]]
:Submitter: bugzilla-daemon@mail.johnwiegley.com
:END:
** TODO [[bug:616][#616]] bal --amount-data fails wrong
:PROPERTIES:
:ID:       D65636A2-6C30-404B-B633-EEFD248F6A6A
:CREATED:  [2011-12-14 Wed 16:55]
:Date: Wed, 14 Dec 2011 21:04:46 +0000
:Message: [[message://bug-616-1@http.bugs.ledger-cli.org/][{Bug 616} New: ledger bal --amount-data fails wrong]]
:Submitter: bugzilla-daemon@mail.johnwiegley.com
:END:
** TODO [[bug:617][#617]] bal --anon anonymizes *before* it generates the report
:PROPERTIES:
:ID:       D89C4DBC-5AA2-4B93-9947-D65CAEA7F4A5
:CREATED:  [2011-12-14 Wed 16:55]
:Date: Wed, 14 Dec 2011 21:31:34 +0000
:Message: [[message://bug-617-1@http.bugs.ledger-cli.org/][{Bug 617} New: ledger bal --anon anonymizes BEFORE it generates the report]]
:Submitter: bugzilla-daemon@mail.johnwiegley.com
:END:
** TODO [[bug:618][#618]] --anon loses all structural information
:PROPERTIES:
:ID:       C97C3B48-E8A7-4A25-99E1-77530C8AFE9F
:CREATED:  [2011-12-14 Wed 16:55]
:Date: Wed, 14 Dec 2011 21:38:21 +0000
:Message: [[message://bug-618-1@http.bugs.ledger-cli.org/][{Bug 618} New: --anon loses all structural information]]
:Submitter: bugzilla-daemon@mail.johnwiegley.com
:END:
** TODO [[bug:619][#619]] Format functions do not work in --group-title-format
:PROPERTIES:
:ID:       E51FB442-711F-4158-A689-E1D795173632
:CREATED:  [2011-12-16 Fri 23:24]
:Date: Sat, 17 Dec 2011 05:06:25 +0000
:Message: [[message://bug-619-1@http.bugs.ledger-cli.org/][{Bug 619} New: format function do not work in --group-title-format]]
:Submitter: bugzilla-daemon@mail.johnwiegley.com
:END:
** TODO [[bug:621][#621]] New install will not execute without ~/.pricedb existing
:PROPERTIES:
:ID:       DA7CB86F-E169-4287-8A40-DA97AE516BB0
:CREATED:  [2011-12-28 Wed 18:51]
:Date: Fri, 23 Dec 2011 00:51:32 +0000
:Message: [[message://bug-621-1@http.bugs.ledger-cli.org/][{Bug 621} New: New install will not execute  without ~/.pricedb existing]]
:Submitter: bugzilla-daemon@mail.johnwiegley.com
:END:
** TODO [[bug:622][#622]] print ignores Y.... tag
:PROPERTIES:
:ID:       BB3AFC4C-0B54-4E80-A7F0-6CB0C9E2C8B7
:CREATED:  [2011-12-31 Sat 17:01]
:Date: Sat, 31 Dec 2011 15:50:25 +0000
:Message: [[message://bug-622-1@http.bugs.ledger-cli.org/][{Bug 622} New: print ignores Y.... tag]]
:Submitter: bugzilla-daemon@mail.johnwiegley.com
:END:
** TODO [[bug:623][#623]] Virtual transactions cause unbalanced equity report
:PROPERTIES:
:ID:       22141D8B-E1F8-4B48-9FEB-B2E5422C617A
:CREATED:  [2012-01-04 Wed 18:11]
:Date: Wed, 04 Jan 2012 23:20:08 +0000
:Message: [[message://bug-623-1@http.bugs.ledger-cli.org/][{Bug 623} New: virtual transactions cause unbalanced equity report]]
:Submitter: bugzilla-daemon@mail.johnwiegley.com
:END:
** TODO [[bug:624][#624]] Lack of newline at end of file causes rounding error
- Note taken on [2012-01-09 Mon 18:13] \\
  It seems that the last character is assumed to be a newline. If I change to:
  #+begin_src ledger
  1/5 Opening Balance
    Equity:Opening Balances
    Assets:Checking              $123.45
    Assets:Savings:Emergency    $3000.00
    Assets:Savings:Other         $901.37q
  #+end_src
  
  ...it works as intended.
:PROPERTIES:
:ID:       F739F74D-2523-4624-A8F0-CDD50CBD28D5
:CREATED:  [2012-01-06 Fri 16:55]
:Date: Fri, 06 Jan 2012 20:33:40 +0000
:Message: [[message://bug-624-1@http.bugs.ledger-cli.org/][{Bug 624} New: Lack of newline at end of file causes rounding error]]
:Author: bugzilla-daemon@mail.johnwiegley.com
:END:
** TODO [[bug:626][#626]] emacs command does not report xact level comments/tags
:PROPERTIES:
:ID:       90ADD172-DA7E-411F-AA13-CC2BE3E5E338
:CREATED:  [2012-01-18 Wed 00:02]
:Date: Wed, 18 Jan 2012 03:31:38 +0000
:Message: [[message://bug-626-1@http.bugs.ledger-cli.org/][{Bug 626} New: emacs command does not report xact level comments/tags]]
:Author: bugzilla-daemon@mail.johnwiegley.com
:END:
** TODO [[bug:630][#630]] Basis cost should "follow" commodities with lot pricing
:PROPERTIES:
:ID:       23C96A70-7429-4DBE-9EF6-2053319C1D6A
:CREATED:  [2012-02-22 Wed 15:07]
:Date: Wed, 22 Feb 2012 18:18:12 +0000
:Message: [[message://bug-630-1@http.bugs.ledger-cli.org/][{Bug 630} New: basis cost should "follow" commodities with lot pricing]]
:Author: bugzilla-daemon@mail.johnwiegley.com
:END:
** TODO [[bug:634][#634]] Correctly implement floor(), ceil() and round()
:PROPERTIES:
:ID:       757871B5-00C4-4EA5-9F0C-B16159DA4AD5
:CREATED:  [2012-01-11 Wed 23:28]
:Date: Sat, 07 Jan 2012 00:31:19 -0600
:Message: [[message://m2pqew2fd4.fsf@gmail.com][Re: Rounding formula for automatic transactions]]
:Author: John Wiegley <jwiegley-Re5JQEeQqe8AvxtiuMwx3w@public.gmane.org>
:END:
** TODO [[bug:636][#636]] Budget report query doesn't generate correct report
It appears that a budget report query doesn't generate a correct report for a
particular account unless there's a register entry for the budgeted account in
the first month of the year.

For example, if I budget $100.00/month for vacation, but don't have a posting
in the vacation account until February, a budget report for the complete year
shows that I've budgeted $550.00. If the first entry for the year comes in
March, a budget report for the complete year shows that I've budgeted $500.00.

(A budget query for ^Expenses shows the correct budgeted amount for the
vacation account regardless when the first entry for vacation comes.)

Using the next branch updated last night (19 Nov).
:PROPERTIES:
:ID:       D2846B5C-EDD1-4B45-9A00-11DE1CAF42A2
:CREATED:  [2011-11-21 Mon 16:31]
:Date:     Sun, 20 Nov 2011 12:26:29 -0500
:Message:  [[message://87mxbqln7e.fsf@buster.johnrakestraw.com][Bug in budget report?]]
:Submitter: John Rakestraw <johnr-hdTKlMK9g6hNu5YjidvPyAC/G2K4zDHf@public.gmane.org>
:END:
** TODO [[bug:637][#637]] Trying to understand the pivot command
I think I'm just not understanding this. I've been intrigued by the "pivot"
feature in Ledger since I first learned of it, but I've not been able to make
it work. After seeing Russell Adams simple presentation of it earlier this
week, I decided to try again tonight.

I can use Russell's simple example file and get the results that he got.
However, if I add another entry to it that doesn't include the relevant
categories, this entry is still included in the reports.

Here's Russell's sample file (renamed to test) with one additional entry:
#+begin_src ledger
2011/11/01 Airplane ride
    Source:VISA                   -$1000.00
    Dest:Project
        ; ER: ER0001
        ; CATEGORY: Airfare
        ; PROJECT: Test

2011/11/02 Hotel overnight
    Source:VISA                    -$200.00
    Dest:Project
        ; ER: ER0001
        ; CATEGORY: Lodging
        ; PROJECT: Test

2011/11/03 Airplane ride
    Source:VISA                   -$1500.00
    Dest:Project
        ; ER: ER0002
        ; CATEGORY: Airfare
        ; PROJECT: Bob

2011/11/04 Hotel overnight
    Source:VISA                    -$250.00
    Dest:Project
        ; ER: ER0002
        ; CATEGORY: Lodging
        ; PROJECT: Bob

2011/11/05 Reimbursement
    Source:VISA                    $1200.00
    Dest:Project
        ; ER: ER0001

2011/11/07 Another entry
    Source:Checking                    $1000.00
    Dest:Other
#+end_src

Note that the last entry doesn't include any of the categories included in the
other entries. I would expect it not to show up in the reports. For example,:
#+begin_src sh
ledger -f test -sEV bal --pivot CATEGORY
#+end_src

Yields this:
:OUTPUT:

            $2950.00  CATEGORY
            $2500.00    Airfare:Dest:Project
             $450.00    Lodging:Dest:Project
           $-2200.00  Dest
           $-1000.00    Other
           $-1200.00    Project
            $-750.00  Source
            $1000.00    Checking
           $-1750.00    VISA
--------------------
                   0
:END:

#+begin_src sh
ledger -f test -sEV bal --pivot ER
#+end_src

Yields this:
:OUTPUT:
           $-1000.00  Dest:Other
            $1750.00  ER
                   0    ER0001:Dest:Project
            $1750.00    ER0002:Dest:Project
            $-750.00  Source
            $1000.00    Checking
           $-1750.00    VISA
--------------------
                   0
:END:

In each case, the report includes the lines for "Dest:Other" and "Checking."
This is not a problem with such a simple file, but when I run similar reports
on my entire ledger file, I get what appears to be a line for every account
mentioned in the file. It's not helpful.
:PROPERTIES:
:ID:       3A14DE96-6D94-4559-AB68-7DC7F403CCAC
:CREATED:  [2011-11-14 Mon 18:04]
:Date:     Fri, 11 Nov 2011 20:11:02 -0500
:Message:  [[message://87obwitaah.fsf@buster.johnrakestraw.com][Trying to understand the pivot command]]
:Submitter: John Rakestraw <johnr-hdTKlMK9g6hNu5YjidvPyAC/G2K4zDHf@public.gmane.org>
:END:
** TODO [[bug:648][#648]] Don't use boost::any in value.h, since it causes allocations
:PROPERTIES:
:ID:       D8131379-1E53-474D-92A7-817AFD1DB84D
:CREATED:  [2011-12-21 Wed 15:36]
:END:
** TODO [[bug:649][#649]] Unrecognized initial chars in a journal should cause an error
:PROPERTIES:
:ID:       AE7BCF3F-5F73-4776-84AB-721D0E460DE8
:CREATED:  [2011-11-22 Tue 23:43]
:Date: Tue, 22 Nov 2011 20:54:43 -0700
:Message: [[message://CAKs9TO+fsB8rn1GXgWNS0iXjMcoyhvhorsgya8X1qdZTEz+r6w@mail.gmail.com][Re: {DOCS} Different ways Commenting Journals]]
:Submitter: Craig Earls <enderw88-Re5JQEeQqe8AvxtiuMwx3w@public.gmane.org>
:END:
** TODO [[bug:652][#652]] How to handle stale results from getquote
I am very close to completing reimplementation of quote downloading in ledger
3 (it works completely on my machine but doesn't report problems in any sane
way).  I have addressed bugs 174 (configurable getquote path) and 411 (don't
keep trying to download if you receive a stale price).  Right now I am adding
some sanity checking to the options and working on error reporting.  I should
be able to push this to git within the next few days.  I need some advice on
how people would prefer to handle the following situations:

NOTE: ledger assumes the getquote script returns the latest available price.

1. Stale results: If getquote returns a price that is stale (age exceeds the
   --price-exp) should ledger silently accept that as the latest price, accept
   it and generate a warning, or generate an error and quit? Right now I have
   it silently accepting the stale value.

2. Valid Option combinations: --download does nothing if -V isn't
   specified. Should ledger silently accept this, warn about the missing -V
   option or stop and report?
   
I had hoped to address bug 588 ('getquote' only queries one commodity at a
time, which can be slow) but this requires some significant changes to the
internal flow ledger takes (ledger deals with commodities immediately as they
are parsed, grouping commodities for a batch download would require two passes
through the journal files).
:PROPERTIES:
:ID:       42D6D5F2-DDB5-4C24-BE8D-A14525065400
:CREATED:  [2011-12-08 Thu 00:43]
:Date: Wed, 7 Dec 2011 22:39:53 -0700
:Message: [[message://CAKs9TO+BC++bBCk4Tc6W=Ee8JqW8=n0yYEgjmQ44Je7PKRp1VA@mail.gmail.com][How to handle stale results from getquote]]
:Submitter: Craig Earls <enderw88-Re5JQEeQqe8AvxtiuMwx3w@public.gmane.org>
:END:
** TODO [[bug:655][#655]] Ledger no longer downloads stock prices using the -Q option
Since upgrading to ledger 3.0, I've noticed that it no longer downloads stock
prices using the -Q option like it used to. Based on this post, that's a
feature that is planned, but not yet reinstated yet.

http://groups.google.com/group/ledger-cli/browse_thread/thread/d58f29605d4bdd02/dd26788d2b2d934a?lnk=gst&q=download#dd26788d2b2d934a

In the meantime, I've created a Bash script that does the same work.  It's
super simple, so I'm not sure if it will work for everyone, but it should be
easy to fix, if not.

https://gist.github.com/1389840
:PROPERTIES:
:ID:       DE28E5EC-9481-4E86-9C78-C3E793B1FF4A
:CREATED:  [2011-11-24 Thu 00:41]
:Date: Wed, 23 Nov 2011 12:53:45 -0800 (PST)
:Message: [[message://d4abc803-fa54-4b5f-9649-83c38f872d11@w1g2000vba.googlegroups.com][Dowloading stock prices, a workaround]]
:Submitter: Vinod Kurup <vvkurup-Re5JQEeQqe8AvxtiuMwx3w@public.gmane.org>
:END:
** TODO [[bug:663][#663]] Detect recursive inclusion and report an error
:PROPERTIES:
:ID:       76DA1021-D527-4BED-8F1B-258E7D8BE34A
:CREATED:  [2012-03-01 Thu 22:29]
:END:
** TODO [[bug:667][#667]] ledger-reconcile-visit no longer functioning
:PROPERTIES:
:ID:       1CF3C088-551D-4058-8B5F-28E420E994F9
:CREATED:  [2012-03-10 Sat 22:36]
:Date: Mon, 05 Mar 2012 22:22:32 +0000
:Message: [[message://bug-667-1@http.bugs.ledger-cli.org/][{Bug 667} New: ledger-reconcile-visit no longer functioning]]
:Author: bugzilla-daemon@mail.johnwiegley.com
:END:
** TODO [[bug:673][#673]] display_total chokes on account with non-dollar commodities
:PROPERTIES:
:ID:       8A56499C-69DC-4B51-85EC-D7F83F6A8342
:CREATED:  [2012-03-08 Thu 13:57]
:Date: Thu, 08 Mar 2012 19:18:58 +0000
:Message: [[message://bug-673-1@http.bugs.ledger-cli.org/][{Bug 673} New: display_total chokes on account with non-dollar commodities]]
:Author: bugzilla-daemon@mail.johnwiegley.com
:END:
** TODO [[bug:676][#676]] Error about missing boost regex misleading when boost regex is installed but not boost regex dev
:PROPERTIES:
:ID:       33C71B01-519C-4862-AE7E-BC94DFF1CB3C
:CREATED:  [2012-03-10 Sat 19:13]
:Date: Sat, 10 Mar 2012 13:11:06 +0000
:Message: [[message://bug-676-1@http.bugs.ledger-cli.org/][{Bug 676} New: Error about missing boost regex misleading when boost regex is installed but not boost regex dev]]
:Author: bugzilla-daemon@mail.johnwiegley.com
:END:
** TODO [[bug:677][#677]] Error building current next branch: no type named ‘key_type’ in ‘class ledger::date_specifier_t’
- State "TODO"       from "DONE"       [2012-03-11 Sun 20:00] \\
  That's fine, but you still have to update README.texile which says that Boost
  1.35 or higher is required.
  
  Also, it would be great if acprep could show an error if boost is too old.
- State "DONE"       from "TODO"       [2012-03-11 Sun 03:58] \\
  Building Ledger now requires a more modern version of Boost than 1.42.
:PROPERTIES:
:ID:       80B016C0-B6AD-4425-AFD8-D525B26DCC0D
:CREATED:  [2012-03-10 Sat 19:13]
:Date: Sat, 10 Mar 2012 13:22:48 +0000
:Message: [[message://bug-677-1@http.bugs.ledger-cli.org/][{Bug 677} New: Error building current next branch: no type named ‘key_type’ in ‘class ledger::date_specifier_t’]]
:Author: bugzilla-daemon@mail.johnwiegley.com
:END:
** TODO [[bug:682][#682]] post.xact.posts yields: 'instancemethod' object is not iterable
:PROPERTIES:
:ID:       317B9815-A0D2-4B26-BAB7-3131650463AD
:CREATED:  [2012-05-30 Wed 21:30]
:Date: Wed, 30 May 2012 14:55:14 +0000
:Message: [[message://bug-682-1-ncLxR8LuMD@http.bugs.ledger-cli.org/][{Bug 682} post.xact.posts yields: 'instancemethod' object is not iterable]]
:Author: bugzilla-daemon@mail.johnwiegley.com
:END:
** TODO [[bug:684][#684]] Ledger v3 slower than ledger v2
- Note taken on [2012-03-13 Tue 16:30] \\
  I have compiled today using:
  #+begin_src sh
  $ ./acprep make -- distclean
  $ ./acprep opt update --no-patch
  #+end_src
  
  here is table, result are in last column, best viewed using org-mode:
  
  | reg -X € -J                                 | 2m07.451s | 2m01.476s | 1m16.583s | 1m18.624s |
  | reg -X € -J --price-db prices.db-monthly    | 0m42.755s | 1m04.551s | 0m58.373s | 1m0.666s  |
  | reg -X € -J -M                              | 0m34.802s | 0m34.283s | 0m24.437s | 0m24.608s |
  | reg -X € -J -M --price-db prices.db-monthly | 0m12.562s | seg fault | 0m19.944s | 0m22.399s |
  | reg -X € -J -Y                              | 0m09.555s | 0m08.683s | 0m07.117s | 0m6.543s  |
  | reg -X € -J -Y --price-db prices.db-monthly | 0m03.401s | 0m04.280s | 0m05.448s | 0m5.292s  |
  
  You will see that there is no improvment. I suspect that you focused on
  first line of output.txt from gmon.out.
  
  I believe that the most interesting part of gmon is the second part,
  starting after keyword "granularity", that is line 7314 (see output of
  "grep -n granularity output.txt")
  
  To analyse this second part there are tools like gprof2dot. I use command
  like:
  #+begin_src sh
  $ gprof ~/ledger/ledger gmon.out | ~/gprof2dot.py | dot -Tpdf -o output.pdf
  #+end_src
  where ~/ledger/ledger is compiled using gprof options
  
  output.pdf file will be very big, depending on you platform (MacOs I
  believe), please choose the graphic format that you are able to
  read. This step caused me problems with 6GB RAM.
  
  I tried to profile again, but I am failing with error
  :OUTPUT:
  $ time ledger reg -X € -J --price-db price.db-201006292103 >/dev/null
  _mcleanup: gmon.out: Too many levels of symbolic links
  :END:
  and google did not helped that much
:PROPERTIES:
:ID:       69328608-A930-42BE-B6AC-40C373A08C3F
:CREATED:  [2012-03-10 Sat 22:11]
:Date: Fri, 9 Mar 2012 13:25:52 -0800 (PST)
:Message: [[message://32381169-60df-4c0e-9e35-3f5a9b7e14d0@b18g2000vbz.googlegroups.com][Re: ledger v3 slower than ledger v2]]
:Author: thierry <thierry.daucourt-GANU6spQydw@public.gmane.org>
:END:
** TODO [[bug:685][#685]] "truncated" does not mean what is expected in value expressions
> If you want the kind of rounding you're describing, you can use this:
>
>     = /Expenses:Bug Fixes/
>       Liabilites:Refactoring     (truncated(amount) * 0.01)

That seems like the Right Thing To Do(TM) as I'm trying to compute
taxes using automatic transactions and my collected sales tax is
precise to cents only, too.

However, with Ledger 3.0.0-20120217 (the one available from the Ubuntu
PPA) the above expression fails for me (after enclosing the account in
either [] or () to balance, because it seems to fail otherwise with
Ledger3) with the following error:
:OUTPUT:
While applying automated transaction from "bug.ledger", lines 1-2:
> = /Expenses:Bug Fixes/
>   (Liabilites:Refactoring)             (truncated(amount) * 0.01)
While extending transaction from "bug.ledger", lines 4-6:
> 2012/03/09 Automatically Incurring 0.044 Refactoring
>   Expenses:Bug Fixes                   4.40$
>   Assets:Code
Error: Amount expressions must result in a simple amount
:END:

When I use the documented `truncate` function instead (truncated is
not mentioned in the manual page that ships with the Ubuntu package?)
the error is "Error: Unrecognized truncation style: '4.40$'".
:PROPERTIES:
:ID:       ED48363F-039E-4560-9BEC-A08D0D8DC60B
:CREATED:  [2012-03-10 Sat 22:12]
:Date: Fri, 9 Mar 2012 23:01:55 -0800 (PST)
:Message: [[message://c4c1b98f-f1e8-43c6-a2dd-ac5d4cfc88eb@w1g2000vbx.googlegroups.com][Re: No rounding applied to transactions?]]
:Author: Robert Lehmann <lehmannro-Re5JQEeQqe8AvxtiuMwx3w@public.gmane.org>
:END:
** TODO [[bug:687][#687]] Budgeting bug?
- Note taken on [2012-03-10 Sat 22:16] \\
  From [[message://CAJQFw%3D%2BaWf%2BJHvqAcUkUDB6pAg1UX2uG%3D5gWdJNgtOH1ALyQOA@mail.gmail.com][Re: budgeting bug?]]:

  > Also, my budget transaction seemed to need to be reversed (notice how
  > Cash is $-200) to work right. Is this correct?

  The manuals are a bit sparse (at least the ones linked from ledger-cli.org),
  but the idea is to compare your budgeted amounts with actual expenses, thus
  for any net amount to make sense the sign has to be "wrong".

  What I find I really want is not a budget amount, but a real and true
  recurring expense.  For example, I just set up a subscription for automatic
  payment (say with Amazon or Paypal or whatever).  This isn't a "budget"
  amount. It is "automatic", but not in the sense that ledger uses that term,
  and it certainly isn't virtual.  So I've ended up just creating a bunch of
  manual transactions with dates into the future. Hopefully I'll remember to
  make more copies of them when I catch up to the last one.

  I really like ledger's facilities... it's just that these manually
  maintained future entries are a pain...
With Ledger 2.6.2, if I have:
#+begin_src ledger
~ Monthly from 2009-08-01
  Cash:NewCar          $-200
  Income:NewCar
#+end_src

And then do:
:OUTPUT:
 ledger --add-budget reg  Cash:NewCar
(empty output)
:END:

but if I add atleast one real transaction, like this:
#+begin_src ledger
2012-03-01 test
  Expenses:NewCar  $1
  Cash:NewCar
#+end_src

I get the expected output with the same reg command:
:OUTPUT:
2009/08/01 Budget entry         Cash:NewCar
$200         $200
2009/09/01 Budget entry         Cash:NewCar
$200         $400
etc..
:END:

Is this a bug or am I missing something?

Also, my budget transaction seemed to need to be reversed (notice how Cash is
$-200) to work right. Is this correct?
:PROPERTIES:
:ID:       2B35972E-087C-4BBA-91B0-B9F897826DEC
:CREATED:  [2012-03-10 Sat 22:16]
:Date: Thu, 1 Mar 2012 20:27:37 -0800 (PST)
:Message: [[message://6beffd28-99ec-464c-8f4b-17bcbd16005c@p7g2000yqk.googlegroups.com][budgeting bug?]]
:Author: Alex D <ademko-Re5JQEeQqe8AvxtiuMwx3w@public.gmane.org>
:END:
** TODO [[bug:692][#692]] Warnings need to use the included file name
:PROPERTIES:
:ID:       0DC0CDCF-61F2-409C-8B81-E7E54CFE2F68
:CREATED:  [2012-03-12 Mon 03:45]
:END:
** TODO [[bug:693][#693]] Optimized Ledger crashes whenever an exception is thrown                  :critical:
:PROPERTIES:
:ID:       1F93812A-F8AF-41D7-BF02-24D55DB99DA2
:CREATED:  [2012-03-12 Mon 03:38]
:END:
** TODO [[bug:694][#694]] If posts_list::iterator is stable, use it in ~account_t
:PROPERTIES:
:ID:       547279FC-8D16-47D9-948B-ED16E678E8C1
:CREATED:  [2012-03-12 Mon 06:50]
:END:
** TODO [[bug:695][#695]] --init-file is ignored                                                     :blocker:
Using the option ```--init-file``` has no effect, the specified file is never
even ```stat```ed let alone opened by ledger.

The only way to have an init file is to place it at ~/.ledgerrc.

This was tested both on todays next as well as on master.
:PROPERTIES:
:ID:       92BF4406-AA10-48B2-B2D4-FF8007C64789
:CREATED:  [2012-03-12 Mon 16:39]
:Date: Mon, 12 Mar 2012 08:09:37 -0700
:Message: [[message://jwiegley/ledger/issues/59@github.com][{ledger} --init-file is ignored (#59)]]
:Author: "Prof. MAAD" <reply+i-3612678-600a0f35c0d3cfe7eb0fc77bcd7f70f4d29bb801-8460@reply.github.com>
:END:
** TODO [[bug:696][#696]] Change to -F parsing rules (casting to int)
Just a note in case anyone else has trouble with custom reporting formats.  I
just built 3.0.0-20120217 and noticed a formatting rule that used to work:
#+begin_src ledger_format
%(ansify_if(format_date(date, "%Y-%m"), green if color and date > today)) %
(ansify_if(justify(scrub(display_total), 4 + total_width, true, color), bold if
should_bold))\n
#+end_src

now complains:
:OUTPUT:
While evaluating value expression:
  ansify_if(justify(scrub(display_total), (4 + total_width), true, color),
(should_bold ? (bold : null)))
While adding 12 to 4:
While calling function 'justify (<#EXPR scrub(display_total)>, <#EXPR ({4} +
total_width)>, 1, 1)':
While calling function 'ansify_if (<#EXPR justify(scrub(display_total), ({4} +
total_width), true, color)>, (null))':
Error: Cannot add a string to an amount
:END:

Looking at the report.cc and report.h source, it appears that I now need to
use 'int(total_width)' instead of just 'total_width'.
:PROPERTIES:
:ID:       9DA7E251-88F7-434C-A89E-2D6CE3FDD456
:CREATED:  [2012-03-12 Mon 16:27]
:Date: Mon, 12 Mar 2012 06:57:22 -0700 (PDT)
:Message: [[message://806226.210.1331560642011.JavaMail.geo-discussion-forums@pbcwg4][change to -F parsing rules (casting to int)]]
:Author: Jim Robinson <jim.robinson-Re5JQEeQqe8AvxtiuMwx3w@public.gmane.org>
:END:
** TODO [[bug:697][#697]] --dc has a problem with -V and -B
I love the new --dc option, but it fails when combined with -V :

Using the test file and using latest HEAD (ed71421c8a):
#+begin_src ledger
2012/03/09 Test 1
  Cash       0.5 hour @ 34 £
  Income

2012/03/10 Test 2
  Cash       1 hour  @ 34 £
  Income
#+end_src

ledger reg -V reports:
:OUTPUT:
09 March 2012  Test 1  Cash     £17          £17
                       Income  £-17            0
10 March 2012  Test 2  Cash     £34          £34
                       Income  £-34            0
:END:

ledger reg --dc reports :
:OUTPUT:
09 March 2012  Test 1  Cash     0.5 hour       0     0.5 hour
                       Income   0            £17     0.5 hour
                                                     £-17
10 March 2012  Test 2  Cash     1.0 hour       0     1.5 hour
                                                     £-17
                       Income   0            £34     1.5 hour
                                                     £-51
:END:

ledger reg -V --dc fails with:
:OUTPUT:
While evaluating value expression:
  ansify_if(justify(scrub(abs(get_at(display_amount, 1))), int(amount_width), (((((((4 + int(meta_width)) + int(date_width)) + int(payee_width)) + int(account_width)) + int(amount_width)) + int(amount_width)) + int(prepend_width)), true, color), (should_bold ? (bold : null)))
While taking abs of (null):
While calling function 'abs (null)':
While calling function 'scrub <#EXPR abs(get_at(display_amount, {1}))>':
While calling function 'justify (<#EXPR scrub(abs(get_at(display_amount, {1})))>, <#EXPR int(amount_width)>, <#EXPR ((((((({4} + int(meta_width)) + int(date_width)) + int(payee_width)) + int(account_width)) + int(amount_width)) + int(amount_width)) + int(prepend_width))>, 1, 0)':
While calling function 'ansify_if (<#EXPR justify(scrub(abs(get_at(display_amount, {1}))), int(amount_width), ((((((({4} + int(meta_width)) + int(date_width)) + int(payee_width)) + int(account_width)) + int(amount_width)) + int(amount_width)) + int(prepend_width)), true, color)>, (null))':
While handling posting from "/Users/christopher/Desktop/test.lgr", line 2:
>   Cash       0.5 hour @ 34 £
Error: Cannot abs an uninitialized value
:END:

Incidentally, ledger reg -B --dc reports identically to ledger reg --dc.  Bug,
or am I misunderstanding what the report should be?
:PROPERTIES:
:ID:       6298435E-E75F-43EC-97E3-5B7085329FBF
:CREATED:  [2012-03-12 Mon 05:56]
:Date: Mon, 12 Mar 2012 08:10:46 +0000
:Message: [[message://m27gyqutmh.fsf@gmail.com][--dc with -V]]
:Author: Christopher Suckling <suckling.list-Re5JQEeQqe8AvxtiuMwx3w@public.gmane.org>
:END:
** TODO [[bug:698][#698]] When format_t outputs a balance, it should know the next line width
:PROPERTIES:
:ID:       DA021BA7-A742-497F-8CE7-9C1478C65D3E
:CREATED:  [2012-03-12 Mon 05:59]
:END:
** TODO [[bug:700][#700]] @alias segfaults
:PROPERTIES:
:ID:       E36335EF-3960-4464-BA99-2C9DFF86B0C0
:CREATED:  [2012-03-14 Wed 14:00]
:Date: Wed, 14 Mar 2012 08:42:12 +0000
:Message: [[message://bug-700-1@http.bugs.ledger-cli.org/][{Bug 700} New: @alias segfaults]]
:Author: bugzilla-daemon@mail.johnwiegley.com
:END:
** TODO [[bug:705][#705]] Should error if file specified by --price-db does not exist
:PROPERTIES:
:ID:       40C47070-8F67-46F4-8C41-DD1D4CEA131D
:CREATED:  [2012-03-16 Fri 04:45]
:Date: Fri, 16 Mar 2012 09:08:05 +0000
:Message: [[message://bug-705-1@http.bugs.ledger-cli.org/][{Bug 705} New: should produce error when file specified by --price-db does not exist]]
:Author: bugzilla-daemon@mail.johnwiegley.com
:END:
** TODO [[bug:707][#707]] Year directive confuses today for entry command
:PROPERTIES:
:ID:       B5F812EB-D58B-4C6F-A0BC-5035DA16A591
:CREATED:  [2012-03-16 Fri 20:26]
:Date: Sat, 17 Mar 2012 00:01:51 +0000
:Message: [[message://bug-707-1@http.bugs.ledger-cli.org/][{Bug 707} New: Year directive confuses today for entry command]]
:Author: bugzilla-daemon@mail.johnwiegley.com
:END:
** TODO [[bug:709][#709]] Make @account/!account be a synonym for "apply account"
:PROPERTIES:
:ID:       C7492F43-04BD-438F-83C6-F559DFE561A1
:CREATED:  [2012-03-16 Fri 21:36]
:Date: Fri, 16 Mar 2012 16:34:22 -0500
:Message: [[message://m24ntofcwx.fsf@gmail.com][Re: Wishlist: accounts and payees list, account signs and subtotal in transactions.]]
:Author: John Wiegley <jwiegley-Re5JQEeQqe8AvxtiuMwx3w@public.gmane.org>
:END:
** TODO [[bug:712][#712]] Capital gains/losses accounted for twice
I believe ledger doesn't handle capital gains and losses correctly.

Let's start with an example.  We start with 10.00 GBP in cash.  Naturally,
since this is our only asset and there are no liabilities, our equity is
-10.00 GBP.
#+begin_src ledger
2011-01-01 * Opening balance
    Assets:Cash                               10.00 GBP
    Equity:Opening balance                   -10.00 GBP
#+end_src

This balances just fine since assets equals equity:
:OUTPUT:
$ ledger -f test.ledger bal
           10.00 GBP  Assets:Cash
          -10.00 GBP  Equity:Opening balance
--------------------
                   0
:END:

Now we'll buy 1 AAA share for 10.00 GBP:
#+begin_src ledger
2011-02-01 * Buy 1 AAA for 10.00 GBP
    Assets:Investments                 1 AAA {10.00 GBP}
    Assets:Cash                              -10.00 GBP
#+end_src

We now have 1 AAA share worth 10.00 GBP and no liabilities, so our equity is
still -10.00 GBP.

Now let's sell our AAA share for 12.00 GBP, making a profit of 2.00 GBP.
Let's start with this transaction:
#+begin_src ledger
2011-12-07 * Sell AAA with a gain
    Assets:Cash                               12.00 GBP
    Assets:Investments                -1 AAA {10.00 GBP} @@ 12.00 GBP
#+end_src

ledger will now produce the following error:
:OUTPUT:
While balancing transaction from "test.ledger", lines 5-7:
> 2011-12-07 * Sell AAA with a gain
>     Assets:Cash                               12.00 GBP
>     Assets:Investments  -1 AAA {10.00 GBP} @@ 12.00 GBP
Unbalanced remainder is:
            2.00 GBP
Amount to balance against:
           14.00 GBP
:END:

The unbalanced remainder is 2.00 GBP.  Why?  Because we're selling 10.00 GBP
worth of AAA but get 12.00 GBP for it... so we have to account for the gain of
2.00 GBP somehow.  So let's fix up the transaction by making the gain clear:
#+begin_src ledger
2011-12-07 * Sell AAA with a gain
    Assets:Cash                               12.00 GBP
    Assets:Investments  -1 AAA {10.00 GBP} @@ 12.00 GBP
    Income:Capital gains                      -2.00 GBP
#+end_src

So now we're selling 1 AAA, originally worth 10.00 GBP, for 12.00 GBP.  We get
12.00 GBP in cash and make a capital gain of 2.00 GBP.

Now the transaction is accepted by ledger and according to my own calculation
it should balance.  But if you look at ledger bal you'll see that it does not
balance:
:OUTPUT:
$ ledger -f test.ledger bal
           12.00 GBP  Assets:Cash
           -8.00 GBP  Equity
            2.00 GBP    Capital Gains
          -10.00 GBP    Opening balance
           -2.00 GBP  Income:Capital gains
--------------------
            2.00 GBP
:END:

So what do we have here?  We have 12.00 GBP in Assets:Cash, which is correct
(we originally had 10.00 GBP in cash, bought 1 AAA for that money, and then
sold 1 AAA for 12.00 GBP in cash).  We also have an Equity:Opening balance of
-10.00 GBP, which is correct since our opening equity only changes at the end
of the year.  And we have -2.00 GBP if Income:Capital gains to account for our
gain (i.e. how we ended up going from 10.00 GBP at the beginning of the year
to 12.00 GBP now).

But where does 2.00 GBP in Equity:Capital Gains come from and why does it no
longer balance?

This is automatically generated by ledger and I think that's wrong.  John
explained in [1] that this exists "because according to the rules of
double-entry accounting, money cannot "come from nowhere"."

Of course it has to come from somewhere.  But that's why we added the
Income:Capital gains -2.00 GBP entry.  This is where our gain comes from.
We've accounted for it already, and now ledger tries to account for it again
by adding something to Equity:Capital Gains.  I see two problems with this:

1) We've already accounted for the gain by adding

     Income:Capital gains    -2.00 GBP

   Without this entry, ledger complained about a balancing problem.  So when
   working out what the balance is, ledger obviously takes that gain/loss into
   account already.  ledger should either not add the gain/loss to the balance
   and generate the automatic posting, or should add the gain/loss to the
   balance (i.e. requiring the user to account for the gain/loss in the
   transaction) and not generate something automatically.  Both would lead to
   something which balances.  But currently ledger asks the user to account
   for the gain/loss in the transaction and _also_ adds an automatic posting.

2) Why is Equity:Capital Gains +2.00 GBP and not -2.00 GBP -12.00 GBP in
   Equity is more than -10.00 GBP in Equity, so if we make a gain -2.00 GBP
   should be added to equity, and +2.00 GBP should be added if we make a loss.
   ledger does the reverse.

To sum up the problem:

 - ledger generates an entry to Equity that is reversed.
 - ledger shouldn't generate this entry in the first place since the user
   accounted for the gain/loss already.

I hope this explanation is clearer than the one I offered in 2010.

By the way, I think we also need a discussion at some point about how these
capital gains/losses should be treated with -B or -V.  But my example didn't
use these flags at all, and we should discuss the simple case without these
flags first.

Martin

[1] http://www.mail-archive.com/ledger-cli@googlegroups.com/msg01158.html[2] http://www.mail-archive.com/ledger-cli@googlegroups.com/msg01272.html

P.S. I've included a longer explanation below using the accounting
equation, but hopefully my example above is clear enough.  The text
below is only optional reading.

Let's take a look at the accounting equation.  The simply form
is:

  Assets = Liabilities + Equity

We can extend this to add Income and Expenses:

  Assets = Liabilities + Equity + Income - Expenses

Income and Expense accounts are used during the year.  At the
end of the year, when closing the books, all Income and Expense
accounts are added up and the result (either a profit or a loss)
is added to Equity.  Equity is not touched during the year - only
when closing the book at the end of the year.

We can reorganize the accounting equation as follows:

  Assets - Liabilities - Equity = 0
  Assets - Liabilities - Equity - Income + Expenses = 0

In ledger, a negative equity (-10.00 GBP) is more than a positive
equity (10.00 GBP).  I think the best way to explain this
is to reorganize the accounting equation as follows:

  Assets + (-Liabilities) + (-Equity) = 0
  Assets + (-Liabilities) + (-Equity) + (-Income) + Expenses = 0

and to observe that the minus symbol is part of the values
we enter into ledger (i.e. this is the reason we're writing
-10.00 GBP for an equitiy which is actually positive).

So let's get back to our example.  We had 10.00 GBP in cash
and an equity of -10.00 GBP.  If we fill in the equation, we
get the following:

  10.00 + -0 + -10.00 + 0 + 0 = 0

When we buy 1 AAA, our accounting equation doesn't change
because we still have 10.00 in assets.  Then we sell 1 AAA
for 12.00 GBP:

  12.00 + -0 -10.00 + -2.00 + 0 = 0

The accounting equation is still valid: we now have 12.00 in
assets, we have an opening balance of -10.00 and we made a gain
of -2.00.  At the end of the year, when closing our books,
we'd add up income and expenses and see that we made a profit
of -2.00.  (Obviously a profit of plus 2.00 in normal language,
but -2.00 in ledger-speak).  So now equity would change to -12.00
and we'd have:

  12.00 + -0 -12.00 = 0

This is what should happen.  What happens in reality is that
we account for the gain in Income but ledger also add something
to Equity, so we end up with:

 12.00 + -0 + (-10.00 + 2.00) + -2.00 + 0 = 2.0

and this is not valid because it should equal 0.
:PROPERTIES:
:ID:       EB5A17DD-9349-4AC3-8549-7BE429CD2523
:CREATED:  [2012-03-17 Sat 15:37]
:Date: Sat, 17 Mar 2012 16:23:03 +0000
:Message: [[message://bug-712-1@http.bugs.ledger-cli.org/][{Bug 712} New: Capital gains/losses accounted for twice]]
:Author: bugzilla-daemon@mail.johnwiegley.com
:END:
** TODO [[bug:713][#713]] Results of bal -B not intuitive when a previous capital loss/gain was made
ledger shows strange behaviour with capital gains/losses and the -B option.
This may or may not be related to bug #712.

Let's say that I purchase one share for 10.00 GBP and then sell it for
12.00 GBP, making a profit.  Obviously my investment account is empty
now since I have no shares left... ledger bal shows this correctly.

But ledger bal -B shows -2.00 GBP... I understand where this comes from but
I find this confusing since I have nothing left in my investment account.

I ran into this issue because in my real world example I still have other
shares left in my investment account and I tried to get the cost basis of
those investments... but ledger bal -B didn't give me a correct result
since it also took the gain/loss of previously sold shares into account.

Example:
:OUTPUT:
$ ledger -f b.ledger bal assets:investment -B
-2.00 GBP  Assets:Investments
:END:

Test case:
#+begin_src ledger
2011-01-01 * Opening balance
    Assets:Cash                               10.00 GBP
    Equity:Opening balance                   -10.00 GBP

2011-02-01 * Buy 1 AAA for 10.00 GBP
    Assets:Investments                 1 AAA {10.00 GBP}
    Assets:Cash                              -10.00 GBP

2011-12-07 * Sell AAA with a gain
    Assets:Cash                               12.00 GBP
    Assets:Investments  -1 AAA {10.00 GBP} @@ 12.00 GBP
    Income:Capital gains                      -2.00 GBP
#+end_src
:PROPERTIES:
:ID:       A550BCB5-8FF7-44FD-BC24-BB2CF11E3AE3
:CREATED:  [2012-03-17 Sat 15:36]
:Date: Sat, 17 Mar 2012 16:30:26 +0000
:Message: [[message://bug-713-1@http.bugs.ledger-cli.org/][{Bug 713} New: Results of bal -B not intuitive when a previous capital loss/gain was made]]
:Author: bugzilla-daemon@mail.johnwiegley.com
:END:
** TODO [[bug:716][#716]] Need a better error for automated transactions with null amounts
I seem to be getting an error saying the automated posting has no
amount. Leads me to believe I'm not using the right syntax to
calculate my values.

Here's what I have so far:
= expr (code == 'DC')
  Assets:Bank:Savings  ($1-(amount-(amount/1)))
  Assets:Bank:Checking

I've tried it a few different ways but it always seems to say
automatic transaction's posting has no amount or some (seemingly)
worse error.
:PROPERTIES:
:ID:       782A5CAD-C6D4-4210-A7C3-A7D774F36921
:CREATED:  [2012-03-18 Sun 19:25]
:Date: Sat, 17 Mar 2012 14:12:07 -0700 (PDT)
:Message: [[message://0f1d6093-d40f-49de-8c1e-e9d87de1cc9d@r27g2000vbn.googlegroups.com][Re: Automatic Transactions Question]]
:Author: Will Goodwin <shadowcoder83-Re5JQEeQqe8AvxtiuMwx3w@public.gmane.org>
:END:
** TODO [[bug:717][#717]] Error: Cannot convert a balance with multiple commodities to an amount
:PROPERTIES:
:ID:       39C05F6A-8E7D-4A4C-92E8-0F29FE7D2513
:CREATED:  [2012-03-30 Fri 16:42]
:Date: Mon, 19 Mar 2012 09:56:46 +0000
:Message: [[message://bug-717-1@http.bugs.ledger-cli.org/][{Bug 717} New: Error: Cannot convert a balance with multiple commodities to an amount]]
:Author: bugzilla-daemon@mail.johnwiegley.com
:END:
** TODO [[bug:722][#722]] Segfault with -S t -t t
:PROPERTIES:
:ID:       7FD0A7A5-04AA-4655-BCEA-4718CDE38129
:CREATED:  [2012-03-22 Thu 15:38]
:Date: Thu, 22 Mar 2012 20:28:05 +0000
:Message: [[message://bug-722-1@http.bugs.ledger-cli.org/][{Bug 722} New: Segfault with -S t -t t]]
:Author: bugzilla-daemon@mail.johnwiegley.com
:END:
** TODO [[bug:723][#723]] -S t doesn't sort timelog entries correctly
:PROPERTIES:
:ID:       B037E42A-0E7D-4005-A30D-5D0DF1EB0682
:CREATED:  [2012-03-22 Thu 15:38]
:Date: Thu, 22 Mar 2012 20:33:49 +0000
:Message: [[message://bug-723-1@http.bugs.ledger-cli.org/][{Bug 723} New: -S t doesn't sort timelog entries correctly]]
:Author: bugzilla-daemon@mail.johnwiegley.com
:END:
** TODO [[bug:724][#724]] Assertion failed in "src/unistring.h" with --payee-width=1
:PROPERTIES:
:ID:       AB7E63CD-6968-4655-9D8B-12968E7211E0
:CREATED:  [2012-03-23 Fri 02:45]
:Date: Fri, 23 Mar 2012 07:29:17 +0000
:Message: [[message://bug-724-1@http.bugs.ledger-cli.org/][{Bug 724} New: Assertion failed in "src/unistring.h" with --payee-width=1]]
:Author: bugzilla-daemon@mail.johnwiegley.com
:END:
** TODO [[bug:725][#725]] Output of cleared not aligned with --date-format
:PROPERTIES:
:ID:       DCF6CAD9-4EA4-400B-B154-CDFD5556E14D
:CREATED:  [2012-03-23 Fri 03:32]
:Date: Fri, 23 Mar 2012 07:58:07 +0000
:Message: [[message://bug-725-1@http.bugs.ledger-cli.org/][{Bug 725} New: Output of cleared not aligned with --date-format]]
:Author: bugzilla-daemon@mail.johnwiegley.com
:END:
** TODO [[bug:726][#726]] Option draft (mentioned in doc/ledger.1) doesn't exist
:PROPERTIES:
:ID:       AD1EA607-0458-4226-A66B-869C9543B0C6
:CREATED:  [2012-03-23 Fri 03:31]
:Date: Fri, 23 Mar 2012 08:24:31 +0000
:Message: [[message://bug-726-1@http.bugs.ledger-cli.org/][{Bug 726} New: Option draft (mentioned in doc/ledger.1) doesn't exist]]
:Author: bugzilla-daemon@mail.johnwiegley.com
:END:
** TODO [[bug:727][#727]] Option lisp (mentioned in doc/ledger.1) doesn't exist
:PROPERTIES:
:ID:       C6C31819-29DB-4B25-8FAE-59DC5A760699
:CREATED:  [2012-03-23 Fri 03:31]
:Date: Fri, 23 Mar 2012 08:25:46 +0000
:Message: [[message://bug-727-1@http.bugs.ledger-cli.org/][{Bug 727} New: Option lisp (mentioned in doc/ledger.1) doesn't exist]]
:Author: bugzilla-daemon@mail.johnwiegley.com
:END:
** TODO [[bug:729][#729]] Output of cleared doesn't align
:PROPERTIES:
:ID:       52A69B4F-E7E8-4BBF-A295-07F443B45677
:CREATED:  [2012-03-23 Fri 04:11]
:Date: Fri, 23 Mar 2012 09:05:45 +0000
:Message: [[message://bug-729-1@http.bugs.ledger-cli.org/][{Bug 729} New: Output of cleared doesn't align]]
:Author: bugzilla-daemon@mail.johnwiegley.com
:END:
** TODO [[bug:730][#730]] Segmentation fault
:PROPERTIES:
:ID:       529C4885-34C6-4E2D-A03D-8F3E33F4B4AB
:CREATED:  [2012-03-24 Sat 15:46]
:Date: Sat, 24 Mar 2012 12:56:25 +0000
:Message: [[message://bug-730-1@http.bugs.ledger-cli.org/][{Bug 730} New: segmentation fault]]
:Author: bugzilla-daemon@mail.johnwiegley.com
:END:
** TODO [[bug:731][#731]] --current does not apply with --end
:PROPERTIES:
:ID:       C81FD931-1309-4FDB-A045-CE8A26013C1D
:CREATED:  [2012-03-24 Sat 15:45]
:Date: Sat, 24 Mar 2012 14:16:00 +0000
:Message: [[message://bug-731-1@http.bugs.ledger-cli.org/][{Bug 731} New: --current does not apply with --end]]
:Author: bugzilla-daemon@mail.johnwiegley.com
:END:
** TODO [[bug:732][#732]] csv command required ledger file with -f
:PROPERTIES:
:ID:       F4ED9974-DFFD-4BFB-89E7-B0F0A507F9DB
:CREATED:  [2012-03-25 Sun 15:13]
:Date: Sun, 25 Mar 2012 11:06:52 +0000
:Message: [[message://bug-732-1@http.bugs.ledger-cli.org/][{Bug 732} New: csv command required ledger file with -f]]
:Author: bugzilla-daemon@mail.johnwiegley.com
:END:
** TODO [[bug:733][#733]] ledger convert should not generate note when note is empty
:PROPERTIES:
:ID:       A3FA7601-CFF4-4125-9733-EBB2B46A31F3
:CREATED:  [2012-03-25 Sun 15:12]
:Date: Sun, 25 Mar 2012 11:09:08 +0000
:Message: [[message://bug-733-1@http.bugs.ledger-cli.org/][{Bug 733} New: ledger convert should not generate note when note is empty]]
:Author: bugzilla-daemon@mail.johnwiegley.com
:END:
** TODO [[bug:734][#734]] ledger convert should allow empty posted date
:PROPERTIES:
:ID:       0DDDEBC0-4EBE-49DA-9019-66D10D26EED5
:CREATED:  [2012-03-25 Sun 15:13]
:Date: Sun, 25 Mar 2012 11:13:09 +0000
:Message: [[message://bug-734-1@http.bugs.ledger-cli.org/][{Bug 734} New: ledger convert should allow empty posted date]]
:Author: bugzilla-daemon@mail.johnwiegley.com
:END:
** TODO [[bug:735][#735]] Error: Assertion failed in "src/item.h" with ledger convert when no date is specified
:PROPERTIES:
:ID:       52C0855F-5402-44BC-B21D-E915952B1DF6
:CREATED:  [2012-03-25 Sun 15:13]
:Date: Sun, 25 Mar 2012 11:14:15 +0000
:Message: [[message://bug-735-1@http.bugs.ledger-cli.org/][{Bug 735} New: Error: Assertion failed in "src/item.h" with ledger convert when no date is specified]]
:Author: bugzilla-daemon@mail.johnwiegley.com
:END:
** TODO [[bug:736][#736]] Strange error from cvs convert
:PROPERTIES:
:ID:       68917252-7ADC-481C-8581-369D6DEFB770
:CREATED:  [2012-03-25 Sun 15:12]
:Date: Sun, 25 Mar 2012 11:32:36 +0000
:Message: [[message://bug-736-1@http.bugs.ledger-cli.org/][{Bug 736} New: Strange error from cvs convert]]
:Author: bugzilla-daemon@mail.johnwiegley.com
:END:
** TODO [[bug:737][#737]] ledger xact does not honour payee tag
:PROPERTIES:
:ID:       67545B49-E2FA-4A5B-AC04-67DC4DE313BC
:CREATED:  [2012-03-25 Sun 15:12]
:Date: Sun, 25 Mar 2012 11:48:54 +0000
:Message: [[message://bug-737-1@http.bugs.ledger-cli.org/][{Bug 737} New: ledger xact does not honour payee tag]]
:Author: bugzilla-daemon@mail.johnwiegley.com
:END:
** TODO [[bug:738][#738]] pricemap shows commodities not listed in file
:PROPERTIES:
:ID:       97E2341D-BBF4-4815-92BD-886DA370C3FC
:CREATED:  [2012-03-25 Sun 15:12]
:Date: Sun, 25 Mar 2012 12:17:23 +0000
:Message: [[message://bug-738-1@http.bugs.ledger-cli.org/][{Bug 738} New: pricemap shows commodities not listed in file]]
:Author: bugzilla-daemon@mail.johnwiegley.com
:END:
** TODO [[bug:739][#739]] prices/pricedb only show pricedb info for commodities listed in transactions
:PROPERTIES:
:ID:       783970F6-4139-4FBC-9E4A-21A5DF919A6C
:CREATED:  [2012-03-25 Sun 15:12]
:Date: Sun, 25 Mar 2012 12:24:30 +0000
:Message: [[message://bug-739-1@http.bugs.ledger-cli.org/][{Bug 739} New: prices/pricedb only show pricedb info for commodities listed in transactions]]
:Author: bugzilla-daemon@mail.johnwiegley.com
:END:
** TODO [[bug:740][#740]] ledger stat calculates days incorrectly
:PROPERTIES:
:ID:       EEE18352-7A6F-422F-A407-5B2A9D21F2FE
:CREATED:  [2012-03-25 Sun 15:12]
:Date: Sun, 25 Mar 2012 12:27:15 +0000
:Message: [[message://bug-740-1@http.bugs.ledger-cli.org/][{Bug 740} New: ledger stat calculates days incorrectly]]
:Author: bugzilla-daemon@mail.johnwiegley.com
:END:
** TODO [[bug:741][#741]] ledger stat doesn't handle future transactions well
:PROPERTIES:
:ID:       D70BD0EA-4344-4741-9112-0EF88A628E98
:CREATED:  [2012-03-25 Sun 15:11]
:Date: Sun, 25 Mar 2012 12:30:42 +0000
:Message: [[message://bug-741-1@http.bugs.ledger-cli.org/][{Bug 741} New: ledger stat doesn't handle future transactions well]]
:Author: bugzilla-daemon@mail.johnwiegley.com
:END:
** TODO [[bug:742][#742]] ledger stats ignores -p until
:PROPERTIES:
:ID:       BC59A86A-5AD2-45DB-B4F0-E6C1BAC061DC
:CREATED:  [2012-03-25 Sun 15:11]
:Date: Sun, 25 Mar 2012 12:33:08 +0000
:Message: [[message://bug-742-1@http.bugs.ledger-cli.org/][{Bug 742} New: ledger stats ignores -p until]]
:Author: bugzilla-daemon@mail.johnwiegley.com
:END:
** TODO [[bug:743][#743]] ledger source: does it take file from argument or -f?
:PROPERTIES:
:ID:       C0381292-D8DD-4BC0-8091-F0471D2562A0
:CREATED:  [2012-03-25 Sun 15:11]
:Date: Sun, 25 Mar 2012 12:40:45 +0000
:Message: [[message://bug-743-1@http.bugs.ledger-cli.org/][{Bug 743} New: ledger source: does it take file from argument or -f?]]
:Author: bugzilla-daemon@mail.johnwiegley.com
:END:
** TODO [[bug:744][#744]] ledger select: output of account contains control characters
:PROPERTIES:
:ID:       F2F63FF0-0603-4A54-B6C8-A0B4E6D98526
:CREATED:  [2012-03-25 Sun 15:11]
:Date: Sun, 25 Mar 2012 13:13:27 +0000
:Message: [[message://bug-744-1@http.bugs.ledger-cli.org/][{Bug 744} New: ledger select: output of account contains control characters]]
:Author: bugzilla-daemon@mail.johnwiegley.com
:END:
** TODO [[bug:745][#745]] ledger budget: Error: Cannot multiply an amount with a balance
:PROPERTIES:
:ID:       F3323603-D1D5-4E93-A283-0ABD4684EB47
:CREATED:  [2012-03-25 Sun 15:11]
:Date: Sun, 25 Mar 2012 13:30:58 +0000
:Message: [[message://bug-745-1@http.bugs.ledger-cli.org/][{Bug 745} New: ledger budget: Error: Cannot multiply an amount with a balance]]
:Author: bugzilla-daemon@mail.johnwiegley.com
:END:
** TODO [[bug:746][#746]] ledger convert --auto-match only matches only one posting
:PROPERTIES:
:ID:       A8D5555D-A000-4D8B-AAEA-B404F6B72E00
:CREATED:  [2012-03-25 Sun 15:10]
:Date: Sun, 25 Mar 2012 15:33:49 +0000
:Message: [[message://bug-746-1@http.bugs.ledger-cli.org/][{Bug 746} New: ledger convert --auto-match only matches only one posting]]
:Author: bugzilla-daemon@mail.johnwiegley.com
:END:
** TODO [[bug:747][#747]] Error: Illegal option --cleared-format
:PROPERTIES:
:ID:       4A9AC3F7-6B8B-4F60-A0B7-EB8C3C892EF7
:CREATED:  [2012-03-25 Sun 15:10]
:Date: Sun, 25 Mar 2012 15:45:02 +0000
:Message: [[message://bug-747-1@http.bugs.ledger-cli.org/][{Bug 747} New: Error: Illegal option --cleared-format]]
:Author: bugzilla-daemon@mail.johnwiegley.com
:END:
** TODO [[bug:748][#748]] --primary-date / --aux-date not accepted
:PROPERTIES:
:ID:       AD2F59B2-D79E-42FD-98C7-89BC06437CA4
:CREATED:  [2012-03-25 Sun 15:10]
:Date: Sun, 25 Mar 2012 16:35:15 +0000
:Message: [[message://bug-748-1@http.bugs.ledger-cli.org/][{Bug 748} New: --primary-date / --aux-date not accepted]]
:Author: bugzilla-daemon@mail.johnwiegley.com
:END:
** TODO [[bug:749][#749]] Value expression parser confused by ( ) in commodity name
:PROPERTIES:
:ID:       AD1995AE-452B-476B-9F75-D4DDA5BF9B87
:CREATED:  [2012-03-25 Sun 15:10]
:Date: Sun, 25 Mar 2012 17:20:48 +0000
:Message: [[message://bug-749-1@http.bugs.ledger-cli.org/][{Bug 749} New: value expression parser confused by ( ) in commodity name]]
:Author: bugzilla-daemon@mail.johnwiegley.com
:END:
** TODO [[bug:750][#750]] --strict lists wrong line number for tag
:PROPERTIES:
:ID:       DE58F27F-0787-472E-8A28-4C6191FABB2E
:CREATED:  [2012-03-25 Sun 15:10]
:Date: Sun, 25 Mar 2012 18:55:03 +0000
:Message: [[message://bug-750-1@http.bugs.ledger-cli.org/][{Bug 750} New: --strict lists wrong line number for tag]]
:Author: bugzilla-daemon@mail.johnwiegley.com
:END:
** TODO [[bug:751][#751]] account check/assert not applied to default account
:PROPERTIES:
:ID:       EB3EB21D-DA34-4773-A017-A1A2EBEDFD99
:CREATED:  [2012-03-25 Sun 15:10]
:Date: Sun, 25 Mar 2012 19:21:06 +0000
:Message: [[message://bug-751-1@http.bugs.ledger-cli.org/][{Bug 751} New: account check/assert not applied to default account]]
:Author: bugzilla-daemon@mail.johnwiegley.com
:END:
** TODO [[bug:752][#752]] ArithmeticError: Adding amounts with different commodities: EUR != EUR
:PROPERTIES:
:ID:       87F9C8FF-526D-4F3E-A9E7-76FA6500CE24
:CREATED:  [2012-03-25 Sun 15:45]
:Date: Sun, 25 Mar 2012 20:33:10 +0000
:Message: [[message://bug-752-1@http.bugs.ledger-cli.org/][{Bug 752} New: ArithmeticError: Adding amounts with different commodities: EUR != EUR]]
:Author: bugzilla-daemon@mail.johnwiegley.com
:END:
** TODO [[bug:753][#753]] prices -A and prices -D doesn't work
:PROPERTIES:
:ID:       4CA86ED1-EBDF-4F32-957C-662E9054529C
:CREATED:  [2012-03-27 Tue 13:58]
:Date: Tue, 27 Mar 2012 18:10:02 +0000
:Message: [[message://bug-753-1@http.bugs.ledger-cli.org/][{Bug 753} New: prices -A and prices -D doesn't work]]
:Author: bugzilla-daemon@mail.johnwiegley.com
:END:

** TODO [[bug:754][#754]] Segfault with -D and no transaction
:PROPERTIES:
:ID:       6D2D35C0-8BE9-4D31-B53D-2A728CB8F91C
:CREATED:  [2012-03-27 Tue 13:58]
:Date: Tue, 27 Mar 2012 18:12:09 +0000
:Message: [[message://bug-754-1@http.bugs.ledger-cli.org/][{Bug 754} New: segfault with -D and no transaction]]
:Author: bugzilla-daemon@mail.johnwiegley.com
:END:
** TODO [[bug:755][#755]] Make format strings backward compatible with 2.x
:PROPERTIES:
:ID:       A8F9655E-ED68-44D4-9BC9-C39503D865AD
:CREATED:  [2012-03-27 Tue 13:57]
:Date: Tue, 27 Mar 2012 18:55:15 +0000
:Message: [[message://bug-755-1@http.bugs.ledger-cli.org/][{Bug 755} New: Make format strings backward compatible with 2.x]]
:Author: bugzilla-daemon@mail.johnwiegley.com
:END:
** TODO [[bug:756][#756]] Bad pricedb info with --anon pricedb
:PROPERTIES:
:ID:       A4F53B01-277E-49B9-AF05-F6F1CA7975DA
:CREATED:  [2012-03-27 Tue 14:50]
:Date: Tue, 27 Mar 2012 19:41:42 +0000
:Message: [[message://bug-756-1@http.bugs.ledger-cli.org/][{Bug 756} New: Bad pricedb info with --anon pricedb]]
:Author: bugzilla-daemon@mail.johnwiegley.com
:END:
** TODO [[bug:759][#759]] Compare a string with commodity
:PROPERTIES:
:ID:       C656DB06-596F-4B05-8181-1379DF0D7F66
:CREATED:  [2012-03-29 Thu 19:21]
:Date: Thu, 29 Mar 2012 21:30:54 +0000
:Message: [[message://bug-759-1@http.bugs.ledger-cli.org/][{Bug 759} New: Compare a string with commodity]]
:Author: bugzilla-daemon@mail.johnwiegley.com
:END:
** TODO [[bug:761][#761]] Make uncommoditized amounts behave like commoditized ones
:PROPERTIES:
:ID:       BECEDB46-95A1-4C66-BE10-1E9E92995296
:CREATED:  [2012-03-30 Fri 03:44]
:Date: Fri, 30 Mar 2012 08:26:46 +0000
:Message: [[message://bug-761-1@http.bugs.ledger-cli.org/][{Bug 761} New: Make uncommoditized amounts behave like commoditized ones]]
:Author: bugzilla-daemon@mail.johnwiegley.com
:END:
** TODO [[bug:762][#762]] --only doesn't work: does the same as --limit
:PROPERTIES:
:ID:       AF448E37-37EB-4441-B69C-55A701186A0D
:CREATED:  [2012-03-30 Fri 15:11]
:Date: Fri, 30 Mar 2012 16:01:36 +0000
:Message: [[message://bug-762-1@http.bugs.ledger-cli.org/][{Bug 762} New: --only doesn't work: does the same as --limit]]
:Author: bugzilla-daemon@mail.johnwiegley.com
:END:
** TODO [[bug:763][#763]] Error: Cannot convert a balance with multiple commodities to an amount
:PROPERTIES:
:ID:       9E0AC2EE-7720-4198-A83B-0FD0C96E12D6
:CREATED:  [2012-03-30 Fri 15:10]
:Date: Fri, 30 Mar 2012 16:13:43 +0000
:Message: [[message://bug-763-1@http.bugs.ledger-cli.org/][{Bug 763} New: Error: Cannot convert a balance with multiple commodities to an amount]]
:Author: bugzilla-daemon@mail.johnwiegley.com
:END:
** TODO [[bug:764][#764]] csv: posted should be renamed to aux_date or aux or auxdate
:PROPERTIES:
:ID:       D9606EC4-6B13-49EA-B75A-A07D8CCD0365
:CREATED:  [2012-03-30 Fri 15:09]
:Date: Fri, 30 Mar 2012 16:28:52 +0000
:Message: [[message://bug-764-1@http.bugs.ledger-cli.org/][{Bug 764} New: csv: posted should be renamed to aux_date or aux or auxdate]]
:Author: bugzilla-daemon@mail.johnwiegley.com
:END:
** TODO [[bug:765][#765]] bucket command drops first letter of following account name
:PROPERTIES:
:ID:       0161EB1E-8228-4D8D-A953-58B0E74B2485
:CREATED:  [2012-04-01 Sun 22:14]
:Date: Mon, 02 Apr 2012 03:01:41 +0000
:Message: [[message://bug-765-1@http.bugs.ledger-cli.org/][{Bug 765} New: bucket command drops first letter of following account name]]
:Author: bugzilla-daemon@mail.johnwiegley.com
:END:
** TODO [[bug:766][#766]] Deprecation of '@' not carried through in example file drewr3.dat
:PROPERTIES:
:ID:       F2A111A0-0458-4C76-A05F-8753DD1D8CB1
:CREATED:  [2012-04-01 Sun 22:14]
:Date: Mon, 02 Apr 2012 03:08:47 +0000
:Message: [[message://bug-766-1@http.bugs.ledger-cli.org/][{Bug 766} New: Deprecation of '@' not carried through in example file drewr3.dat]]
:Author: bugzilla-daemon@mail.johnwiegley.com
:END:
** TODO [[bug:767][#767]] Apparent new form of alias command is undocumented
:PROPERTIES:
:ID:       2DEEE815-CFB0-4005-BE3D-783EBDFE33F0
:CREATED:  [2012-04-01 Sun 22:41]
:Date: Mon, 02 Apr 2012 03:13:35 +0000
:Message: [[message://bug-767-1@http.bugs.ledger-cli.org/][{Bug 767} New: Apparent new form of alias command is undocumented]]
:Author: bugzilla-daemon@mail.johnwiegley.com
:END:
** TODO [[bug:769][#769]] Dated balance assertions not working
I want to be able to check the (real) balance of my account and enter the
amount (with the date) as an assertion check. So I would know if something
doesn't match up or if I missed some transactions.

Ledger 3.0 seems to have a "verification" method described in the manual:
http://www.ledger-cli.org/3.0/doc/ledger3.html#Balance-verification

I tried this method and put the check at the end of my ledger. But when I put
it at the end it doesn't seem to work properly.

I used the following test ledger:
#+begin_src ledger
2010-01-01 * Starting Balance
    Assets:Bank:Checking        1000.00 EUR
    Equity:Opening-Balances

2010-01-02 * Shopping
    Expenses:shopping           10 EUR
    Assets:Bank:Checking

2010-01-03 * Some more shopping
    Expenses:shopping           5 EUR
    Assets:Bank:Checking

; verify balance
2010-01-02 * Balance Check
    Assets:Bank:Checking        -0.0 EUR    = 990.00 EUR
#+end_src

If I move the "Balance check" before the "Some more shopping" entry, it seems
to work.
:PROPERTIES:
:ID:       42BEAF65-97B7-4076-B1A2-08792E72CB59
:CREATED:  [2012-04-02 Mon 14:38]
:END:
** TODO [[bug:772][#772]] segfault when using "short" versions of option in ledgerrc
:PROPERTIES:
:ID:       36367831-3BC5-417D-BBC2-15B524FDBF30
:CREATED:  [2012-05-28 Mon 23:07]
:Date: Mon, 28 May 2012 23:06:38 +0000
:Message: [[message://bug-772-1@http.bugs.ledger-cli.org/][{Bug 772} New: segfault when using "short" versions of option in ledgerrc]]
:Author: bugzilla-daemon@mail.johnwiegley.com
:END:
** TODO [[bug:777][#777]] Error: Divide by zero for 1/9
:PROPERTIES:
:ID:       C2F32137-A643-49EF-9B08-87C157DA868D
:CREATED:  [2012-07-01 Sun 22:54]
:Date: Sun, 01 Jul 2012 12:12:45 +0000
:Message: [[message://bug-777-1@http.bugs.ledger-cli.org/][{Bug 777} New: Error: Divide by zero for 1/9]]
:Author: bugzilla-daemon@mail.johnwiegley.com
:END:
** TODO [[bug:778][#778]] Only one pricedb entry per day
:PROPERTIES:
:ID:       D7EE9BEF-5711-4E83-8DF7-3CB7DBA586D7
:CREATED:  [2012-07-01 Sun 22:54]
:Date: Sun, 01 Jul 2012 12:24:44 +0000
:Message: [[message://bug-778-1@http.bugs.ledger-cli.org/][{Bug 778} New: Only one pricedb entry per day]]
:Author: bugzilla-daemon@mail.johnwiegley.com
:END:
** TODO [[bug:779][#779]] Please add pricrdb entries in both directions
:PROPERTIES:
:ID:       991B7544-5237-4278-B256-43C7AA192129
:CREATED:  [2012-07-01 Sun 22:54]
:Date: Sun, 01 Jul 2012 12:29:28 +0000
:Message: [[message://bug-779-1@http.bugs.ledger-cli.org/][{Bug 779} New: Please add pricrdb entries in both directions]]
:Author: bugzilla-daemon@mail.johnwiegley.com
:END:
** TODO [[bug:781][#781]] Setting precision on the command line
:PROPERTIES:
:ID:       80A78A11-7351-4CCE-9654-0317D3177C26
:CREATED:  [2012-07-12 Thu 13:32]
:Date: Thu, 12 Jul 2012 16:09:29 +0000
:Message: [[message://bug-781-1@http.bugs.ledger-cli.org/][{Bug 781} New: Setting precision on the command line]]
:Author: bugzilla-daemon@mail.johnwiegley.com
:END:
** TODO [[bug:782][#782]] Ledger produces xml/json with only one or two entries.
:PROPERTIES:
:ID:       A72EBA8D-AC2D-42BC-BA56-2D2A67D157E0
:CREATED:  [2012-07-17 Tue 13:37]
:Date: Sun, 15 Jul 2012 21:54:55 +0000
:Message: [[message://bug-782-1@http.bugs.ledger-cli.org/][{Bug 782} New: Ledger produces xml/json with only one or two entries.]]
:Author: bugzilla-daemon@mail.johnwiegley.com
:END:
** TODO [[bug:783][#783]] Automated postings with a tag = value match ignore the value
:PROPERTIES:
:ID:       EE82975E-9C8D-4508-91A6-3409822B98B8
:CREATED:  [2012-08-06 Mon 14:14]
:END:
** TODO [[bug:784][#784]] Regression on 647D5DB9.test
:PROPERTIES:
:ID:       4EA7AA88-6686-4985-8C03-411ED3667283
:CREATED:  [2012-08-14 Tue 11:52]
:Date:     Tue, 14 Aug 2012 09:23:06 +0000
:Message:  [[message://bug-784-1@http.bugs.ledger-cli.org/][{Bug 784} New: Regression on 647D5DB9.test]]
:Author:   bugzilla-daemon@mail.johnwiegley.com
:END:
** TODO [[bug:785][#785]] Error message not friendly when "note" without argument
:PROPERTIES:
:ID:       8544C94F-F8BE-49BD-B0DE-8042BD7FAD29
:CREATED:  [2012-08-15 Wed 11:56]
:Date:     Wed, 15 Aug 2012 16:41:39 +0000
:Message:  [[message://bug-785-1@http.bugs.ledger-cli.org/][{Bug 785} New: error message not friendly when "note" without argument]]
:Author:   bugzilla-daemon@mail.johnwiegley.com
:END:
** TODO [[bug:786][#786]] Transaction check doesn't give line number for included file
:PROPERTIES:
:ID:       771A27EB-83EA-4027-86DD-DCF3F71EFE6A
:CREATED:  [2012-08-15 Wed 11:56]
:Date:     Wed, 15 Aug 2012 16:46:54 +0000
:Message:  [[message://bug-786-1@http.bugs.ledger-cli.org/][{Bug 786} New: Transaction check doesn't give line number for included file]]
:Author:   bugzilla-daemon@mail.johnwiegley.com
:END:
** TODO [[bug:787][#787]] --yearly/quarterly gives correct output, but...
... but not daily/weekly/monthly, when associated to --market
:PROPERTIES:
:ID:       5E711871-965D-4778-9640-5B00747683AC
:CREATED:  [2012-08-16 Thu 14:30]
:Date:     Thu, 16 Aug 2012 19:13:40 +0000
:Message:  [[message://bug-787-1@http.bugs.ledger-cli.org/][{Bug 787} New: --yearly/quarterly gives correct output, but not daily/weekly/monthly, when associated to --market]]
:Author:   bugzilla-daemon@mail.johnwiegley.com
:END:
** TODO account directive not giving warning with --strict
Using ledger 3.0, with the following ledger file:
#+begin_src ledger
account Assets
account Assets:Bank
account Assets:Bank:Checking
account Expenses:Shopping

2012-04-07 * Shopping
    Expenses:Foo:Bar                10 EUR
    Assets:Bank:Checking
#+end_src

And the command: "ledger -f test.ledger --strict" does not give any warning
about Expenses:Foo:Bar being not defined.
:PROPERTIES:
:ID:       60440873-F167-43B6-88F6-443BD08B12B8
:CREATED:  [2012-05-27 Sun 01:28]
:END:
** TODO jkr on #ledger says that ledger xml/json doesn't report all xacts
:PROPERTIES:
:ID:       408BEFFA-D021-4769-B818-AD7CC29E1B43
:CREATED:  [2012-07-11 Wed 15:58]
:END:
** DEFERRED [[bug:370][#370]] Let time periods use "starting" to fix the exact start date
- State "DEFERRED"   from "TODO"       [2012-03-11 Sun 20:31]
- Note taken on [2011-11-01 Tue 10:04] \\
  I tried "every 14 days" as suggested.  The results are a little better,
  but there still seems to be something off.  I tried the following
  command:
  
  :OUTPUT:
  $ ledger period every 14 days from 2011/10/03
  --- Period expression tokens ---
  TOK_EVERY: every
  TOK_INT: 14
  TOK_DAYS: days
  TOK_SINCE: since
  TOK_DATE:  year 2011 month Oct day 3
  END_REACHED: <EOF>
  
  --- Before stabilization ---
     range: from year 2011 month Oct day 3
  duration: 14 days
  
  --- After stabilization ---
     range: from year 2011 month Oct day 3
     start: 11-Oct-03
  duration: 14 days
  
  --- Sample dates in range (max. 20) ---
   1: 11-Oct-03 -- 11-Oct-08
   2: 11-Oct-09 -- 11-Oct-22
   3: 11-Oct-23 -- 11-Nov-05
   4: 11-Nov-06 -- 11-Nov-19
  :END:
  
  I tried for other start dates in october and it looks like the first
  period is always 6 days.
   This issue is related to #342.  Consider this entry:
   #+begin_src ledger
   ~ Biweekly from 2010/02/23
     Expenses:Bills:Housecleaning        $85.00
     Assets:Bank:OSU Fed:Checking
   #+end_src

   The biweekly period for this entry actually starts on the nearest Sunday
   before the start date, or 2/20.  However, sometimes people want the
   iteration to start exactly on the date specified.  This can be supported by
   the presence of a "starting" keyword:
   #+begin_src ledger
   ~ Biweekly starting from 2010/02/23
     Expenses:Bills:Housecleaning        $85.00
     Assets:Bank:OSU Fed:Checking
   #+end_src
   :PROPERTIES:
   :ID:       AAFAFBE7-E103-4CCC-82B9-6D28BC9052A3
   :CREATED:  [2010-07-01 Thu 16:41]
   :END:
** DEFERRED [[bug:399][#399]] Add function to determine budgeted amount for a time period
- State "DEFERRED"   from "TODO"       [2012-03-11 Sun 20:31]
   budget_amount(ACCOUNT, START_DATE, DAYS)
   :PROPERTIES:
   :ID:       E38F502D-9E83-485D-9D10-848B0CFD6FDD
   :CREATED:  [2010-08-16 Mon 19:47]
   :END:
** DEFERRED [[bug:417][#417]] '&' in account names causes trouble during GNU Cash import
- State "DEFERRED"   from "TODO"       [2012-03-11 Sun 20:31]
   In gnucash, I have an account called "1 & 1 Internet AG". It appears that
   ledger can deal with that name during import, probably because it's encoded
   as "1 &amp; 1 Internet AG" in the XML file.
   :PROPERTIES:
   :ID:       8E2A2C39-C8F4-435B-A5FF-754F51FE4EB0
   :Submitter: GitHub <noreply@github.com>
   :Message:  [[message://4c8bd8a9b4d5c_6bdb3fc37c8298743cd@fe3.rs.github.com.tmail][{GitHub} '&' in account names causes trouble during GNU Cash import {jwiegley/ledger GH-16}]]
   :URL:      http://github.com/jwiegley/ledger/issues#issue/16
   :CREATED:  [2010-09-12 Sun 23:14]
   :END:
** DEFERRED [[bug:512][#512]] --cache does nothing
- State "DEFERRED"   from "TODO"       [2012-03-11 Sun 20:32]
   > Yes, --cache does nothing.  Binary serialization using Boost is the same
   > speed
   >
   > in most cases as plain text parsing, so I saw no point.  Plus, ever faster
   > computers -- plus SSDs -- make this an option with diminishing returns.

   That's a good point. I suggest printing an error message or warning instead
   of silently ignoring --cache then.
   :PROPERTIES:
   :ID:       57A6BD14-0506-4A50-A45B-A7BDF07EAFBA
   :CREATED:  [2011-05-27 Fri 18:08]
   :Date:     Mon, 23 May 2011 18:17:27 -0700 (PDT)
   :Message:  [[message://30671703.170.1306199847233.JavaMail.geo-discussion-forums@prcm34][Re: My experience with Ledger so far]]
   :Submitter: Matthew Harris <mharris312@gmail.com>
   :END:
** DEFERRED [[bug:559][#559]] Improve the Ledger 3.0 stats command with ideas from hledger
- State "DEFERRED"   from "TODO"       [2012-03-11 Sun 20:32]
   :PROPERTIES:
   :ID:       073C471C-8660-466A-8CDA-0D09D48B5DC2
   :CREATED:  [2011-10-10 Mon 16:47]
   :Date:     Mon, 10 Oct 2011 22:47:25 +0200
   :Message:  [[message://CA+R89YJ_C8ewrRjqix+ioM6Cz-GwphY0m=JLCJtCwCDtMT4Y+g@mail.gmail.com][Re: Ledger 3.0 performance compared with older versions]]
   :Submitter: Thierry Daucourt <thierry.daucourt@free.fr>
   :END:
** DEFERRED [[bug:631][#631]] Minimize redundant scope walks due to multiple SCOPE bindings
- State "DEFERRED"   from "TODO"       [2012-03-11 Sun 20:32]
When using bind_scope_t with SCOPE nodes, it can cause multiple references to
the same scopes.
:PROPERTIES:
:ID:       BF6E06E4-C004-47BB-BE48-7837B643ECBE
:CREATED:  [2012-02-21 Tue 02:15]
:END:
** DEFERRED [[bug:664][#664]] Value expression regexp matching should return a match object
- State "DEFERRED"   from "TODO"       [2012-03-11 Sun 20:33]
:PROPERTIES:
:ID:       E80521C7-0AFC-48F1-B803-9856D4FA4613
:CREATED:  [2012-02-29 Wed 15:16]
:END:
** DONE [#A] 'ledger -b 2007/08/16 -s reg food' is completely broken
   - State "DONE"       [2007-08-23 Thu 21:22] \\
     Fixed by the following change:
        * walk.cc (handle_value): The xact xdata.dflags were being
        set too late; the XACT_COMPOUND setting was being thrown
        away as a result.
   Although reg without shows a ton of Expenses:Food expenses, searching for
   food expenses shows none.
   :PROPERTIES:
   :ID:       6CAF45D7-9098-41B4-A25A-12F8A8166006
   :CREATED:  [2007-08-22 Wed]
   :END:
** DONE [#A] 'ledger emacs -s -b 2009/07 food' tries to use an uninitialized variable
   - State "DONE"       from "TODO"       [2010-05-22 Sat 13:17]
   :PROPERTIES:
   :ID:       7B54CF80-45A4-4D50-A8D3-63272D60FA1B
   :CREATED:  [2010-04-12 Mon 22:03]
   :END:
** DONE [#A] --budget not including "~ Monthly" entry                                    :ATTACH:
   - State "DONE"       from "WORKSFORME" [2009-11-02 Mon 01:10] \\
     Found this bug and fixed it.
   - State "WORKSFORME" from "WAITING"    [2009-10-27 Tue 04:38]
   - State "WAITING"    from "TODO"       [2009-10-26 Mon 16:41] \\
     I've asked the user for more information; I can't see what's wrong with just
     the test case he sent, and I cannot find the original message.
   Thanks for your response.  I've attached a sample ledger file that I
   successfully reproduced the behaviour with.  Maybe it's something to do with
   it being the first of the month today?

   Here's what I'm seeing on the command-line:
   :OUTPUT:
   sayotte@damocles:~$ ledger -p april --budget reg
   2009/04/01 Budget entry         Assets:Bank:Checking     $-25000.00   $-25000.00
   2009/04/01 Budget entry         In:Ludicrous Salary       $25000.00            0
   2009/04/01 Budget entry         Expenses:Food              $-350.00     $-350.00
   2009/04/01 Budget entry         Assets:Bank:Checking        $350.00            0
   2009/04/01 Taco Schmell         Expenses:Food                 $6.50        $6.50
                                  Assets:Bank:Checking         $-6.50            0
   2009/04/10 Lienholder Bank      Assets:Bank:Checking       $-450.00     $-450.00
   :END:
   :OUTPUT:
   sayotte@damocles:~$ ledger -p april --budget reg Food
   2009/04/01 Taco Schmell         Expenses:Food                 $6.50        $6.50
   :END:
   :OUTPUT:
   sayotte@damocles:~$ date
   Wed Apr  1 19:07:20 EDT 2009
   :END:
   :OUTPUT:
   sayotte@damocles:~$ ledger --version
   Ledger 2.6.1, the command-line accounting tool

   Copyright (c) 2003-2008, John Wiegley.  All rights reserved.

   This program is made available under the terms of the BSD Public License.
   See LICENSE file included with the distribution for details and disclaimer.

   (modules: gmp, pcre)
   :END:
   :PROPERTIES:
   :Submitter: Stephen Ayotte <stephen.ayotte@gmail.com>
   :Message:  [[x-devonthink-item://%3C837b29c80904011614x79fed2b0la56f8a44a8dc45cb@mail.gmail.com%3E][ledger-2.6.1: --budget not including ~Monthly entry]]
   :Version:  2.6.1
   :ID:       655F6DF5-A30D-4CD9-AA06-787A2DB3C5C2
   :Attachments: testledger.dat
   :CREATED:  [2009-04-01 Wed 19:40]
   :END:
** DONE [#A] Any filter that uses create_account must also do so after clear
   - State "DONE"       from "TODO"       [2011-02-10 Thu 22:27]
   :PROPERTIES:
   :ID:       1BCA64D0-B02B-442D-8C9B-D008E01B825F
   :CREATED:  [2011-02-10 Thu 03:16]
   :END:
** DONE [#A] Automated xact multipliers have no effect on null postings
   - State "DONE"       from "TODO"       [2009-11-09 Mon 22:02]
   :PROPERTIES:
   :ID:       3A14C840-0407-465E-A5AC-09338BB6B707
   :Message:  [[message://165AA794-0741-46E8-B4B5-44EB3DB9D337@surryhill.net][Re: ledger make fullcheck]]
   :CREATED:  [2009-11-09 Mon 02:47]
   :END:
** DONE [#A] Change processing of ~/.ledgerrc
   - State "DONE"       from "TODO"       [2009-10-29 Thu 00:51]
   - Note taken on [2009-10-27 Tue 22:02] \\
     Fixing this will fix [[id:863A769C-E97C-4CA6-B89F-B72C47F07543]].
   1. Before parsing, run through and handle options that session_t and
      global_scope_t know about.
   2. Before reporting or loading the REPL, run through and handle all other
      options and any commands found.
   :PROPERTIES:
   :ID:       71FE0FAB-622D-403C-A944-C7541948AFFF
   :CREATED:  [2009-02-19 Thu 15:10]
   :END:
** DONE [#A] Changes to make to the way things are calculated [8/10]
   - State "DONE"       [2009-03-05 Thu 05:03]
   - [X] During parsing, each account is given a pointer to the posts it
         contains, in a deque.
   - [X] calc_xacts should only compute the amount, and store it in the post's
         xdata.
   - [X] It then marks the post as "visited".
   - [X] When session_t::clean_posts is called, it should clear the "visited"
         flag.
   - [ ] The running total is not stored with the post, but is calculated as
         needed by the format_xacts object.
   - [ ] Which means that format_xacts now need to know the display predicate,
         much like format_accounts.
   - [X] account_t's xdata must remember whether or not the amount/total for
         the account has been calculated (with a different bool for each).
   - [X] account_t exposes two methods: family_total and self_total, which
         performs and caches a calculation based on walking the "visited"
         posts relating to that account.
   - [X] These calculations must be lazy, so that if a report never uses them,
         it never calculates either one.
   - [X] The same goes for statistics, which can determined from the list of
         posts.
   :PROPERTIES:
   :ID:       240CAF9A-2681-4AE9-A0DF-F17416E31C60
   :CREATED:  [2009-03-04 Wed 15:34]
   :END:
** DONE [#A] Ledger no longer builds
   - State "DONE"       from "TODO"       [2010-01-18 Mon 02:19]
   - Note taken on [2010-01-16 Sat 21:46] \\
     This happens apparently only on my system, and only for debug builds.
   :PROPERTIES:
   :ID:       507609E4-343F-487D-8A01-FDDE54D86E0F
   :CREATED:  [2009-12-13 Sun 01:12]
   :END:
** DONE [#A] My current ledger.dat file is not reporting
   - State "DONE"       [2008-10-29 Wed 03:29]
   :PROPERTIES:
   :ID:       807E9D3D-3F30-4818-9045-FDBC20C1417A
   :ARCHIVE_TIME: 2008-11-28 Fri 16:44
   :ARCHIVE_CATEGORY: Finance
   :CREATED:  [2008-10-06 Mon 19:38]
   :END:
** DONE [#A] [[bug:163][#163]] Exponential slowdown when using --exchange                             :ATTACH:
   - State "DONE"       from "TODO"       [2010-06-04 Fri 06:09] \\
     After several days of intensive examination, I think now there is little
     help for what you're seeing.  The slowness comes from (a) the size of
     your data file and how many commodities you're using, and (b) the
     correctness and new behavior of --exchange (and, to a lesser extent, -V).

     To illustrate what I mean, I've added a new command "pricemap".  It
     outputs a DOT file showing the pricing relationships between all
     commodities in your data file at a given date.  To give an example of how
     complex the situation can be, consider this data file:

      http://ftp.newartisans.com/pub/exchange.dat

     At 2009/01/03, the price relationships are as shown here:

      http://ftp.newartisans.com/pub/090103.png

     But by 2009/01/10, they have changed significantly:

      http://ftp.newartisans.com/pub/090110.png

     When you use --exchange $, Ledger tries to find the most recent
     conversion to $ that it can.  To do this, it considers not only whether a
     commodity A could be priced in dollars, but whether it could also be
     priced in terms of B, which could then be priced in dollars.  And so on.
     It must walk the graph of all possible connections to $, truncating the
     search only if the most recent valuation down that leg is older than the
     most recent found so far.  Sometimes, it can take several hops before the
     most recent conversion price is found.

     Note to mention that all of this can happen several times for a single
     posting: while computing the amount, the running total, to see if a
     revaluation has occurred, to see if a rounding error has occurred, etc.

     I have managed to speed things up a fair bit, however, so please try your
     tests again with the latest 'next' branch.  Here are the improvements,
     using an "acprep opt" build on a 2.26GHz Core i7 (all output going to
     /dev/null):

      Before optimization work (current 'master' branch):

        reg, no flags       6.86s
        reg, -V            39.23s
        reg, -X            85.92s

      After optimization work (current 'next' branch):

        reg, no flags       5.00s
        reg, -V            13.39s
        reg, -X            12.91s
   - Note taken on [2010-03-04 Thu 13:57] \\
     The following command should reproduce the problem of performance with
     multiple currencies:
     #+begin_src sh
     ledger --european -f thierry.ledger.anon -V reg 2eb75f84 1eede0cb >/dev/null
     #+end_src
   :PROPERTIES:
   :ID:       C609E728-0962-4745-955E-988B1E3F9918
   :Message:  [[message://9097b239-86e0-4a5c-8acb-15f3e886f7a2@e1g2000yqh.googlegroups.com][ledger v3 slower than ledger v2]]
   :Attachments: gmon.gprof thierry.ledger.anon.gpg
   :CREATED:  [2010-03-04 Thu 13:55]
   :END:
** DONE [#A] [[bug:189][#189]] Optimize value truncation
   - State "DONE"       from "TODO"       [2010-06-04 Fri 06:13]
   - State "TODO"       from "STARTED"    [2010-06-02 Wed 17:11]
   Currently it prints the amount, then reparses it.  For large balances
   with lots of commodities, this can get extremely expensive, as
   annotated commodities are likely involved as well!
   :PROPERTIES:
   :ID:       B6C8EACD-9392-4380-BB57-93EDF0EE5C34
   :CREATED:  [2010-05-23 Sun 17:05]
   :END:
** DONE [#A] [[bug:192][#192]] Problem with the new fixed rate feature                                :ATTACH:
   - State "DONE"       from "TODO"       [2010-06-07 Mon 08:24]
   - Note taken on [2009-12-11 Fri 02:12] \\
     Javier [[message://92a1cace0912100848v3b6e81bfp332590a8057d73fe@mail.gmail.com][writes]]: I found that the problem is not related to the new "fixed"
     directive at all.

     After looking through the fixed-directive code I couldn't find any
     problems with it. I also noticed that the annotation details change
     between parsing time (when they are fine) and the amount::value() call.

     Then I changed all my fixed directives in the ledger file to {=$####}
     entries for all the foreign currencies (no "fixed" directive in the whole
     file) and the problem persisted!: some {=} entries used the wrong price
     from another {=} entry.

     I think the problem is somewhere between parsing and applying the
     algorithms (at least for -V reg) where the original post details seem to
     have changed. At least for ANNOTATION_PRICE_FIXATED entries. (I used
     printf's in parsing and in amount_t::value() to see the price change).

     This is the command i'm using: ./ledger -f multicurrency-no-fixed.ledger
     -V reg payable:jlopez

     I ran this with the master branch on ubuntu 64 bits.
   :PROPERTIES:
   :ID:       DC6AA45B-F714-4209-B0CC-E6CAFB75E50E
   :Message:  [[message://53ed3320-3d2d-46d8-8dd3-98b953e926fb@e7g2000vbi.googlegroups.com][Re: Multicurrency and reg problem]]
   :Attachments: multicurrency-no-fixed.ledger.zip multicurrency-fixed.ledger.zip
   :Submitter: jleija <jleija@gmail.com>
   :CREATED:  [2009-12-01 Tue 02:39]
   :END:
** DONE [#A] [[bug:226][#226]] print --anon fails completely
   - State "DONE"       from "TODO"       [2010-06-05 Sat 02:46] \\
     Fixed by 63c7ba03.
   It doesn't print out any postings.
   :PROPERTIES:
   :ID:       C1C1E731-D991-40ED-BE43-8ED55585386C
   :CREATED:  [2010-06-04 Fri 02:09]
   :END:
** DONE [#A] [[bug:228][#228]] Make sequences comparable
   - State "DONE"       from "TODO"       [2010-06-05 Sat 03:27] \\
     Fixed by 16f79976.
   This will eliminate all of the special casing I've done to make --sort
   date,amount work.
   :PROPERTIES:
   :ID:       ED9388D7-E523-40EB-841B-9AE9BAA70329
   :CREATED:  [2010-06-04 Fri 02:18]
   :END:
** DONE [#A] [[bug:345][#345]] speed-test.dat with -V is failing verification
   - State "DONE"       from "STARTED"    [2010-06-19 Sat 07:39]
   :LOGBOOK:
   CLOCK: [2010-06-19 Sat 06:09]--[2010-06-19 Sat 07:39] =>  1:30
   :END:
   #+begin_src sh
   ledger -f test/input/speed-test.dat -v --decimal-comma -o /dev/null reg 2eb75f84 1eede0cb -V --verify
   #+end_src
   :OUTPUT:
   While evaluating value expression:
     market(total_expr, value_date, exchange)
     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   The value expression tree was:
     0x107fe6db0       O_CALL (2)
     0x108015300        IDENT: market (1)
     0x108017660         FUNCTION (1)
     0x107fe93b0        O_SEQ (1)
     0x107ff00a0         O_CONS (1)
     0x10800a900          IDENT: total_expr (1)
     0x10800ed00           FUNCTION (1)
     0x107ff3bd0          O_CONS (1)
     0x1080023a0           IDENT: value_date (1)
     0x108006500            FUNCTION (1)
     0x107ff7e10           IDENT: exchange (1)
     0x107ffbf70            FUNCTION (1)
   While handling posting from "test/input/speed-test.dat", line 7482:
   >     (da39a3ee:2eb75f84:6183529e:cd17c28b)        -1 AFS @ 0
   Error: Assertion failed in "/Volumes/RAID/Projects/ledger/src/commodity.cc", line 230: boost::optional<ledger::price_point_t> ledger::commodity_t::varied_history_t::find_price(const ledger::commodity_t&, const boost::optional<ledger::commodity_t&>&, const boost::optional<boost::posix_time::ptime>&, const boost::optional<boost::posix_time::ptime>&, int) const: source.referent() != commodity->referent()
   109667ms    24b  21.3K  [INFO]  Ledger ended (Boost/libstdc++ may still hold memory)
   :END:
   :PROPERTIES:
   :ID:       5B20DC9F-277F-495F-806A-4A147E833C49
   :CREATED:  [2010-06-17 Thu 08:17]
   :END:
** DONE [#A] [[bug:380][#380]] "Unbalanced remainder" pops up depending on the order of postings
- State "DONE"       from "WAITING"    [2012-03-30 Fri 16:45]
- State "WAITING"    from "TODO"       [2012-03-19 Mon 03:44]
:PROPERTIES:
:ID:       1E192DF6-AB81-4DC0-A205-1AAF00F64052
:Submitter: bugzilla-daemon@mail.johnwiegley.com
:Message:  [[message://bug-380-1@http.newartisans.com/bugzilla/][{Bug 380} New: "Unbalanced remainder" pops up depending on the order of postings]]
:CREATED:  [2010-07-17 Sat 05:01]
:END:
** DONE [#A] [[bug:498][#498]] File inclusion is broken
   - State "DONE"       from "TODO"       [2011-03-25 Fri 16:40]
   :PROPERTIES:
   :ID:       777AA2C1-04FF-4912-9FBD-9FE0C12AF98F
   :CREATED:  [2011-03-06 Sun 05:57]
   :END:
** DONE [#A] ledger reg --account=payee -s, causes a segmentation fault
   - State "DONE"       from "TODO"       [2010-05-22 Sat 13:07]
   :PROPERTIES:
   :ID:       D53C98E5-506D-4CE5-91A3-7666FD33B65B
   :CREATED:  [2010-05-03 Mon 07:20]
   :END:
** DONE "ledger parse 'foo(1, 2, 3)'" now crashes
   - State "DONE"       [2009-02-28 Sat 06:10]
   :PROPERTIES:
   :ID:       0307B1C1-A2AC-43E2-AE2E-E3BE2617C5AD
   :CREATED:  [2009-02-27 Fri 21:32]
   :END:
** DONE "ledger parse 'foo(1, 2, 3, 4, (5, 6))'" doesn't parse right
   - State "DONE"       [2009-03-03 Tue 16:02]
   - State "STARTED"    [2009-03-03 Tue 15:28]
   :PROPERTIES:
   :ID:       EAF588B2-BDD6-4B3E-A8BB-4D5047476140
   :CREATED:  [2009-02-28 Sat 05:39]
   :END:
** DONE "reg -p this" gives an assertion whenever used at the REPL
   - State "DONE"       [2009-02-15 Sun 23:18]
   :PROPERTIES:
   :ID:       FBD10B54-DC5E-420D-B558-450002C00F40
   :CREATED:  [2009-02-08 Sun 20:38]
   :END:
** DONE "reg food" is broken now, looks like a boost::variant issue
   - State "DONE"       [2009-02-12 Thu 03:11]
   :PROPERTIES:
   :ID:       8FFE1ACF-87B8-4EFD-AAEC-EFC1766A29ED
   :CREATED:  [2009-02-12 Thu 02:02]
   :END:
** DONE 'q' in ledger-report should bury the report buffer
   - State "DONE"       [2009-02-21 Sat 19:40]
   :PROPERTIES:
   :ID:       084BCE44-1D07-4353-8719-4C46C7F45273
   :CREATED:  [2009-02-21 Sat 18:09]
   :END:
** DONE (Craig) Question about new parser
  - State "DONE"       from "TODO"       [2011-11-10 Thu 17:32]
  :PROPERTIES:
  :ID:       FDFB690E-0072-4A4D-831D-7CD51A9A1378
  :CREATED:  [2011-11-10 Thu 14:27]
  :Date:     Wed, 9 Nov 2011 15:58:26 -0700
  :Message:  [[message://CAKs9TOL96MwFdMZGFL0CcidoXKhByQ3RqnW3g7uWfy20n9pTow@mail.gmail.com][Question about new parser]]
  :Submitter: Craig Earls <enderw88@gmail.com>
  :END:
** DONE (Hyrum) Segfault on next branch
- State "DONE"       from "TODO"       [2012-03-11 Sun 19:57]
Running the following command on the next branch results in a segfault:
#+begin_src sh
$ ./ledger -s bal Checking
#+end_src

The backtrace from gdb is:
:OUTPUT:
Program received signal EXC_BAD_ACCESS, Could not access memory.
Reason: KERN_INVALID_ADDRESS at address: 0x0000000000000000
0x00000001000f8720 in ledger::(anonymous namespace)::instance_t::lookup (this=0x7fff5fbfa050, kind=ledger::symbol_t::DIRECTIVE, name=@0x7fff5fbf7ba0) at src/textual.cc:1726
1726      return context.scope->lookup(kind, name);
(gdb) bt
#0  0x00000001000f8720 in ledger::(anonymous namespace)::instance_t::lookup (this=0x7fff5fbfa050, kind=ledger::symbol_t::DIRECTIVE, name=@0x7fff5fbf7ba0) at src/textual.cc:1726
#1  0x0000000100108ce5 in ledger::(anonymous namespace)::instance_t::general_directive (this=0x7fff5fbfa050, line=0x10301b249 "defaccount De Assets:Cash") at src/textual.cc:1194
#2  0x0000000100106aba in ledger::(anonymous namespace)::instance_t::read_next_directive (this=0x7fff5fbfa050) at src/textual.cc:341
#3  0x0000000100106e29 in ledger::(anonymous namespace)::instance_t::parse (this=0x7fff5fbfa050) at src/textual.cc:222
#4  0x00000001001084be in ledger::(anonymous namespace)::instance_t::include_directive (this=0x7fff5fbfc780, line=0x7fff5fbfa358 "./header.ldg") at src/textual.cc:743
#5  0x0000000100108be7 in ledger::(anonymous namespace)::instance_t::general_directive (this=0x7fff5fbfc780, line=0x103013649 "include ./header.ldg") at src/textual.cc:1170
#6  0x0000000100106aba in ledger::(anonymous namespace)::instance_t::read_next_directive (this=0x7fff5fbfc780) at src/textual.cc:341
#7  0x0000000100106e29 in ledger::(anonymous namespace)::instance_t::parse (this=0x7fff5fbfc780) at src/textual.cc:222
#8  0x0000000100107914 in ledger::journal_t::read_textual (this=0x10290a5c0, context_stack=@0x103010258) at src/textual.cc:1736
#9  0x0000000100117e76 in ledger::journal_t::read (this=0x10290a5c0, context=@0x103010258) at src/journal.cc:385
#10 0x00000001000d94e0 in ledger::session_t::read_data (this=0x103010200, master_account=@0x7fff5fbfede0) at src/session.cc:163
#11 0x00000001000d9b4b in ledger::session_t::read_journal_files (this=0x103010200) at src/session.cc:201
#12 0x0000000100013e82 in ledger::global_scope_t::execute_command (this=0x10300c200, args=@0x7fff5fbff0c0, at_repl=false) at src/global.cc:200
#13 0x0000000100014620 in ledger::global_scope_t::execute_command_wrapper (this=0x10300c200, args=@0x7fff5fbff190, at_repl=false) at src/global.cc:245
#14 0x0000000100001c50 in main (argc=4, argv=0x7fff5fbffa38, envp=0x7fff5fbffa60) at src/main.cc:119
(gdb)
:END:

Everything was working just fine until I added a single entry.  Running on
just that entry doesn't give any problems, and I've yet to find a small
reproduction recipe.  However, the above problem is reproducible for me on my
dataset, and I hope that the backtrace is of some use.  This is using a debug
build of the next branch on Mac OS X.
:PROPERTIES:
:ID:       6B61D9F6-5AB9-4B52-A96A-F25EA13D699F
:CREATED:  [2012-03-10 Sat 22:17]
:Date: Thu, 1 Mar 2012 20:10:44 -0600
:Message: [[message://CAFwo6TZRtZuct=M_-p5sKQDmOqi33tjjOEkUueG7MhxbYKpsRg@mail.gmail.com][Segfault on next branch]]
:Author: Hyrum K Wright <hyrum-krATTUSiS2OIzK9ZyXRbJA@public.gmane.org>
:END:

** DONE (Hyrum) [ledger] Fix a couple of compilation warnings
SCHEDULED: <2012-08-16 Thu>
- State "DONE"       from "TODO"       [2012-08-16 Thu 10:51]
:PROPERTIES:
:ID:       53586C46-C959-41B5-8AA3-671635443D48
:CREATED:  [2012-08-16 Thu 01:15]
:Date:     Mon, 13 Aug 2012 22:27:55 -0700
:Message:  [[message://jwiegley/ledger/pull/74@github.com][{ledger} Fix a couple of compilation warnings (#74)]]
:Author:   Hyrum Wright <notifications@github.com>
:END:
** DONE --begin and --end not working correctly
   - State "DONE"       [2009-02-17 Tue 22:49]
   :PROPERTIES:
   :Version:  2.6
   :Ticket:   136
   :ID:       C0F9D986-4A39-49D3-9799-E6CFCF76E49A
   :CREATED:  [2008-04-11 Fri]
   :END:
** DONE --prices-db not performing tilde expansion in .ledgerrc
   - State "DONE"       [2009-02-18 Wed 20:54]
   It seems that the --priced-db option in .ledgerrc does not perform tilde
   expansion on the filename specified, and so does not update the prices
   database file.

   For example, if my .ledgerrc file reads
   :DATA:
   --file ~/docs/ledger/ledger.dat
   --price-db ~/docs/ledger/prices.dat
   :END:
   and I issue the command
   :SCRIPT:
   ledger -QV bal .
   :END:
   then I notice that my prices.dat file is not updated.

   However, if I specify an absolute path in .ledgerrc:
   :DATA:
   --file ~/docs/ledger/ledger.dat
   --price-db /Users/mcarter/docs/ledger/prices.dat
   :END:
   and issue the command, then prices.dat is properly updated.
   :PROPERTIES:
   :Submitter: Mark Carter <alt.mcarter@googlemail.com>
   :Version:  2.6.1
   :URL:      message://a4942fb2-a459-4ba7-b6b9-0331baa42878@o40g2000prn.googlegroups.com
   :ID:       70E63F8E-8561-41F9-A1F1-48AB75A435AA
   :CREATED:  [2008-12-08 Mon 23:59]
   :END:
** DONE --set-reported-account should just be --account
   - State "DONE"       from "TODO"       [2009-11-06 Fri 02:18]
   :PROPERTIES:
   :ID:       F35973AD-80AB-4B7A-9111-4A9480C73DFB
   :CREATED:  [2009-11-04 Wed 16:06]
   :END:
** DONE --verify --verbose is showing object memory still in use
   - State "DONE"       [2009-02-08 Sun 16:04]
   :PROPERTIES:
   :ID:       B3051A24-F835-4B2A-A601-501BC0FD69B8
   :CREATED:  [2009-01-31 Sat 06:18]
   :END:
** DONE --verify fails to run now
   - State "DONE"       from "TODO"       [2009-10-28 Wed 01:35]
   :PROPERTIES:
   :ID:       A697E1A4-83D0-49EB-9533-29EB82659565
   :CREATED:  [2009-10-27 Tue 23:20]
   :END:
** DONE -M is doubling the running totals
   - State "DONE"       [2009-02-15 Sun 15:40]
   :PROPERTIES:
   :ID:       3378AF83-AC53-49DF-9FB3-8254E4D6FC5B
   :CREATED:  [2009-02-15 Sun 05:07]
   :END:
** DONE -p 2004/01 should strictly be an alias for -b 2004/01/01 -e 2004/01/31
   - State "DONE"       [2009-02-18 Wed 01:00]
   :PROPERTIES:
   :ID:       7AC5356B-04BF-4D05-BD39-0826D616D840
   :CREATED:  [2009-02-17 Tue 22:48]
   :END:
** DONE 2.x value expression syntax must be restored
   - State "DONE"       [2008-08-04 Mon]
   The only way this is going to really be possible is with a battery of unit tests.
   :PROPERTIES:
   :ID:       AEB2D4B6-6968-44A6-A3F5-63A42CEDF254
   :CREATED:  [2008-07-27 Sun]
   :END:
** DONE Abstract a function to verify a transaction double-entry status
   - State "DONE"       from "TODO"       [2009-11-11 Wed 20:43]
   :PROPERTIES:
   :ID:       F9185DA2-634C-4B74-8F3B-EAAA21E6BB26
   :CREATED:  [2009-11-11 Wed 05:15]
   :END:
** DONE Add a "show" report query term
   - State "DONE"       [2009-03-02 Mon 22:44]
   So that a person can say: ledger bal exp show expenses\$
   :PROPERTIES:
   :ID:       42637863-3BFE-43BB-8246-0F14C365B11D
   :CREATED:  [2009-03-02 Mon 16:52]
   :END:
** DONE Add error handling to value expression parser/evaluator
   - State "DONE"       [2009-01-23 Fri 01:58]
   :PROPERTIES:
   :ID:       FAF5D00C-7D45-40F3-8410-786273EA2F6E
   :ARCHIVE_TIME: 2009-02-01 Sun 15:50
   :ARCHIVE_CATEGORY: Computer
   :CREATED:  [2009-01-21 Wed 15:41]
   :END:
** DONE Add full support for expression and metadata to the query expr
   - State "DONE"       [2009-02-01 Sun 22:11]
   - State "STARTED"    [2009-02-01 Sun 18:40]
   For example:
   :SCRIPT:
   ledger reg food @jumby %where=Grenada %work '= a > 100' &note_text
   :END:
   :PROPERTIES:
   :ID:       3F363529-B7C8-4624-BE10-8FDB5401A162
   :CREATED:  [2009-02-01 Sun 15:40]
   :END:
** DONE After applying automated transactions, verify the xact's balance
   - State "DONE"       from "TODO"       [2009-11-11 Wed 20:43]
   :PROPERTIES:
   :ID:       3F07C9B0-B14E-4C59-A919-0D50A1DE85E2
   :CREATED:  [2009-11-11 Wed 05:15]
   :END:
** DONE Amount reduction is not working
   - State "DONE"       [2009-02-21 Sat 01:39]
   :PROPERTIES:
   :ID:       363C38F0-FDE6-461C-8114-9B172F4B8115
   :CREATED:  [2009-02-20 Fri 13:17]
   :END:
** DONE An error message is printing incorrectly from Ledger
   - State "DONE"       [2009-02-19 Thu 13:09]
   :OUTPUT:
   While calculating posting from "doc/sample.dat", line 11:
   >     Assets:Bank:Checking        $1,000.00
   :END:
   This should say something about displaying posting.
   :PROPERTIES:
   :ID:       F769BA6B-EE23-4E1F-A318-C3E51848104D
   :CREATED:  [2009-02-19 Thu 01:12]
   :END:
** DONE Another balance reporting bug, where the ordering is wrong                       :ATTACH:
   - State "DONE"       from "TODO"       [2010-01-21 Thu 04:55]
   :PROPERTIES:
   :ID:       8026905D-42B6-40EE-AEBF-24ED0CC5DC53
   :Attachments: bug2.dat
   :CREATED:  [2009-11-24 Tue 03:08]
   :END:
** DONE Assertion failure using print --raw                                              :ATTACH:
   - State "DONE"       from "TODO"       [2010-03-17 Wed 00:51]
   #+begin_src sh
   ledger --exchange € print --raw
   #+end_src
   :OUTPUT:
   /usr/include/boost/optional/optional.hpp:587: typename boost::optional_detail::optional_base<T>::pointer_const_type boost::optional<T>::operator->() const [with T = ledger::position_t]:
   Assertion `this->is_initialized()' failed.
   core dumped
   :END:
   :PROPERTIES:
   :ID:       F1D4CC8F-8C3A-4075-9D38-75BDF1E0E9C5
   :Submitter: Gabriel Kerneis <gabriel@kerneis.info>
   :Attachments: ledger.txt.gpg
   :CREATED:  [2010-01-18 Mon 02:59]
   :END:
** DONE At the moment it seems that .ledgerrc is required
   - State "DONE"       [2009-02-08 Sun 16:04]
   :PROPERTIES:
   :ID:       F13F5E8A-B40D-4ABA-9E2C-25DF45F4F6CF
   :CREATED:  [2008-08-31 Sun]
   :END:
** DONE Attempting to make a negative cost posting fails
   - State "DONE"       [2009-02-19 Thu 15:13]
   :PROPERTIES:
   :Version:  2.6
   :Ticket:   68
   :ID:       0C13AABF-F0CC-40ED-BC20-D322AF1DD784
   :END:
** DONE Balance command gets the sorting wrong
   - State "DONE"       [2009-02-19 Thu 22:28]
   The command is:
   :SCRIPT:
   ledger -S -t -s bal wedding
   :END:
   :PROPERTIES:
   :Version:  2.6
   :Ticket:   29
   :ID:       D913FCEE-88FF-41D1-98AB-2561382C7933
   :CREATED:  [2007-12-10 Mon]
   :END:
** DONE Bug with --real and virtual transactions
   - State "DONE"       from "TODO"       [2010-05-22 Sat 21:07]
   - Note taken on [2010-03-04 Thu 13:58] \\
     [[message://633d7019-cf97-4855-88b4-6a3b8e592c26@t41g2000yqt.googlegroups.com][Re: virtual transactions]]: I found a way to be able to display virtual
     transactions.  By removing the '^' before "Revenu".
   :PROPERTIES:
   :ID:       F2832452-4521-49A3-B854-F4E12CC4D82E
   :Message:  [[message://ffcf3974-a9d7-4ebf-a0da-7fc61fc00d3f@q16g2000yqq.googlegroups.com][virtual transactions]]
   :CREATED:  [2010-03-04 Thu 13:57]
   :END:
** DONE Change the prices report again
   - State "DONE"       [2009-02-13 Fri 21:08]
   PAYEE   = commodity of history price
   ACCOUNT = commodity
   Report shows only DATE ACCOUNT, where PAYEE exists for searching purposes.
   :PROPERTIES:
   :ID:       D083AAA7-B90B-4A3A-86EB-0C502DABB16C
   :CREATED:  [2009-02-12 Thu 05:13]
   :END:
** DONE Check out skanthak's fix to ledger --reconcile
   - State "DONE"       [2008-11-23 Sun 23:43]
   http://github.com/skanthak/ledger/tree/fix-reconcile
   :PROPERTIES:
   :Submitter: Sebastian Kanthak <skanthak@gmail.com>
   :Version:  2.6.1
   :ID:       FFFE432A-FE8F-4584-B4AB-E111F31174DC
   :CREATED:  [2008-11-20 Thu 19:14]
   :END:
** DONE Command does not sort correctly
   - State "DONE"       [2009-02-19 Thu 17:28]
   The command is:
   :SCRIPT:
   ledger -f utils/cases/1032.dat -S t bal
   :END:
   :PROPERTIES:
   :Version:  2.6
   :Ticket:   24
   :ID:       72DA9574-0B30-4140-96EC-D721F73B7888
   :CREATED:  [2007-12-10 Mon]
   :END:
** DONE Command fails to read any xacts (timelog support)
   - State "DONE"       [2009-02-19 Thu 17:28]
   :SCRIPT:
   ./ledger -f 2.6.2/tests/cases/1032.dat bal
   :END:
   :PROPERTIES:
   :ID:       48C39B0D-0B6A-4512-B60E-A5A1852B481D
   :CREATED:  [2009-02-16 Mon 14:48]
   :END:
** DONE Command fails to report monthly averages
   - State "DONE"       [2009-02-16 Mon 16:57]
   - State "TODO"       [2008-07-17 Thu 20:43] \\
     The output from this command is not what people would think it is, because it
     divides by total postings, not months.  This is an issue to be addressed
     again in 2.7.
   The command is:
   :SCRIPT:
   ledger -p "this year" -MAs bal ^Expenses
   :END:
   This does not appear to report monthly averages; since it's now april,
   averages should be a third of the unaveraged total.
   :PROPERTIES:
   :Version:  2.6
   :Ticket:   22
   :ID:       5EDCE9E9-8610-4D31-950E-3659D1CD9218
   :CREATED:  [2007-12-10 Mon]
   :END:
** DONE Command gets reporting periods entirely wrong
   - State "DONE"       [2009-02-16 Mon 03:09]
   :SCRIPT:
   reg -f tools/drewr.dat --effective -n -p 2004/01 \( ^exp ^liab ^assets:sav \) and not %nobudget and not mastercard
   reg -f tools/drewr.dat -p 2004/01 food
   :END:
   :PROPERTIES:
   :ID:       D77C48E5-7584-4CA7-9BBC-B2AAFF120C87
   :CREATED:  [2009-02-15 Sun 23:31]
   :END:
** DONE Command ignores -b option entirely
   - State "DONE"       [2009-02-16 Mon 01:09]
   Part of the reason is --effective
   :SCRIPT:
   ./ledger reg -f tools/drewr.dat --effective -n -b 2004/01 \( ^exp ^liab ^assets:sav \) and not %nobudget and not mastercard
   :END:
   :PROPERTIES:
   :ID:       6EB9DDEA-2526-40D6-A18D-CAC614DF5E45
   :CREATED:  [2009-02-15 Sun 23:31]
   :END:
** DONE Command shows nothing: ledger -f doc/sample.dat -r reg @book
   - State "DONE"       [2009-02-15 Sun 23:18]
   :PROPERTIES:
   :ID:       03D5A6A1-94FF-4D36-883D-E04024F19DA5
   :CREATED:  [2009-02-08 Sun 05:17]
   :END:
** DONE Complete the outputting of error context throughout Ledger
   - State "DONE"       [2009-02-02 Mon 00:32]
   - [ ] While parsing a file
   - [ ] In an included file
   - [ ] While parsing a value expression
   - [ ] While evaluating a value expression
   - [ ] While balancing an xact
   - [ ] While invoking a command
   :PROPERTIES:
   :ID:       9572CF73-D8E9-47B0-A00F-658C3A22EE9F
   :CREATED:  [2009-02-01 Sun 15:16]
   :END:
** DONE Cost amounts have the wrong sign with register -B                                :ATTACH:
   - State "DONE"       from "STARTED"    [2009-12-07 Mon 21:23]
   :PROPERTIES:
   :ID:       9603900E-D553-4ECD-A355-50B1CAABE3A8
   :Attachments: currency.dat
   :CREATED:  [2009-12-07 Mon 18:59]
   :END:
** DONE Divide by zero error using -A reg                                                :ATTACH:
   - State "DONE"       from "TODO"       [2010-01-21 Thu 04:57]
   #+begin_src sh
   ledger --exchange € -A reg
   #+end_src
   :OUTPUT:
   While evaluating value expression:
    (total_expr / count)
    ^^^^^^^^^^^^^^^^^^^^
   While evaluating value expression:
    justify(scrub(display_total), total_width, (((((4 + date_width) + payee_width) + account_width) + amount_width) + total_width), true, color)
   Error: Divide by zero
   :END:
   "ledger -A bal" works fine though.
   :PROPERTIES:
   :ID:       75A28597-4B64-4A2E-AF98-CB12AE92A8FE
   :Submitter: Gabriel Kerneis <gabriel@kerneis.info>
   :Attachments: ledger.txt.gpg
   :CREATED:  [2010-01-18 Mon 02:58]
   :END:
** DONE Does the print command work with xact notes?
   - State "DONE"       from "TODO"       [2009-11-11 Wed 21:39]
   :PROPERTIES:
   :ID:       59A8EF7E-7FA9-4C88-B429-DC4E0B3C9273
   :CREATED:  [2009-11-02 Mon 15:50]
   :END:
** DONE Don't print trailing spaces after amount-elided postings
   - State "DONE"       from "TODO"       [2009-10-28 Wed 01:40]
   - Note taken on [2009-11-02 Mon 00:51] \\
     This is being tested by several of the baseline tests.
   :PROPERTIES:
   :ID:       68C50F8D-4407-430F-8FE1-40B96D38173A
   :CREATED:  [2009-10-27 Tue 22:42]
   :END:
** DONE Don't use -s for bal the way it's used now
   - State "DONE"       [2009-02-08 Sun 16:04]
   :PROPERTIES:
   :ID:       C27BABD9-CEAF-41E9-84D9-F1B97C785F50
   :CREATED:  [2008-08-14 Thu]
   :END:
** DONE Enable the parsing of XML on standard input
   - State "DONE"       [2009-01-29 Thu 15:32]
   :PROPERTIES:
   :Version:  2.6
   :Ticket:   164
   :ID:       E97BCC81-4E9E-49AA-A905-051C9524B769
   :CREATED:  [2008-04-11 Fri]
   :END:
** DONE Equity command doesn't handle multiple account commodities
   - State "DONE"       from "TODO"       [2009-11-14 Sat 02:32]
   As seen in:
   :SCRIPT:
   ledger -f doc/sample.dat equity
   :END:
   :PROPERTIES:
   :ID:       49EE4C3B-6FA9-4564-9434-6B3EB359DA6B
   :CREATED:  [2009-11-11 Wed 23:23]
   :END:
** DONE Error when running my 'bal' script
   - State "DONE"       [2009-02-26 Thu 05:07]
   When using my bal script, if there is an error in the large valexpr I use,
   it doesn't show the full context, only the valueof statement.
   :PROPERTIES:
   :Version:  2.6
   :Ticket:   25
   :ID:       88468528-A332-47E7-AA34-5E4F8126E3E7
   :CREATED:  [2007-12-10 Mon]
   :END:
** DONE Find an efficient way to make account_amount, etc., always available
   - State "DONE"       [2009-03-03 Tue 17:13]
   For example, in the register report we don't do any account tabulation.
   :PROPERTIES:
   :ID:       75E8A4EB-4596-47E0-B358-9C078C07C21F
   :CREATED:  [2009-03-03 Tue 16:29]
   :END:
** DONE Fix --anon so it preserves account hierarchy structure
   - State "DONE"       from "TODO"       [2009-06-27 Sat 14:11]
   :PROPERTIES:
   :ID:       76C15815-4D3C-46AC-996C-C6C26396283F
   :CREATED:  [2009-06-26 Fri 23:02]
   :END:
** DONE Fix ledger-reconcile-visit
- State "DONE"       from "TODO"       [2012-03-11 Sun 20:50]
:PROPERTIES:
:ID:       967C870C-8FDA-45A2-9792-6868626BFFC0
:CREATED:  [2012-03-10 Sat 22:36]
:Date: Mon, 5 Mar 2012 14:14:33 -0800
:Message: [[message://jwiegley/ledger/pull/57@github.com][{ledger} Fix ledger-reconcile-visit. (#57)]]
:Author: Paul Lathrop <reply+i-3515068-bffd1ffcec680c923e336bd783d093c5723dde2b-8460@reply.github.com>
:END:
** DONE For the "ledger parse" command line, concat the args
   - State "DONE"       [2009-02-09 Mon 17:33]
   :PROPERTIES:
   :ID:       7070FBC8-35F1-41C7-95DD-FAFF9D0BC7DB
   :CREATED:  [2009-02-09 Mon 15:15]
   :END:
** DONE For the parse command, create a dummy post/account to test against
   - State "DONE"       [2009-02-09 Mon 17:33]
   - State "STARTED"    [2009-02-09 Mon 17:08]
   :PROPERTIES:
   :ID:       038CB629-A628-4B12-9356-5CA2097B45D2
   :CREATED:  [2009-02-09 Mon 15:45]
   :END:
** DONE For unrounded numbers, trim zeroes but not less than display precision
   - State "DONE"       [2009-02-27 Fri 13:14]
   :PROPERTIES:
   :ID:       0BAD4288-C129-425D-8700-D4B2DD129007
   :CREATED:  [2009-02-27 Fri 04:30]
   :END:
** DONE Get the register report to work again
   - State "DONE"       [2008-08-04 Mon]
   :PROPERTIES:
   :ID:       7D031D7C-A50D-479E-8C31-168D5F3E8CAB
   :CREATED:  [2008-07-26 Sat]
   :END:
** DONE Get xactal assignments working again
   - State "DONE"       [2008-09-14 Sun 06:26]
   - State "STARTED"    [2008-09-06 Sat 08:11]
   Another thing that needs to happen is that these assignments are stored
   internally in the xact, in assign_amount and assign_expr, and then
   get double-checked against the running total when a regular register report
   is performed.
   :PROPERTIES:
   :ID:       E6B6E93B-655B-4895-B72F-7B82E1E5D741
   :CREATED:  [2008-08-24 Sun]
   :END:
** DONE Have -T and -t set the expression template
   - State "DONE"       [2009-02-08 Sun 16:05]
   ... so that # may be used to refer to whatever the previous value (set by
   other options) was
   :PROPERTIES:
   :Version:  2.6
   :Ticket:   112
   :ID:       A81F98B1-38AE-4550-8056-C3D7D35691B3
   :CREATED:  [2008-04-11 Fri]
   :END:
** DONE Have config options for setting fixed account names
   - State "DONE"       from "TODO"       [2009-11-25 Wed 02:34]
   Like: Equity:Unrealized Gains.
   :PROPERTIES:
   :ID:       1669EBA4-C733-4D90-897D-68EF735286DE
   :CREATED:  [2009-11-24 Tue 03:35]
   :END:
** DONE Have ledger automatically fill up the terminal window
   - State "DONE"       [2009-02-19 Thu 15:11]
   :PROPERTIES:
   :ID:       E05F54E7-FEA9-4B89-8A2E-75151FB7BF32
   :CREATED:  [2009-02-19 Thu 14:25]
   :END:
** DONE Have the xact command recognize days of the week
   - State "DONE"       [2009-02-11 Wed 21:26]
   :PROPERTIES:
   :ID:       A3F247BB-699E-40D5-B4D6-75A60192643A
   :CREATED:  [2009-02-11 Wed 19:18]
   :END:
** DONE How do I solve the fact that individual posts ...
   - State "DONE"       [2008-07-13 Sun 21:43]
   ... cannot be marked "cleared"?  This causes troubles when multiple accounts
   are reconciled that involve common posts.
   :PROPERTIES:
   :Version:  2.6
   :Ticket:   108
   :ID:       116B0437-6BA9-4211-B5DE-3BBFA69F1D33
   :CREATED:  [2008-04-11 Fri]
   :END:
** DONE ITEM_TEMP posts must be removed from xacts and accounts properly
   - State "DONE"       from "TODO"       [2009-10-27 Tue 16:40]
   :PROPERTIES:
   :ID:       F1D055D3-DDCE-49A2-A670-A84D1FD0C299
   :CREATED:  [2009-10-27 Tue 05:13]
   :END:
** DONE If --date is used, don't change the item's real date
   - State "DONE"       from "TODO"       [2009-11-12 Thu 18:25]
   :PROPERTIES:
   :ID:       3508313E-3C25-4B36-BEC8-7C04A966A850
   :CREATED:  [2009-11-12 Thu 06:05]
   :END:
** DONE If a file's UTF8 coding is incorrect, display a meaningful error
   - State "DONE"       from "TODO"       [2009-11-07 Sat 06:09]
   :PROPERTIES:
   :ID:       91D5206E-44BF-433B-9D53-08711ECE7DE9
   :CREATED:  [2009-11-03 Tue 18:55]
   :END:
** DONE If a quote comes back in the wrong commodity, ignore it
   - State "DONE"       from "TODO"       [2009-06-28 Sun 15:19]
   :PROPERTIES:
   :ID:       CD45A03D-0A90-4C60-BA81-81BAEC554544
   :CREATED:  [2009-06-26 Fri 17:50]
   :END:
** DONE If an exception occurs while --verify --verbose is on
   - State "DONE"       [2008-08-10 Sun]
   ...it shows lots and lots of leaked memory
   :PROPERTIES:
   :ID:       AAB6A9CC-4122-45F0-A69B-5DC7C59901F5
   :CREATED:  [2008-07-27 Sun]
   :END:
** DONE If an option was not used, options.foo should return a null value
   - State "DONE"       [2009-02-22 Sun 15:16]
   :PROPERTIES:
   :ID:       BA21ACF9-8213-4794-BF32-57C786E50B67
   :CREATED:  [2009-02-22 Sun 05:11]
   :END:
** DONE Implied rates.
- State "DONE"       from "TODO"       [2012-03-18 Sun 19:02]
   Not sure what you should do in this case:
   :DATA:
   2007-12-31 * Start of year / Opening balances.
    Account1   100 EUR @ 1.4 USD
    Account1   -200 EUR
    Account2   100 USD
   :END:

   You could calculate the cost:
   :OUTPUT:
   140 USD
   -200 EUR
   100 USD
   :END:
   So, 240 USD and -200 EUR, which implies an aggregate exchange rate of 1.2,
   which is wildly different of the 1.4 EUR/USD rate declared above.

   (Do you fill in? In my Python version, I'll prefer not to, because I think
   that in general these will be errors rather than reflect implied rates.)
   :PROPERTIES:
   :Submitter: Martin Blais <blais@furius.ca>
   :Version:  2.6
   :Ticket:   181
   :ID:       3E56A012-FE58-49B5-8CF0-7E80CD2B2F8A
   :END:
** DONE Improve changed_value_xacts so it reports rounding discrepancies
   - State "DONE"       [2009-02-26 Thu 03:18]
   This will require adding a --revalued-amount options, and verifying that the
   last_balance plus this amount equals the new balance.
   :PROPERTIES:
   :ID:       0854BABC-CB9F-4415-8984-D74F39374535
   :CREATED:  [2009-02-25 Wed 14:05]
   :END:
** DONE Improve symbol lookup [0/5]
   - State "DONE"       from "TODO"       [2009-11-05 Thu 04:17]
   This is to support the following types of handlers registered from Python:
   - [ ] Option
   - [ ] Function (also should handle get_quote)
   - [ ] Transform (chain handler (name determines sequence))
   - [ ] Command
   :PROPERTIES:
   :ID:       F35179B5-E29B-4EA5-B9EA-5AF811615551
   :CREATED:  [2009-11-03 Tue 13:55]
   :END:
** DONE In symbol scope make the map optional
   - State "DONE"       from "TODO"       [2009-11-24 Tue 04:21]
   :PROPERTIES:
   :ID:       1DEA172D-72F1-4AA1-B013-9B04E95E47F0
   :CREATED:  [2009-11-22 Sun 04:25]
   :END:
** DONE In the --options report, right justify the source information
   - State "DONE"       from "TODO"       [2010-05-22 Sat 16:54]
   :PROPERTIES:
   :ID:       DB3A786A-C36E-4A61-8B4A-C6B7924D6045
   :CREATED:  [2010-05-03 Mon 07:24]
   :END:
** DONE Is --file=foo valid?
   - State "DONE"       from "TODO"       [2009-11-25 Wed 02:35] \\
     Yes, it is.
   :PROPERTIES:
   :ID:       4E9D5FFB-24E3-43FC-AD14-1FA74B80E266
   :CREATED:  [2009-11-20 Fri 07:30]
   :END:
** DONE Latest build of next f35bc939 produces slow binary
   - State "DONE"       from "TODO"       [2009-10-26 Mon 21:32]
   :PROPERTIES:
   :ID:       18B7E853-848A-4211-BF98-C0C1B845E94F
   :URL:      http://github.com/jwiegley/ledger/issues#issue/3
   :CREATED:  [2009-10-26 Mon 21:31]
   :END:
** DONE Ledger fails to proof build
   - State "DONE"       from "TODO"       [2010-02-05 Fri 00:02]
   :PROPERTIES:
   :ID:       CED8B3F7-37A0-462B-A2DF-152CA0656BE5
   :CREATED:  [2010-02-02 Tue 15:40]
   :END:
** DONE Ledger is not parsing value expressions in report query correctly
   - State "DONE"       from "TODO"       [2009-11-15 Sun 05:16]
   In this command, the '=' gets interpreted as a token.
   :SCRIPT:
   ledger reg @another expr '(amount=$1000)'
   :END:
   :PROPERTIES:
   :ID:       3E0E985B-4AE0-462E-9E61-5C0B1BF1A864
   :CREATED:  [2009-11-14 Sat 02:42]
   :END:
** DONE Ledger should output empty values with -E -j
   - State "DONE"       [2009-02-19 Thu 13:25]
   The -E flag should cause Ledger to report null figures:
   :OUTPUT:
   $ ledger -E -j -p 2006.12 reg Travel

   2006.12.18 32.1
   2006.12.28 21.81
   2006.12.28 63.83
   2006.12.28 14.62
   2006.12.28 13.4
   2006.12.28 15.23
   2006.12.28 23.14
   2006.12.28 23.14
   2006.12.28 23.14
   2006.12.28 -28.32
   :END:
   There were null values in the above report, but they weren't output.
   :PROPERTIES:
   :Version:  2.6
   :Ticket:   44
   :ID:       86C0F968-F05B-4881-96B8-1C8CA8BB1315
   :CREATED:  [2008-04-05 Sat]
   :END:
** DONE Ledger's long options should support --foo=value
   - State "DONE"       [2009-02-19 Thu 13:06]
   :PROPERTIES:
   :ID:       9ADBF039-BCA2-4FFE-9567-3857467E82AA
   :CREATED:  [2009-02-16 Mon 20:19]
   :END:
** DONE Make $account in automated postings a string interpolated value
   - State "DONE"       from "STARTED"    [2010-05-22 Sat 14:48]
   :LOGBOOK:
   CLOCK: [2010-05-22 Sat 14:31]--[2010-05-22 Sat 14:48] =>  0:17
   :END:
   :PROPERTIES:
   :ID:       5CB52887-408E-48F0-8798-3C640D0295B3
   :Message:  [[message://AANLkTil3bVsrPbOQAXXEqgtd9Zzd80CKK4o1-CYvLwdI@mail.gmail.com][Re: Doing US payroll taxes with ledger]]
   :CREATED:  [2010-05-19 Wed 04:54]
   :END:
** DONE Make Ledger not be so whitespace sensitive
   - State "DONE"       [2009-02-15 Sun 23:18]
   :PROPERTIES:
   :ID:       C2B7ED9B-7C4D-4F52-98A2-157671FDF83F
   :CREATED:  [2009-02-08 Sun 22:46]
   :END:
** DONE Make it so that nil is considered a valid commodity
   - State "DONE"       [2007-10-22 Mon 03:23]
   This is rather than testing for nil everywhere; just have the generic
   functions relating to commodities able to act on null.
   :PROPERTIES:
   :ARCHIVE_TIME: 2007-10-29 Mon 04:29
   :ARCHIVE_CATEGORY: CL-Ledger
   :ID:       F026F02F-6695-4310-82DA-E8869E56BF3E
   :CREATED:  [2007-10-20 Sat]
   :END:
** DONE Make sure -E can report an "empty month" when using -M
   - State "DONE"       [2009-02-15 Sun 23:16]
   :PROPERTIES:
   :ID:       1F47D0AF-0015-4CD6-8AE1-92D0791D61DE
   :CREATED:  [2009-02-13 Fri 20:51]
   :END:
** DONE Make sure posts_report always clears xdata
   - State "DONE"       from "TODO"       [2010-05-31 Mon 15:12]
   :PROPERTIES:
   :ID:       F0CFF3FF-7BAF-40A9-BA37-2ACDC8369B5C
   :CREATED:  [2010-05-31 Mon 01:16]
   :END:
** DONE Make sure that every delete is a checked_delete
   - State "DONE"       [2008-07-27 Sun]
   :PROPERTIES:
   :ID:       5768AB32-D4BB-480E-AD7D-35AF842E2D32
   :CREATED:  [2008-07-25 Fri]
   :END:
** DONE Monthly transactions via -M have the payee bolded
   - State "DONE"       from "TODO"       [2009-11-13 Fri 19:00]
   This is because the temporary transaction is not mark CLEARED.
   :PROPERTIES:
   :ID:       162C0700-B636-4E6C-B2AB-E778E2D20E33
   :CREATED:  [2009-11-12 Thu 05:04]
   :END:
** DONE More issues with price file parsing                                              :ATTACH:
   - State "DONE"       [2009-02-19 Thu 15:02]
   - Note taken on [2008-07-18 Fri 22:44] \\
     Solving this is going to be part of a larger revising of the way commodities
     are translated in general.
   - Note taken on [2008-07-18 Fri 17:37] \\
     Here's the xact:
     :DATA:
   - Note taken on [2008-07-18 Fri 17:37] \\
     This must be used with the xact found in one of the comments.
   - Note taken on [2008-07-18 Fri 02:35] \\
     I need supporting information before I can do anything more here; I need the
     actual xact which, combined with the price file, causes the problem.
   2007/01/01 Wasatch Small Cap: WMCVX
    Assets:Wasatch                           178.170 WMCVX
    Equity:OpeningBalances
     :END:
   See archive/New Artisans LLC // View topic - Problem with prices.db file/index.html.
   :PROPERTIES:
   :Submitter: <ktneely@astroturfgarden.com>
   :Version:  2.6
   :Ticket:   134
   :ID:       3850F5F3-8D73-435C-A734-1C39683430ED
   :Attachments: prices.db
   :CREATED:  [2008-04-11 Fri]
   :END:
** DONE Multi-byte characters (like UTF-8) throws off the "emacs" report                 :ATTACH:
   - State "DONE"       [2008-08-25 Mon 23:54] \\
     This has been implemented.
   The emacs report uses byte-positioning to indicate the beginning of posts
   and posts.  This breaks with multi-byte files.

   The solution is either to support multi-byte correctly, or to use line
   numbering instead.  levin has offered a patch for this (attached).
   :PROPERTIES:
   :Submitter: Levin <zslevin@gmail.com>
   :Version:  2.6
   :Ticket:   5
   :ID:       6B7E468B-CB1E-41C3-A6BF-DCB64DA91C15
   :Attachments: line-positioning.patch
   :CREATED:  [2007-10-29 Mon]
   :END:
** DONE Need to internationalize error messages
   - State "DONE"       [2009-02-25 Wed 04:15]
   :PROPERTIES:
   :Version:  2.6
   :Ticket:   138
   :ID:       6838FEA5-9283-462D-8651-351B0B6A6A0E
   :END:
** DONE Now that caching is not being used, simplification can be made
   - State "DONE"       [2009-02-03 Tue 18:53]
   - [X] No need for src_idx
   - [X] No need to store the amount/cost expr
   :PROPERTIES:
   :ID:       53742416-2085-450C-8E4E-9D2CD631C691
   :CREATED:  [2009-02-03 Tue 17:33]
   :END:
** DONE Only use ledger::string if VERIFY_ON or HAVE_BOOST_PYTHON
   - State "DONE"       from "TODO"       [2009-11-11 Wed 16:38]
   Otherwise, it results in empty function calls for optimized builds.
   :PROPERTIES:
   :ID:       3CAB257E-B4B5-47C4-BD19-74056E8B5A1C
   :CREATED:  [2009-11-11 Wed 15:09]
   :END:
** DONE Optimize the default display predicate
   - State "DONE"       from "TODO"       [2010-06-07 Mon 05:48]
   - Note taken on [2010-06-06 Sun 06:42] \\
     calc_posts should store the display_amount and display_total in the xdata of
     each posting, plus the xdata should be cleared after each post is formatted
     (but only the second to last, since the last may still be used).
   Rather than having post&display_amount, do nothing via a display
   predicate for the posting case.  For that, use logic within
   rounding_error_posts, since it already needs to compute the display
   amount and there is no reason to calculate the same value twice.  This
   means that either rounding_error_posts is always used (with a boolean
   used to control <Rounding> postings), or a display_amount_filter is
   needed which rounding refers to for access to the value.  This would
   not be used for account reports.
   :PROPERTIES:
   :ID:       0C1B0593-435F-4C8E-A310-D3ED31B652E8
   :CREATED:  [2010-06-06 Sun 06:28]
   :END:
** DONE Parse xact metadata that occurs at the end of the line
   - State "DONE"       [2009-02-04 Wed 04:00]
   :PROPERTIES:
   :ID:       D3AD59D7-DAF4-41E7-92DE-397D7A1F449D
   :CREATED:  [2009-02-03 Tue 16:57]
   :END:
** DONE Parse xact notes that occur at the end of the line
   - State "DONE"       [2009-02-04 Wed 04:00]
   :PROPERTIES:
   :ID:       18728C2C-FE0E-495C-9DAF-6DC7F7EF34D9
   :CREATED:  [2009-02-03 Tue 16:19]
   :END:
** DONE Perhaps the -x option should be -X, to pair with -V
   - State "DONE"       [2009-02-25 Wed 13:49]
   :PROPERTIES:
   :ID:       3BEF3BCD-EE9A-4D29-B5A0-90D6AC868556
   :CREATED:  [2009-02-25 Wed 04:27]
   :END:
** DONE Post about the new Ledger commodities feature
   - State "DONE"       [2009-01-21 Wed 20:16]
   :PROPERTIES:
   :ID:       9DC97062-391A-4C48-99E1-3B6037716469
   :ARCHIVE_TIME: 2009-02-01 Sun 15:50
   :ARCHIVE_CATEGORY: Computer
   :CREATED:  [2009-01-20 Tue 16:45]
   :END:
** DONE Problem reading Russian prices file                                              :ATTACH:
   - State "DONE"       [2009-02-15 Sun 23:21]
   :PROPERTIES:
   :Version:  2.6
   :Ticket:   131
   :ID:       22D053B7-616B-4B64-83DF-80A46BA1EC2B
   :Attachments: bug.100
   :CREATED:  [2008-04-11 Fri]
   :END:
** DONE Problem with basis report
   - State "DONE"       [2009-02-24 Tue 11:38]
   The command is:
   :SCRIPT:
   ledger -f utils/standard.dat -e 2004/4 -B reg 401
   :END:
   Far too many decimal places are being displayed in the register output from
   this command.
   :PROPERTIES:
   :Version:  2.6
   :Ticket:   13
   :ID:       41B5FF94-DF20-4530-81A5-20E78EEEDED2
   :CREATED:  [2007-12-10 Mon]
   :END:
** DONE Problem with capital gains report
   - State "DONE"       [2009-02-24 Tue 11:37]
   The command is:
   :SCRIPT:
   ledger -f utils/standard.dat -e 2004/4 -G reg 401
   :END:
   The results of this command are not at all what I would expecteven though
   they make sense!

   The difference is that in 2.4.1, all of the relevant revaluation lines were
   printed, such that the total made sense.
   :PROPERTIES:
   :Version:  2.6
   :Ticket:   12
   :ID:       51DD2F71-F5D0-4C89-AEBD-9BFCF56C1FDB
   :CREATED:  [2007-12-10 Mon]
   :END:
** DONE Problem with case sensitivity and UTF-8
   - State "DONE"       from "STARTED"    [2009-11-07 Sat 08:23]
   активы doesn't match Активы
   :PROPERTIES:
   :ID:       FA84F4EF-0446-4237-98E1-381458645004
   :CREATED:  [2009-11-03 Tue 15:27]
   :END:
** DONE Recursive printing causes costs to extend precision each time
   - State "DONE"       [2009-02-27 Fri 16:22]
   :PROPERTIES:
   :ID:       78F75F38-9069-4812-99E4-0D9FCDE14DFB
   :CREATED:  [2009-02-27 Fri 03:03]
   :END:
** DONE Reg reports by payee / tag
   - State "DONE"       from "STARTED"    [2010-05-22 Sat 17:52]
   :LOGBOOK:
   CLOCK: [2010-05-22 Sat 15:21]--[2010-05-22 Sat 15:40] =>  0:19
   :END:
   :PROPERTIES:
   :ID:       A1909563-677E-47E9-80D9-8F51FA40F475
   :Message:  [[message://4763c737-c606-48b1-92b3-e4f6a4e9b9c9@r27g2000yqn.googlegroups.com][Reg reports by payee / tag]]
   :CREATED:  [2010-03-26 Fri 22:16]
   :END:
** DONE Remove special parsing of %!, in favor of '%(ansi(foo))'
   - State "DONE"       [2009-02-15 Sun 15:55]
   :PROPERTIES:
   :ID:       9C04DE6C-5539-4B55-B669-57284F34FD63
   :CREATED:  [2009-02-15 Sun 05:06]
   :END:
** DONE Remove total_cost, all I need is amount_expr = cost
   - State "DONE"       [2009-02-15 Sun 15:55]
   :PROPERTIES:
   :ID:       7ACCA78F-81BE-48D7-B7EE-42C1DA67DE62
   :CREATED:  [2009-02-15 Sun 05:06]
   :END:
** DONE Restore command-line regexps
   - State "DONE"       [2008-08-04 Mon]
   :PROPERTIES:
   :ID:       0356C673-4300-4CB8-B4A4-869EF0773AF9
   :CREATED:  [2008-08-03 Sun]
   :END:
** DONE Restore reporting filters
   - State "DONE"       [2008-08-04 Mon]
   :PROPERTIES:
   :ID:       05D95071-2F29-4056-9146-708A13EED837
   :CREATED:  [2008-08-03 Sun]
   :END:
** DONE Restore the "xact" command
   - State "DONE"       [2009-02-15 Sun 23:17]
   :PROPERTIES:
   :ID:       3B6F9C53-E7D6-413F-8356-DFD34822DE3B
   :CREATED:  [2009-02-10 Tue 21:17]
   :END:
** DONE Restore the -A reporting option
   - State "DONE"       [2009-02-15 Sun 15:41]
   This will require a new post/account valexpr variable: count.  For
   postings, it counts the number of postings calculated thus far.  For
   accounts, it reports how many postings it relates to.
   :PROPERTIES:
   :ID:       9CEB14C0-63A1-489A-90E0-453D1125DFFF
   :CREATED:  [2009-02-14 Sat 05:39]
   :END:
** DONE Revert recent change which sets cost from price
   - State "DONE"       from "TODO"       [2010-06-08 Tue 06:17]
   :PROPERTIES:
   :ID:       0F59F13B-5946-4A9F-91AE-98EFB466F9E3
   :CREATED:  [2010-06-08 Tue 04:05]
   :END:
** DONE Revise the way that option/command/etc handlers are defined
   - State "DONE"       [2009-02-05 Thu 21:54]
   - [ ] option
   - [ ] command
   - [ ] directive
   - [ ] function
   - [ ] method
   :PROPERTIES:
   :ID:       4D752AEF-B4C4-47A8-A5D8-CB36F5BFBE50
   :CREATED:  [2009-02-05 Thu 13:49]
   :END:
** DONE Scoping bug with defined value expression functions
   - State "DONE"       from "TODO"       [2009-11-10 Tue 02:28]
   If I parse the following data:
   :DATA:
    def elec := account_total("Usage:Electricity")

    2009/01/13 * Electricity
     Usage:Electricity          646,40 kWh
     Equity:OpeningBalance

    2009/02/13 * Electricity
     Usage:Electricity          (690,10 kWh - elec)
     Supplier:Vattenfall
   :END:
   I get an error that account_total is unknown, because it's not finding the
   report scope.  If I substitute the definition by hand, it works.
   :PROPERTIES:
   :ID:       53ACFFFA-E9DE-4526-ABBD-B38DAE0FBA6F
   :CREATED:  [2009-11-05 Thu 05:25]
   :END:
** DONE Scoping error with the account directive and included files                      :ATTACH:
   - State "DONE"       from "STARTED"    [2010-05-22 Sat 21:35]
   - Note taken on [2009-12-08 Tue 19:45] \\
     Mentioned in this e-mail: [[message://E53FE149-FD4B-43F1-9A01-4DC9BF138DF3@surryhill.net][Ledger Bugfixes]].
   :LOGBOOK:
   CLOCK: [2010-05-22 Sat 21:14]--[2010-05-22 Sat 21:35] =>  0:21
   :END:
   :PROPERTIES:
   :ID:       F4A477E6-C4F6-43B1-ABCC-4DC325C2869A
   :Attachments: timelog.dat a.dat
   :CREATED:  [2009-12-08 Tue 19:45]
   :END:
** DONE Segfault using -M -A bal                                                         :ATTACH:
   - State "DONE"       from "TODO"       [2010-01-21 Thu 04:59]
   #+begin_src sh
   ledger --exchange € -M -A bal
   #+end_src
   "ledger -M bal" and "ledger -A bal" both work fine.
   :PROPERTIES:
   :ID:       9A4FEA3B-6490-46D0-9839-C283C87FE8B4
   :Submitter: Gabriel Kerneis <gabriel@kerneis.info>
   :Attachments: ledger.txt.gpg
   :CREATED:  [2010-01-18 Mon 03:00]
   :END:
** DONE Set the beginning and ending line/position for xacts
   - State "DONE"       [2009-02-08 Sun 16:06]
   ... that are in other files types: OFX.
   :PROPERTIES:
   :Version:  2.6
   :Ticket:   103
   :ID:       50357AC3-2CF8-4BBE-A679-7B3540139C44
   :CREATED:  [2008-04-11 Fri]
   :END:
** DONE The 'entry' command is showing an effective date
   - State "DONE"       [2009-03-02 Mon 04:41]
   The entry that it prints out should not have an effective date.
   :PROPERTIES:
   :Submitter: John Wiegley <johnw@newartisans.com>
   :Milestone: 3.0
   :Ticket:   3
   :ID:       9457CE97-8EF2-F5B4-B31A-A8D06175EBF3
   :CREATED:  [2009-03-01 Sun 01:09]
   :END:
** DONE The -- sequence isn't stopping option parsing from happening
   - State "DONE"       [2009-02-22 Sun 18:36]
   :PROPERTIES:
   :ID:       9CEDF17E-E7F2-4FBC-8B6E-3E90F33DB70A
   :CREATED:  [2009-02-22 Sun 03:10]
   :END:
** DONE The --prefix-format option messes up columnar alignment
   - State "DONE"       from "TODO"       [2010-05-22 Sat 19:18]
   ledger -f doc/sample.dat --prepend-format='%3(seq) ' --columns=80 reg
   :PROPERTIES:
   :ID:       64F9D913-75E1-4830-A3D9-29B72442E68B
   :CREATED:  [2010-02-04 Thu 18:16]
   :END:
** DONE The -U flag for Ledger isn't working at all
   - State "DONE"       [2009-01-14 Wed 00:36]
   :SCRIPT:
   ./ledger -U --tail 30 -f /Volumes/Files/ledger.dat reg trade:brok
   :END:
   :PROPERTIES:
   :ID:       D66E8BEC-7FA3-4E7D-8E36-61321FA2B6E4
   :ARCHIVE_TIME: 2009-01-20 Tue 20:28
   :ARCHIVE_CATEGORY: Computer
   :CREATED:  [2009-01-07 Wed 23:14]
   :END:
** DONE The -n option isn't working on this given sample data                            :ATTACH:
   - State "DONE"       [2009-02-16 Mon 05:21]
   The following two commands do not generate the correct output:
   :SCRIPT:
   ledger -f %data% -n reg ^exp | wc -l
   ledger -f %data% -n reg | wc -l
   :END:
   The latter command should report more, or the same, number of lines as the
   first, but this is not happening.  It seems that without a regexp, the -n
   report is dropping out several xacts altogether.
   :PROPERTIES:
   :Submitter: Drew Raines <aaraines@gmail.com>
   :Version:  2.6.1
   :ID:       313ACEEC-CFEB-45B9-9EB1-4DCAE40BFBDE
   :Attachments: gistde47de0f5a466f84a2b0-174c35de8c1af0f3c00d552b448042f6206a7d1b.tar.gz
   :CREATED:  [2008-10-26 Sun 19:06]
   :END:
** DONE The -y option doesn't work
   - State "DONE"       [2009-02-09 Mon 17:33]
   - State "STARTED"    [2009-02-09 Mon 17:01]
   :PROPERTIES:
   :ID:       0C00E4C0-3BA3-4785-8F29-52C8FA702AD4
   :CREATED:  [2009-02-09 Mon 15:19]
   :END:
** DONE The Ledger REPL argument parser should honor quoting syntax
   - State "DONE"       from "TODO"       [2009-10-26 Mon 17:17]
   :PROPERTIES:
   :ID:       7A3DF3DE-5425-491F-90AA-C8C162F1085A
   :CREATED:  [2009-03-03 Tue 03:02]
   :END:
** DONE The expression "foo.bar.baz" gets precedence wrong too
   - State "DONE"       [2009-02-09 Mon 18:17]
   :PROPERTIES:
   :ID:       6632F5DF-77E9-4B2A-AA87-49C276F1C108
   :CREATED:  [2009-02-09 Mon 15:15]
   :END:
** DONE The file in tools/sample.drewr isn't working with the command it shows
   - State "DONE"       [2009-02-15 Sun 23:18]
   :PROPERTIES:
   :ID:       AC7EAD11-1ECE-4E05-AC68-E2DB745F8A9B
   :CREATED:  [2009-02-10 Tue 21:17]
   :END:
** DONE The following command doesn't work: ledger -S display_date reg
   - State "DONE"       [2009-02-15 Sun 23:18]
   :PROPERTIES:
   :ID:       D360E561-2F8E-43F3-AC51-D023A372C205
   :CREATED:  [2009-02-08 Sun 19:07]
   :END:
** DONE The following, with -B or -V, does not output correctly
   - State "DONE"       [2009-02-24 Tue 11:43]
   If you do a register report using this input:
   :DATA:
   ; reported by pll

   D $1,000.00

   2008/10/05 Shell
    Expenses:Auto:Fuel          GAL 5.580 @ $ 2.699
    Assets:BankAccounts:USAA:Checking      $ -15.06

   2008/10/05 Shell
    Expenses:Auto:Fuel                    GAL 5.580
    Assets:BankAccounts:USAA:Checking      $ -15.06
   :END:
   What you will see in the -V case is that GAL is never converted to $, and in
   the -B case there is too much precision.
   :PROPERTIES:
   :Submitter: pll
   :Version:  2.6.0.90
   :Ticket:   201
   :ID:       F5ABB1B6-B2C1-45B2-A9AE-174736521687
   :CREATED:  [2008-07-13 Sun]
   :END:
** DONE The formatter should itself call justify and scrub
   - State "DONE"       [2009-03-03 Tue 03:18]
   The user can use %{} to avoid any other calls.

   Also, there should be valexpr variables for all the ansi strings, like
   green, red, yellow, etc.  And there should be an alternate syntax for ?:
   use "if" and "else" keywords.  This way, a person can write:

   %12(display_amount)[red if display_amount < 0]
   :PROPERTIES:
   :ID:       5B31A223-DD34-4F97-ABC6-1C18FADC5389
   :CREATED:  [2009-03-02 Mon 05:25]
   :END:
** DONE The operators in valexpr.cc shouldn't just assert
   - State "DONE"       [2009-02-15 Sun 23:21]
   ... but if somebody says "T&", it should give a syntax error.
   :PROPERTIES:
   :Version:  2.6
   :Ticket:   100
   :ID:       AA448F9B-4200-4042-A4D6-57F6466D878C
   :CREATED:  [2008-04-11 Fri]
   :END:
** DONE The option "-p this" no longer works
   - State "DONE"       from "TODO"       [2010-01-21 Thu 04:34]
   :PROPERTIES:
   :ID:       14F7B5C7-1FAC-4750-B389-E9FAA7BB0B9B
   :CREATED:  [2009-12-29 Tue 16:07]
   :END:
** DONE The parser thinks [[link][desc]] is an invalid transaction date
   - State "DONE"       from "TODO"       [2009-11-15 Sun 05:05]
   :PROPERTIES:
   :ID:       8B15C4DD-31A1-403A-9BBF-DE41E08C2DD8
   :CREATED:  [2009-11-14 Sat 17:08]
   :END:
** DONE The period "Dec 2008" gives all of 2008
   - State "DONE"       from "STARTED"    [2009-03-23 Mon 01:15]
   - State "STARTED"    [2009-03-19 Thu 05:30]
   :PROPERTIES:
   :ID:       4C97E70D-5338-4360-93A6-F4EFD98BF2B1
   :ARCHIVE_TIME: 2009-04-12 Sun 20:34
   :ARCHIVE_CATEGORY: Ledger
   :CREATED:  [2009-03-06 Fri 00:02]
   :END:
** DONE The print command isn't showing the transaction cost
   - State "DONE"       [2009-02-24 Tue 15:04]
   :PROPERTIES:
   :ID:       69C29ACE-3685-405A-8EB6-D66941FF6A51
   :CREATED:  [2009-02-22 Sun 21:01]
   :END:
** DONE The print format should conform to what I use in my ledger.dat
   - State "DONE"       [2009-02-13 Fri 18:43]
   :PROPERTIES:
   :ID:       42174465-88BE-465D-B15C-4EDD150C1D17
   :CREATED:  [2009-02-12 Thu 19:10]
   :END:
** DONE The sort needs to be able to reverse order of strings and dates
   - State "DONE"       [2009-02-15 Sun 23:17]
   :PROPERTIES:
   :ID:       1745DA15-B4A3-42EE-B8F0-11273A33627C
   :CREATED:  [2009-02-12 Thu 16:15]
   :END:
** DONE The string accumulator is swallowing strings
   - State "DONE"       [2009-02-21 Sat 23:43]
   :PROPERTIES:
   :ID:       C5D32CCE-7FD4-4A39-B8F2-20147A4F6902
   :CREATED:  [2009-02-21 Sat 21:33]
   :END:
** DONE There is #if 0'd code in filters.cc stopping sample.sh from working
   - State "DONE"       [2009-02-09 Mon 15:10]
   :PROPERTIES:
   :ID:       2987030C-0911-46BC-95D6-4494319492D6
   :CREATED:  [2009-02-09 Mon 01:01]
   :END:
** DONE Try converting Unicode only in the Ledger elision function
   - State "DONE"       [2009-01-24 Sat 00:14]
   - State "STARTED"    [2009-01-23 Fri 15:42]
   :PROPERTIES:
   :ID:       C73E9D6F-85B0-4686-8D23-CD3EB4E70E39
   :ARCHIVE_TIME: 2009-02-01 Sun 15:50
   :ARCHIVE_CATEGORY: Computer
   :CREATED:  [2009-01-23 Fri 03:28]
   :END:
** DONE Use %32(" ") instead of %32| in the formatting codes
   - State "DONE"       [2009-02-17 Tue 18:07]
   :PROPERTIES:
   :ID:       382031D0-4E3D-48B5-9112-51C40F2C8528
   :CREATED:  [2009-02-17 Tue 07:22]
   :END:
** DONE Using an invalid option should generate an error
   - State "DONE"       [2009-02-16 Mon 22:59]
   :PROPERTIES:
   :ID:       85C833A1-B710-484C-B892-EEE0E7240959
   :CREATED:  [2009-02-07 Sat 05:04]
   :END:
** DONE Valuation balance reports should balance to zero
   - State "DONE"       from "TODO"       [2009-11-19 Thu 17:43]
   This is done by adding valuation differences to Equity:Unrealized Gains
   :PROPERTIES:
   :ID:       6ED158B5-361C-4B5D-AED5-8EBE8F374C45
   :CREATED:  [2009-11-18 Wed 16:11]
   :END:
** DONE Value expressions should be able to access option values
   - State "DONE"       [2009-02-07 Sat 05:57]
   For example: "options.limit", would return HANDLER(limit_).str().
   :PROPERTIES:
   :ID:       21779153-CBB4-4B5B-B0A8-2E1C8DA08870
   :CREATED:  [2009-02-07 Sat 05:05]
   :END:
** DONE When --flat is being used, sort against all accounts
   - State "DONE"       from "TODO"       [2009-10-26 Mon 18:52]
   :PROPERTIES:
   :ID:       7D084EBD-3D4C-4967-9A4B-7F014E625DF6
   :CREATED:  [2009-03-11 Wed 15:11]
   :END:
** DONE When Nafai uses -E bal, it shows *all* accounts
   - State "DONE"       [2009-02-17 Tue 05:29]
   :PROPERTIES:
   :ID:       56B4B9CF-AAC4-455A-887F-6E2B359CD4DE
   :CREATED:  [2009-02-16 Mon 20:19]
   :END:
** DONE When printing posts and xact, include post/pre comments
   - State "DONE"       [2009-02-01 Sun 22:11]
   - State "STARTED"    [2009-02-01 Sun 20:50]
   :PROPERTIES:
   :ID:       67E8E92B-25D5-4016-94F0-5C7F0EF05D89
   :CREATED:  [2009-02-01 Sun 15:40]
   :END:
** DONE When reporting an imbalance, show the amount to balance against
   - State "DONE"       from "TODO"       [2009-11-05 Thu 17:48]
   :PROPERTIES:
   :ID:       FE1E912D-7DFA-4489-98E9-8112B2B941CB
   :CREATED:  [2009-11-05 Thu 00:19]
   :END:
** DONE With --args-only, don't read ~/.pricedb
   - State "DONE"       from "TODO"       [2009-06-28 Sun 15:21]
   :PROPERTIES:
   :ID:       5B07AD77-4920-4654-88F4-56CA55566BB4
   :CREATED:  [2009-06-24 Wed 14:18]
   :END:
** DONE [[bug:157][#157]] Make sure this is legal: = expr 'account =~ /foo/'
   - State "DONE"       from "STARTED"    [2010-06-01 Tue 17:31]
   :LOGBOOK:
   CLOCK: [2010-06-01 Tue 17:16]--[2010-06-01 Tue 17:31] =>  0:15
   :END:
   :PROPERTIES:
   :ID:       9DF85DF2-4BF5-4931-A30C-2592A10BB5C0
   :CREATED:  [2010-05-24 Mon 23:00]
   :END:
** DONE [[bug:158][#158]] "ledger template exxons 10 from checking" applies 10 to "from"
   - State "DONE"       from "STARTED"    [2010-06-10 Thu 11:33]
   :LOGBOOK:
   CLOCK: [2010-06-10 Thu 10:03]--[2010-06-10 Thu 11:33] =>  1:30
   :END:
   It should apply to the "to" account.
   :PROPERTIES:
   :ID:       A9DFC672-9FAD-431F-8EDA-CFB54D1285AF
   :CREATED:  [2010-03-10 Wed 01:32]
   :END:
** DONE [[bug:161][#161]] ledger budget fails with "Something odd has happened"
   - State "DONE"       from "TODO"       [2010-06-10 Thu 08:07]
   :PROPERTIES:
   :ID:       F145D482-2F15-48D0-A0CC-6593AC1896DD
   :CREATED:  [2010-05-22 Sat 19:15]
   :END:
** DONE [[bug:165][#165]] --exchange seems to be ignored when combined with -M                        :ATTACH:
   - State "DONE"       from "TODO"       [2010-06-09 Wed 05:09]
   #+begin_src sh
   ledger  --exchange € reg ^dépenses|grep "\\$" |wc -l
   #+end_src
   :OUTPUT:
   0
   :END:

   #+begin_src sh
   ledger  --exchange € -M reg ^dépenses|grep "\\$" |wc -l
   #+end_src
   :OUTPUT:
   14
   :END:
   :PROPERTIES:
   :ID:       03377560-850B-4258-B9A3-CE9BE7DAA70C
   :Submitter: Gabriel Kerneis <gabriel@kerneis.info>
   :Attachments: ledger.txt.gpg
   :CREATED:  [2010-01-18 Mon 03:42]
   :END:
** DONE [[bug:196][#196]] Bug when not using commodities in a posting's cost
   - State "DONE"       from "TODO"       [2010-06-10 Thu 12:54]
   - Note taken on [2010-06-09 Wed 05:15] \\
     A priced commodity does NOT imply a cost, but the following syntax should
     be accepted:
     #+begin_src ledger
       Assets    1 apple @ =0.10
     #+end_src
   For example:
   #+begin_src ledger
   2009/11/01 Sample
       Assets                1 apple {=0.10}
       Equity
   #+end_src
   :PROPERTIES:
   :ID:       F29DE89C-73CD-4344-B6F7-BB7584AA6FFD
   :CREATED:  [2009-11-24 Tue 01:11]
   :END:
** DONE [[bug:197][#197]] Bug with -J and multiple commodities                                        :ATTACH:
   - State "DONE"       from "TODO"       [2010-06-09 Wed 02:51] \\
     Fixed by fc09b69f.
   - Note taken on [2010-06-02 Wed 16:53] \\
     Fixing this should also fix 198.
   #+begin_src sh
   ledger  --exchange € -M -J reg ^dépenses
   #+end_src
   :OUTPUT:
   While evaluating value expression:
   quantity(scrub(display_total))
   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   Error: Cannot convert a balance with multiple commodities to an amount
   2009-11-01 168.71
   2009-11-01 256.81
   2009-11-01 275.56
   2009-11-01 326.46
   :END:
   I know this is intended behaviour, -J is not supposed to work with multiple
   commodities.  But --exchange should be able to make it work IMHO -- and it
   does it quite well without the -M flag.

   I think this might be related to some bugs reported recently in the
   mailing-list (it mentionned -J and multiple commodities too).
   :PROPERTIES:
   :ID:       68EAF363-D0FE-4127-866E-A5AEBACB65D6
   :Submitter: Gabriel Kerneis <gabriel@kerneis.info>
   :Attachments: ledger.txt.gpg
   :CREATED:  [2010-01-18 Mon 03:44]
   :END:
** DONE [[bug:200][#200]] Commodities containing digits and ledger bal
   - State "DONE"       from "TODO"       [2010-06-09 Wed 06:45] \\
     Fixed by 8637dd6c.
   - Note taken on [2010-06-03 Thu 06:02] \\
     You could simply drop the quotes if the commodity doesn't contain any
     spaces.
   - Note taken on [2010-06-02 Wed 18:12] \\
     What if you have a Commodity named "FOO 100", which is perfectly legal.
     And then the register or balance report prints out "200 FOO 100".  What
     then?
   - Note taken on [2010-06-02 Wed 18:12] \\
     Martin: Why do we need an extra option for this?  Is there a reason this
     cannot be done by default?

     In any case, I'm not sure it makes sense to add an option just for this
     minor thing.  If it cannot be done by default without an option, I guess
     you could just close this bug as WONTFIX.
   - Note taken on [2010-06-02 Wed 16:54] \\
     I will add an option called --no-quotes.
   When you have a commodity that contains digits, you have to put it on
    quotation marks, as in;
   #+begin_src sh
    2010-04-02 Test
      Assets:Broker                 10 "DE0002635307" @ 10
      Assets:Bank
   #+end_src

    ledger bal will also put this commodity in quotation marks.  Is this
    necessary?  IMHO it would be nicer if "ledger bal" would strip the
    quotation mark.
   :PROPERTIES:
   :ID:       F82CF11F-BFD9-4512-A562-202B04B68051
   :Message:  [[message://20100402164513.GA10540@jirafa.cyrius.com][Commodities containing digits and ledger bal]]
   :Submitter: Martin Michlmayr <tbm@cyrius.com>
   :CREATED:  [2010-04-04 Sun 15:18]
   :END:
** DONE [[bug:210][#210]] Problems with tags that contain spaces
   - State "DONE"       from "STARTED"    [2010-06-01 Tue 18:33] \\
     Fixed by 5cdd36f3.
   :LOGBOOK:
   CLOCK: [2010-06-01 Tue 18:14]--[2010-06-01 Tue 18:33] =>  0:19
   :END:
   I have a problem with tags that contain spaces, i.e. something like
   #+begin_src ledger
   ; foo: this description
   #+end_src
   I try to search for transacation with this tag:
   #+begin_src sh
   ledger -f a.dat reg tag "foo=this t"
   #+end_src
   which works fine with file a.dat.  But with b.dat, *all* transacations
   match, even though the only difference between a.dat and b.dat is an
   account name (there's no difference in terms of tags).

   #+begin_src ledger
   2010-04-02 Test1
      A        10.00 USD
      B

   2010-04-03 Test2
      ; foo: this description
      A        20.00 USD
      B
   #+end_src

   #+begin_src ledger
   2010-04-02 Test1
      A        10.00 USD
      Assets:Test

   2010-04-03 Test2
      ; foo: this description
      A        20.00 USD
      B
   #+end_src
   :PROPERTIES:
   :ID:       D4C2DD6F-8967-4FFC-BBBC-A941F9C53475
   :Submitter: Martin Michlmayr <tbm@cyrius.com>
   :Message:  [[message://20100529155642.GA9067@jirafa.cyrius.com][Problems with tags that contain spaces]]
   :CREATED:  [2010-05-30 Sun 03:33]
   :END:
** DONE [[bug:227][#227]] Make --anon anonymize commodities as well
   - State "DONE"       from "TODO"       [2010-06-09 Wed 07:48] \\
     Fixed by c28fad38.
   :PROPERTIES:
   :ID:       1C90D8AF-830E-43C2-A5B7-D382F68EBDE3
   :CREATED:  [2010-06-04 Fri 02:10]
   :END:
** DONE [[bug:327][#327]] Insert --input-date-format strings at the beginning of format list
   - State "DONE"       from "STARTED"    [2010-06-13 Sun 03:58]
   This is instead of accepting only that format, so that users can specify
   multiple alternates.
   :PROPERTIES:
   :ID:       A90F9C15-AB38-43FA-AA1B-8A1923A831C5
   :Submitter: ed <ed.temp.01@gmail.com>
   :Message:  [[message://1d1ff6f1-3445-4d4b-9ef0-dfd510405e47@u26g2000yqu.googlegroups.com][Re: Init file doesn't support file --input-date-format]]
   :CREATED:  [2010-06-11 Fri 17:23]
   :END:
** DONE [[bug:335][#335]] Restore value expression functions min and max
   - State "DONE"       from "TODO"       [2010-06-14 Mon 00:01]
   :PROPERTIES:
   :ID:       CE2468C0-EF95-4351-95FE-2B497FF2E2A2
   :CREATED:  [2010-06-13 Sun 18:53]
   :END:
** DONE [[bug:336][#336]] ledger period 'this month' is only showing the current day
   - State "DONE"       from "TODO"       [2010-06-13 Sun 23:09]
   :PROPERTIES:
   :ID:       AA29DD59-C29E-4A56-A725-65A83AC8D1C5
   :CREATED:  [2010-06-13 Sun 22:51]
   :END:
** DONE [[bug:337][#337]] Rationalize formatting strings
- State "DONE"       from "TODO"       [2012-03-02 Fri 10:58] \\
  Fixed by 35ace88
   %[OPTS](expr) should be equal to %(justify(expr, OPTS))
   ${AMT} is the same as $(scrub(AMT))
   %T is the same as ${display_total}.

   Right now formatting strings are a nightmare for users to modify.
   :PROPERTIES:
   :ID:       E2F5CEE7-7FFE-48CC-8A56-8089BB502C63
   :CREATED:  [2010-06-14 Mon 08:35]
   :END:
** DONE [[bug:342][#342]] Budgeting should include transactions for interstitial months
   - State "DONE"       from "TODO"       [2010-06-19 Sat 16:17]
   Given this data:
   #+begin_src ledger
   ;Monthly Budget
   ~ Monthly since 2010/01/01
       Expenses:Bills:Rent                 $873.00
       Income:Salary                       -$3491.60
       Assets:Bank:OSU Fed:Checking

   ~ Biweekly from 2010/02/23
       Expenses:Bills:Housecleaning        $85.00
       Assets:Bank:OSU Fed:Checking

   2010/06/02 IP Fabrics payroll
       Assets:Bank:OSU Fed:Checking               $3491.60
       Income:Salary

   2010/06/04 housecleaning check
       Expenses:Bills:Housecleaning    $255.00
       Assets:Bank:OSU Fed:Checking

   2010/06/10 Rent
       Expenses:Bills:Rent                      $873.00
       Assets:Bank:OSU Fed:Checking
   #+end_src

   Now run the command:
   #+begin_src sh
   ledger -E -p "this month" --budget --columns=80 --now=2010/06/16 reg ^exp
   #+end_src

   It will show two budget transactions:
   :OUTPUT:
   10-Jun-01 Budget transaction    Expenses:Bills:Rent        $-873.00     $-873.00
   10-Jun-04 housecleaning check   Exp:Bill:Housecleaning      $255.00     $-618.00
   10-Jun-06 Budget transaction    Exp:Bill:Housecleaning      $-85.00     $-703.00
   10-Jun-10 Rent                  Expenses:Bills:Rent         $873.00      $170.00
   :END:

   But if the rent transaction (last one in the file) is removed, it no
   longer generates any housecleaning budget transactions for that month:
   :OUTPUT:
   10-Jun-01 Budget transaction    Expenses:Bills:Rent        $-873.00     $-873.00
   10-Jun-04 housecleaning check   Exp:Bill:Housecleaning      $255.00     $-618.00
   :END:

   It should be generating the budget entries at the end, even though
   there is no final transaction to "kick" the budget filter.
   :PROPERTIES:
   :ID:       8AFF04B8-DAC0-4768-AD1D-ABA1F3C3E4F8
   :CREATED:  [2010-06-16 Wed 17:40]
   :END:
** DONE [[bug:352][#352]] Account abbreviation puts too much emphasis on top-level account
   - State "DONE"       from "TODO"       [2010-06-21 Mon 18:05]
   :PROPERTIES:
   :ID:       87C4A85D-237E-410F-B824-FE4C42F62011
   :CREATED:  [2010-06-20 Sun 14:51]
   :END:
** DONE [[bug:360][#360]] 'today' isn't today
   - State "DONE"       from "TODO"       [2010-06-22 Tue 17:15]
   :PROPERTIES:
   :ID:       2FEAF015-B5C2-4CFC-96E8-46E70CA2B990
   :CREATED:  [2010-06-22 Tue 17:15]
   :END:
** DONE [[bug:373][#373]] Change amount/total expr evaluation to use a priority queue
- State "DONE"       from "TODO"       [2012-03-09 Fri 20:14]
   - State "TODO"       from "STARTED"    [2011-10-15 Sat 21:13]
   At the moment, -X and -A cannot be mixed because they both work by changing
   the amount_expr.

   Instead, there should be a priority queue so that -X is first applied, then
   -A, as well as any other flags that want to modify the displayed amount.
   :PROPERTIES:
   :ID:       900BB5CD-F210-4530-98EA-8C2753572AE5
   :CREATED:  [2010-07-01 Thu 17:55]
   :END:
** DONE [[bug:416][#416]] Not all past prices are repeatable or valid for future exchanges
- State "DONE"       from "TODO"       [2012-03-09 Fri 20:17]
   Essentially this means that some links in the graph are not as reliable as
   others.  For example, say I was able to buy a certain commodity on a past
   day for $10.  It may be that this was an exclusive deal that can't ever
   repeat.  Dave suggested looking at the Boost.Graph library for modeling the
   complexity of this problem.
   :PROPERTIES:
   :ID:       3915D7F9-E69D-46F4-972E-C16DDEF90164
   :CREATED:  [2010-09-17 Fri 23:00]
   :END:
** DONE [[bug:454][#454]] Rename actual and effective dates to primary/auxiliary
- State "DONE"       from "TODO"       [2012-02-28 Tue 03:07]
   :PROPERTIES:
   :ID:       43ACF050-6723-41D6-BC3A-B3672AD7C2B7
   :CREATED:  [2010-12-14 Tue 17:54]
   :END:
** DONE [[bug:476][#476]] alias does not work across !include
- State "DONE"       from "TODO"       [2012-02-28 Tue 03:08]
   :PROPERTIES:
   :ID:       13A2FCDF-6A62-4EC3-AC7A-A5F26B333065
   :CREATED:  [2011-02-09 Wed 14:39]
   :Message:  [[message://bug-476-1@http.newartisans.com/bugzilla/][{Bug 476} New: alias does not work across !include]]
   :END:
** DONE [[bug:501][#501]] Confusion about a few things
- State "DONE"       from "TODO"       [2011-11-18 Fri 20:02]
   :PROPERTIES:
   :ID:       82247D07-82CD-4575-A097-08E0C4E12509
   :CREATED:  [2011-03-16 Wed 16:38]
   :Message:  [[message://81e9d804-5fd1-42ee-b228-fb87a4b01a80@y3g2000vbh.googlegroups.com][Re: Confusion about a few things]]
   :Submitter: "J.L. Reid" <jlr1001@gmail.com>
   :Date:     Sun, 13 Mar 2011 20:19:18 -0700 (PDT)
   :END:
** DONE [[bug:506][#506]] Loss of data in weekly report
- State "DONE"       from "TODO"       [2012-02-28 Tue 03:11]
   :PROPERTIES:
   :ID:       F514E031-CA81-481F-BC3A-254D61A7CFA5
   :CREATED:  [2011-04-27 Wed 22:22]
   :Message:  [[message://bug-506-1@http.newartisans.com/bugzilla/][{Bug 506} New: lost of data in weekly report]]
   :Submitter: bugzilla-daemon@mail.johnwiegley.com
   :Date:     Wed, 27 Apr 2011 20:25:57 -0500 (CDT)
   :END:
** DONE [[bug:507][#507]] Reproducible crash
- State "DONE"       from "TODO"       [2012-03-11 Sun 05:16] \\
  A recent commit fixed this crash.
   :PROPERTIES:
   :ID:       AB57BA68-83A0-491A-8423-F4A821F2FBD2
   :CREATED:  [2011-05-10 Tue 09:03]
   :Message:  [[message://bug-507-1@http.newartisans.com/bugzilla/][{Bug 507} New: Reproducible crash]]
   :Submitter: bugzilla-daemon@mail.johnwiegley.com
   :Date:     Sun,  8 May 2011 16:47:14 -0500 (CDT)
   :END:
** DONE [[bug:510][#510]] Transactions match from oldest->newest
   - State "DONE"       from "TODO"       [2011-07-19 Tue 23:30]
   :PROPERTIES:
   :ID:       28643E12-8272-43BC-A2B1-4FE0067BE9AA
   :CREATED:  [2011-05-30 Mon 18:22]
   :Date:     Mon, 30 May 2011 18:22:07 -0500 (CDT)
   :Message:  [[message://bug-510-1@http.newartisans.com/bugzilla/][{Bug 510} New: xact matches oldest->newest]]
   :Submitter: bugzilla-daemon@mail.johnwiegley.com
   :END:
** DONE [[bug:548][#548]] Are automatic transactions working in the latest 3.0.0
- State "DONE"       from "TODO"       [2011-11-22 Tue 23:44]
   :PROPERTIES:
   :ID:       B829263B-F16F-47AC-B8CD-0DEE953F8B9E
   :CREATED:  [2011-07-31 Sun 10:26]
   :Date:     Sun, 31 Jul 2011 06:40:30 -0700
   :Message:  [[message://CAKs9TOJUwJbT7wrUXfJQU8QJ11fvniobCyZEAqdSECtg8Kg8mg@mail.gmail.com][Re: Are automatic transactions working in the latest 3.0.0]]
   :Submitter: Craig Earls <enderw88@gmail.com>
   :END:
** DONE [[bug:552][#552]] Missing ')' error in automated transactions with valexpr predicate
- State "DONE"       from "TODO"       [2011-11-10 Thu 17:31]
- State "TODO"       from "DONE"       [2011-11-10 Thu 14:26]
- State "DONE"       from "TODO"       [2011-11-10 Thu 01:36]
   :PROPERTIES:
   :ID:       03323540-3372-4E2F-8CD0-A5CDB55E2D07
   :CREATED:  [2011-10-01 Sat 16:37]
   :Date:     Sat, 01 Oct 2011 17:40:58 +0000
   :Message:  [[message://bug-552-1@http.bugs.ledger-cli.org/][{Bug 552} New: Missing ')' error in automated transactions with value expression predicate]]
   :Submitter: bugzilla-daemon@mail.johnwiegley.com
   :END:
** DONE [[bug:557][#557]] Missing ')' in posting value expression does NOT cause an error
- State "DONE"       from "TODO"       [2011-11-10 Thu 01:36]
   :PROPERTIES:
   :ID:       0F6A8043-AB78-451B-95F2-80F58095B7E8
   :CREATED:  [2011-10-14 Fri 02:48]
   :Date:     Fri, 14 Oct 2011 05:14:46 +0000
   :Message:  [[message://bug-557-1@http.bugs.ledger-cli.org/][{Bug 557} New: Missing ")" in posting value expression does NOT cause an error.]]
   :Submitter: bugzilla-daemon@mail.johnwiegley.com
   :END:
** DONE [[bug:582][#582]] Problems with account name completion
- State "DONE"       from "TODO"       [2011-11-18 Fri 20:02]
   I see TAB is bound to 'pcomplete in ledger.el. Sometimes I can get it to
   cycle through the top-level account name categories. Other times nothing
   happens other than the apparently incomplete message "No completions of".
   
   What should I expect here? Is the feature documented?
   :PROPERTIES:
   :ID:       E17BCDD4-DEE0-47AC-A007-9C09D9B26D9D
   :CREATED:  [2011-08-21 Sun 18:53]
   :Date:     Sun, 21 Aug 2011 22:38:18 +0100
   :Message:  [[message://20049.31434.956476.319847@dk.dks.ie][Account name completion.]]
   :Submitter: "David Keegan" <dksw@eircom.net>
   :END:
** DONE [[bug:593][#593]] XML reports should output a <fullname> tag
- State "DONE"       from "TODO"       [2012-02-28 Tue 03:38] \\
  Fixed by f4a8f6b
  :PROPERTIES:
  :ID:       6FE4EB4E-0780-4F54-9AB6-B091020A8C6E
  :CREATED:  [2011-11-01 Tue 10:31]
  :Date:     Thu, 27 Oct 2011 14:03:23 -0600
  :Message:  [[message://CAMfPF2cESuukGfGUOLusrV65=OOaPrpNVLZkutvDpk6_xhuO4w@mail.gmail.com][Re: Having Problems With XML]]
  :Submitter: Ryan May <ryan-wTxsuUSx66j3fQ9qLvQP4Q@public.gmane.org>
  :END:
** DONE [[bug:605][#605]] Inconsistent command directive syntax
- State "DONE"       from "TODO"       [2012-02-28 Tue 03:32]
:PROPERTIES:
:ID:       61F3122F-EAA3-4C5A-BD3D-2C47B50AACC2
:CREATED:  [2011-11-24 Thu 00:42]
:Date: Thu, 24 Nov 2011 05:57:44 +0000
:Message: [[message://bug-605-1@http.bugs.ledger-cli.org/][{Bug 605} New: inconsistent command directive syntax]]
:Submitter: bugzilla-daemon@mail.johnwiegley.com
:END:
** DONE [[bug:608][#608]] lot tags are wrong if more than one lot tag in a transaction
- State "DONE"       from "TODO"       [2012-06-27 Wed 16:56] \\
  Fixed by 8869566
:PROPERTIES:
:ID:       E9B6F75D-81EE-43F9-B16A-BDFB76C56ABC
:CREATED:  [2011-12-07 Wed 14:19]
:Date: Wed, 07 Dec 2011 19:47:57 +0000
:Message: [[message://bug-608-1@http.bugs.ledger-cli.org/][{Bug 608} New: ledger gets lot tags wrong when there is more than one lot tag in a transaction]]
:Submitter: bugzilla-daemon@mail.johnwiegley.com
:END:
** DONE [[bug:632][#632]] Strange "print" behavior in comments
- State "DONE"       from "TODO"       [2012-02-26 Sun 02:10]
Related question: is there a way to specify that ledger should not
reformat comments?  In other words:

If the comment is on the same line as the account, such as
#+begin_src ledger
   Expenses   $10  ; very long comment on this account that exceeds the width
#+end_src

Then the comment should NOT be wrapped; and if the comment is on the following
line, such as:
#+begin_src ledger
   Expenses   $10
   ; short comment
#+end_src

Then it should not be combined with the previous line.
:PROPERTIES:
:ID:       50D6F711-7C3B-4BF8-B5F5-DB94B997BD04
:CREATED:  [2012-02-06 Mon 14:30]
:Date: Tue, 31 Jan 2012 09:33:48 -0800 (PST)
:Message: [[message://37986445-0db3-476b-8f70-d6a59236bb4e@i10g2000pbl.googlegroups.com][Re: Strange "print" behavior in comments]]
:Author: Hsiu-Khuern Tang <tangoh-Re5JQEeQqe8AvxtiuMwx3w@public.gmane.org>
:END:
** DONE [[bug:633][#633]] Ledger crashes with --account=payee --monthly
- State "DONE"       from "TODO"       [2012-03-11 Sun 05:09] \\
  Fixed by fcc68a0
The bug is with cleanup of temporary accounts and postings:
#+begin_src sh
ledger -f test/input/sample.dat --account=payee --monthly -n -AE reg
#+end_src
:PROPERTIES:
:ID:       D60B0FD8-74C6-43D5-8FAF-0CB5F6BA9F85
:CREATED:  [2012-01-31 Tue 17:20]
:END:
** DONE [[bug:654][#654]] Commodity flags cleanup
- State "DONE"       from "TODO"       [2012-03-09 Fri 20:13]
I have confused myself a great deal with -B/-V/-X, as a user and
implementor. I have been studying http://ledger-cli.org/3.0/doc/ledger.1.html
and https://groups.google.com/forum/#!topic/ledger-cli/9oa47zA-qqM/discussion,
thinking, and getting a bit clearer. What do you think of the following slight
semantic and UI cleanup ?

1. http://hledger.org/MANUAL.html#prices

2. 

--cost/-B
shows amounts as their transaction price, where specified.

--market-value/-V [COMMODITY] [--now DATE]
shows amounts as their value in COMMODITY as of today (or another date
specified with --now) using P historical prices, if possible.  If
COMMODITY is not specified, the first suitable one found in the
journal's P directives is used.

--convert/--exchange/-X [--now DATE]
after generating a report, does a final conversion of all amounts to
their value in COMMODITY as of today (or another date specified with
--now), where possible. (This is orthogonal to -B and -V.)
:PROPERTIES:
:ID:       48CC0B07-6E1D-4605-B1EF-DD694CE473AA
:CREATED:  [2012-01-30 Mon 17:10]
:Date: Sun, 22 Jan 2012 17:55:58 -0800
:Message: [[message://13797315-A496-427C-8F17-4946066FD087@joyful.com][commodity flags cleanup]]
:Author: Simon Michael <simon-jbxitMBJ2LLQT0dZR+AlfA@public.gmane.org>
:END:
** DONE [[bug:656][#656]] Historical prices with and without revaluation
- State "DONE"       from "TODO"       [2012-03-09 Fri 20:07]
- Note taken on [2012-02-23 Thu 21:29] \\
  One syntax can be (using fixated commodity price)
  #+begin_src ledger
  P 2011/11/01 00:00:00 LiterGas 1.00 $
  2011/11/01 Get Gas
       Expenses:Car:Gas  10 LiterGas {=1$}
       Assets:Cash
  
  P 2011/11/02 00:00:00 LiterGas 10.00 $
  2011/11/02 Get Gas
       Expenses:Car:Gas  10 LiterGas {=10$}
       Assets:Cash
  
  P 2011/11/03 00:00:00 LiterGas 100.00 $
  2011/11/03 Get Gas
       Expenses:Car:Gas  10 LiterGas {=100$}
       Assets:Cash
  #+end_src
  
  and then
  :OUTPUT:
  $ ledger --exchange=$ reg Car:Gas
  11-Nov-01 Get Gas            Expenses:Car:Gas          $10         $10
  11-Nov-02 Get Gas            Expenses:Car:Gas         $100        $110
  11-Nov-03 Get Gas            Expenses:Car:Gas        $1000       $1110
  :END:
  
  you have to read about multiple currency accounting, reference is
  http://www.mscs.dal.ca/~selinger/accounting/tutorial.html, and read about
  commodities fixated prices, which is one of the way of ledger to
  implement it.
  
  Here is how I would write it in ledger syntax
  #+begin_src ledger
  P 2011/11/01 LiterGas 1.00 $
  2011/11/01 Get Gas
      Assets:Cash         -10 $
      Assets:Gas           10 LiterGas
      Assets:Gas           -9 LiterGas
      Expenses:Car:Gas      9 $
  
  P 2011/11/02 LiterGas 10.00 $
  2011/11/02 Get Gas
      Assets:Cash        -100 $
      Assets:Gas           10 LiterGas
      Assets:Gas          -10 LiterGas
      Expenses:Car:Gas    100 $
  
  P 2011/11/03 LiterGas 100.00 $
  2011/11/03 Get Gas
      Assets:Cash       -1000 $
      Assets:Gas           10 LiterGas
      Assets:Gas          -10 LiterGas
      Expenses:Car:Gas   1000 $
  
  2011/11/03 Sell 1 LiterGas
      Assets:Gas           -1 LiterGas @@ 100 $
      Assets:Cash         100 $
      Incomes:Gas          -1 LiterGas @ 1 $
      Incomes:Gas           1 LiterGas @ 100 $
      Incomes:Gas
  #+end_src
  
  Two "tricks"
  - in my mind, the account Expenses:Car:Gas is of currency dollar, not
    LiterGas
  - the 3 last lines enables me to not compute the gain
  
  :OUTPUT:
  $ ledger register Assets:Gas
  11-Nov-01 Get Gas            Assets:Gas        10 LiterGas 10 LiterGas
                               Assets:Gas        -9 LiterGas  1 LiterGas
  11-Nov-02 Get Gas            Assets:Gas        10 LiterGas 11 LiterGas
                               Assets:Gas        -10 LiterGas  1
  LiterGas
  11-Nov-03 Get Gas            Assets:Gas        10 LiterGas 11 LiterGas
                               Assets:Gas        -10 LiterGas  1
  LiterGas
  11-Nov-03 Get Gas            Assets:Gas        -1 LiterGas           0
  :END:
  
  is different, because I separate the "buy" from the "consumption". You
  can not accumulate indefinitely LiterGas, you have to consume them.  I
  treat the "LiterGas" as it was a stock share.
  
  :OUTPUT:
  $ ledger register Assets:Cash
  11-Nov-01 Get Gas            Assets:Cash             -10 $       -10 $
  11-Nov-02 Get Gas            Assets:Cash            -100 $      -110 $
  11-Nov-03 Get Gas            Assets:Cash           -1000 $     -1110 $
  11-Nov-03 Get Gas            Assets:Cash             100 $     -1010 $
  :END:
If I try to keep track of gasoline usage I could do this:
#+begin_src ledger
P 2011/11/01 00:00:00 LiterGas 1.00 $
2011/11/01 Get Gas
      Expenses:Car:Gas  10 LiterGas
      Assets:Cash

P 2011/11/02 00:00:00 LiterGas 10.00 $
2011/11/02 Get Gas
      Expenses:Car:Gas  10 LiterGas
      Assets:Cash

P 2011/11/03 00:00:00 LiterGas 100.00 $
2011/11/03 Get Gas
      Expenses:Car:Gas  10 LiterGas
      Assets:Cash
#+end_src

To see how much gas was used works OK:
:OUTPUT:
> ledger reg Car:Gas
11-Nov-01 Get Gas           Expenses:Car:Gas        10 LiterGas  10
LiterGas
11-Nov-02 Get Gas           Expenses:Car:Gas        10 LiterGas  20
LiterGas
11-Nov-03 Get Gas           Expenses:Car:Gas        10 LiterGas  30
LiterGas
:END:

And now, how much was spent on gas:
:OUTPUT:
> ledger -X $ reg Car:Gas
11-Nov-01 Get Gas               Expenses:Car:Gas
$10          $10
11-Nov-02 Commodities revalued  <Revalued>
$90         $100
11-Nov-02 Get Gas               Expenses:Car:Gas
$100         $200
11-Nov-03 Commodities revalued  <Revalued>
$1800        $2000
11-Nov-03 Get Gas               Expenses:Car:Gas
$1000        $3000
:END:

This wrong, since I have spent only $1110 on gas.  What is the proper way to
do this?  Somehow the revaluation should be disabled.  On the other hand, if I
kept, say one liter bought on 11/11/01 and sold it again on 11/11/03, then
this should be revalued.  Say, we change the ledger file to:
#+begin_src ledger
P 2011/11/01 00:00:00 LiterGas 1.00 $
2011/11/01 Get Gas
      Expenses:Car:Gas  10 LiterGas
      Assets:Gas         1 LiterGas
      Assets:Cash

P 2011/11/02 00:00:00 LiterGas 10.00 $
2011/11/02 Get Gas
      Expenses:Car:Gas  10 LiterGas
      Assets:Gas         1 LiterGas
      Assets:Cash

P 2011/11/03 00:00:00 LiterGas 100.00 $
2011/11/03 Get Gas
      Expenses:Car:Gas  10 LiterGas
      Assets:Gas         1 LiterGas
      Assets:Cash
#+end_src

Now
:OUTPUT:
> ledger -X $ reg Assets:Gas
11-Nov-01 Get Gas               Assets:Gas
$1           $1
11-Nov-02 Commodities revalued  <Revalued>
$9          $10
11-Nov-02 Get Gas               Assets:Gas
$10          $20
11-Nov-03 Commodities revalued  <Revalued>
$180         $200
11-Nov-03 Get Gas               Assets:Gas
$100         $300
:END:
is actually correct but
:OUTPUT:
> ledger -X $ reg Assets:Cash
11-Nov-01 Get Gas               Assets:Cash
$-11         $-11
11-Nov-02 Commodities revalued  <Revalued>
$-99        $-110
11-Nov-02 Get Gas               Assets:Cash
$-110        $-220
11-Nov-03 Commodities revalued  <Revalued>
$-1980       $-2200
11-Nov-03 Get Gas               Assets:Cash
$-1100       $-3300
:END:
is wrong.

Somehow one should be able to specify

 - Assets:Gas :: use historical prices AND revaluate
 - Assets:Cash :: use historical prices without revaluation (but if you have
                  10 GPB in there it should be revalued, but not the -10
                  LiterGas)
 - Expenses:Car:Gas :: use historical prices without revaluation

There is a similar situation with currencies.  If you spend, say 10 GBP, worth
15$ then this should not be revalued later on.  However, if you have 10 GPB in
your wallet, I guess it should be revalued according to the current rate.

Any good ideas how to handle this with ledger?

There were some similar discussion already:
http://groups.google.com/group/ledger-cli/browse_thread/thread/8b3b29d3e167e6ab/5b0721d1dff72135http://groups.google.com/group/ledger-cli/browse_thread/thread/6cbcaa9aa20bab6d/21424ed3eae62d58
:PROPERTIES:
:ID:       E6B85390-C2F3-4CFD-9C20-5CBA800210D7
:CREATED:  [2011-12-02 Fri 13:35]
:Date: Fri, 2 Dec 2011 10:01:59 -0800 (PST)
:Message: [[message://565113c5-1ea0-4ee4-8f60-782cfc28e42a@da3g2000vbb.googlegroups.com][historical prices with and without revaluation]]
:Submitter: Qwertyu <scheit-Re5JQEeQqe8AvxtiuMwx3w@public.gmane.org>
:END:
** DONE [[bug:657][#657]] --print removes amount
- State "DONE"       from "TODO"       [2012-02-28 Tue 04:06]
:PROPERTIES:
:ID:       A7E5D8FA-B0B4-45C8-9D67-C367C245D0F3
:CREATED:  [2012-02-27 Mon 19:45]
:Date: Sun, 26 Feb 2012 22:30:01 +0000
:Message: [[message://bug-657-1@http.bugs.ledger-cli.org/][{Bug 657} New: --print removes amount]]
:Author: bugzilla-daemon@mail.johnwiegley.com
:END:
** DONE [[bug:719][#719]] Creates bogus(?) Adjustment with -H -X EUR
- State "DONE"       from "TODO"       [2012-03-20 Tue 04:56] \\
  Fixed by e3248ee
:PROPERTIES:
:ID:       6CFDB57B-BDD2-49E4-BFF1-EF8220C67CAA
:CREATED:  [2012-03-20 Tue 04:25]
:Date: Tue, 20 Mar 2012 08:59:59 +0000
:Message: [[message://bug-719-1@http.bugs.ledger-cli.org/][{Bug 719} New: Creates bogus(?) Adjustment with -H -X EUR]]
:Author: bugzilla-daemon@mail.johnwiegley.com
:END:
** DONE [ledger] Reverse search for drafts (#29)
   - State "DONE"       from "TODO"       [2011-07-20 Wed 02:35]
   :PROPERTIES:
   :ID:       2EFFD62B-0C63-4459-8574-3418F2B64CD9
   :CREATED:  [2011-07-19 Tue 16:30]
   :Date:     Mon, 18 Jul 2011 18:10:42 -0700
   :Message:  [[message://jwiegley/ledger/pull/29@github.com][{ledger} Reverse search for drafts (#29)]]
   :Submitter: bettse <reply+i-1246734-0a9e229b294f344233880f5f03c4835dc047d91b@reply.github.com>
   :END:
** DONE drewr is seeing doubled postings with his data file
   - State "DONE"       [2009-02-08 Sun 20:26]
   - State "STARTED"    [2009-02-08 Sun 18:28]
   :PROPERTIES:
   :ID:       09C9F3F1-FEE9-45E7-9DD4-6AA1D232918B
   :CREATED:  [2009-02-07 Sat 18:20]
   :END:
** DONE drewr says --effective doesn't work either
   - State "DONE"       [2009-02-09 Mon 17:33]
   - State "STARTED"    [2009-02-09 Mon 16:47]
   :PROPERTIES:
   :ID:       E0E258D8-E5FD-44D5-9BC9-01A6131E66ED
   :CREATED:  [2009-02-09 Mon 15:19]
   :END:
** DONE foo(1, 2, 3) is printing as foo(1, (2, 3))
   - State "DONE"       [2009-02-27 Fri 13:15]
   :PROPERTIES:
   :ID:       C0709A2B-2D63-405A-B7EC-B5FD97E62A72
   :CREATED:  [2009-02-26 Thu 23:16]
   :END:
** DONE gfuchedzhy is seeing a segfault with a simple input file
   - State "DONE"       from "TODO"       [2009-11-05 Thu 04:17]
   :PROPERTIES:
   :ID:       880BC301-3EF1-4701-8599-CA6170BCC9DA
   :Issue:    http://github.com/jwiegley/ledger/issues#issue/8
   :CREATED:  [2009-11-03 Tue 14:09]
   :END:
** DONE interval_posts needs to keep its null_posts on temp-lists
   - State "DONE"       [2009-02-15 Sun 05:21]
   :PROPERTIES:
   :ID:       7B23FA1A-9AD3-48A3-A82E-5B0559A6448B
   :CREATED:  [2009-02-14 Sat 06:12]
   :END:
** DONE iterations.cc, and maybe others, need to use temporaries_t
   - State "DONE"       from "TODO"       [2009-10-28 Wed 01:19]
   :PROPERTIES:
   :ID:       CE2AA70E-0B44-4A50-8D36-1DC1451F5473
   :CREATED:  [2009-10-27 Tue 23:20]
   :END:
** DONE ledger -Z causes a bad memory reference
   - State "DONE"       [2009-02-16 Mon 16:56]
   :PROPERTIES:
   :ID:       8D55C469-CBA2-4F9D-B3E5-F4AFBA0A7A6B
   :CREATED:  [2009-02-07 Sat 05:04]
   :END:
** DONE ledger and bogus dates like 2008/31/12
   - State "DONE"       from "TODO"       [2010-05-22 Sat 18:19]
   :PROPERTIES:
   :ID:       EF57C685-2C18-49A1-9A8C-FB3BE6F99C41
   :Message:  [[message://20100405061115.GA7671@jirafa.cyrius.com][ledger and bogus dates like 2008/31/12]]
   :CREATED:  [2010-04-06 Tue 03:51]
   :END:
** DONE ledger v3 print puts comments with two semi-colons into next line
   - State "DONE"       from "TODO"       [2010-05-22 Sat 23:50]
   - Note taken on [2010-03-26 Fri 22:17] \\
     [[message://20100325225210.GB21954@jirafa.cyrius.com][Re: ledger v3 print puts comments with two semi-colons into next line]]
   :PROPERTIES:
   :ID:       1DC0BAFA-4BFA-4BC5-B023-EF7921A91B6C
   :Message:  [[message://20100325224706.GA24440@jirafa.cyrius.com][ledger v3 print puts comments with two semi-colons into next line]]
   :CREATED:  [2010-03-26 Fri 22:17]
   :END:
** DONE main.cc still needs cleaning up; move global_scope to global.cc
   - State "DONE"       [2009-02-05 Thu 21:55]
   :PROPERTIES:
   :ID:       AD30D495-EFEB-4FB5-A831-6C452FF53D56
   :CREATED:  [2009-02-05 Thu 03:38]
   :END:
** DONE print doesn't honour --date-format
   - State "DONE"       from "STARTED"    [2010-05-22 Sat 22:03]
   :LOGBOOK:
   CLOCK: [2010-05-22 Sat 21:36]--[2010-05-22 Sat 22:03] =>  0:27
   :END:
   :PROPERTIES:
   :ID:       30C259F9-BC20-453A-A55E-530D11770F3F
   :Message:  [[message://20100322091126.GW1914@jirafa.cyrius.com][print doesn't honour --date-format]]
   :CREATED:  [2010-03-26 Fri 22:22]
   :END:
** DONE reg -V -f doc/sample.dat is currently completely broken
   - State "DONE"       [2009-02-24 Tue 11:37]
   :PROPERTIES:
   :ID:       D7A942B0-A071-496D-B2CE-E916837D50D6
   :CREATED:  [2009-02-05 Thu 03:36]
   :END:
** DONE textual.cc should report about illegal options
   - State "DONE"       from "TODO"       [2009-11-07 Sat 08:34]
   :PROPERTIES:
   :ID:       7A2732AF-FF0C-4418-AF38-BA65834866F0
   :CREATED:  [2009-11-02 Mon 15:50]
   :END:
** DONE value_t::dump should render a string as it would parse it
   - State "DONE"       from "TODO"       [2009-06-28 Sun 15:28]
   For example, what if "foo\"bar"?
   :PROPERTIES:
   :ID:       BA74FF13-7F2C-487A-922F-8E6931025B61
   :CREATED:  [2009-02-27 Fri 04:45]
   :END:
** DONE with ledger, "a or b and c" should be "(a or b) and c"
   - State "DONE"       [2009-02-09 Mon 18:27]
   :PROPERTIES:
   :ID:       25E8D531-9B09-4993-A8BB-CD8C5B88CCA5
   :CREATED:  [2009-02-09 Mon 15:12]
   :END:
** DONE [#C] Bug in showing budget balance
   - State "DONE"       [2009-02-24 Tue 15:10]
   I've been playing with budget feature in 2.4.  So far I've learned to make
   periodic income and expenses, and to show them balanced against actual
   transactions, which is very useful.  However I can't make it show how
   budgets for next month are balanced.  The obvious (for me) command:
   :OUTPUT:
   $ ledger -Bs --budget -p "next month" bal ^inc ^exp
   :END:
   shows nothing unless I add an empty transaction on someday next month, which
   is weird, and not any kind of transaction will work.  Are there better ways
   to do this?
   :PROPERTIES:
   :Submitter: <pomin5@gmail.com>
   :Version:  2.4.1
   :Ticket:   20
   :ID:       41716CDE-670C-4F41-825F-FE64B624AF97
   :CREATED:  [2007-12-10 Mon]
   :END:
** DONE [#C] CSV format can't handle balances or balance pairs
   - State "DONE"       [2009-02-08 Sun 02:31]
   :PROPERTIES:
   :ID:       FC689F1B-6155-462A-A170-E85ACEA42F79
   :CREATED:  [2009-02-07 Sat 05:52]
   :END:
** DONE [#C] Cleanup the cl-ledger repository, and put it on GitHub
   - State "DONE"       [2009-02-01 Sun 18:39]
   - State "STARTED"    [2009-02-01 Sun 15:59]
   :PROPERTIES:
   :ID:       EE45BD4D-E792-4668-98C5-B4CD50F9B3B7
   :CREATED:  [2009-02-01 Sun 03:03]
   :END:
** DONE [#C] Create a Merlin project for Ledger again
   - State "DONE"       [2008-10-30 Thu 20:52]
   - State "STARTED"    [2008-10-25 Sat 20:00]
   :PROPERTIES:
   :ID:       C57C3D54-917B-4FF1-BB22-804F14AE4AEC
   :ARCHIVE_TIME: 2008-11-28 Fri 16:45
   :ARCHIVE_CATEGORY: Computer
   :CREATED:  [2008-10-21 Tue 14:24]
   :END:
** DONE [#C] Make sure Ledger's #include's are as minimal as possible
   - State "DONE"       [2009-02-15 Sun 23:20]
   :PROPERTIES:
   :ID:       857E3E86-674C-40CA-BDBD-70DFD477AAE7
   :CREATED:  [2008-08-14 Thu]
   :END:
** DONE [#C] [[bug:329][#329]] Suggestions for improving the documentation
- State "DONE"       from "TODO"       [2011-11-18 Fri 20:01]
   - I think it's great that there is such an elaborate manual, but the
     structure is a bit unintuitive to learn from. May I suggest to move the
     'keeping a ledger' section to the beginning, before 'running ledger'. Or
     maybe shrink 'running ledger' to one page with the general explanation,
     and move the details to the back in a 'command line options reference'
     section. I understand that it's hard to combine a tutorial style manual
     and a reference manual in one document; I have the same problem when
     documenting my software. Having tutorial style in the front and reference
     in the back seems to work OK for me, without requiring two document with
     the problems that brings.
   - Some real-world examples of complete commands, as collected from the
     collective of ledger users, would be nice. Maybe this could be put in a
     'tick and tricks' section.
   - In this section, it would be nice if there was a section on Windows that
     explains that the Windows cmd.exe can't show € symbols. That one cost me
     20 minutes to figure out, after which I had to switch to EUR.
   - It would also be nice if this section had a table with the names of
     assests, equity, debts etc. in various languages/locales. At least a part
     of ledger users don't have background in accounting I think, and as for
     myself, despite having taken several accountancy/finance classes I still
     need to look up the terms each time because I don't use them every day. I
     would like to use the English terms but this is not feasible because I
     may need to communicate my numbers with the local tax office, tax
     advisors etc. later on, and they all only know and use the local
     terms.
   - Next step will be for me to document everything that is necessary to
     build ledger: getting and building libraries, getting and building boost,
     setting config options etc. It's rather challenging I image for anyone
     who doesn't do this every day.
   - The biggest issue I've run into is that syntax section isn't quite
     complete.  In the copy I have, this file syntax in section 2.7 lacks the
     $account keyword which is only mentioned deep in the text of section
     3.10.
   - As an addition to the tutorial documentation, it might be helpful to
     solicit user contributed ledger files.  I'd be willing to contribute what
     I'm using internally - I have a fairly complex customer payment
     processing methodology that keeps track of account receivable, and
     collected but undeposited payments.
   :PROPERTIES:
   :ID:       A68C8837-EB85-454B-A731-3B319D898697
   :Submitter: Roel Vanhout <roel.vanhout@gmail.com>
   :Message:  [[message://AANLkTilNxUsD8glzKcEWW4fQ56uGF5GlPOmMWA1oPM3_@mail.gmail.com][Building Ledger with VS (was: Re: Help: How do I start?)]]
   :CREATED:  [2010-06-11 Fri 17:29]
   :END:
** DONE [#C] [[bug:338][#338]] Issue with spaces in account names
   - State "DONE"       from "TODO"       [2010-06-19 Sat 14:02]
   :PROPERTIES:
   :ID:       BA07AFA9-DEED-4CB5-936A-E3177A474BFF
   :Submitter: bugzilla-daemon@mail.johnwiegley.com
   :Message:  [[message://bug-338-1@http.newartisans.com/bugzilla/][{Bug 338} New: Issue with spaces in account names]]
   :CREATED:  [2010-06-15 Tue 21:57]
   :END:
** DONE [#C] [[bug:341][#341]] Document suggestions from Russell
- State "DONE"       from "TODO"       [2011-11-18 Fri 20:01]
   - I was completely unaware of ti and to --- nice little toy; a man page
     comes to mind

   - Could you add to the front cover page a 'last added to' datemark that
     persists and is not auto-updated, si I can print and carry stuff around;
     also it is missing a formal 'Copyright' and license summary page

     It lays out OK for lulu to print it, in terms of production of the PDF
     being 'press ready':
     http://www.lulu.com/content/paperback-book/ledger-wip-doco/8971830

   - The document 'just ends'; an index end section, and possibly an Appendix
     to collate definitions would provide a more graceful ending

     I would 'wordsmith' to the effect that a Journal of transactions is more
     important than a ledger, as one is the document of entry (not original
     entry, as there are receipts, etc, before transactions get journalized)
     and the other is a more RO collation and organization of the journalled
     data

     A sample dataset, particularly showing off the gnuplot hook, and
     cascading into the doco PDF would be cool

   - I dont see any Python example code installed in the site-local -- did I
     mess up?  Also I think splitting the headers out to a -devel sub-package
     looks like a good idea. Looking, I see no Versioned .so names and a link
     to an API level?  I need to locate and add the sample scripts refereeced

     /usr/share/doc/ledger-0.0.20100615.git/doc/.dirstamp looks like it should
     go and not be installed by me

   - [herrold@centos-5 ~]$ rpm -ql ledger | grep -v h$
     /usr/bin/ledger
     /usr/lib64/libledger_data.la
     /usr/lib64/libledger_expr.la
     /usr/lib64/libledger_math.la
     /usr/lib64/libledger_report.la
     /usr/lib64/libledger_util.la
     /usr/lib64/python2.4
     /usr/lib64/python2.4/site-packages
     /usr/share/doc/ledger-0.0.20100615.git
     /usr/share/doc/ledger-0.0.20100615.git/LICENSE
     /usr/share/doc/ledger-0.0.20100615.git/LICENSE-utfcpp
     /usr/share/doc/ledger-0.0.20100615.git/NEWS
     /usr/share/doc/ledger-0.0.20100615.git/README
     /usr/share/doc/ledger-0.0.20100615.git/doc
     /usr/share/doc/ledger-0.0.20100615.git/doc/.dirstamp
     /usr/share/doc/ledger-0.0.20100615.git/doc/Doxyfile
     /usr/share/doc/ledger-0.0.20100615.git/doc/INSTALL
     /usr/share/doc/ledger-0.0.20100615.git/doc/LICENSE
     /usr/share/doc/ledger-0.0.20100615.git/doc/LICENSE-sha1
     /usr/share/doc/ledger-0.0.20100615.git/doc/LICENSE-utfcpp
     /usr/share/doc/ledger-0.0.20100615.git/doc/NEWS
     /usr/share/doc/ledger-0.0.20100615.git/doc/README
     /usr/share/doc/ledger-0.0.20100615.git/doc/devel
     /usr/share/doc/ledger-0.0.20100615.git/doc/devel/README-1ST
     /usr/share/doc/ledger-0.0.20100615.git/doc/devel/README.textile
     /usr/share/doc/ledger-0.0.20100615.git/doc/grammar.y
     /usr/share/doc/ledger-0.0.20100615.git/doc/ledger.1
     /usr/share/doc/ledger-0.0.20100615.git/doc/ledger.info
     /usr/share/doc/ledger-0.0.20100615.git/doc/ledger.pdf
     /usr/share/doc/ledger-0.0.20100615.git/doc/ledger.texi
     /usr/share/doc/ledger-0.0.20100615.git/doc/sample.dat
     /usr/share/emacs/site-lisp/ledger.el
     /usr/share/emacs/site-lisp/timeclock.el
     /usr/share/info/ledger.info.gz
     /usr/share/man/man1/ledger.1.gz
   :PROPERTIES:
   :ID:       24868F00-3342-4865-A4A5-1B46622A98F2
   :Submitter: R P Herrold <herrold@owlriver.com>
   :Message:  [[message://alpine.LRH.2.00.1006150907240.22955@arj.bjyevire.pbz][reading the doco end to end {random thots}]]
   :CREATED:  [2010-06-15 Tue 21:59]
   :END:
** DONE [#C] [[bug:343][#343]] Journal with only periodic transactions gives an error
   - State "DONE"       from "TODO"       [2010-06-22 Tue 03:23]
   :PROPERTIES:
   :ID:       926EC43A-2A38-42B5-A1A7-170CAC1AC98F
   :CREATED:  [2010-06-16 Wed 18:15]
   :END:
** DONE [#C] [[bug:397][#397]] --price-db doesn't expand ~
- State "DONE"       from "TODO"       [2011-11-18 Fri 20:01]
   :PROPERTIES:
   :ID:       00CA42F0-B1F5-4FDD-9190-E0584C707DC3
   :Submitter: bugzilla-daemon@mail.johnwiegley.com
   :Message:  [[message://bug-397-1@http.newartisans.com/bugzilla/][{Bug 397} New: --price-db don't expand ~]]
   :CREATED:  [2010-08-16 Mon 16:28]
   :END:
** DONE [#C] [[bug:599][#599]] Add index to documentation
:PROPERTIES:
:ID:       5A87442C-C029-4A9E-B4DB-1B5D8968B91A
:CREATED:  [2012-03-18 Sun 22:45]
:END:
** DONE [#C] ledger bal -s food should always show accounts matching regex
   - State "DONE"       [2009-02-08 Sun 15:10]
   :PROPERTIES:
   :ID:       9598C8CD-8830-4AD3-BC81-0368E39F88F7
   :CREATED:  [2009-02-06 Fri 03:26]
   :END:
** CANCELED [#A] The -V flag is producing a discrepancy when includes are used           :ATTACH:
   - State "CANCELED"   [2009-01-29 Thu 15:26] \\
     This was not a problem in Ledger itself.
   If you comment out AISChecking from main, the bug goes away.
   :SCRIPT:
   ./ledger -V reg AR:
   :END:
   :PROPERTIES:
   :Submitter: Russell Adams <RLAdams@AdamsInfoServ.Com>
   :Version:  2.6.1
   :Attachments: PrecisionBug.tar.gz
   :ID:       A98BFCBA-012D-4E18-9CBB-4D880CDBFE7E
   :CREATED:  [2008-10-05 Sun 20:59]
   :END:
** CANCELED [#A] [[bug:446][#446]] Segfault on wrong command directive
   - State "CANCELED"   from "TODO"       [2011-02-04 Fri 23:17]
   Please try this ledger:
   #+begin_src ledger
   !Account foo
   2010/09/20 bar
    Expenses:Mobile                    $1
    Assets:Bank
   !end

   2010/09/21 baz
    Assets:Bank                        $1
    Liabilities:Taxes
   #+end_src

   I get a "Segmentation fault" when trying an arbitrary report command
   (e.g. "balance"). Expected is an error message like "Wrong command
   directive !Account" (should be !account).
   :PROPERTIES:
   :ID:       AD8A9EB3-1220-4482-B0B0-0637C9F590E6
   :Submitter: GitHub <noreply@github.com>
   :Message:  [[message://4cfbded194771_50923ff7bdcc406c5b0@fe1.rs.github.com.tmail][{GitHub} Get segfault on wrong command directive {jwiegley/ledger GH-19}]]
   :CREATED:  [2010-12-06 Mon 12:42]
   :END:
** CANCELED 'derive_new_xact' shouldn't add accounts to the journal
   - State "CANCELED"   [2009-02-16 Mon 05:18]
   :PROPERTIES:
   :Version:  2.6
   :Ticket:   119
   :ID:       F229CDEA-1AED-4DBB-8DB6-24BEF30FC1E6
   :END:
** CANCELED --debug isn't taking a regular expression
   - State "CANCELED"   [2009-02-15 Sun 23:18]
   :PROPERTIES:
   :ID:       5936E070-F86A-4E52-B165-B70CE24C8109
   :CREATED:  [2008-07-24 Thu]
   :END:
** CANCELED Add comprehensive sanity checking to the XML parsers
   - State "CANCELED"   [2009-02-08 Sun 16:01]
   :PROPERTIES:
   :ID:       E2AC23FB-CCCF-4B2A-A925-43BD74EE30B0
   :CREATED:  [2009-01-24 Sat 04:47]
   :END:
** CANCELED Add to the commodity flags in the XML data
   - State "CANCELED"   [2009-02-08 Sun 16:04]
   ... whether it should never be downloaded or not (N).
   :PROPERTIES:
   :Version:  2.6
   :Ticket:   109
   :ID:       FEAD4FEA-64FC-4DCA-8653-1C29DC6BC66E
   :CREATED:  [2008-04-11 Fri]
   :END:
** CANCELED Another problem with XML output
   - State "CANCELED"   [2009-02-08 Sun 16:04]
   [[message://20060918231625.11184.qmail@web30708.mail.mud.yahoo.com][Re: Ledger 3 XML processing]]
   :PROPERTIES:
   :Version:  2.6
   :Ticket:   127
   :ID:       0AC36F03-A438-4547-8764-E2B90F6E2A1C
   :CREATED:  [2008-04-11 Fri]
   :END:
** CANCELED Binary cache is invalidated if LEDGER_FILE is changed
   - State "CANCELED"   [2009-02-08 Sun 15:59]
   - State "DEFERRED"   [2008-09-17 Wed 05:06] \\
     This bug is deferred until 3.0, since it is so rare there is no need to change
     it just yet.
   The following sequence of operations seemed to trigger it:
   :OUTPUT:
   export LEDGER_FILE=/home/albino/temp/ledger/ledger.dat
   ./ledger bal rent food movies -- freddie
   export LEDGER_FILE=/home/albino/temp/ledger/sample.dat
   ./ledger bal
   :END:
   :PROPERTIES:
   :Submitter: albino <#ledger>
   :Version:  2.6.1b
   :Ticket:   211
   :ID:       C65875E1-CF5D-4923-8546-9784EB08AC9D
   :CREATED:  [2008-08-05 Tue]
   :END:
** CANCELED CSV output needs a column for every commodity
   - State "CANCELED"   [2009-02-08 Sun 02:30]
   :PROPERTIES:
   :ID:       1DB41F13-E745-4081-8DEA-57F986EF8113
   :CREATED:  [2009-02-07 Sat 16:12]
   :END:
** CANCELED Change Ledger to use shave
   - State "CANCELED"   [2009-02-24 Tue 01:01]
   :PROPERTIES:
   :ID:       54DAEF67-80D7-402A-BAF2-36EF86064DCD
   :CREATED:  [2009-02-24 Tue 00:22]
   :END:
** CANCELED Command output-xml
   - State "CANCELED"   [2009-02-08 Sun 16:04]
   As a corollary to the output command, have an output-xml command, which
   writes a complete Ledger file (including all automated xacts, etc) to an
   XML file.
   :PROPERTIES:
   :Version:  2.6
   :Ticket:   150
   :ID:       5D17A372-FB03-4E1D-9917-113E10211880
   :CREATED:  [2008-04-11 Fri]
   :END:
** CANCELED Create an options_t object for inside of report_t
   - State "CANCELED"   [2009-02-19 Thu 14:47]
   :PROPERTIES:
   :ID:       8984D061-9749-4543-A5DB-C4B239F16F55
   :CREATED:  [2009-02-15 Sun 05:08]
   :END:
** CANCELED Don't make uncommoditized amounts display differently
   - State "CANCELED"   from "TODO"       [2009-10-27 Tue 22:03]
   :PROPERTIES:
   :ID:       677CB18D-C7EE-446A-8123-57D80E3EFDD4
   :CREATED:  [2009-10-23 Fri 06:13]
   :END:
** CANCELED Finish implementing QIF parser, and document its use
   - State "CANCELED"   [2009-02-08 Sun 16:05]
   :PROPERTIES:
   :Version:  2.6
   :Ticket:   113
   :ID:       F7FFB324-9AC2-42A6-A6DD-38C02F30BEF7
   :CREATED:  [2008-04-11 Fri]
   :END:
** CANCELED Finish my tickets script, so that I post from Org to Unfuddle
   - State "CANCELED"   [2009-03-06 Fri 04:12]
   :PROPERTIES:
   :ID:       988239F0-3A75-4C6E-B12B-0701DFE173F1
   :CREATED:  [2009-03-01 Sun 05:23]
   :END:
** CANCELED Get gdtoa's tests working under "make check"
   - State "CANCELED"   [2009-02-08 Sun 16:01]
   :PROPERTIES:
   :ID:       51B006B4-E3B4-41B6-865F-5E81926F8F73
   :CREATED:  [2009-01-23 Fri 18:36]
   :END:
** CANCELED Give an error if --input-date-format contains a space (or should it?)
   - State "CANCELED"   [2009-02-20 Fri 13:08]
   :PROPERTIES:
   :Version:  2.6
   :Ticket:   144
   :ID:       60B631E4-9819-4460-ABC0-6B789865646D
   :END:
** CANCELED Have ledger.el only use fancy TAB if there are no accounts
   - State "CANCELED"   [2009-02-15 Sun 23:17] \\
     I don't use fancy TAB, now it's fancy C-u TAB.
   :PROPERTIES:
   :ID:       545A16E5-49BE-44DB-AFAF-F0ABA87BF29E
   :CREATED:  [2009-02-12 Thu 19:12]
   :END:
** CANCELED Ledger doesn't know how to find include files for stdin
   - State "CANCELED"   from "TODO"       [2010-05-22 Sat 18:20] \\
     How could this be fixed without requiring a standard set of directories?
   If I have a file with relative includes and I pipe it to Ledger through
   stdin, it never knows how to find those includes.
   :PROPERTIES:
   :ID:       6F274577-80C7-42B1-923C-109F3BD5B8E2
   :CREATED:  [2010-04-11 Sun 14:18]
   :END:
** CANCELED Ledger is crashing on Thomas' computer when -O2 is used
   - State "CANCELED"   [2009-02-19 Thu 14:46]
   - Note taken on [2008-10-26 Sun 00:44] \\
     When putting printf statements, the statements in my main() routine are
     executed up till the one right before the parse_and_report call. In the
     parse_and_report function, I put another printf statement before any statement
     is executed, but I don't see this ... Is it possible that there is something
     wrong with the function call itself or might it be the case that output is not
     yet synced before ledger segfaults?
   :PROPERTIES:
   :ID:       00DA5F10-6B76-4CB0-89E3-152A80BFBCED
   :CREATED:  [2008-10-06 Mon 19:15]
   :END:
** CANCELED Make !rex reverse a regexp
   - State "CANCELED"   [2009-01-29 Thu 15:33] \\
     I now use "not rex".
   This is instead of -rex, allowing options to appear anywhere on the line.
   It also means that something has to be done about the meaning of "--".
   :PROPERTIES:
   :ID:       72B2202C-EC63-4A2E-A5C9-0C9A4991FB06
   :CREATED:  [2008-08-14 Thu]
   :END:
** CANCELED Make balance assertions be partly date dependent
   - State "CANCELED"   from "TODO"       [2010-02-05 Fri 00:02]
   They should be date dependent for differing days, but for transaction on
   the same day, they should be order dependent.
   :PROPERTIES:
   :ID:       E1B3CE9A-6305-4FFD-B916-6DF6D418A4B7
   :CREATED:  [2010-02-04 Thu 17:04]
   :END:
** CANCELED Make balance assignment failures into a warning
   - State "CANCELED"   from "DONE"       [2009-11-02 Mon 01:41] \\
     Instead, I've split this into assignments vs. assertions, where assertions are
     errors.
   - State "DONE"       from "TODO"       [2009-10-26 Mon 19:54]
   :PROPERTIES:
   :ID:       B3F65D45-C77F-4E01-A8FC-3EDC92A9CB45
   :CREATED:  [2009-10-23 Fri 06:13]
   :END:
** CANCELED Make every Ledger object able to render itself as XML
   - State "CANCELED"   [2009-02-08 Sun 16:01]
   :PROPERTIES:
   :ID:       B25DC71B-87DB-453F-87E9-D2015CCBAB26
   :CREATED:  [2009-01-24 Sat 04:01]
   :END:
** CANCELED Nuke the doc/INSTALL file, since it's not accurate
   - State "CANCELED"   [2009-03-19 Thu 03:41]
   :PROPERTIES:
   :ID:       A441A43B-25F6-42C4-B950-CF54A7C55F6F
   :ARCHIVE_TIME: 2009-04-12 Sun 20:34
   :ARCHIVE_CATEGORY: Ledger
   :CREATED:  [2009-03-11 Wed 18:58]
   :END:
** CANCELED Odditing in name of XML namespaces in Ledger
   - State "CANCELED"   [2009-02-08 Sun 16:05]
   [[message://20060304.181355.96677625.arb46@cornell.edu][e-mail]] one
   [[message://20060802015747.27838.qmail@web30706.mail.mud.yahoo.com][e-mail]] two
   :PROPERTIES:
   :Version:  2.6
   :Ticket:   122
   :ID:       9F69B516-9F57-4204-9EF2-BA0AB42B1401
   :CREATED:  [2008-04-11 Fri]
   :END:
** CANCELED Pass the default report object into the textual parser
   - State "CANCELED"   from "TODO"       [2009-11-05 Thu 04:17]
   :PROPERTIES:
   :ID:       048E2C5A-8AFA-4CF2-A1E6-F8693F96A9EE
   :CREATED:  [2009-11-02 Mon 15:50]
   :END:
** CANCELED Periodic budgeting problem when Yxxxx is used
   - State "CANCELED"   [2009-02-24 Tue 04:07]
   Yeah, it works as expected for me as well.  I have since changed my ledger
   files to use YYYY/MM/DD strings.  In the past I was using the Yxxxx
   directive with MM/DD strings for each entry.  That might have had something
   to do with it... or there was some other problem with my ledger files.
   :PROPERTIES:
   :Submitter: <edavis@insanum.com>
   :Version:  2.6
   :Ticket:   21
   :ID:       F2FC7C2B-0CB1-47E7-AE2E-C9E744A47927
   :CREATED:  [2007-12-10 Mon]
   :END:
** CANCELED Problem with piping input to ledger
   - State "CANCELED"   [2009-02-19 Thu 14:49]
   I decided to just go ahead and push my whole ledger file through "print".
   At first I had been a little nervous about the possibility that I might goof
   up somehow and lose some data.  But it seems to have worked okay: I did a
   spot check of the result by verifying that my checking account and credit
   card accounts still end up with the same final balance as they did before.
   Also, I typically save any edits to my ledger file in a Subversion
   repository, so I can always get back to a previous version if I need to.

   So now I do have a nice, clean file.

   After I got your message, I did try the "output" command.  I guess I didn't
   understand epostly what it's supposed to be doing, because it didn't quite
   seem to work as I expected.

   If I type:
   :SCRIPT:
   ledger -f foo output foo
   :END:
   is it supposed to rewrite foo?  It didn't seem to do that.  Instead, it
   seems to write its output onto stdout.  And not only that, it seems to
   duplicate the last xact in the file.

   For example, if this is my sample file foo:
   :DATA:
   2006/01/01 * Xyzzy Mortgage Co.
    Assets:Bank:Checking                  $-1,000.00
    Expenses:Interest:Mortage              $950.00
    Liabilities:Mortgage                     $50.00

   Y2005

   01/01 * (1830) TPC
    Expenses:Phone                  $100.00
    Assets:Bank:Checking

   2/3 (1832) ABC Dept Store
    Expenses:Clothing           $100.00
    Assets:Bank:Checking
   :END:

   Then when I run `ledger -f foo output foo` the output I get is this:
   :OUTPUT:
   2006/01/01 * Xyzzy Mortgage Co.
    Assets:Bank:Checking                  $-1,000.00
    Expenses:Interest:Mortage                $950.00
    Liabilities:Mortgage                      $50.00

   Y2005

   2005/01/01 * (1830) TPC
    Expenses:Phone                           $100.00
    Assets:Bank:Checking

   2005/02/03 (1832) ABC Dept Store
    Expenses:Clothing                        $100.00
    Assets:Bank:Checking
   2/3 (1832) ABC Dept Store
    Expenses:Clothing           $100.00
    Assets:Bank:Checking
   :END:

   If instead I run `ledger -f foo output foo2`, then I get this:
   :OUTPUT:
   Error: Journal does not refer to file ''
   :END:
   So I guess that wan't what I was supposed to do.

   Anyway, this is all just academic, 'cuz as I say I now have a nice, cleaned
   up file, thanks to the "print" command.
   :PROPERTIES:
   :Submitter: <arb46@cornell.edu>
   :Version:  2.6
   :Ticket:   27
   :ID:       D3820740-8BFB-4234-8125-DE813A713032
   :CREATED:  [2007-12-10 Mon]
   :END:
** CANCELED Rationalize register and balance total calculation
   - State "CANCELED"   [2009-03-03 Tue 03:02]
   Rather than keeping the running total for the register report in each
   posting's xdata, perhaps it should be kept in the grand total for the master
   account?
   :PROPERTIES:
   :ID:       E242CF42-062A-4B4C-A1A8-390465448F73
   :CREATED:  [2009-03-02 Mon 16:11]
   :END:
** CANCELED There are a few thorny issues remaining with the binary cache
   - State "CANCELED"   [2009-02-08 Sun 16:06]
   1. What happens to value expressions that have been compiled?  The FUNCTION
      operand must remember the name of the function it was compiled to; but
      even then, how can I recompile and maintain the same environment as the
      original point of definition?

   2. Base commodities no longer exist in their own data structure, but use
      shared_ptr to track multiple accesses.  How to write out this unwritten
      structure?
   :PROPERTIES:
   :ID:       69B51A07-5E5F-42F9-AB97-CEECAF4BB085
   :CREATED:  [2008-08-15 Fri]
   :END:
** CANCELED Use &lt; when writing out XML, instead of <
   - State "CANCELED"   [2009-02-08 Sun 16:06]
   :PROPERTIES:
   :Version:  2.6
   :Ticket:   143
   :ID:       BD664021-204A-4F16-B4F7-3ECEBA808530
   :END:
** CANCELED Using -f - gives drewr a bus error
   - State "CANCELED"   [2009-02-15 Sun 23:18]
   - State "TODO"       [2009-02-11 Wed 03:53]
   - State "STARTED"    [2009-02-10 Tue 05:50] \\
     I was unable to reproduce this.
   :PROPERTIES:
   :ID:       D4C96EA8-57B3-43D8-A136-8FDB2309B011
   :CREATED:  [2009-02-10 Tue 00:55]
   :END:
** CANCELED [[bug:372][#372]] Rename "total" to "raw_total" and "display_total" to "total"
   - State "CANCELED"   from "TODO"       [2011-07-03 Sun 00:34] \\
     I've decided not to make this change.
   This constantly confuses people trying to write their own format expressions.
   :PROPERTIES:
   :ID:       D3701AF0-0FFC-400E-84BE-E302DDAAA0EA
   :CREATED:  [2010-07-01 Thu 17:55]
   :END:
** CANCELED [[bug:435][#435]] Re-anonymize speed-test.dat
   - State "CANCELED"   from "TODO"       [2010-11-26 Fri 13:50] \\
     I cannot re-anonymize this without the original file.
   :PROPERTIES:
   :ID:       98DE6EEC-E711-4C17-B07F-FD527CBC27A6
   :Submitter: Thierry Daucourt <thierry.daucourt@free.fr>
   :Message:  [[message://AANLkTi%3DNJtdJDwXnqTycnGdMmZq_DnZ8wyPqx56BZ2By@mail.gmail.com][Re: my privacy]]
   :CREATED:  [2010-08-16 Mon 16:31]
   :END:
** CANCELED bal -l 'depth<=2' has no effect in the REPL
   - State "CANCELED"   [2009-03-03 Tue 03:02] \\
     It's because the REPL isn't honoring shell quoting syntax
   :PROPERTIES:
   :ID:       6DD90AF2-0088-4E4E-ACE4-FDD373B921A6
   :CREATED:  [2009-02-24 Tue 12:11]
   :END:
** CANCELED [#C] Budgeting oddness
   - State "CANCELED"   [2009-03-03 Tue 05:20]
   - State "WAITING"    [2009-02-24 Tue 15:08] \\
     I'm waiting on Tim to get back to me.
   I am trying to understand the budgeting information in the ledger
   documentation, as well as to understand some basic syntax in my ledger file
   and why it does not appear to be working correctly.  If I have a ledger file
   with:
   :DATA:
   ~Monthly
   Exp:....   $1000.00
   Exp:....   $500.00
   Exp:....   $250.00
   Exp:....   $1000.00
   Assets
   :END:
   [with real categories blanked out, of course], and Assets at the end, what
   does this imply?  That expenses will be withdrawn/balanced against assets?
   What happens if I have no expenses recorded in my ledger, e.g., what is the
   intended behavior of the budgeting functionality?

   In addition, the following three entries seem to be causing somewhat odd
   behavior:
   :DATA:
   2006/05/23
     Assets:Checking:xxxx             $1259.44
     Equity:Opening Balance

   2006/05/23
     Assets:Savings:xxxx               $711.31
     Equity:Opening Balance

   2006/05/23
     Expenses:Loans:xxxx               $750.00
     Assets:Checking:xxxx
   :END:

   When I perform:
   :OUTPUT:
   % ledger -f ~/ledger.txt -MAs bal ^expenses
              $375.00  Expenses:Loans
              $750.00    xxxx
   --------------------
              $375.00
   :END:
   and these are the only three entries in the ledger file, did I miss
   something as far as the intended behavior?  Is there a bug somewhere in my
   libgmp, etc?

   I'm on Mac OS X 10.4 on an Intel machine.
   :PROPERTIES:
   :Submitter: Tim <tim@scarybright.org>
   :Version:  2.6
   :Ticket:   18
   :ID:       D112A53E-1D18-44F4-8B9E-6224A4EC8F72
   :CREATED:  [2007-12-10 Mon]
   :END:
** CANCELED [#C] Preserve file comments in the XML output
   - State "CANCELED"   [2009-02-08 Sun 16:07]
   I would like to use the XML format for doing some transformations to my
   data. Not just reformatting for reporting, but actual changes to my data.

   This means I would like to export to XML, then do an XSLT transformation,
   and then re-import it back into ledger format. (Throw away my original
   ledger file, and replace it with the transformed version.)

   My problem is that comments don't seem to be preserved in the XML
   format. Well, the end-of-line comments on (what you call) postings
   do. (They come out as <tr:note> elements.) But whole-line comments do not.

   I wish these whole-line comments could somehow be preserved in the XML
   format.
   :PROPERTIES:
   :Version:  2.5
   :Ticket:   41
   :ID:       D27098A4-647A-4EEA-B0B8-3088E069214D
   :CREATED:  [2008-04-05 Sat]
   :END:
** CANCELED [#C] Trouble reading an ofx file                                             :ATTACH:
   - State "CANCELED"   [2009-02-15 Sun 23:20]
   I'm using ledger from CVS and am having some trouble reading an OFX file
   that I downloaded from my bank.  The command I'm using is
   :OUTPUT:
   $ ledger -f <ofx file> print
   Error: Please specify ledger file using -f or LEDGER_FILE environment variable.
   :END:
   What might be going on?  As far as I can see, the OFX file is well-formed.
   :PROPERTIES:
   :Submitter: <alama@stanford.edu>
   :Version:  2.4.1
   :Ticket:   11
   :ID:       D9CAC376-E751-4DC6-841B-70217748AA20
   :Attachments: 20060630-xxxxxx0779.ofx
   :CREATED:  [2007-12-10 Mon]
   :END:
** CANCELED [#C] Using --reconcile with -20 causes a segmentation fault
   - State "CANCELED"   [2009-02-15 Sun 23:19]
   Using the trunk version:
   :OUTPUT:
   ./ledger -f sample.dat --reconcile -20.00 --reconcile-date 2007/05/27 reg master
   :END:
   which leads to a segmentation fault.

   Replace -20.00 with a number below 1 (e.g. 0.99), then that's OK.

   My gcc version:
   :OUTPUT:
   $ gcc -v
   Reading specs from /usr/lib/gcc/i686-magic-linux/3.4.6/specs
   Configured with: ../configure --prefix=/usr --mandir=/usr/share/man --infodir=/usr/share/info --enable-shared --enable-threads=posix --disable-checking --with-system-zlib --enable-__cxa_atexit --disable-libunwind-exceptions --enable-java-awt=gtk --host=i686-magic-linux
   Thread model: posix
   gcc version 3.4.6 20060404 (MagicLinux 3.4.6-2mgc)
   :END:
   :PROPERTIES:
   :Submitter: Levin <zslevin@gmail.com>
   :Version:  2.6
   :Ticket:   4
   :ID:       567B5118-7A77-42B9-A1CD-C5DA688AC406
   :CREATED:  [2007-10-29 Mon]
   :END:
** WONTFIX [#A] [[bug:406][#406]] Unable to install ledger on Ubuntu Hardy
- State "WONTFIX"    from "TODO"       [2012-02-27 Mon 23:10]
   :PROPERTIES:
   :ID:       418D7760-03CD-441B-847F-BCD7EDE82E68
   :CREATED:  [2011-06-14 Tue 19:21]
   :END:
** WONTFIX [#A] [[bug:418][#418]] Ledger 3.0 will not build under cygwin on Windows
- State "WONTFIX"    from "TODO"       [2012-02-27 Mon 23:10]
   :PROPERTIES:
   :ID:       C3AEDBF3-B2BD-4112-9EDE-865023E06532
   :CREATED:  [2011-06-14 Tue 19:21]
   :END:
** WONTFIX Auto-remainder of setting an account's balance broken
   - State "WONTFIX"    from "TODO"       [2010-01-21 Thu 04:29] \\
     This is expected behavior now.
   :PROPERTIES:
   :ID:       5A8CB6B5-E888-4B6D-9916-6521ABA0A746
   :Message:  [[message://20100103125340.GA4886@kerneis.info][Auto-remainder of setting an account's balance broken]]
   :CREATED:  [2010-01-09 Sat 21:07]
   :END:
** WONTFIX Change all the source code to utf-8
   - State "WONTFIX"    [2008-07-13 Sun 21:45] \\
     The source code itself doesn't use international characters!
   :PROPERTIES:
   :Version:  2.6
   :Ticket:   141
   :ID:       D00D1F5A-8BD5-43B5-B8E0-1FEBB98F610A
   :CREATED:  [2008-04-11 Fri]
   :END:
** WONTFIX Errors when compiling ledger 2.6.2 on Fedora 11
   - State "WONTFIX"    from "TODO"       [2010-01-18 Mon 03:04] \\
     2.6.2 bugs are no longer being fixed.
   - Note taken on [2010-01-09 Sat 21:06] \\
     All required '-dev' or '-devel' libraries installed/updated to the best of my
     knowlege. gcc is 4.4.1, kernel is 2.6.30, and while my major job function is
     'accountant', my education (20+ years ago) is technical, so I'm the designated
     IT guy -- but still not a programmer.
   :PROPERTIES:
   :ID:       1C6B78C7-E0B4-4515-A172-5DE17470F9F0
   :Message:  [[message://20100104044948.GA14665@atom][problems compiling with python support on debian squeeze]]
   :CREATED:  [2010-01-09 Sat 21:06]
   :END:
** WONTFIX Precision error
   - State "WONTFIX"    from "TODO"       [2009-10-26 Mon 00:52] \\
     This is expected behavior, based on the fact that a 3 decimal place dollar
     value was used before the transaction giving the error.
   [[message://1253475930.3701.41.camel@mithos.talinet.net]]
   :PROPERTIES:
   :ID:       77D3A0A9-35DF-4A4D-8469-8928E3954441
   :CREATED:  [2009-10-03 Sat 03:23]
   :END:
** WONTFIX Space is not allowed in quoted query regexps
   - State "WONTFIX"    from "STARTED"    [2010-05-22 Sat 21:12] \\
     This can be worked around quoting regular expression syntax:

       ledger reg "/one two three/"
   :LOGBOOK:
   CLOCK: [2010-05-22 Sat 21:09]--[2010-05-22 Sat 21:11] =>  0:02
   :END:
   :PROPERTIES:
   :ID:       CB883B26-C0A9-41A6-9E1D-3C97A93043FB
   :Message:  [[message://bf53d15e-c8ea-4771-a3df-bed7883f56b5@k17g2000yqb.googlegroups.com][regular expression argument that contains spaces]]
   :CREATED:  [2010-03-01 Mon 16:13]
   :END:
** WONTFIX [[bug:156][#156]] Instead of unistring(x).length(), have unilength(x)
- State "WONTFIX"    from "DEFERRED"   [2012-03-10 Sat 21:57]
   - State "DEFERRED"   from "TODO"       [2010-06-01 Tue 17:14]
   :PROPERTIES:
   :ID:       CE4F80CF-B298-43C5-B786-AA8ABEDA05C8
   :CREATED:  [2010-05-27 Thu 01:12]
   :END:
** WONTFIX [[bug:160][#160]] Attached file should print out Unrealized Gains in the report            :ATTACH:
   - State "WONTFIX"    from "TODO"       [2010-06-09 Wed 08:15] \\
     The aim of --unrealized is to show how much your unrealized gains or losses
     were, not to balance all possible values.
   It should print out:
   :OUTPUT:
                      0  Assets
               $-800.00    Brokerage
                $800.00    Checking
               $-100.00  Equity:Unrealized Gains
                $100.00  Equity:Unrealized Losses
   --------------------
                      0
   :END:
   Once this is fixed, correct test/baseline/opt-unrealized.test.
   :PROPERTIES:
   :ID:       22AA1522-30A0-403F-B16A-B8F674AC9125
   :Attachments: bug.dat
   :CREATED:  [2009-11-25 Wed 04:47]
   :END:
** WONTFIX [[bug:205][#205]] Specifying commodity price and total
   - State "WONTFIX"    from "TODO"       [2010-06-08 Tue 17:54]
   - Note taken on [2010-06-08 Tue 17:39] \\
     Martin: [ Our responses just collided; anyway, yes, I agree with you.
     Thanks for your patience ]

     I believe my last message actually showed a possible solution.  If I really
     cared about it, I could put it into ledger like this:
   - Note taken on [2010-06-08 Tue 17:39] \\
     My understanding is that "what you paid" is whatever balances the
     transaction to zero.  That's it.  Anything other than that is a notional
     idea on your side of the table.

     Now, I see what you're saying in that you want to reflect the fact that
     your broker charged you for the rounding.  You can, if you wish,
     incorporate this by changing the cost of the exchange and then adding a
     posting to indicate the rounding.  But having a special syntax to
     incorporate both "versions" of the transaction is not something I think I
     can support.
   - Note taken on [2010-06-08 Tue 17:39] \\
     Martin: I paid 11506.94 EUR for 533 AAPL.  That's a fact.  So I could
     simply stick 553 AAPL @@ 11506.94 EUR into ledger and be done with it.

     However, I feel this is not the whole story.

     Because what I really did was to buy 533 AAPL at a price of 21.589 EUR
     each.  And this is 533 * 21.589 = 11506.937.

     But there's no way to pay 11506.937, so my broker rounded it to 11506.94,
     which I then paid.

     So I can put 553 AAPL @@ 11506.94 EUR into ledger but I feel this
     slightly misrepresents what happened.  553 AAPL @@ 11506.94 EUR says that
     I bought 553 at a price of 21.589005628517825.  Wheras in reality I paid
     21.598 a share plus 0.003 of rounding.

     Do you see the difference?

     It's really just about this semantic difference of what I'm paying for
     (i.e.  X for Y shares vs X for Y shares plus 0.003 rounding).

     But I agree that this semantic difference doesn't really matter IRL and
     so I'm fine with you closing this bug.  However, it seems that I have not
     been able yet to express what I mean... hopefully this explanation was
     clearer.
   - Note taken on [2010-06-08 Tue 17:39] \\
     But did you really lose 0.003?  Becasue you said you were paid 11506.94.
     It does happen that your personal exchange rate was different from the
     market rate.  But this should be revealed to you in the -V report.
   - Note taken on [2010-06-08 Tue 17:39] \\
     Martin: No, I don't have a preference of @ over @@.  It's just that I
     feel that I'm losing some information.  When I put
   - Note taken on [2010-06-08 Tue 17:39] \\
     Hmm..  When you use @@, Ledger sets the "cost" of the posting to the
     right-hand amount.  It then calculates the per-unit amount for you, based
     on this cost.  What I'm not understanding is why this calculation is
     insufficient, or why you want to specify a different amount than would be
     calculated -- since Ledger now knows exactly how much you paid in both
     currencies, owing to the use of @@.  Is it just that you prefer to use @
     rather than @@?

     In general, @ is for when you know the unit price, and @@ is for when you
     know the total price.  Use of either one causes the other to be
     calculated.  Internally, Ledger only stores the total price, so if you
     use @ it will compute the per-unit price, but if you use @@ it stores the
     amount you specify directly.

     As for tracking the fraction rounding adjustment, can you give an example
     of when this would be needed?  I mean, since you used @@, all sums are
     known to their exact figure, are they not?
   - Note taken on [2010-06-08 Tue 17:38] \\
     Martin: Ok, here's another example.  Let's say I do my expenses.  I put
     in expenses of 11.04 GBP and get paid in EUR at a rate of 1.129.  11.04 *
     1.129 = 12.46416 EUR but my employer will obviously round this to 11.46
     EUR.

     When I now put 11.04 GBP @ 1.129 EUR into ledger, it will not round but
     track 12.46416.  So when I put this twice, ledger will end up with a
     balance of 24.93 EUR but I only got paid 24.92 EUR due to the rounding.

     So my only solution right now is to specify the total with @@, but imho
     I'm losing some info here because I cannot specify the exchange rate
     here.  So that's my I had the idea for XX @ YY @@ ZZZ.

     I guess essentially what I'd like to do is use @ 1.129 EUR but tell
     ledger "don't keep all the digits but round it to 2 digits".
   - Note taken on [2010-06-08 Tue 17:38] \\
     Martin: My thinking with
   - Note taken on [2010-06-08 Tue 17:38] \\
     I don't quite understand what you're trying to achieve.  Is it just that
     you want the per-share price documented in your Ledger file?  If so, then
     the latter solution you gave is the best I can think of.

     Ledger doesn't do any rounding except at the time of display.  If you use
     @@ to specify the actual cost that you paid, it calculates the per-unit
     price based on that, and rounds it at reporting time based on the display
     characteristics of the commodity it's priced in.
   #+begin_src ledger
       Assets:Broker:Depot          533 AAPL @ 21.589 EUR
       Expenses:Adjustment                      0.003 EUR ; rounding
       Assets:Broker:Current
   #+end_src
     but I don't find that very elegant, so I guess I'll just go with 533 AAPL
     @@ 11506.94 EUR.
   #+begin_src ledger
         533 AAPL @@ 11506.94 EUR
   #+end_src
     into ledger, this means: I bought 533 AAPL for 11506.94 EUR or
     21.589005628517825 a piece.  But this doesn't reflect reality 100%.  What
     really happened is that I bought 533 AAPL for 21.589 EUR a piece and then
     they added 0.003 of rounding, leading to a total of 11506.94 EUR.

     When I use @@, I lose the information that these 0.003 EUR were caused by
     rounding.  Is this important?  No, at the end of the day it doesn't
     matter at all and as I said above I'm happy to just use @@.  But do I
     feel that I 100% represent reality with @@?  No...
   #+begin_src ledger
        533 AAPL @ 21.589 EUR @@ 11506.94 EUR
   #+end_src
     was that I'd like to tell ledger:
      - I bought 533 AAPL shares at 21.589 EUR
      - and I paid 11506.94 EUR for it.
     and for ledger to say:
      - but hold on, 11506.94 / 533 = 21.589005628517825
        so I'll automatically adjust this for you and create
        an adjustment from 21.589 to 21.589005628517825,
     And then ledger reg or pricemap or so would show that adjustment.

     Anyway, I can live with
   #+begin_src ledger
       533 AAPL @@ 11506.94 EUR ; @ 21.589 EUR
   #+end_src
     if you think this scenario is not worth supporting in ledger.
   Let's say I buy 533 AAPL at a price of 21.589 each.  This comes out at
    11506.937.  However, my broker rounds this up to 11506.94.  Is there a way
    I can specify both the individual price as well as the total I actually
    paid?

    In other words, I'd like to say something like:
   #+begin_src sh
       Assets:Fund       533 AAPL @ 21.589 EUR @@ 11506.94 EUR
   #+end_src
    but this is invalid syntax.

    Is it possible to express this somehow or is the best solution
    something like
   #+begin_src sh
       Assets:Fund       533 AAPL @@ 11506.94 EUR ; @ 21.589
   #+end_src
   :PROPERTIES:
   :ID:       4A7C9359-EBAC-402D-81DC-BE4985DA0440
   :Message:  [[message://20100325220253.GA23265@jirafa.cyrius.com][Specifying commodity price and total]]
   :Submitter: Martin Michlmayr <tbm@cyrius.com>
   :CREATED:  [2010-03-26 Fri 22:17]
   :END:
** WONTFIX [[bug:214][#214]] Question about credit card transactions
   - State "WONTFIX"    from "TODO"       [2010-06-01 Tue 18:02]
   I am using ledger v2.6.2 on Ubuntu9.10 Karmic Koala. I am trying to do a
   script (bash) to show a pie chart that show where I spent my money payed in
   my credit card in this current month. I was trying to start with:
   #+begin_src sh
   ledger --totals --effective -r --sort d -d "d>[2010/5/04]"  -e 2010/6/05  reg Liabilities:CREDITCARD:VISA
   #+end_src
   :OUTPUT:
   2010/05/06 Happy Hour Prime     Expenses:Bar_Rest           $-80.11 $-2930.41
   2010/05/06 Matambre             Ex:Al:Trabalho              $-17.28 $-2947.69
   ...... (hidden)
   2010/06/03 Fonte Sta Efigenia.. Expenses:Eletro             $-11.00 $-1860.65
   2010/06/04 Teste credit card    Expenses:Eletro            $-100.00 $-1960.65
   2010/07/04 Viagem Niver Mae     Li:CREDITCARD:VISA          $142.00 $-1818.65
   2010/07/04 Presente Niver Dani  Li:CREDITCARD:VISA           $49.96 $-1768.69
   2010/07/04 Caixa de som Renau.. Li:CREDITCARD:VISA           $93.34 $-1675.35
   :END:

   After that. I am think to add "-j" option and use gnuplot to do the job.

   The first problem is that option "-r" does not output related accounts when
   I use "--effective" options together. Bellow, It follows a example of my
   ledger file
   #+begin_src ledger
   2010/05/06 *  Happy Hour Prime
    Expenses:Bar_Rest                           $80.11
    Liabilities:CREDITCARD:VISA

   2010/05/06 *  Matambre
    Expenses:Alimentacao:Trabalho               $17.28
    Liabilities:CREDITCARD:VISA

   2010/04/14 *  Caixa de som Renault
    Expenses:Carro:Celta                       $280.00
    Liabilities:CREDITCARD:VISA                $-93.33 ; [=2010/05/04]
    Liabilities:CREDITCARD:VISA                $-93.33 ; [=2010/06/04]
    Liabilities:CREDITCARD:VISA                $-93.34 ; [=2010/07/04]
   #+end_src
   :PROPERTIES:
   :ID:       F5956145-BD8C-46EF-94FF-01953799EC47
   :Submitter: leandroohf <leandroohf@gmail.com>
   :Message:  [[message://8ecce8dd-97bc-49d3-871b-cc55fc40b193@v12g2000prb.googlegroups.com][credit card]]
   :CREATED:  [2010-05-31 Mon 14:38]
   :END:
** WONTFIX [[bug:220][#220]] In output intermediate, do not reduce prices to one per day
   - State "WONTFIX"    from "TODO"       [2010-06-01 Tue 17:05]
   Just output them all in the proper order.
   :PROPERTIES:
   :ID:       412B13B5-9155-433F-B7AA-26F226D93D20
   :CREATED:  [2010-05-31 Mon 01:13]
   :END:
** WONTFIX [[bug:326][#326]] Strip out quotes in the options parser
   - State "WONTFIX"    from "TODO"       [2010-06-24 Thu 01:54]
   This allows people to copy and paste option settings directly into their
   .ledgerrc file.
   :PROPERTIES:
   :ID:       8EB6E995-6815-4EC4-9019-9B162DE27FE1
   :Submitter: ed <ed.temp.01@gmail.com>
   :Message:  [[message://1d1ff6f1-3445-4d4b-9ef0-dfd510405e47@u26g2000yqu.googlegroups.com][Re: Init file doesn't support file --input-date-format]]
   :CREATED:  [2010-06-11 Fri 17:25]
   :END:
** WONTFIX [[bug:351][#351]] print command puts tag in same line as payee
   - State "WONTFIX"    from "TODO"       [2011-06-20 Mon 00:34] \\
     This is actually by design, if the note (whatever follows ;) is short
     enough.  The object of print is not to exactly replicate what you wrote
     in the ledger file.
   :PROPERTIES:
   :ID:       EAF396BD-3A6C-4209-82C2-08D102A725B6
   :CREATED:  [2010-06-20 Sun 14:51]
   :ARCHIVE_TIME: 2011-06-20 Mon 00:35
   :ARCHIVE_CATEGORY: Bugs
   :END:
** WONTFIX [[bug:490][#490]] Pull request: Next [jwiegley/ledger GH-22]
- State "WONTFIX"    from "TODO"       [2012-02-28 Tue 03:08]
   :PROPERTIES:
   :ID:       AE12485D-BD34-4DC3-8938-CBDF34560EB6
   :CREATED:  [2011-02-28 Mon 01:32]
   :Message:  [[message://jwiegley/ledger/pull/22@github.com][{GitHub} Next {jwiegley/ledger GH-22}]]
   :Submitter: cypok <noreply@github.com>
   :Date:     Sun, 27 Feb 2011 01:58:04 -0800
   :END:
** WONTFIX [[bug:519][#519]] ledger reg expr 'code > 100' breaks
- State "WONTFIX"    from "TODO"       [2012-03-11 Sun 05:18] \\
  Use int(code) for something like this.
   :OUTPUT:
   Hermes ~/src/ledger $ ./ledger reg expr 'code > 100'
   While parsing value expression:
     (code > {100})

   Error: Unexpected expression token '{'
   :END:
   :PROPERTIES:
   :ID:       6B7C2D8A-6620-44C3-B8C1-3A897F84604E
   :CREATED:  [2011-04-20 Wed 19:33]
   :END:
** WONTFIX [[bug:592][#592]] 'print' command does not handle multiple spaces in the payee
- State "WONTFIX"    from "TODO"       [2011-11-22 Tue 23:45]
  :PROPERTIES:
  :ID:       EC6FCE89-CFFD-4EC0-9882-1D2F0F94C2DD
  :CREATED:  [2011-11-01 Tue 10:06]
  :Date:     Thu, 27 Oct 2011 20:18:21 -0700
  :Message:  [[message://jwiegley/ledger/issues/44@github.com][{ledger} print command does not handle multiple spaces in the payee]]
  :Submitter: Peter Ross <reply+i-2075303-b72936dde164d8d4ce9bb65f0ae35544d621b8a8@reply.github.com>
  :END:
** WONTFIX [[bug:651][#651]] The - query prefix character no longer excludes accounts
- State "WONTFIX"    from "TODO"       [2012-02-28 Tue 03:36] \\
  This is expected behavior now that options can occur anywhere.
Blast from the past:  the "-" thing no longer works in 3.0 is this a
bug or deprecated?
:OUTPUT:
12:01:43 ~/FinanceData (master)> ledger bal Expenses -Expenses:Drinks
Error: Illegal option -x
13:58:53 ~/FinanceData (master)> ledger bal Expenses
-"Expenses:Drinks"
Error: Illegal option -x
:END:
:PROPERTIES:
:ID:       ED644B36-64CC-403F-B196-C9CD6FB66D23
:CREATED:  [2011-12-14 Wed 17:18]
:Date: Wed, 14 Dec 2011 12:59:46 -0800 (PST)
:Message: [[message://4c90b360-8e91-4154-a5ea-8e8d47203309@h3g2000yqa.googlegroups.com][Re: account exclusion]]
:Submitter: enderw88 <enderw88@gmail.com>
:END:
** WORKSFORME [#A] Corrupted double-linked list in the register report
   - State "WORKSFORME" from "WAITING"    [2009-10-27 Tue 04:38]
   - State "WAITING"    from "TODO"       [2009-10-26 Mon 16:26] \\
     I'm waiting on a test case to come back from the user, as I've never seen this
     behavior.
   :PROPERTIES:
   :ID:       8C22A64E-6095-4933-9D66-FA970CCD1590
   :Message:  message://4AA8F383.3010801@gmail.com
   :CREATED:  [2009-10-03 Sat 03:23]
   :END:
** WORKSFORME [#A] Minor inaccuracies in 2.6.1
   - State "WORKSFORME" [2009-02-01 Sun 00:41] \\
     This works as expected in 3.0.
   Since moving to 2.6.1, I'm still having some old posts which are
   showing extra pennies here and there. I've simplified my file to the
   following. Note that in my sell xact, I'm using a format that someone
   mentioned on this list a long time ago which allows me to keep track of
   capital gains. Is this still the format I should be using?
   :DATA:
   2006/03/30 BUY VVVVV
   Assets:Investments:Principal:VVVVV  0.99 VVVVV @ $34.07
   Assets:Investments:Principal:VVVVV  0.10 VVVVV @ $34.76
   Assets:Investments:Principal            $-37.21

   2007/10/08 SELL VVVVV
   Assets:Investments:Principal:VVVVV  -1.09 VVVVV @ $34.09
   Assets:Investments:Principal:VVVVV   1.09 VVVVV @ $37.51
   Assets:Investments:Principal:VVVVV  -1.09 VVVVV @ $37.51
   Assets:Investments:Principal          $40.89
   Income:Capital Gains:NT
   :END:
   Yeah... weird, made-up numbers, but it shows the bug :-)
   :OUTPUT:
   [22:25:47 vinod]:~/data $ ledger -f vk1.dat bal Ass.*VVVVV
   --------------------
                  0
   :END:
   so far so good.

   :OUTPUT:
   [22:26:36 vinod]:~/data $ ledger -f vk1.dat -V bal Ass.*VVVVV
             $-0.01  Assets:Investments:Principal:VVVVV
   --------------------
             $-0.01
   :END:
   Now, I would expect this to be 0 as well, not $-0.01.

   :OUTPUT:
   [22:26:39 vinod]:~/data $ ledger -f vk1.dat -Vs bal
              $3.67  Assets:Investments:Principal
             $-0.01    VVVVV
           $-3.7319  Income:Capital Gains:NT
   --------------------
             $-0.06
   :END:
   :PROPERTIES:
   :Submitter: Vinod Kurup <vvkurup@gmail.com>
   :Version:  2.6.1
   :ID:       9211CFCF-8861-4E60-A501-75B2CB5DE8B1
   :CREATED:  [2009-09-28 Mon 20:32]
   :END:
** WORKSFORME [#A] The --account option is not working for metadata                      :ATTACH:
   - State "WAITING"    from "STARTED"    [2010-01-18 Mon 02:40] \\
     This is working for me, but I want to confirm with Russell.
   :LOGBOOK:
   CLOCK: [2010-01-18 Mon 02:38]--[2010-01-18 Mon 02:40] =>  0:02
   :END:
   #+begin_src sh
   ./ledger -f AISER0033.dat bal
   #+end_src
   :OUTPUT:
              $10.44  Internal:Travel
              $44.24  Projects:Meals
             $-54.68  Source:Visa
   --------------------
                   0
   :END:

   #+begin_src sh
   ./ledger -f AISER0033.dat reg
   #+end_src
   :OUTPUT:
   09-Sep-27 HUDSON NEWS HOUSTN .. Source:Visa                  $-6.55       $-6.55
                                Projects:Meals                $6.55            0
   09-Sep-27 PEET'S COFFEE & TEA.. Source:Visa                  $-2.44       $-2.44
                                Projects:Meals                $2.44            0
   09-Sep-28 FUSIA NEW YORK, NY    Source:Visa                 $-15.25      $-15.25
                                Projects:Meals               $15.25            0
   09-Sep-29 BALUCHI'S NEW YORK,.. Source:Visa                 $-20.00      $-20.00
                                Projects:Meals               $20.00            0
                                Source:Visa                 $-10.44      $-10.44
                                Internal:Travel              $10.44            0
   :END:

   #+begin_src sh
   ./ledger -f AISER0033.dat bal '%ER=AISER0033'
   #+end_src
   :OUTPUT:
              $44.24  Projects:Meals
             $-44.24  Source:Visa
   --------------------
                   0
   :END:

   #+begin_src sh
   ./ledger -f AISER0033.dat bal '%ER=AISER0036'
   #+end_src
   :OUTPUT:
              $10.44  Internal:Travel
             $-10.44  Source:Visa
   --------------------
                   0
   :END:

   #+begin_src sh
   ./ledger -f AISER0033.dat bal '--account=tag("ER")'
   #+end_src
   No output?!
   :PROPERTIES:
   :ID:       CB3FFE90-6C53-438C-8A87-4D7616782FAE
   :Attachments: russell-bug.zip.gpg bug.dat
   :CREATED:  [2010-01-04 Mon 16:57]
   :END:
** WORKSFORME [#A] Thomas is experiencing a crash when running the balance command
   - State "WORKSFORME" [2008-08-17 Sun 06:32] \\
     Thomas can't reproduce this anymore, after I logged into his machine to try
     and debug it directly.
   [[message://a8a10a0808160351v3f407203tf6fc1b87b3b4eef7@mail.gmail.com][Stack trace]]
   :PROPERTIES:
   :ID:       D0D130E3-EDC0-4D9F-A77A-0B62E115D25A
   :CREATED:  [2008-08-16 Sat]
   :END:
** WORKSFORME [#A] [[bug:203][#203]] Problem with fixed commodities and rounding
   - State "WORKSFORME" from "TODO"       [2010-06-08 Tue 05:13]
   I run the following command and get an error
    :OUTPUT:
    $ ~/personal/workspaces/ledger/ledger -f ledger.dat bal
    While parsing file "ledger.dat", line 37:
    While balancing transaction from "ledger.dat", lines 35-37:
    2010/01/22  Marketing B
        Expenses:Marketing              55EUR {=$1.81818181818}
        Liabilities:Accounts Payable    -$100
    Unbalanced remainder is:
                    $10
    Amount to balance against:
                   $110
    Error: Transaction does not balance
    :END:

    From what I understand I should be using the rate 1.81818181818 to convert
    the 55 euros into 100 dollars.  However this doesn't seem to be happening.
    Here is the full ledger file:
   #+begin_src sh
    2009/01/01      Invoice A
           Assets:Accounts Payable         $1000
           Income:Sales

    2009/01/21      Payment Invoice A
           Assets:NAB                      $1000
           Assets:Accounts Receivable

    2009/01/22      Pay expenses
           Expenses:Payroll                $800
           Assets:NAB

    2009/01/22      Marketing A
           Expenses:Marketing              50EUR {=$2}
           Liabilities:Accounts Payable    -$100

    2009/01/23      Pay MC Marketing
           Assets:NAB                      -$100
           Liabilities:Accounts Payable

    ;-------------------------------------------------------

    2010/01/01      Invoice B
           Assets:Accounts Payable         $1000
           Income:Sales

    2010/01/21      Payment Invoice B
           Assets:NAB                      $1000
           Assets:Accounts Receivable

    2010/01/22      Pay expenses
           Expenses:Payroll                $800
           Assets:NAB

    2010/01/22      Marketing B
           Expenses:Marketing              55EUR {=$1.81818181818}
           Liabilities:Accounts Payable    -$101

    2010/02/23      Pay MC Marketing
           Assets:NAB                      -$100
           Liabilities:Accounts Payable
   #+end_src

    Hope someone can explain to me what I'm doing wrong.

    I also tried to use the fixed syntax:
   #+begin_src sh
    fixed EUR $1.81818181818
    ....
    end fixed
   #+end_src
    but that always reported a parse error.
   :PROPERTIES:
   :ID:       61AE3B0B-751B-4EBD-98BB-5DB3BB7782AA
   :Message:  [[message://1582b9d81002162123g2cb7ddf5vef3739a46e277699@mail.gmail.com][Problem using the fixed rate commodity syntax]]
   :Submitter: Peter Ross <peter@emailross.com>
   :CREATED:  [2010-02-17 Wed 01:39]
   :END:
** WORKSFORME [#A] [[bug:332][#332]] Assert failure when using tag in a limit expression
   - State "WORKSFORME" from "TODO"       [2010-06-14 Mon 21:06]
   - State "TODO"       from "WORKSFORME" [2010-06-14 Mon 17:32]
   - State "WORKSFORME" from "DONE"       [2010-06-13 Sun 18:59]
   - State "DONE"       from "TODO"       [2010-06-13 Sun 18:59]
   :PROPERTIES:
   :ID:       BD7C93C2-5C20-4A48-9BEE-5E3975D82D34
   :CREATED:  [2010-06-13 Sun 05:32]
   :END:
** WORKSFORME [#A] [[bug:388][#388]] Can't build next branch OS X 10.6.4 (Intel)
- State "WORKSFORME" from "TODO"       [2012-02-27 Mon 22:53]
   :PROPERTIES:
   :ID:       0E257D11-B836-4ACF-A937-7DEC4C0F28C0
   :CREATED:  [2011-06-14 Tue 19:21]
   :END:
** WORKSFORME [#A] [[bug:426][#426]] ledger --budget reg|wc -l depends on order of transactions
   - State "WORKSFORME" from "TODO"       [2011-06-20 Mon 00:15] \\
     Both reports generate 14 lines for me.
   I'm experiencing a weird behaviour with the test ledger file to be found at
   the end of this message. Saving it as the default ledger file, and running
   #+begin_src sh
   ledger -b 2010/09 -e 2010/12 --budget --sort date reg Dépense
   #+end_src
   through Ledger 3.0.0-20100623 displays only 8 lines.  Now, surprisingly
   enough, when moving the transaction "2010/11/05 * FAI" below the
   transaction "2010/08/05 * FAI", the same command
   #+begin_src sh
   ledger -b 2010/09 -e 2010/12 --budget --sort date reg Dépense
   #+end_src
   displays 14 lines.

   #+begin_src ledger
   ; -*- ledger -*-

   N €
   C 655957 FCFA = 1000 €

   ~ Monthly
    Dépense:Nourriture                      300
    Dépense:Transport                       300
    Dépense:Communication:Internet           23
    Actif:Disponibilité

   ; Dépenses régulières
   2010/09/06 * FAI
    Dépense:Communication:Internet       23.92
    Actif:Disponibilité:Ccp02
   2010/11/05 * FAI
    Dépense:Communication:Internet            23.92
    Actif:Disponibilité:Ccp02
   2010/08/05 * FAI
    Dépense:Communication:Internet       23.92
    Actif:Disponibilité:Ccp02

   2010/11/01 * FAI2
    Dépense:Communication:Internet      10.75
    Actif:Disponibilité:Ccp02
   2010/11/01 * Visa ?
    Dépense:Frais de service bancaire              1
    Actif:Disponibilité:Ccp02
   2010/10/04 * FAI2
    Dépense:Communication:Internet      10.92
    Actif:Disponibilité:Ccp02
   2010/10/04 * Visa ?
    Dépense:Frais de service bancaire              1
    Actif:Disponibilité:Ccp02
   2010/09/03 * FAI2
    Dépense:Communication:Internet      11.71
    Actif:Disponibilité:Ccp02
   2010/09/03 * Visa ?
    Dépense:Frais de service bancaire              1
    Actif:Disponibilité:Ccp02
   2010/08/03 * FAI2
    Dépense:Communication:Internet      11.49
    Actif:Disponibilité:Ccp02
   2010/08/03 * Visa ?
    Dépense:Frais de service bancaire              1
    Actif:Disponibilité:Ccp02
   2010/07/05 * FAI2
    Dépense:Communication:Internet      12.11
    Actif:Disponibilité:Ccp02
   2010/07/05 * Visa ?
    Dépense:Frais de service bancaire              1
    Actif:Disponibilité:Ccp02
   #+end_src
   :PROPERTIES:
   :ID:       048246B7-CA7A-42E7-A460-8FB02EDAA016
   :Submitter: Nicolas Girard <girard.nicolas@gmail.com>
   :Message:  [[message://3547a240-4f80-405b-8b8a-e04717b583d9@t13g2000yqm.googlegroups.com][ledger --budget reg |wc -l depends on the order of the transactions]]
   :CREATED:  [2010-11-10 Wed 16:29]
   :ARCHIVE_TIME: 2011-06-20 Mon 00:25
   :ARCHIVE_CATEGORY: Bugs
   :END:
** WORKSFORME [#A] [[bug:437][#437]] Crash when using automatic rules                                :blocker:
   - State "WORKSFORME" from "TODO"       [2011-06-20 Mon 00:23] \\
     I cannot reproduce this.
   - Note taken on [2011-06-15 Wed 01:01] \\
     It doesn't look to be very informative:
     :OUTPUT:
     (gdb) backtrace
     #0  0x00000001000fd462 in ledger::post_t::date ()
     #1  0x000000010010af79 in ledger::(anonymous
     namespace)::get_wrapper<&(ledger::(anonymous
     namespace)::get_date(ledger::item_t&))> ()
     :END:

     If that helps, cool. Otherwise I'm building next right now with debugging
     symbols and I'll let you know if it's still happening.
   - Note taken on [2011-02-12 Sat 14:15] \\
     Interesting. I built the next branch from scratch and found a much more
     useful error message. I have a periodic transaction that it can't parse:
     :OUTPUT:
     While parsing file "/Users/peter/ledger.txt", line 29:
     While evaluating value expression:
      date
     While applying automated transaction from "/Users/peter/ledger.txt",
     lines 10-12:
     = expr date=>[2010/02/10] && account =~ /^Expenses:(Cable|Utils)/ && account !~ /Expenses:Utils:Water/
       $account                                     -0.5
       Assets:Receivable:Andrew                      0.5
     While parsing periodic transaction:
     ~ monthly
        Expenses:Cable                            $37.00
        Expenses:Food                            $600.00
        Expenses:Insurance:Car                    $81.15
        Expenses:Insurance:Fees                    $1.00
        Expenses:Insurance:Life                   $50.00
        Expenses:Interest:Car                     $25.00
        Expenses:Interest:Student                $150.00
        Expenses:Rent                            $650.00
        Expenses:Utils:Electric                   $50.00
        Expenses:Utils:Gas                        $50.00
        Assets
     Error: Assertion failed in "src/item.cc", line 535: ledger::string
     ledger::item_context(const ledger::item_t&, const ledger::string&):
     len > 0
     :END:

     Not really sure what that means. If I comment out the periodic transaction
     everything works again, except the automatic transaction is matching every
     transaction, not just the ones that the expression should match.
   I have the following automatic rule at the top of my ledger file that
   automatically splits expenses with my roommate. It worked great under 2.6
   but it's stopped working under 3.0. How do I convert it to work under 3?
   #+begin_src sh
   ;; starting on 2010/02/10, all util and cable transactions automatically
   ;; get half of their value assigned to andrew

   = d>=[2010/02/10] & /^(?:Expenses:(Cable|Utils))/ & !/Expenses:Utils:Water/
     $account                                     -0.5
     Assets:Receivable:Andrew            0.5
   #+end_src

   On a further note, where would I go in the source to learn about the filter
   language?  I've seen people post snippets but as far as I can tell there's
   no comprehensive docs yet, and my shallow dives into the source haven't
   turned up anything useful.
   :PROPERTIES:
   :ID:       E51310FF-3548-45AE-AEFF-57B800E8A304
   :Submitter: Peter Keen <peter.keen@bugsplat.info>
   :Message:  [[message://AANLkTinY_1OpT4OeSNFn3B7oXnnqZ%3DAcgs-4rya1OZPM@mail.gmail.com][Re: Automatic rules and 3.0]]
   :CREATED:  [2010-11-21 Sun 23:03]
   :ARCHIVE_TIME: 2011-06-20 Mon 00:26
   :ARCHIVE_CATEGORY: Bugs
   :END:
** WORKSFORME [#A] [[bug:440][#440]] Complex command causes core dump                                :blocker:
   - State "WORKSFORME" from "TODO"       [2011-06-20 Mon 00:16] \\
     I cannot reproduce this core dump.
   - Note taken on [2011-03-07 Mon 15:05] \\
     > for run command, i used the following args:

     #+begin_src sh
     run --args-only reg --group-by=account --related --subtotal --file ~/src/ledger/archive/speed-test.dat --exchange=€ --decimal-comma
     #+end_src

     > in gdb, just before "bt", I get this output:

     :OUTPUT:
     Program received signal SIGSEGV, Segmentation fault.
     0x000000000055d44e in ledger::temporaries_t::clear (this=0x1f1f8b0)
         at src/temps.cc:122
     122            post.xact->remove_post(&post);

     > in gdb, the call to "bt" command give this output:

     #0  0x000000000055d44e in ledger::temporaries_t::clear (this=0x1f1f8b0)
         at src/temps.cc:122
     #1  0x000000000051727d in ledger::display_filter_posts::clear (
         this=0x1f1f830) at src/filters.h:543
     #2  0x000000000048a5b8 in ledger::item_handler<ledger::post_t>::clear (
         this=0x1f1feb0) at src/chain.h:86
     #3  0x0000000000517706 in ledger::changed_value_posts::clear (
         this=0x1f1feb0) at src/filters.h:606
     #4  0x000000000048a5b8 in ledger::item_handler<ledger::post_t>::clear (
         this=0x1f1ffb0) at src/chain.h:86
     #5  0x0000000000516851 in ledger::calc_posts::clear (this=0x1f1ffb0)
         at src/filters.h:400
     #6  0x000000000048a5b8 in ledger::item_handler<ledger::post_t>::clear (
         this=0x1f20b10) at src/chain.h:86
     #7  0x0000000000501a21 in ledger::subtotal_posts::clear (this=0x1f20b10)
         at src/filters.h:676
     #8  0x000000000048a5b8 in ledger::item_handler<ledger::post_t>::clear (
         this=0x1f20320) at src/chain.h:86
     #9  0x0000000000516e84 in ledger::related_posts::clear (this=0x1f20320)
         at src/filters.h:498
     #10 0x00000000005086f8 in ledger::post_splitter::flush (this=0x1f20c10)
         at src/filters.cc:61
     #11 0x000000000048b202 in ledger::item_handler<ledger::post_t>::flush (
         this=0x7fffffffd520) at src/chain.h:75
     #12 0x0000000000509453 in ledger::pass_down_posts::pass_down_posts (
         this=0x7fffffffd520, handler=..., iter=...) at src/filters.cc:102
     #13 0x000000000047032a in ledger::report_t::posts_report (this=0x1270480,
         handler=...) at src/report.cc:321
     #14 0x0000000000497303 in ledger::reporter<ledger::post_t,
     boost::shared_ptr<ledger::item_handler<ledger::post_t> >,
     &(ledger::report_t::posts_report)>::operator() (this=0x1f1e630, args=...) at
     src/report.h:1024
     #15 0x00000000004953e0 in
     boost::detail::function::function_obj_invoker1<ledger::reporter<ledger::post_t,
     boost::shared_ptr<ledger::item_handler<ledger::post_t> >,
     &(ledger::report_t::posts_report)>, ledger::value_t,
     ledger::call_scope_t&>::invoke (function_obj_ptr=..., a0=...)
         at /usr/include/boost/function/function_template.hpp:132
     #16 0x000000000044993e in boost::function1<ledger::value_t,
     ledger::call_scope_t&>::operator() (this=0x7fffffffd7b0, a0=...)
         at /usr/include/boost/function/function_template.hpp:1013
     #17 0x000000000042bbb3 in ledger::global_scope_t::execute_command (
         this=0x126db60, args=..., at_repl=false) at src/global.cc:232
     #18 0x000000000042bd0f in ledger::global_scope_t::execute_command_wrapper (
         this=0x126db60, args=..., at_repl=false) at src/global.cc:242
     #19 0x000000000041b9bc in main (argc=10, argv=0x7fffffffe1f8,
         envp=0x7fffffffe250) at src/main.cc:121
     :END:
   - Note taken on [2011-03-07 Mon 14:52] \\
     From Thierry ([[message://AANLkTi%3Dr%2BgibQW-nv%3Dea7VkBRXk3die4-4XVYMfPq3Kd@mail.gmail.com][Re: core dump]]): Sorry for late testing, but unfortunately,
     this is not solved on my machine.

     The command still produces a "Segmentation fault" without any other help.
     Should I try with a debug version of ledger? Can you remind me how to do
     it?
   - State "TODO"       from "DONE"       [2011-03-07 Mon 14:51]
   - State "DONE"       from "STARTED"    [2011-02-10 Thu 23:00]
   - State "TODO"       from "STARTED"    [2011-02-09 Wed 14:42]
   :LOGBOOK:
   CLOCK: [2011-02-10 Thu 20:35]--[2011-02-10 Thu 22:24] =>  1:49
   CLOCK: [2011-02-09 Wed 14:13]--[2011-02-09 Wed 14:42] =>  0:29
   :END:
   #+begin_src sh
   ledger --args-only reg --group-by=account --related --subtotal --file ~/src/ledger/archive/speed-test.dat --exchange=€ --decimal-comma
   #+end_src
   :PROPERTIES:
   :ID:       CEE57FBC-DF19-40DD-901D-68B1AEC29888
   :Submitter: Thierry Daucourt <thierry.daucourt@free.fr>
   :Message:  [[message://AANLkTimK1QtZdzAyVKV7h6T0OeeTXG0fgn5pr0HfVxYn@mail.gmail.com][core dump]]
   :CREATED:  [2010-08-19 Thu 23:35]
   :ARCHIVE_TIME: 2011-06-20 Mon 00:27
   :ARCHIVE_CATEGORY: Bugs
   :END:
** WORKSFORME [#A] [[bug:503][#503]] Abort trap on MacOS 10.6.7                                      :blocker:
- State "WORKSFORME" from "TODO"       [2012-02-27 Mon 23:11]
   :PROPERTIES:
   :ID:       CDEDA0D4-A7D1-4BEC-B8C6-F93EA8FFE305
   :CREATED:  [2011-04-01 Fri 18:58]
   :Message:  [[message://4D95020C.9090801@gmail.com][Re: Abort trap on MacOS 10.6.7]]
   :Submitter: Michael Norrish <michael.norrish@gmail.com>
   :Date:     Fri, 01 Apr 2011 09:37:00 +1100
   :END:
** WORKSFORME 'xact' sometimes produces transactions without commodities
   - State "WORKSFORME" from "TODO"       [2009-06-28 Sun 15:25]
   :PROPERTIES:
   :ID:       0134251E-89B8-4F66-9B9C-253F6786E3A3
   :CREATED:  [2009-03-03 Tue 01:04]
   :END:
** WORKSFORME --flat gives no output
   This is expected behavior.
   :PROPERTIES:
   :ID:       A2023850-75D9-4DCA-AF97-4894037FCA13
   :Message:  [[message://7528969d-341e-42f5-999b-1ba819582053@v20g2000yqv.googlegroups.com][--flat gives no output]]
   :CREATED:  [2010-04-04 Sun 15:12]
   :END:
** WORKSFORME Balance of virtual transactions depends on amount syntax
   - State "WORKSFORME" from "TODO"       [2010-05-22 Sat 20:49] \\
     This is expected behavior.
   - Note taken on [2010-03-14 Sun 04:37] \\
     He amended: [[message://5aa7e7a0-fe3b-4bf3-9405-ba0fb3c08c97@y17g2000yqd.googlegroups.com][Re: balance of virtual transactions depends on amount syntax]]
   :PROPERTIES:
   :ID:       6DB20CAE-C7B0-44F8-BA47-A47656013596
   :Message:  [[message://709de76d-34dd-430b-8af8-103416083833@c16g2000yqd.googlegroups.com][balance of virtual transactions depends on amount syntax]]
   :CREATED:  [2010-03-14 Sun 04:37]
   :END:
** WORKSFORME Forecasting command with -Y doesn't do any forecasting
   - State "WORKSFORME" from "TODO"       [2009-10-26 Mon 21:09] \\
     This is working now in 3.0.
   The command is:
   :SCRIPT:
   ledger -Y --forecast 'T>0' reg food
   :END:
   Doesn't do any forecasting!  If the -Y is dropped it does.
   :PROPERTIES:
   :Version:  2.6
   :Ticket:   28
   :ID:       E2DF7C6C-BA02-4F3D-8C3C-B73F8BC30CD6
   :CREATED:  [2007-12-10 Mon]
   :END:
** WORKSFORME The print command can generate unbalanced transactions                     :ATTACH:
   - State "WORKSFORME" from "TODO"       [2010-05-22 Sat 18:51] \\
     This was fixed when the print command was rewritten.
   - Note taken on [2010-02-05 Fri 16:49] \\
     From [[message://20100204082006.GA4250@kerneis.info][Re: ledger print does not output implicit lines]]:

     I narrowed the problem with "ledger print".  It also happens with "ledger
     entry" by the way (I guess the code is shared).  The problem is when you
     have custom dates for some postings:
     :OUTPUT:
     $ cat test
     2010/01/01 Test entry
           Foo:Bar              $ 10.00 ; [2010/01/02]
           Bip:Bop
     $ ledger -f test print
     2010/01/01 Test entry
        Bip:Bop
     2010/01/01 Test entry
        Foo:Bar                                  $ 10.00  ; [2010/01/02]
     $ ledger -f test entry 2010/02/01 "Test entry"
     2010/02/01 Test entry
        Foo:Bar                                  $ 10.00  ; [2010/01/02]
     2010/02/01 Test entry
        Bip:Bop
     :END:

     Of course, the extra header line splits the transaction in two, which
     breaks balance.
   #+begin_src sh
   ledger --exchange € print
   #+end_src
   If some lines have a date different from the transaction one, they are
   splitted in two transaction, which does not balance.
   :OUTPUT:
   $ grep 6933954 ledger.txt
   2009/11/05 * (6933954) Hamou Jean-Pierre

   $ ledger print|grep 6933954
   2009/11/05 * (6933954) Hamou Jean-Pierre
   2009/11/05 * (6933954) Hamou Jean-Pierre
   :END:
   :PROPERTIES:
   :ID:       34BD95B8-F5ED-431E-A4BD-02DA3DF66EAA
   :Submitter: Gabriel Kerneis <gabriel@kerneis.info>
   :Attachments: ledger.txt.gpg
   :CREATED:  [2010-01-18 Mon 02:56]
   :END:
** WORKSFORME [[bug:159][#159]] --unrealized also reports realized gains
   - State "WORKSFORME" from "TODO"       [2010-06-05 Sat 03:42] \\
     The meaning of "--unrealized" is simply that it *adds* unrealized gains
     to the balance report, not that it only report unrealized gains.  If you
     want that, then use --unrealized and filter on the Unrealized account.
   I've found that the "--unrealized" option reports also the "realized
   gains".  I would have expected that realized gains are not listed.
   #+begin_src ledger
   1997/10/24 * Achat
      Actif:Courant:BNP             10 FT @ 180 F
      Actif:Courant:BNP                   -1800 F

   1997/11/03 * Vente
      Actif:Courant:BNP            -10 FT @ 200 F
      Dépense:Invest:Commissions            100 F
      Actif:Courant:BNP                    1900 F
      [Revenu:Invest:Capital]      -10 FT @ 180 F
      [Revenu:Invest:Capital]       10 FT @ 200 F
   #+end_src

   :OUTPUT:
   $ ledger --european -f test_10.ledger bal -V --unrealized BNP
                 100 F  Actif:Courant:BNP
                -200 F  Equity:Unrealized Gains
   --------------------
                -100 F
   :END:
   :PROPERTIES:
   :CREATED:  [Revenu:Invest:Capital]
   :ID:       DA659A7A-C43F-4005-90F7-02DA97D864D4
   :Message:  [[message://e49c9335-d206-4ad8-9851-fed2e7e75f5b@q23g2000yqd.googlegroups.com][--unrealized reports also realized gains]]
   :Submitter: thierry <thierry.daucourt@free.fr>
   :END:
** WORKSFORME [[bug:164][#164]] --balance-format overrides --exchange
   - State "WORKSFORME" from "TODO"       [2010-06-02 Wed 01:23] \\
     You need to use %(scrub(display_total)), or just %{display_total}, with curly
     braces.  The value "total" is too raw.
   I pasted command at the end of the message. Here is a simplified scenario:

    1. First bal command report is:
       :OUTPUT:
            $180.00
            €240.38  Expenses
       :END:

    2. By adding "--exchange=€", I got:
       :OUTPUT:
            €420.38  Expenses
       :END:

    3. By adding "--balance-format='%(account);%(total)\n'", I got:
       :OUTPUT:
       Expenses;$180.00
       €240.38
       :END:

    4. by modifying "%(total)" to "%(quantity(total))", I got the error:
       :OUTPUT:
       Cannot convert a balance with multiple commodities to an amount
       :END:

    I do not understand why at point 3. the --balance-format overrides the
    output of --exchange option in point 2.  As point 3. is incorrect, this
    cause the error of point 4. I believe.

   #+begin_src ledger
    P 2008/01/01 $ €1

    2008/01/11 LIAT
       Expenses:Travel:Airfare                   $40.00
       Liabilities:MasterCard

    2008/02/05 CTX
       Expenses:Travel:Auto                     €240.38
       Liabilities:MasterCard

    2008/01/11 XYZ
       Expenses:House:Phone                     $140.00
       Liabilities:MasterCard
   #+end_src

    :OUTPUT:
    $ ledger -f test_14.ledger bal ^Expenses --collapse --no-total
                $180.00
                €240.38  Expenses
    $ ledger -f test_14.ledger bal ^Expenses --collapse --no-total --
    exchange=€
                €420.38  Expenses
    $ ledger -f test_14.ledger bal ^Expenses --collapse --no-total --
    exchange=€ --balance-format='%(account);%(total)\n'
    Expenses;$180.00
    €240.38
    $ ledger -f test_14.ledger bal ^Expenses --collapse --no-total --
    exchange=€ --balance-format='%(account);%(quantity(total))\n'
    While evaluating value expression:
     quantity(total)
     ^^^^^^^^^^^^^^^
    Error: Cannot convert a balance with multiple commodities to an amount
    :END:
   :PROPERTIES:
   :ID:       EED0AF18-0C38-42CC-9057-EB461815DDE6
   :Message:  [[message://06e4ad2e-0c00-4d08-89b9-4a1025dd569c@e6g2000yqh.googlegroups.com][--balance-format overrides --exchange]]
   :Submitter: thierry <thierry.daucourt@free.fr>
   :CREATED:  [2010-04-04 Sun 15:12]
   :END:
** WORKSFORME [[bug:168][#168]] Balance wrong because of exchange rates
   - State "WORKSFORME" from "STARTED"    [2010-06-02 Wed 01:36] \\
     This is expected behavior.  You're seeing rounding artifacts due to the
     fluctuations in price.  Use the register command to see the revaluation
     taking place.  Even better, edit your data file to specify:
     #+begin_src ledger
     D 1,000.0000 EUR
     #+end_src

     And then run the same register command again.  Even if you extend the
     precision to six decimal places, there is still rounding taking place.
     What ends up happening is that you have a specific amount of -45.67 in
     Bar getting balanced against a priced value of 45.655160, which has a
     rounding discrepancy of -0.01.
   :LOGBOOK:
    CLOCK: [2010-06-02 Wed 01:24]--[2010-06-02 Wed 01:35] =>  0:11
    :END:
    This looks like a bug in ledger v3 to me.  Why does it not balance due to
    0.01 EUR?
    :OUTPUT:
    % ledger -f - -X EUR  bal
             -45.67 EUR  Bar
              45.66 EUR  Foo
    --------------------
              -0.01 EUR
    :END:

    Input file:
   #+begin_src ledger
    D 1,000.00 EUR

    2010-03-18 Postage
     Foo        11.04 GBP @@ 12.46 EUR  ; @ 1.129 EUR
     Bar

    2010-03-20 Postage
     Foo         2.61 GBP @@  2.94 EUR  ; @ 1.127 EUR
     Bar

    2010-03-21 foo
     Foo        20.00 GBP @@ 22.52 EUR  ; @ 1.126 EUR
     Bar

    2010-03-21 bar
     Foo         6.88 GBP @@  7.75 EUR  ; @ 1.127 EUR
     Bar
   #+end_src

    Actually, it seems the problem is because the amounts in Bar are in EUR
    whereas the amounts in Foo are in GBP and because the exchange rates
    between GBP and EUR in my transacations vary, they don't balance
    (presumably ledger uses the exchange rate from the last transacation to
    compute the balance).
   :PROPERTIES:
   :ID:       DCB05AE0-3972-4F56-960D-D0BE2646E19E
   :Message:  [[message://20100410133046.GA21886@jirafa.cyrius.com][Balance wrong because of exchange rates]]
   :Submitter: Martin Michlmayr <tbm@cyrius.com>
   :CREATED:  [2010-04-11 Sun 03:55]
   :END:
** WORKSFORME [[bug:171][#171]] Path handling issues in master
   - State "WORKSFORME" from "WAITING"    [2010-06-01 Tue 17:59] \\
     I can't get this to happen.
   - State "WAITING"    from "TODO"       [2010-05-22 Sat 22:08] \\
     I need more details.
   I'm getting a few different errors with the git master version - most
    specifically, it seems that if I use a different path to the file, or put
    the file path in quotes, I either get a different error, or it actually
    works:
    :OUTPUT:
    $ ./ledger -V
    Ledger master-0-g7ca8149, the command-line accounting tool
    :END:
    :OUTPUT:
    $ ./ledger -f ~/totals.ledger bal
    Assertion failed: (false), function visitation_impl, file
    /opt/local/include/boost/variant/detail/visitation_impl.hpp, line 203.
    Abort trap
    :END:
    :OUTPUT:
    $ cd ~
    $ ledger -f totals.ledger bal
    Bus error
    :END:
    :OUTPUT:
    $ cd ~/customer-data
    $ ledger -f ledgers/total.ledger bal
    Assertion failed: (this->is_initialized()), function get, file
    /opt/local/include/boost/optional/optional.hpp, line 578.
    Abort trap
    :END:
    :OUTPUT:
    $ ledger -f "ledgers/total.ledger" bal --anon
                      0  da39a3ee
             $-4,173.68    035eae60:aebe8b37
               $-550.25      0786ff3b
                $550.25      44357ae5:4b5e84be
             $-4,173.68      f9f38818
             $-1,640.78        2402ea36
               $-132.90        9be70f66
             $-2,400.00        b40e1543
              $4,173.68    d673d941:20e33862
                $550.25      97876b83
              $3,623.43      cad804ae:aebe8b37
    --------------------
                      0
    :END:
    (system is OS X 10.6.2, with ledger compiled from git, and the other
    dependencies compiled using MacPorts)
   :PROPERTIES:
   :ID:       837625AC-10DF-439E-8B30-6DEE8C41F49F
   :Message:  [[message://32ad6ed11003211731odd7d19aq2bb2e2be1fceaffa@mail.gmail.com][Path handling issues in master]]
   :Submitter: Zack Williams <zdwzdw@gmail.com>
   :CREATED:  [2010-03-26 Fri 22:24]
   :END:
** WORKSFORME [[bug:204][#204]] Problem with price conversions and -V
   - State "WORKSFORME" from "TODO"       [2010-06-09 Wed 03:14] \\
     The concept of a "default commodity" does not mean what you are thinking.
     In order to render all values in a specific commodity, you can use:
     #+begin_src sh
     ledger -X € reg Assets
     #+end_src

     The reason why -V alone doesn't do what you expect is because you never
     use it to trade either F or $ in this example.
   Below is the test file.  What is noticeable is that if I put € as my
    default currency $ is converted to F, and then F is converted to €.
   #+begin_src ledger
    D 1000,00 €
    P 1993/1/1 F 0,15244901723741037903399155737342539221320909754755 €
    P 1993/1/1 $ 6 F

    1994/1/1 Company
     Assets:Checking  10000 F
     Income:Salary

    1998/1/1 Transfer
     Assets:US account  200 $
     Assets:Checking  -1000 F

    1999/1/1 Books
     Expenses:Books  200 $
     Assets:US account

    2002/1/1 Company
     Assets:Checking  2000 €
     Income:Salary
   #+end_src

    Below is the output of ledger v2.6.2.  What surprise me is that $ in
    converted to F only, I would have expected $ to F then F to €.:
    :OUTPUT:
    thierry@rialto:~/VirtualBoxShare$ ledger -f test4.ledger -V reg Assets
    1994/01/01 Company              Assets:Checking         1524,49 €  1524,49 €
    1998/01/01 Transfer             Assets:US account          1000 F     1000 F
                                                                       1524,49 €
                                    Assets:Checking         -152,45 €     1000 F
                                                                       1372,04 €
    1999/01/01 Books                Assets:US account         -1000 F  1372,04 €
    2002/01/01 Company              Assets:Checking         2000,00 €  3372,04 €
    :END:

    Below is the output of ledger v3.  What surprise me is that I put € as my
    default currency, but this is not valued to € (actually the valuation from
    $ to F is done, but not the F to €).  Also, on the last line, the result
    is not collapsed, as it is in output of v2.6.2:
    :OUTPUT:
    thierry@rialto:~/VirtualBoxShare$ ledger3 -f test4.ledger -V reg Assets
    94-Jan-01 Company               Assets:Checking           10000 F   10000 F
    98-Jan-01 Transfer              Assets:US account          1000 F   11000 F
                                    Assets:Checking           -1000 F   10000 F
    99-Jan-01 Books                 Assets:US account         -1000 F    9000 F
    02-Jan-01 Company               Assets:Checking         2000,00 €    9000 F
                                                                      2000,00 €
    :END:
   :PROPERTIES:
   :ID:       6FC5D114-958D-493B-8879-6B9ED28224AB
   :Message:  [[message://a6e822eb-17e3-4ff3-8e41-25c1999fb871@h9g2000yqa.googlegroups.com][-V option]]
   :Submitter: thierry <thierry.daucourt@free.fr>
   :CREATED:  [2010-01-09 Sat 21:05]
   :END:
** WORKSFORME [[bug:213][#213]] Balancing problems with fixated commodity prices
   - State "WORKSFORME" from "TODO"       [2010-06-09 Wed 03:37]
   I've been playing with [[http://groups.google.com/group/ledger-cli/browse_thread/thread/e98bee73e279b3af][John's example]]:
   #+begin_src ledger
   2009/01/01 Shell
       Expenses:Gasoline             11 GAL {=$2.29} @ $2.30
       Assets:Checking
   #+end_src
   > This transaction says that you bought 11 gallons priced at $2.29 per
   > gallon at a *cost to you* of $2.30 per gallon.  Ledger auto-generates a
   > balance posting in this case to Equity:Capital Losses to reflect the 11
   > cent difference, which is then balanced by Assets:Checking because its
   > amount is null.

   This example suggests that ledger will automatically balance this but when
   I put this example into ledger I get:
   :OUTPUT:
   Unbalanced remainder is:
                 $-0.11
   Amount to balance against:
                 $25.30
   :END:

   What seems to happen is that ledger makes an automatic posting to
   Equity:Capital Losses for $-0.11 but this is not taken into account when
   doing the balance.

   While trying to figure out what's going on, I worked on an example that
   (to me) is easier to understand: I start out with 10.00 EUR and then buy
   5.00 GBP at a rate of 1.4 (i.e. for 7.00 EUR).  I now have 3.00 EUR and
   5.00 GBP.  I then sell the 5.00 GBP at a rate of 1.5, i.e. for 7.50 EUR.
   So now I have 10.50 EUR and have made a 0.50 EUR gain.

   However, when I sell the money and say that my Assets:Cash goes up by 7.50
   EUR, ledger will complain that it doesn't balance.  In order for ledger to
   accept it, I have to say that it goes up by 7.00 EUR.  So what I did was
   to post 7.50 EUR to Assets:Cash and 0.50 EUR to Income:Gain.  Then ledger
   no longer complains, but when you look at "ledger bal" its off by 0.50 EUR
   because of the automatic "Equity:Capital Gains" posting ledger made.

   So it seems that the automatic Equity:Capital Loss|Gains posting is not
   taking into account for the balance.

   In addition to this bug, I wonder whether this automatic posting by ledger
   makes sense in the first place.  First of all, the name is hardcoded into
   ledger and some people may want to use a different account name.
   Secondly, you might want to use different account names depending on the
   circumstances (e.g. Expenses:Currency Loss for currency conversation, but
   Income:Capital Gains for gains when selling shares).  If you'd get rid of
   the automatic posting, people could simply write:
   #+begin_src ledger
    Assets:Cash                       -5.00 GBP {=1.4 EUR} @ 1.5 EUR
    Assets:Cash                        7.50 EUR
    Income:Gain
   #+end_src
   and it would balance.

   Anyway, my example is below.  When you run "ledger bal", you get:
   :OUTPUT:
             10.50 EUR  Assets:Cash
             -9.50 EUR  Equity
              0.50 EUR    Capital Gains
            -10.00 EUR    Opening balance
             -0.50 EUR  Income:Gain
   --------------------
              0.50 EUR   <--
   :END:
   #+begin_src ledger
   2010-01-01 Opening balance
    Assets:Cash         10.00 EUR
    Equity:Opening balance

   2010-01-20 Buy GBP
    Assets:Cash         5.00 GBP @ 1.4 EUR
    Assets:Cash

   2010-01-20 Sell GBP
    Assets:Cash                       -5.00 GBP {=1.4 EUR} @ 1.5 EUR
    Assets:Cash                        7.50 EUR
    Income:Gain                       -0.50 EUR
   #+end_src

   Note: when you remove the -0.50 EUR from Income:Gain and just leave it
   empty, ledger will not be able to balance.

   P.S. Is a loss/gain really "Equity"?  Shouldn't that be an Income or
   Expense?  I wonder why the automatic posting puts it on the Equity side.
   I didn't know you put things there except for the opening balance.
   :PROPERTIES:
   :ID:       6E0F6FE7-4C5C-4BA1-8915-F6D85666A98F
   :Submitter: Martin Michlmayr <tbm@cyrius.com>
   :Message:  [[message://20100531100036.GA23484@jirafa.cyrius.com][Balancing problems with fixated commodity prices]]
   :CREATED:  [2010-05-31 Mon 14:37]
   :END:
** WORKSFORME [[bug:222][#222]] tag/pop to apply metadata does not work
   - State "WORKSFORME" from "STARTED"    [2010-06-10 Thu 04:58] \\
     The metadata is there, it's just not "print"ing becasue it's not a specific
     note on the printed transaction.  This, however, would show you that the
     metadata is in effect:

       ledger print %Test

     Since that only prints entries with the metadata "Test", it prints your entry.
   :LOGBOOK:
   CLOCK: [2010-06-10 Thu 04:54]--[2010-06-10 Thu 04:57] =>  0:03
   :END:
   :PROPERTIES:
   :ID:       6343F4D3-FDEB-4812-AC9D-8D9D31B873CF
   :CREATED:  [2010-06-01 Tue 15:15]
   :END:
** WORKSFORME [[bug:323][#323]] -r does not output related accounts when using --effective
   - State "WORKSFORME" from "TODO"       [2010-06-14 Mon 00:55] \\
     Actually, this command is doing exactly what you asked it to do.  There is no
     bug here.  In your data file you have:
     #+begin_src ledger
     2010/04/14 * Caixa de som Renault
         Expenses:Carro:Celta                     $280.00
         Liabilities:CREDITCARD:VISA              $-93.33  ;  [=2010/05/04]
         Liabilities:CREDITCARD:VISA              $-93.33  ;  [=2010/06/04]
         Liabilities:CREDITCARD:VISA              $-93.34  ;  [=2010/07/04]
     #+end_src

     Now let's review your report options:

      - --effective -e 2010/06/05
        These options mean that only the first three postings will be considered
        from this transaction as matching your query.
      - Liabilities:CREDITCARD:VISA
        This query term narrows it down to the middle two.
      -r
        The -r flag causes the other two to be reported, the 1st and 4th posting.
      -d "d>[2010/05/04]"
        And this option confines the report to the last posting.

     What were you expecting to see, given these options?
   :PROPERTIES:
   :ID:       F210BB4E-DCD5-48A6-9113-677560AC3B70
   :Submitter: Leandro Henrique Oliveira Fernandes <leandroohf@gmail.com>
   :Message:  [[message://AANLkTimRG8t9ZbYC-vW69egV1uM-0vc26VQsT6JYutGe@mail.gmail.com][Re: credit card]]
   :CREATED:  [2010-06-09 Wed 18:04]
   :END:
** WORKSFORME [[bug:344][#344]] Budgeting behavior changed between 2.6 and 3.0
   - State "WORKSFORME" from "TODO"       [2010-06-21 Mon 18:51]
   2.6: http://ericbetts.org/pastebin/d488d0d79
   3.0: http://ericbetts.org/pastebin/d74668f87

   Why are these two different?
   :PROPERTIES:
   :ID:       F5D66D56-36D8-4AD1-85BB-B6E792A5A1DF
   :CREATED:  [2010-06-16 Wed 18:09]
   :END:
** WORKSFORME [[bug:516][#516]] Ledger entry takes the first entry
- State "WORKSFORME" from "DONE"       [2011-11-18 Fri 20:03]
- State "DONE"       from "TODO"       [2011-11-18 Fri 20:02]
   The `entry' command for ledger-2 made it search for the last entry of the
   chosen payee. This makes sense because the way we log transactions for any
   payee may change over time and then it is most probable that the most
   recent is what we want. If I buy food in the nearby supermarket and record
   transactions like this:
   #+begin_src ledger
   2011-01-02 SuperMarket
   Expense:Food:Groceries    10,00 PLN
   Expense:Cash
   #+end_src
   then it is sufficient to say: `ledger entry 2011-02-03 SuperMarket 20', to
   get:
   #+begin_src ledger
   2011-02-03 SuperMarket
   Expense:Food:Groceries    20,00 PLN
   Expense:Cash
   #+end_src

   However, it looks like ledger-3 (365188a1) outputs entry after finding the
   first transaction. So if the first thing I bough in the nearby supermarket
   was a hammer:
   #+begin_src ledger
   2011-02-03 SuperMarket
   Expense:Tools    12,00 PLN
   Expense:Cash
   #+end_src
   then I have to specify `Groceries' account ever after (until I buy a
   screwdriver). This wouldn't be much of a problem as 'Gr' is enough to
   ditinguish from Tools but I've got several accounts with :AtWork
   subaccounts which makes it quite cumbersome to write it everytime.
   :PROPERTIES:
   :ID:       7C148789-529A-4026-AF0E-354D9F62CC3A
   :CREATED:  [2011-05-10 Tue 09:11]
   :Message:  [[message://87bozgwym5.fsf%lukasz.stelmach@iem.pw.edu.pl][{BUG} ledger entry takes the firs entry]]
   :Submitter: =?utf-8?Q?=C5=81ukasz?= Stelmach <lukasz.stelmach@iem.pw.edu.pl>
   :Date:     Fri, 06 May 2011 00:50:42 +0200
   :END:
** WORKSFORME [[bug:543][#543]] ledger make check failure report...
- State "WORKSFORME" from "TODO"       [2012-02-28 Tue 03:13]
   - Note taken on [2011-07-08 Fri 14:16] \\
     Here is my config.log:
     [2. application/octet-stream; config.log]...

     I have Python 2.7 installed via MacPorts and it is my default python
     selected.  I don't really know/expect if that makes a difference or not.

     Or maybe something else in the config log file will shed some light...
   :PROPERTIES:
   :ID:       C246A646-6768-45AB-A36B-3CCDA2E2404B
   :CREATED:  [2011-07-06 Wed 12:14]
   :Date:     Wed, 06 Jul 2011 11:28:44 -0400
   :Message:  [[message://28CCC239-ACE4-40E5-A95C-81460729C966@mac.com][ledger make check failure report...]]
   :Submitter: Douglas Philips <dgou@mac.com>
   :END:
** WORKSFORME [[bug:585][#585]] ledger payees is not honoring its regexp argument
- State "WORKSFORME" from "TODO"       [2011-10-22 Sat 15:31]
  :PROPERTIES:
  :ID:       CC03871C-9C1A-43A3-82A7-4F18B4803E97
  :CREATED:  [2011-10-21 Fri 00:58]
  :Date:     Wed, 19 Oct 2011 20:39:54 -0700
  :Message:  [[message://CAKs9TOLTHt3gDkgr0dAaPz_btXWtmOzAwXe4=dHO=ObQH6AnLg@mail.gmail.com][{DOCS} Arguments to the payees and accounts commands]]
  :Submitter: Craig Earls <enderw88-Re5JQEeQqe8AvxtiuMwx3w@public.gmane.org>
  :END:
** WORKSFORME [[bug:614][#614]] --input-date-format does not effect convert
- State "WORKSFORME" from "TODO"       [2012-02-23 Thu 21:41] \\
  Craig Earls: I don't know what was happening earlier today, this is now
  working.
:PROPERTIES:
:ID:       1FFA2CFA-BB14-4245-9029-34E868EE3EF9
:CREATED:  [2011-12-13 Tue 19:04]
:Date: Tue, 13 Dec 2011 22:43:37 +0000
:Message: [[message://bug-614-1@http.bugs.ledger-cli.org/][{Bug 614} New: --input-date-format does not effect convert]]
:Submitter: bugzilla-daemon@mail.johnwiegley.com
:END:
** WORKSFORME ledger bal --flat --display 'depth <= 2' fails to show any accounts
   - State "WORKSFORME" from "TODO"       [2009-10-26 Mon 22:14] \\
     This is working fine in 3.0.
   It works fine without --flat, but not with.
   :PROPERTIES:
   :ID:       CEA59DB9-93E4-44A9-977C-F68A9E2D308A
   :URL:      http://github.com/jwiegley/ledger/issues#issue/2
   :CREATED:  [2009-10-26 Mon 21:32]
   :END:
** WORKSFORME next_element should honor quoting
   - State "WORKSFORME" from "STARTED"    [2010-05-23 Sun 00:49] \\
     This already works for the pricing directive.
   :LOGBOOK:
   CLOCK: [2010-05-23 Sun 00:36]--[2010-05-23 Sun 00:48] =>  0:12
   :END:
   To make this possible:
   #+begin_src ledger
   P 2009/08/20 "FOO BAR" $2
   #+end_src
   :PROPERTIES:
   :ID:       1D6EB807-6BFA-4C63-B993-930102A7AFF2
   :CREATED:  [2009-11-25 Wed 04:27]
   :END:
** INVALID [#A] [[bug:463][#463]] Question about commodity sub-total vs. total in balance
   - State "INVALID"    from "TODO"       [2011-06-20 Mon 00:23] \\
     I cannot see why the reporter thinks there is a bug here.
   I had a question about balance totals. Given this test data:
   #+begin_src ledger
   D $1,000.00
   P 2011-01-01 22:00:00-0800 TESTA $78.35
   P 2011-01-01 22:00:00-0800 TESTB $15.86
   P 2011-01-01 22:00:09-0800 TESTC $13.01

   2011/01/01 Example
     Assets:Brokerage:TESTA         188.424 TESTA @      $76.61
     Assets:Brokerage:TESTB       1,809.282 TESTB @      $15.60
     Assets:Brokerage:TESTC         384.320 TESTC @@  $5,000.00
     Assets:Brokerage:TESTC           5.306 TESTC @@     $68.18
     Equity:Opening Balances
   #+end_src

   I'm a little bit surprised that the sub-accounts reflect a difference from
   the top level account w/re to rounding the last cent:
   :OUTPUT:
   $ ledger -V -f test.dat  bal
             $48,527.27  Assets:Brokerage
             $14,763.02    TESTA
             $28,695.21    TESTB
              $5,069.03    TESTC
            $-47,728.14  Equity:Opening Balances
   --------------------
                $799.13
   :END:

   Even if --no-rounding is passed in:
   :OUTPUT:
   $ ledger -V -f test.dat --no-rounding bal
             $48,527.27  Assets:Brokerage
             $14,763.02    TESTA
             $28,695.21    TESTB
              $5,069.03    TESTC
            $-47,728.14  Equity:Opening Balances
   --------------------
                $799.13
   :END:

   Is there something off with how the data aboce is set up?  Should I be
   using be more place holders?
   :PROPERTIES:
   :ID:       3715CC11-ADFF-4F6B-9C39-C7D1077A2F83
   :Submitter: jimr <jim.robinson@gmail.com>
   :Message:  [[message://d2d528e1-33ba-49d1-bddf-53f07e9b5f1b@y19g2000prb.googlegroups.com][question about commodity sub-total vs. total in balance]]
   :CREATED:  [2011-01-05 Wed 16:20]
   :ARCHIVE_TIME: 2011-06-20 Mon 00:28
   :ARCHIVE_CATEGORY: Bugs
   :END:
** INVALID [#A] [[bug:466][#466]] Error in latest GIT version
:PROPERTIES:
:ID:       8A2DE17D-0DED-4CC9-97A5-D48FB681635A
:CREATED:  [2012-03-18 Sun 22:45]
:END:
** INVALID There is bad column alignment with certain UTF-8 characters
   - State "INVALID"    from "TODO"       [2009-11-14 Sat 02:49] \\
     This only happens in Eshell, it works fine in a Terminal window with UTF-8
     display support.
   :SCRIPT:
   ledger -f doc/sample.dat --columns=80 reg
   :END:
   :OUTPUT:
   04-May-14 Another dày in whic.. ..Bá:Ch:As:Bá:Chécking      $500.00   $-1,000.00
                                                                            50 AAPL
                                   Income:Salary              $-500.00   $-1,500.00
                                                                            50 AAPL
   04-May-14 Another dày in whic.. Ру:Ак:Ру:Русский язык     $1,000.00     $-500.00
                                                                            50 AAPL
                                   Income:Salary            $-1,000.00   $-1,500.00
                                                                            50 AAPL
   :END:
   :PROPERTIES:
   :ID:       72B0ACB4-37EB-492A-8EFE-8CC65CB66EC8
   :CREATED:  [2009-11-12 Thu 18:33]
   :END:
** INVALID [[bug:212][#212]] Question about using the same tag twice
   - State "INVALID"    from "TODO"       [2010-06-01 Tue 18:05] \\
     I answered this on the mailing list.
   I'd like to tag transacations with either foo:bar or foo:baz but some
   actually have both bar and baz.  Instead of using foo:bar:baz I'd like to
   use 2 tags for one transacation: foo:bar and foo:baz to make it easier to
   grep for things in my ledger file.
   :PROPERTIES:
   :ID:       5DCC31B1-52C8-443D-98B9-0C2D72AF561A
   :Submitter: Martin Michlmayr <tbm@cyrius.com>
   :Message:  [[message://20100529163125.GJ2679@jirafa.cyrius.com][Using the same tag twice]]
   :CREATED:  [2010-05-30 Sun 03:33]
   :END:
** INVALID [[bug:508][#508]] Register command doesn't filter anymore
- State "INVALID"    from "DONE"       [2011-11-18 Fri 20:03] \\
  Not a bug.  Works in V3 if you use --limit properly:
  #+begin_src sh
  ledger reg --limit "(account=~/Expenses/ & payee=~/Andy/)"
  #+end_src
  
  Might be some incantation that is briefer but this is very clear.
- State "DONE"       from "TODO"       [2011-11-18 Fri 20:02]
   :PROPERTIES:
   :ID:       3752B680-236C-4FAA-902F-D7EAAC980EEA
   :CREATED:  [2011-05-10 Tue 09:03]
   :Message:  [[message://bug-508-1@http.newartisans.com/bugzilla/][{Bug 508} New: Register command doesn't filter anymore]]
   :Submitter: bugzilla-daemon@mail.johnwiegley.com
   :Date:     Sun,  8 May 2011 19:34:29 -0500 (CDT)
   :END:
** INVALID [[bug:556][#556]] Value expressions do not handle significant figures correctly
- State "INVALID"    from "TODO"       [2011-11-22 Tue 17:53] \\
  Craig: Ledger is following the real world's rules for sigfigs.  Don't
  know what I was thinking.
   :PROPERTIES:
   :ID:       C5CB053F-0428-4A0F-A49D-B405984ED141
   :CREATED:  [2011-10-13 Thu 16:05]
   :Date:     Thu, 13 Oct 2011 20:32:40 +0000
   :Message:  [[message://bug-556-1@http.bugs.ledger-cli.org/][{Bug 556} New: Value expressions do not handle significant figures correctly]]
   :Submitter: bugzilla-daemon@mail.johnwiegley.com
   :END:
** INVALID [[bug:601][#601]] ledger entry command skipping digit after currency sign
- State "INVALID"    from "TODO"       [2011-11-21 Mon 20:26] \\
  $ in front of a number is a shell command that never makes it to ledger.
  Quote it or leave it off.  This is not a ledger bug.
  :PROPERTIES:
  :ID:       D07EC69C-B9C0-4144-AB1E-9BE9D2846EB3
  :CREATED:  [2011-11-15 Tue 12:50]
  :Date:     Tue, 15 Nov 2011 18:35:08 +0000
  :Message:  [[message://bug-601-1@http.bugs.ledger-cli.org/][{Bug 601} New: ledger entry command skipping digit after currency sign]]
  :Submitter: bugzilla-daemon@mail.johnwiegley.com
  :END:
** DUPLICATE [#A] The following example fails to apply automated transactions
   - State "DUPLICATE"  from "DONE"       [2009-11-09 Mon 23:30]
   - State "DONE"       from "TODO"       [2009-11-09 Mon 22:02]
   :DATA:
   = account =~ /^Assets:Cash/
     Assets:Bank:Visa                  -1
     Assets:Bank:Checking               1

   2008/01/01 January
       Expenses:One:Books          $10.00
       Expenses:One:Two:Books          $10.00
       Expenses:One:Two:Three:Books          $10.00
       Assets:Cash

   2008/01/01 January
       Assets:Cash    0
       Income:Books

   2008/01/01 January
       Assets:Cash
       Income:One:Books          $-10.00
       Income:One:Two:Books          $-10.00
       Income:One:Two:Three:Books          $-10.00
   :END:
   Doing a register report for Assets shows only the Assets:Cash line.
   :PROPERTIES:
   :ID:       C727C0E1-9996-4304-81DF-EDF03D1258F8
   :CREATED:  [2009-11-09 Mon 20:08]
   :END:
** DUPLICATE [#A] [[bug:206][#206]] Specifying exchange rate with @ doesn't led to expected result
   - State "DUPLICATE"  from "WAITING"    [2010-06-06 Sun 03:22] \\
     Duplicate of #205.
   - State "WAITING"    from "TODO"       [2010-06-04 Fri 06:16]
   - Note taken on [2010-06-02 Wed 17:02] \\
     I believe this is fixed now.  If not, could you please provide an example?
   While entering some expense reports, I found another case where specifying
   the exchange rate with @ doesn't led to the expected result because of
   rounding (I can give an example if you want).  I suppose I could simply
   enter the amounts using @@ but would like to add the conversation rate too.
   Is something like "11.04 GBP @@ 12.46 EUR ; @ 1.129 EUR" the best option
   for now or is there another trick I could use?
   :PROPERTIES:
   :ID:       CFE233D5-3D11-423F-97D4-68A0A6B10B59
   :Message:  [[message://20100410132007.GA21623@jirafa.cyrius.com][Re: Specifying commodity price and total]]
   :Submitter: Martin Michlmayr <tbm@cyrius.com>
   :CREATED:  [2010-04-11 Sun 03:55]
   :END:
** DUPLICATE [#A] [[bug:428][#428]] Build is failing on Ubuntu 10.10
:PROPERTIES:
:ID:       BF1416E9-DD0A-4ADF-BBE5-53E8A3AD244D
:CREATED:  [2012-03-18 Sun 22:45]
:END:
** DUPLICATE [#A] [[bug:429][#429]] Build is failing on Ubuntu 10.10
:PROPERTIES:
:ID:       F44A146E-F033-456A-97C9-A1F5B21D2679
:CREATED:  [2012-03-18 Sun 22:45]
:END:
** DUPLICATE 'ledger print' does not output implicit lines
   - State "DUPLICATE"  from "TODO"       [2010-01-18 Mon 03:03] \\
     Duplicates 34BD95B8-F5ED-431E-A4BD-02DA3DF66EAA
   :PROPERTIES:
   :ID:       B96C3D99-70F4-4BF4-944D-DFB10D776FC1
   :Message:  [[message://20100115103424.GA5932@kerneis.info][ledger print does not output implicit lines]]
   :Submitter: Gabriel Kerneis <gabriel@kerneis.info>
   :CREATED:  [2010-01-16 Sat 18:58]
   :END:
** DUPLICATE Ledger formats UTF-8 strings incorrectly
   The report `ledger --tail 20 reg nrl:checking` has errors in the tabulation
   because of the width of UTF-8 characters that are larger than 8-bit.
   :PROPERTIES:
   :Version:  2.6
   :Ticket:   67
   :ID:       2FE8B7B7-15A3-4F02-9B53-3A629212561A
   :CREATED:  [2008-04-11 Fri]
   :END:
** DUPLICATE Strange libboost suffix on Debian Squeeze with acprep
   - State "DUPLICATE"  from "TODO"       [2010-01-21 Thu 02:36]
   :PROPERTIES:
   :ID:       758C04DB-FECD-41DD-9A7B-B12E394B7E22
   :Message:  [[message://4b41432bd68c7_6cc63f9b2badc2fc154@fe4.rs.github.com.tmail][{GitHub} docunext sent you a message]]
   :CREATED:  [2010-01-09 Sat 21:07]
   :END:
** DUPLICATE Support multiple -f options
   - State "DUPLICATE"  [2009-01-29 Thu 15:36] \\
     Duplicated by B1E49EA5-18B9-413A-ACD6-9F9795F25722.
   So that add-in report files can be specified
   :PROPERTIES:
   :Version:  2.6
   :Ticket:   155
   :ID:       146B0BE4-C5EB-4A5B-A332-FE512B40D375
   :CREATED:  [2008-04-11 Fri]
   :END:
** DUPLICATE [[bug:191][#191]] Optimize conversion of commodities
   - State "DUPLICATE"  from "TODO"       [2010-06-02 Wed 06:52] \\
     Duplicate of #163.
   Thierry has proven that using --exchange can increase reporting times from
   1 second to over 25 minutes.
   :PROPERTIES:
   :ID:       567780B6-EABE-405E-8AB4-46F201AC42B3
   :CREATED:  [2010-05-23 Sun 17:04]
   :END:
** DUPLICATE [[bug:505][#505]] Ampersand in GnuCash transaction creates conversion problem
- State "DUPLICATE"  from "TODO"       [2012-03-11 Sun 05:21] \\
  Duplicate of #417
   :PROPERTIES:
   :ID:       D567247E-F077-40E2-BE9A-C010593DD796
   :CREATED:  [2011-04-20 Wed 18:04]
   :Message:  [[message://bug-505-1@http.newartisans.com/bugzilla/][{Bug 505} New: Ampersand in GnuCash transaction creates conversion problem]]
   :Submitter: bugzilla-daemon@mail.johnwiegley.com
   :Date:     Mon, 18 Apr 2011 15:57:32 -0500 (CDT)
   :END:
** DUPLICATE [[bug:541][#541]] --collapse not collapsing
   - State "DUPLICATE"  from "TODO"       [2011-07-02 Sat 13:28] \\
     This is a duplicate of #540.
   :PROPERTIES:
   :ID:       51765431-2635-49E8-B673-D3613233C465
   :CREATED:  [2011-06-30 Thu 12:41]
   :Date:     Thu, 30 Jun 2011 12:27:35 -0500 (CDT)
   :Message:  [[message://bug-541-1@http.bugs.ledger-cli.org/][{Bug 541} New: --collapse not collapsing]]
   :Submitter: bugzilla-daemon@mail.johnwiegley.com
   :END:
** DUPLICATE [[bug:563][#563]] Highlight account names with spaces
- State "DUPLICATE"  from "TODO"       [2011-11-21 Mon 16:07] \\
  Duplicate of #524.
   I started using `ledger-mode` provided by `ldg-new.el` over 2.6.2's
   ledger-mode` and noticed it stopped highlighting account names with
   spaces. I think this fix is reasonable, though I'm having a really hard
   time with emacs regexp for some reason.
   :PROPERTIES:
   :ID:       35F37F42-4D5B-4DB6-B4CD-06253741B028
   :CREATED:  [2011-08-28 Sun 14:00]
   :Date:     Sun, 28 Aug 2011 08:36:27 -0700
   :Message:  [[message://jwiegley/ledger/pull/37@github.com][{ledger} Highlight account names with spaces ]]
   :Submitter: dpiddy <reply+i-1504015-00cea49a44f8de09cf5765af8085fdcc0692e908@reply.github.com>
   :END:
** DUPLICATE [[bug:564][#564]] Double-quoted filename in Emacs output breaks reconciliation
- State "DUPLICATE"  from "TODO"       [2012-02-23 Thu 21:40] \\
  Duplicate of 525.
   :PROPERTIES:
   :ID:       CCDFD6E8-C816-4BCA-8C18-EE7C9A076140
   :CREATED:  [2011-08-22 Mon 17:08]
   :Date:     Mon, 22 Aug 2011 22:03:56 +0100
   :Message:  [[message://20050.50236.344154.205060@dk.dks.ie][Emacs reconciliation 3.0]]
   :Submitter: "David Keegan" <dksw@eircom.net>
   :END:
** DUPLICATE [#C] [[bug:235][#235]] Add some more configure arguments
:PROPERTIES:
:ID:       742F77B7-2C2D-47BF-83C6-01E517FCF8F2
:CREATED:  [2012-03-18 Sun 22:45]
:END:
** DUPLICATE [#C] [[bug:236][#236]] Add some more configure arguments
:PROPERTIES:
:ID:       C8F3F5AB-DBBC-45AD-BBE1-0502F520420F
:CREATED:  [2012-03-18 Sun 22:45]
:END:
** DUPLICATE [#C] [[bug:404][#404]] Strange libboost suffix on Debian Squeeze with acprep
:PROPERTIES:
:ID:       80BDB44B-0EF7-4A47-BB32-7345EC18C8D0
:CREATED:  [2012-03-18 Sun 22:45]
:END:
** DUPLICATE [#C] [[bug:478][#478]] ledger-font-lock-keywords uses spaces instead of tabs
:PROPERTIES:
:ID:       5113F1B0-47F3-47AF-82A6-4103D98C1256
:CREATED:  [2012-03-18 Sun 22:45]
:END:
** CLOSED [#A] !include statememt no longer accepts simple filenames
- State "CLOSED"     from "DONE"       [2012-03-22 Thu 16:50] \\
  Tested by 89233B6D.test.
   - State "DONE"       from "TODO"       [2009-11-10 Tue 00:55]
   It needs the full path to the file.
   :PROPERTIES:
   :ID:       272532BD-9BC5-46AA-B94C-BBAD05F35893
   :Message:  [[message://20091101095935.GB3138@jue.netz][Re: All known bugs and features for 3.0 implemented]]
   :CREATED:  [2009-11-01 Sun 05:50]
   :END:
** CLOSED [#A] "print" command filters out the "balance assertions"
- State "CLOSED"     from "DONE"       [2012-03-22 Thu 16:51]
   - State "DONE"       from "TODO"       [2010-05-22 Sat 13:09]
   :PROPERTIES:
   :ID:       640D3205-E62F-41F2-9967-04C7BBAD884D
   :Message:  [[message://161185f2-1873-4892-87d0-904c96a4a76a@n15g2000yqf.googlegroups.com]["print" command filters out the "balance assertions"]]
   :CREATED:  [2010-04-30 Fri 18:21]
   :END:
** CLOSED [#A] 'ledger -f src/value.h bal capital' crashes
   - State "CLOSED"     from "DONE"       [2009-11-02 Mon 00:48]
   - State "DONE"       from "TODO"       [2009-10-26 Mon 16:41] \\
     It now reports a series of errors and exits.
   - State "TODO"       from "DEFERRED"   [2009-10-22 Thu 07:34]
   - State "DEFERRED"   from "TODO"       [2009-06-16 Tue 16:24]
   :PROPERTIES:
   :ID:       25A099C9-EE9C-42E2-A18A-202DE9B9E157
   :CREATED:  [2009-02-27 Fri 15:38]
   :END:
** CLOSED [#A] 1,00.00 should result in an amount parsing error
- State "CLOSED"     from "DONE"       [2012-03-22 Thu 16:51]
   - State "DONE"       from "TODO"       [2009-11-10 Tue 00:12]
   :PROPERTIES:
   :ID:       1A546C4D-42BF-44B4-A477-BF71FB42AE52
   :CREATED:  [2009-11-08 Sun 18:23]
   :END:
** CLOSED [#A] Found bugs in the report query syntax parser
   - State "CLOSED"     from "DONE"       [2009-11-02 Mon 00:51]
   - State "DONE"       from "TODO"       [2009-10-28 Wed 23:09]
   Fails to parse:
   :SCRIPT:
   ledger bal --sort total --flat -X '$' not '(Income|Liabilities)'
   :END:
   :PROPERTIES:
   :ID:       373540CC-613B-47BC-B72F-C6D347157736
   :CREATED:  [2009-10-26 Mon 17:50]
   :END:
** CLOSED [#A] Ledger crashes when attempting to use !account
- State "CLOSED"     from "DONE"       [2012-03-22 Thu 16:51]
   - State "DONE"       from "STARTED"    [2010-05-22 Sat 13:23]
   :LOGBOOK:
   CLOCK: [2010-05-22 Sat 13:20]--[2010-05-22 Sat 13:23] =>  0:03
   :END:
   :PROPERTIES:
   :ID:       89233B6D-CB21-4162-98E3-BE38B9336070
   :Message:  [[message://20100219085239.GA51178@kei.local][Re: FR: Include w/ prefixes]]
   :CREATED:  [2010-02-22 Mon 02:53]
   :END:
** CLOSED [#A] Ledger's include directive is failing in a very simple case               :ATTACH:
- State "CLOSED"     from "DONE"       [2012-03-22 Thu 16:50] \\
  Tested by 89233B6D.test.
   - State "DONE"       from "TODO"       [2009-12-07 Mon 20:42]
   :PROPERTIES:
   :ID:       4D63641F-3C9E-4C62-A45F-C9B1649BD712
   :Attachments: include.dat data.dat
   :CREATED:  [2009-12-07 Mon 18:52]
   :END:
** CLOSED [#A] No error message if the parser cannot find an included file
- State "CLOSED"     from "DONE"       [2012-03-22 Thu 16:51]
   - State "DONE"       from "TODO"       [2009-11-10 Tue 00:13]
   :PROPERTIES:
   :ID:       6188B0EC-A38F-41AE-9B65-8E155641AB99
   :Message:  [[message://20091101095935.GB3138@jue.netz][Re: All known bugs and features for 3.0 implemented]]
   :CREATED:  [2009-11-01 Sun 05:50]
   :END:
** CLOSED [#A] Problem with automated transactions and the balance command
- State "CLOSED"     from "DONE"       [2012-03-22 Thu 16:51]
   - State "DONE"       from "TODO"       [2009-11-11 Wed 00:27]
   :SCRIPT:
   % ledger --version | head -1
   Ledger next-0-ga345f9e, the command-line accounting tool
   % cat <<EOF | ledger --european -f - bal
   = Income:Clients:
     (Liabilities:Taxes:VAT)  ((1,00 / 1,19) * 0,19)

   2009/07/27 * Invoice
     Assets:Bank:Checking                                           €    1.190,00
     Income:Clients:ACME_Inc
   EOF
             € 1.190,00  Assets:Bank:Checking
            € -1.190,00  Income:Clients:ACME_Inc
   --------------------
                      0
   :END:
   :SCRIPT:
   % cat <<EOF | ledger --european -f - reg
   = Income:Clients:
     (Liabilities:Taxes:VAT)  ((1,00 / 1,19) * 0,19)

   2009/07/27 * Invoice
     Assets:Bank:Checking                                           €    1.190,00
     Income:Clients:ACME_Inc
   EOF
   2009/07/27 Invoice               Assets:Bank:Checking    € 1.190,00   € 1.190,00
                                    In:Clients:ACME_Inc    € -1.190,00            0
                                    (L:Taxes:VAT)            € -190,00    € -190,00
   :END:
   :PROPERTIES:
   :ID:       FDFBA165-7328-4C4F-BC1C-EDF9C629E2B3
   :CREATED:  [2009-11-10 Tue 15:13]
   :END:
** CLOSED [#A] The bal report does not honor -r
- State "CLOSED"     from "DONE"       [2012-03-22 Thu 16:51]
   - State "DONE"       from "STARTED"    [2009-11-07 Sat 08:34]
   If I run "bal simon -r" against this file:
   :SOURCE:
   10/26 trader joe's
       simon                         $-50
       alice                         $-50
       expenses:food:groceries
   :END:
   I see:
   :OUTPUT:
                   $-50  alice
                   $100  expenses:food:groceries
                   $-50  simon
   --------------------
                      0
   :END:

   The register version of this report works just fine.
   :PROPERTIES:
   :ID:       178501DC-6777-4A27-A9D3-587A92FF62D0
   :CREATED:  [2009-11-03 Tue 15:57]
   :END:
** CLOSED [#A] Using ! erroneously in a data file causes a segfault
- State "CLOSED"     from "DONE"       [2012-03-22 Thu 16:51]
   - State "DONE"       from "TODO"       [2009-11-10 Tue 01:06]
   :DATA:
   ! Assets:Cash

   2008/01/01 January
       Expenses:Books          $10.00
       Assets:Cash

   !end

   2008/01/01 January
       Expenses:One:Books          $10.00
       Expenses:One:Two:Books          $10.00
       Expenses:One:Two:Three:Books          $10.00
       Assets:Cash
   :END:
   Running the reg command this data file produces:
   :OUTPUT:
   vulcan ~/src/ledger $ ledger -f /tmp/bug.dat reg
   /opt/local/include/gcc44/c++/debug/list:242:error: attempt to access an
       element in an empty container.

   Objects involved in the operation:
   sequence "this" @ 0x0x7fff5fbfac00 {
     type = NSt7__debug4listIPN6ledger9account_tESaIS3_EEE;
   }
   zsh: abort      ledger -f /tmp/bug.dat reg
   :END:
   :PROPERTIES:
   :ID:       D9C8EB08-C201-4FB0-9941-F4417BCF26BC
   :CREATED:  [2009-11-09 Mon 19:15]
   :END:
** CLOSED [#A] [[bug:188][#188]] Not calculating commodity conversions due to rounding              :critical:
- State "CLOSED"     from "DONE"       [2012-03-22 Thu 17:27]
   - State "DONE"       from "TODO"       [2010-06-06 Sun 06:21] \\
     Fixed by 39f9854e.
   - Note taken on [2010-06-06 Sun 04:49] \\
     The "reg -B" report is wrong for this data file as well.
   I also found something else regarding calculations on commodity prices,
    given this input file:
   #+begin_src sh
    D $1,000.00

    ; payroll taxes
    = /^Payroll/
    Liabilities:Taxes:CFICA  0.062
    Liabilities:Taxes:CMED  0.0145
    $account:EFICA  -0.062
    $account:EMED  -0.0145

    ; Hourly rates for each employee, as commodity prices.
    P 2010/01/01 EONE $15.00

    ; Payroll transactions
    2010/05/18  Payroll from May 2nd to May 15th for Employee1
     Assets:Checking  20 EONE
     Payroll:Employee1
   #+end_src

    Ledger doesn't calculate the EMED value if you use a small whole number
    for the commodity that does the conversion from hours to rate/hour:
    :OUTPUT:
    $ ledger3 -V -f payroll.led2 bal
                $300.00  Assets:Checking
                $-18.60  Liabilities:Taxes:CFICA
               $-277.05  Payroll:Employee1
                 $18.60    EFICA
    --------------------
                      0
    :END:

    But if you change the line that says:
   #+begin_src sh
      Assets:Checking  20 EONE
   #+end_src
    to
   #+begin_src sh
      Assets:Checking  20.0 EONE
   #+end_src

    You get:
    :OUTPUT:
    $ ledger3 -V -f payroll.led2 bal
                $300.00  Assets:Checking
                $-22.95  Liabilities:Taxes
                $-18.60    CFICA
                 $-4.35    CMED
               $-277.05  Payroll:Employee1
                 $18.60    EFICA
                  $4.35    EMED
    --------------------
                      0
    :END:

    From what I can tell, internally Ledger is calculating the numbers of
    commodities, then converting to values with -V only when the value is
    greater than half of the commodity value.
   :PROPERTIES:
   :ID:       53BCED29-F3B9-4E02-9A35-6C739ABB9662
   :Submitter: Zack Williams <zdwzdw@gmail.com>
   :Message:  [[message://AANLkTimJeCGP3gPJTtnqNjsKMuThUJ_NPBAGkdyuxeH6@mail.gmail.com][Re: Doing US payroll taxes with ledger]]
   :CREATED:  [2010-05-23 Sun 19:00]
   :END:
** CLOSED [#A] [[bug:353][#353]] No longer handles multiple postings to one account in one transacation
- State "CLOSED"     from "DONE"       [2012-03-18 Sun 18:57]
   - State "DONE"       from "TODO"       [2010-06-21 Mon 17:57]
   :PROPERTIES:
   :ID:       15230B79-E091-4A55-9F9E-A49602ECAC1A
   :CREATED:  [2010-06-20 Sun 14:51]
   :END:
** CLOSED [#A] [[bug:420][#420]] Ledger will not build on OS X 10.5
- State "CLOSED"     from "DONE"       [2012-03-27 Tue 15:42] \\
  Cannot be tested.
:PROPERTIES:
:ID:       7B123FFD-9A74-472E-A78A-B9E517A845F0
:CREATED:  [2012-03-18 Sun 22:45]
:END:
** CLOSED [#A] [[bug:425][#425]] date>=[2010/02/10] causes a parsing error                          :critical:
- State "CLOSED"     from "DONE"       [2012-03-22 Thu 17:27]
   - State "DONE"       from "TODO"       [2011-02-04 Fri 22:59]
   :PROPERTIES:
   :ID:       C927CFFE-D27D-4652-9AC8-1C4005FF2B40
   :CREATED:  [2010-11-18 Thu 14:46]
   :END:
** CLOSED [#A] [[bug:427][#427]] Build problems with boost_iostreams
- State "CLOSED"     from "DONE"       [2012-03-27 Tue 15:44] \\
  Cannot be tested.
:PROPERTIES:
:ID:       526989C0-DAA3-4C41-B928-D141476B46A6
:CREATED:  [2012-03-18 Sun 22:45]
:END:
** CLOSED [#A] [[bug:438][#438]] Case where register and balance do not agree                       :critical:
- State "CLOSED"     from "WORKSFORME" [2012-03-18 Sun 18:57]
- State "WORKSFORME" from "TODO"       [2011-06-20 Mon 00:10] \\
  I see this at the end of the register report:
  :OUTPUT:
  11-Jun-20 Commodities revalued  <Revalued>                   $19.30    $18020.74
  :END:
The file below gives the following
:OUTPUT:
$ ledger/ledger -f foo -X \$ bal sub1
          $18020.74  Assets:Sub1
              $8.10    Leftovers
--------------------
          $18020.74
:END:
and
:OUTPUT:
$ ledger/ledger -f foo -X \$ reg sub1
10-Apr-04 Opening Balance       Assets:Sub1                   $1.00        $1.00
10-Apr-04 Opening Balance       Assets:Sub1                $3227.00     $3228.00
10-Apr-04 Opening Balance       Assets:Sub1                $1130.00     $4358.00
10-Apr-04 Opening Balance       Assets:Sub1                $2030.00     $6388.00
10-Apr-04 Opening Balance       Assets:Sub1:Leftovers         $6.79     $6394.79
10-Apr-04 Opening Balance       Assets:Sub1                 $223.30     $6618.09
10-Apr-04 Opening Balance       Assets:Sub1                 $297.00     $6915.09
10-May-18 FOO                   Assets:Sub1                $5438.00    $12353.09
10-Jul-02 Commodities revalued <Revalued>                  $259.74    $12612.83
10-Jul-02 BAR                   Assets:Sub1                 $135.84    $12748.67
                               Assets:Sub1:Leftovers         $1.31    $12749.98
10-Sep-29 Commodities revalued <Revalued>                 $5251.46    $18001.44
:END:

The price db is in the file.

I'm using 9fcf48482626f20151d75a2ebb81371b45d4540a, which is on the next
branch.
#+begin_src ledger
N $
P 2010/09/28 20:43:24 E $3.700
P 2010/09/28 20:43:25 A $5.230
P 2010/09/28 20:43:26 D $34.020
P 2010/09/28 20:43:27 C $12.370
P 2010/09/28 20:43:28 F $39.700
P 2010/09/28 20:43:29 B $39.430
P 2010/09/29 13:50:15 E $3.720
P 2010/09/29 13:50:15 A $5.240
P 2010/09/29 13:50:17 D $33.920
P 2010/09/29 13:50:18 C $12.310   P 2010/09/29 13:50:18 F $39.670
P 2010/09/29 13:50:19 B $39.830

2010/04/04 * Opening Balance
 Assets:Sub1                       100 A @ $0.01
 Equity:Opening Balances

2010/04/04 * Opening Balance
 Assets:Sub1                       100 B @ $32.27
 Equity:Opening Balances

2010/04/04 * Opening Balance
 Assets:Sub1                       100 C @ $11.30
 Equity:Opening Balances

2010/04/04 * Opening Balance
 Assets:Sub1                       100 D @ $20.30
 Equity:Opening Balances

2010/04/04 * Opening Balance
 Assets:Sub1:Leftovers     $6.79
 Equity:Opening Balances

2010/04/04 * Opening Balance
 Assets:Sub1                       11 D
 Equity:Opening Balances

2010/04/04 * Opening Balance
 Assets:Sub1                       100 E @ $2.97
 Equity:Opening Balances

2010/05/18=2010/05/21 * FOO
 Assets:Sub1           200 F @ $27.190
 Expenses:Qux         $29.95
 Assets:Sub2

2010/07/02 * BAR
 Income:D                      -$169.65
 Assets:Sub2        $32.50
 Assets:Sub1                       6 D @ $22.64
 Assets:Sub1:Leftovers
#+end_src
:PROPERTIES:
:ID:       3FE26304-C336-48C5-85AB-909A1FC8D87B
:Submitter: Michael Norrish <michael.norrish@gmail.com>
:Message:  [[message://4CA31AA6.7080004@gmail.com][Re: reg vs bal in presence of recent commodity price info]]
:CREATED:  [2010-10-03 Sun 22:16]
:ARCHIVE_TIME: 2011-06-20 Mon 00:27
:ARCHIVE_CATEGORY: Bugs
:END:
** CLOSED [#A] [[bug:449][#449]] Ledger build, iostreams, and boost 1.45
- State "CLOSED"     from "DONE"       [2012-03-27 Tue 15:44] \\
  Cannot be tested.
:PROPERTIES:
:ID:       AE238AF4-276A-4A01-9B26-ADF9A2C64000
:CREATED:  [2012-03-18 Sun 22:45]
:END:
** CLOSED [#A] [[bug:565][#565]] Transactions with leading whitespace not detected
- State "CLOSED"     from "TODO"       [2012-03-16 Fri 02:40] \\
  Fixed by 11067d9
- State "TODO"       from "REVIEW"     [2012-03-11 Sun 20:54]
- State "REVIEW"     from "DUPLICATE"  [2012-02-23 Thu 21:51]
- Note taken on [2011-08-21 Sun 18:53] \\
  I believe it's a regression in 3.0.  I filed a bug report about this some
  time ago: http://bugs.ledger-cli.org/show_bug.cgi?id=443
In the attached sample ledger file a space has been inadvertently inserted
preceding one of the transaction dates.

ledger-2.6.3 Detects the error and emits:
:OUTPUT:
Error: "sample.ldg", line 6: Line begins with whitespace
Error: "sample.ldg", line 7: Line begins with whitespace
Error: "sample.ldg", line 8: Line begins with whitespace
:END:

This looks good to me.

On the other hand ledger-3.0 (beta) silently ignores the offending
transaction.

Is the change in behaviour intentional? Is there an option in 3.0 that
yields the stricter (and in my view more reassuring) behaviour of 2.6.3?
:PROPERTIES:
:ID:       8EAF77C0-C2FA-4B8D-BAEE-4A886CEAE106
:CREATED:  [2011-08-21 Sun 18:53]
:Date:     Sun, 21 Aug 2011 22:12:40 +0100
:Message:  [[message://20049.29896.551391.272261@dk.dks.ie][ledger syntax checking.]]
:Submitter: "David Keegan" <dksw@eircom.net>
:END:
** CLOSED [#A] [[bug:650][#650]] Input date format not recognized
- State "CLOSED"     from "TODO"       [2012-03-19 Mon 03:51] \\
  Fixed by e2a22cb
Anyway, we're based in Germany and I'd like to enter dates in German format:
`%d.%m.%Y`. I can get ledger to use this format when outputting dates with the
"--date-format" option. However, I haven't found a way to get ledger to
_accept_ dates in this format as input.

For instance, a ledger file looking like this:
#+begin_src ledger
2011/10/01 4b4e2a89 
    ef9d9585:efa1fb7b:22845e93:0e3763f0       2,00 A
    2c166ff7:d34e3aa1:8a5075b3:56f3c726

2011/10/01 15983995
    eb78b6c0:a2857de3:d6d8ea07:6688fc4e       2,58 A
    ba3ffe56:c3ba36a5:aa63399f:e9e1d043
#+end_src

Results in this output from `ledger print`:
:OUTPUT:
01.10.2011 4b4e2a89 
    ef9d9585:efa1fb7b:22845e93:0e3763f0       2,00 A
    2c166ff7:d34e3aa1:8a5075b3:56f3c726

01.10.2011 15983995
    eb78b6c0:a2857de3:d6d8ea07:6688fc4e       2,58 A
    ba3ffe56:c3ba36a5:aa63399f:e9e1d043
:END:

Putting this exact output back into ledger results in:
:OUTPUT:
$ ledger -f test.ledger bal
While parsing file "test.ledger", line 1: 
While parsing transaction:
> 01.10.2011 15983995
Error: Invalid date: 01.10.2011
While parsing file "test.ledger", line 5: 
While parsing transaction:
> 01.10.2011 15983995
Error: Invalid date: 01.10.2011
:END:

Using the (undocumented) option "--input-date-format=%d.%m.%Y" yields the same result.

I'm using Ledger 3.0.0-20110325 from the Ubuntu PPA repository Michael Budde
created (https://launchpad.net/~mbudde/+archive/ledger) under Ubuntu
11.10. I'd be very grateful for any pointers!
:PROPERTIES:
:ID:       751B2357-21E7-4704-A9CD-D241A0846057
:CREATED:  [2011-12-06 Tue 15:07]
:Date: Tue, 6 Dec 2011 12:45:19 -0800
:Message: [[message://jwiegley/ledger/issues/48@github.com][{ledger} Input date format not recognized (#48)]]
:Submitter: Jonas <reply+i-2467193-d935c086e8421ab641d9f9aaddfdfcd560f8c39c-8460@reply.github.com>
:END:
** CLOSED [#A] [[bug:672][#672]] Latest next/HEAD does not build
- State "CLOSED"     from "DONE"       [2012-03-27 Tue 15:44] \\
  Cannot be tested.
- State "DONE"       from "TODO"       [2012-03-09 Fri 14:47] \\
  Fixed by 3886428
:PROPERTIES:
:ID:       E447F248-389D-411E-A6A6-ECF5E59B0D8F
:CREATED:  [2012-03-07 Wed 11:41]
:Date: Wed, 07 Mar 2012 17:36:53 +0000
:Message: [[message://bug-672-1@http.bugs.ledger-cli.org/][{Bug 672} New: Latest next/HEAD does not build]]
:Author: bugzilla-daemon@mail.johnwiegley.com
:END:
** CLOSED [#A] [[bug:683][#683]] ledger --anon pricedb gets a seg fault
- State "CLOSED"     from "DONE"       [2012-03-27 Tue 15:55]
- State "DONE"       from "TODO"       [2012-03-13 Tue 00:05]
:PROPERTIES:
:ID:       2CE7DADB-47DB-4226-B13F-1C65CE35103A
:CREATED:  [2012-03-10 Sat 22:20]
:Message: [[message://CA%2BR89Y%2B_CXrCdwopPT-n7k%3DKwMzGWuafoT14m%2B3pArMnTWaB%2Bg@mail.gmail.com][Re: ledger v3 slower than ledger v2]]
:END:
** CLOSED [#A] [[bug:701][#701]] Use of --pager corrupts the terminal
- State "CLOSED"     from "DONE"       [2012-03-19 Mon 03:53]
- State "DONE"       from "TODO"       [2012-03-16 Fri 20:24]
:PROPERTIES:
:ID:       7FCB580F-CB82-441A-9B1D-32812631AA8C
:CREATED:  [2012-03-14 Wed 13:59]
:Date: Wed, 14 Mar 2012 08:50:41 +0000
:Message: [[message://bug-701-1@http.bugs.ledger-cli.org/][{Bug 701} New: pager corrupt terminal]]
:Author: bugzilla-daemon@mail.johnwiegley.com
:END:
** CLOSED [#A] [[bug:703][#703]] Assertion failed in "src/history.cc": source != price.commodity()
- State "CLOSED"     from "DONE"       [2012-03-18 Sun 18:57]
- State "DONE"       from "TODO"       [2012-03-16 Fri 01:00] \\
  Fixed by a49e33a
This bug was introduced by the fix for bug #680.
:OUTPUT:
./ledger -f test.ledger pricedb
While parsing file "test.ledger", line 3:
Error: Assertion failed in "src/history.cc", line 135: void ledger::commodity_history_t::add_price(const ledger::commodity_t&, const datetime_t&, const ledger::amount_t&): source != price.commodity()
:END:

Test case:
#+begin_src ledger
2011-11-08 * Test
    Assets:Voucher:Amazon                 137.87 GBP (48H5)
    Assets:Cash                          -137.87 GBP
#+end_src
:PROPERTIES:
:ID:       95350193-0238-4ECE-9AD4-D498331918A4
:CREATED:  [2012-03-15 Thu 15:28]
:Date: Thu, 15 Mar 2012 12:43:58 +0000
:Message: [[message://bug-703-1@http.bugs.ledger-cli.org/][{Bug 703} New: Assertion failed in "src/history.cc": source != price.commodity()]]
:Author: bugzilla-daemon@mail.johnwiegley.com
:END:
** CLOSED [#A] [[bug:708][#708]] Ignoring PriceDB file                                               :blocker:
- State "CLOSED"     from "CLOSED"     [2012-03-18 Sun 18:57]
- State "CLOSED"     from "WORKSFORME" [2012-03-18 Sun 18:57]
- State "WORKSFORME" from "TODO"       [2012-03-17 Sat 21:44]
:PROPERTIES:
:ID:       A8FCC765-8A1C-4392-8449-B0D3C40135BA
:CREATED:  [2012-03-16 Fri 20:26]
:Date: Sat, 17 Mar 2012 00:59:45 +0000
:Message: [[message://bug-708-1@http.bugs.ledger-cli.org/][{Bug 708} New: ignoring PriceDB file.]]
:Author: bugzilla-daemon@mail.johnwiegley.com
:END:
** CLOSED "print" command removes content of "parenthesis computations"
- State "CLOSED"     from "DONE"       [2012-03-22 Thu 16:47] \\
  Testcase was commited as baseline/cmd-print.test, according to:
  [[http://groups.google.com/group/ledger-cli/browse_thread/thread/bfea2f8e13171ac9/82391ece25a0b47c?lnk%3Dgst&q%3D%2522print%2522%2Bcommand%2Bremoves%2Bcontent%2Bof%2B%2522parenthesis%2Bcomputations%2522#82391ece25a0b47c"][Sure thing, I'll add it in the baseline tests as cmd-print.test]].
   - State "DONE"       from "TODO"       [2010-05-08 Sat 02:06]
   :PROPERTIES:
   :ID:       32860AAC-BA64-4070-AE4B-3435B181BC28
   :Message:  [[message://4fa6a1d9-6596-427e-87c5-7f503b24d24a@s2g2000yqa.googlegroups.com]["print" command removes content of "parenthesis computations"]]
   :CREATED:  [2010-05-02 Sun 02:41]
   :END:
** CLOSED './ledger -f doc/sample.dat -E bal liab' shows the Assets account
- State "CLOSED"     from "DONE"       [2012-03-22 Thu 16:51]
   - State "DONE"       [2009-02-17 Tue 04:51]
   :PROPERTIES:
   :ID:       10D19C11-3698-4A95-AD8D-5CC3551F4567
   :CREATED:  [2009-02-16 Mon 23:52]
   :END:
** CLOSED 'ledger -f doc/sample.dat --color reg' is showing a red zero
   - State "CLOSED"     from "DONE"       [2009-06-16 Tue 16:52]
   - State "DONE"       from "TODO"       [2009-06-16 Tue 16:27]
   :PROPERTIES:
   :ID:       727B2DF8-A2A1-4716-9C15-547F20D5F933
   :CREATED:  [2009-02-23 Mon 02:47]
   :END:
** CLOSED 'ledger -f doc/sample.dat -n reg' shows $0.00 on first post
- State "CLOSED"     from "DONE"       [2012-03-22 Thu 16:51]
   - State "DONE"       [2009-02-16 Mon 03:51]
   :PROPERTIES:
   :ID:       F524E251-C79C-4103-8DDC-A651B62A890C
   :CREATED:  [2009-02-15 Sun 21:55]
   :END:
** CLOSED 'ledger -f doc/sample.dat reg -s -n liab' elides too much
- State "CLOSED"     from "DONE"       [2012-03-22 Thu 16:51]
   - State "DONE"       [2009-02-17 Tue 05:29]
   It collapses the account down to "<Total>", even though there was only one
   account!
   :PROPERTIES:
   :ID:       82763D86-E75E-4731-86A0-FB318E9B5F9B
   :CREATED:  [2009-02-16 Mon 21:55]
   :END:
** CLOSED (John Raketsraw) Can't run latest next version
- State "CLOSED"     from "DONE"       [2012-03-27 Tue 15:44] \\
  Cannot be tested.
- State "DONE"       from "TODO"       [2012-03-11 Sun 20:36]
- Note taken on [2012-03-11 Sun 19:58] \\
  I suppose the file I sent you might still be helpful, but it seems likely
  that it will simply show you some mistake I was making. Yesterday I
  returned to the attempt to build it, and I managed to make it work. I'm
  not sure what I was doing wrong.
  
  Impressive amount of work you're turning out on ledger these days -- it's
  getting better and better.
I'm running Ubuntu 11.10.

I tried updating to the latest next version of ledger this morning.
Running "./acprep update" seemed to work. However, when I run ledger I get
this response:
:OUTPUT:
ledger: symbol lookup error: ledger: undefined symbol:\
_ZN5boost6system19get_system_categoryEv
:END:

I don't know whether this is significant, but before getting to this error
message it was failing because it couldn't find several libboost libraries
version 1.42.0. I have version 1.46.0 on my system; I set up some symbolic
links for these libraries.

I've attached config.log to this message -- I don't know what to make of
it, but I see several failure messages. Several of them indicate that
mimix/config.h file or directory is missing.

Any hints?

:OUTPUT:
This file contains any messages produced by compilers while
running configure, to aid debugging if configure makes a mistake.

It was created by ledger configure 3.0.0-20120217, which was
generated by GNU Autoconf 2.68.  Invocation command line was

  $ configure CPPFLAGS=-isystem /usr/local/include -isystem /usr/include/python2.7 CXXFLAGS=-Wconversion -pthread -g -pipe LDFLAGS=-fpch-deps -g -L/usr/local/lib -L/usr/lib -L/usr/lib/python2.7/config --with-included-gettext --enable-pch --disable-static --enable-debug

## --------- ##
## Platform. ##
## --------- ##

hostname = geertz
uname -m = x86_64
uname -r = 3.0.0-16-generic
uname -s = Linux
uname -v = #28-Ubuntu SMP Fri Jan 27 17:44:39 UTC 2012

/usr/bin/uname -p = unknown
/bin/uname -X     = unknown

/bin/arch              = unknown
/usr/bin/arch -k       = unknown
/usr/convex/getsysinfo = unknown
/usr/bin/hostinfo      = unknown
/bin/machine           = unknown
/usr/bin/oslevel       = unknown
/bin/universe          = unknown

PATH: /usr/bin
PATH: /home/jrake/bin
PATH: /usr/lib/lightdm/lightdm
PATH: /usr/local/sbin
PATH: /usr/local/bin
PATH: /usr/sbin
PATH: /usr/bin
PATH: /sbin
PATH: /bin
PATH: /usr/games
PATH: /home/jrake/Dropbox/bin

## ----------- ##
## Core tests. ##
## ----------- ##

configure:2716: checking for a BSD-compatible install
configure:2784: result: /usr/bin/install -c
configure:2795: checking whether build environment is sane
configure:2845: result: yes
configure:2986: checking for a thread-safe mkdir -p
configure:3025: result: /bin/mkdir -p
configure:3038: checking for gawk
configure:3068: result: no
configure:3038: checking for mawk
configure:3054: found /usr/bin/mawk
configure:3065: result: mawk
configure:3076: checking whether make sets $(MAKE)
configure:3098: result: yes
configure:3211: checking for style of include used by make
configure:3239: result: GNU
configure:3309: checking for gcc
configure:3336: result: gcc
configure:3565: checking for C compiler version
configure:3574: gcc --version >&5
gcc (Ubuntu/Linaro 4.6.1-9ubuntu3) 4.6.1
Copyright (C) 2011 Free Software Foundation, Inc.
This is free software; see the source for copying conditions.  There is NO
warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.

configure:3585: $? = 0
configure:3574: gcc -v >&5
Using built-in specs.
COLLECT_GCC=gcc
COLLECT_LTO_WRAPPER=/usr/lib/gcc/x86_64-linux-gnu/4.6.1/lto-wrapper
Target: x86_64-linux-gnu
Configured with: ../src/configure -v --with-pkgversion='Ubuntu/Linaro 4.6.1-9ubuntu3' --with-bugurl=file:///usr/share/doc/gcc-4.6/README.Bugs --enable-languages=c,c++,fortran,objc,obj-c++,go --prefix=/usr --program-suffix=-4.6 --enable-shared --enable-linker-build-id --with-system-zlib --libexecdir=/usr/lib --without-included-gettext --enable-threads=posix --with-gxx-include-dir=/usr/include/c++/4.6 --libdir=/usr/lib --enable-nls --with-sysroot=/ --enable-clocale=gnu --enable-libstdcxx-debug --enable-libstdcxx-time=yes --enable-plugin --enable-objc-gc --disable-werror --with-arch-32=i686 --with-tune=generic --enable-checking=release --build=x86_64-linux-gnu --host=x86_64-linux-gnu --target=x86_64-linux-gnu
Thread model: posix
gcc version 4.6.1 (Ubuntu/Linaro 4.6.1-9ubuntu3)
configure:3585: $? = 0
configure:3574: gcc -V >&5
gcc: error: unrecognized option '-V'
gcc: fatal error: no input files
compilation terminated.
configure:3585: $? = 4
configure:3574: gcc -qversion >&5
gcc: error: unrecognized option '-qversion'
gcc: fatal error: no input files
compilation terminated.
configure:3585: $? = 4
configure:3605: checking whether the C compiler works
configure:3627: gcc  -isystem /usr/local/include -isystem /usr/include/python2.7 -fpch-deps -g -L/usr/local/lib -L/usr/lib -L/usr/lib/python2.7/config conftest.c  >&5
configure:3631: $? = 0
configure:3679: result: yes
configure:3682: checking for C compiler default output file name
configure:3684: result: a.out
configure:3690: checking for suffix of executables
configure:3697: gcc -o conftest  -isystem /usr/local/include -isystem /usr/include/python2.7 -fpch-deps -g -L/usr/local/lib -L/usr/lib -L/usr/lib/python2.7/config conftest.c  >&5
configure:3701: $? = 0
configure:3723: result:
configure:3745: checking whether we are cross compiling
configure:3753: gcc -o conftest  -isystem /usr/local/include -isystem /usr/include/python2.7 -fpch-deps -g -L/usr/local/lib -L/usr/lib -L/usr/lib/python2.7/config conftest.c  >&5
configure:3757: $? = 0
configure:3764: ./conftest
configure:3768: $? = 0
configure:3783: result: no
configure:3788: checking for suffix of object files
configure:3810: gcc -c  -isystem /usr/local/include -isystem /usr/include/python2.7 conftest.c >&5
configure:3814: $? = 0
configure:3835: result: o
configure:3839: checking whether we are using the GNU C compiler
configure:3858: gcc -c  -isystem /usr/local/include -isystem /usr/include/python2.7 conftest.c >&5
configure:3858: $? = 0
configure:3867: result: yes
configure:3876: checking whether gcc accepts -g
configure:3896: gcc -c -g -isystem /usr/local/include -isystem /usr/include/python2.7 conftest.c >&5
configure:3896: $? = 0
configure:3937: result: yes
configure:3954: checking for gcc option to accept ISO C89
configure:4018: gcc  -c -g -O2 -isystem /usr/local/include -isystem /usr/include/python2.7 conftest.c >&5
configure:4018: $? = 0
configure:4031: result: none needed
configure:4053: checking dependency style of gcc
configure:4163: result: gcc3
configure:4184: checking how to run the C preprocessor
configure:4215: gcc -E -isystem /usr/local/include -isystem /usr/include/python2.7 conftest.c
configure:4215: $? = 0
configure:4229: gcc -E -isystem /usr/local/include -isystem /usr/include/python2.7 conftest.c
conftest.c:11:28: fatal error: ac_nonexistent.h: No such file or directory
compilation terminated.
configure:4229: $? = 1
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "ledger"
| #define PACKAGE_TARNAME "ledger"
| #define PACKAGE_VERSION "3.0.0-20120217"
| #define PACKAGE_STRING "ledger 3.0.0-20120217"
| #define PACKAGE_BUGREPORT "johnw@newartisans.com"
| #define PACKAGE_URL ""
| #define PACKAGE "ledger"
| #define VERSION "3.0.0-20120217"
| /* end confdefs.h.  */
| #include <ac_nonexistent.h>
configure:4254: result: gcc -E
configure:4274: gcc -E -isystem /usr/local/include -isystem /usr/include/python2.7 conftest.c
configure:4274: $? = 0
configure:4288: gcc -E -isystem /usr/local/include -isystem /usr/include/python2.7 conftest.c
conftest.c:11:28: fatal error: ac_nonexistent.h: No such file or directory
compilation terminated.
configure:4288: $? = 1
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "ledger"
| #define PACKAGE_TARNAME "ledger"
| #define PACKAGE_VERSION "3.0.0-20120217"
| #define PACKAGE_STRING "ledger 3.0.0-20120217"
| #define PACKAGE_BUGREPORT "johnw@newartisans.com"
| #define PACKAGE_URL ""
| #define PACKAGE "ledger"
| #define VERSION "3.0.0-20120217"
| /* end confdefs.h.  */
| #include <ac_nonexistent.h>
configure:4317: checking for grep that handles long lines and -e
configure:4375: result: /bin/grep
configure:4380: checking for egrep
configure:4442: result: /bin/grep -E
configure:4447: checking for ANSI C header files
configure:4467: gcc -c -g -O2 -isystem /usr/local/include -isystem /usr/include/python2.7 conftest.c >&5
configure:4467: $? = 0
configure:4540: gcc -o conftest -g -O2 -isystem /usr/local/include -isystem /usr/include/python2.7 -fpch-deps -g -L/usr/local/lib -L/usr/lib -L/usr/lib/python2.7/config conftest.c  >&5
configure:4540: $? = 0
configure:4540: ./conftest
configure:4540: $? = 0
configure:4551: result: yes
configure:4564: checking for sys/types.h
configure:4564: gcc -c -g -O2 -isystem /usr/local/include -isystem /usr/include/python2.7 conftest.c >&5
configure:4564: $? = 0
configure:4564: result: yes
configure:4564: checking for sys/stat.h
configure:4564: gcc -c -g -O2 -isystem /usr/local/include -isystem /usr/include/python2.7 conftest.c >&5
configure:4564: $? = 0
configure:4564: result: yes
configure:4564: checking for stdlib.h
configure:4564: gcc -c -g -O2 -isystem /usr/local/include -isystem /usr/include/python2.7 conftest.c >&5
configure:4564: $? = 0
configure:4564: result: yes
configure:4564: checking for string.h
configure:4564: gcc -c -g -O2 -isystem /usr/local/include -isystem /usr/include/python2.7 conftest.c >&5
configure:4564: $? = 0
configure:4564: result: yes
configure:4564: checking for memory.h
configure:4564: gcc -c -g -O2 -isystem /usr/local/include -isystem /usr/include/python2.7 conftest.c >&5
configure:4564: $? = 0
configure:4564: result: yes
configure:4564: checking for strings.h
configure:4564: gcc -c -g -O2 -isystem /usr/local/include -isystem /usr/include/python2.7 conftest.c >&5
configure:4564: $? = 0
configure:4564: result: yes
configure:4564: checking for inttypes.h
configure:4564: gcc -c -g -O2 -isystem /usr/local/include -isystem /usr/include/python2.7 conftest.c >&5
configure:4564: $? = 0
configure:4564: result: yes
configure:4564: checking for stdint.h
configure:4564: gcc -c -g -O2 -isystem /usr/local/include -isystem /usr/include/python2.7 conftest.c >&5
configure:4564: $? = 0
configure:4564: result: yes
configure:4564: checking for unistd.h
configure:4564: gcc -c -g -O2 -isystem /usr/local/include -isystem /usr/include/python2.7 conftest.c >&5
configure:4564: $? = 0
configure:4564: result: yes
configure:4577: checking minix/config.h usability
configure:4577: gcc -c -g -O2 -isystem /usr/local/include -isystem /usr/include/python2.7 conftest.c >&5
conftest.c:54:26: fatal error: minix/config.h: No such file or directory
compilation terminated.
configure:4577: $? = 1
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "ledger"
| #define PACKAGE_TARNAME "ledger"
| #define PACKAGE_VERSION "3.0.0-20120217"
| #define PACKAGE_STRING "ledger 3.0.0-20120217"
| #define PACKAGE_BUGREPORT "johnw@newartisans.com"
| #define PACKAGE_URL ""
| #define PACKAGE "ledger"
| #define VERSION "3.0.0-20120217"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| /* end confdefs.h.  */
| #include <stdio.h>
| #ifdef HAVE_SYS_TYPES_H
| # include <sys/types.h>
| #endif
| #ifdef HAVE_SYS_STAT_H
| # include <sys/stat.h>
| #endif
| #ifdef STDC_HEADERS
| # include <stdlib.h>
| # include <stddef.h>
| #else
| # ifdef HAVE_STDLIB_H
| #  include <stdlib.h>
| # endif
| #endif
| #ifdef HAVE_STRING_H
| # if !defined STDC_HEADERS && defined HAVE_MEMORY_H
| #  include <memory.h>
| # endif
| # include <string.h>
| #endif
| #ifdef HAVE_STRINGS_H
| # include <strings.h>
| #endif
| #ifdef HAVE_INTTYPES_H
| # include <inttypes.h>
| #endif
| #ifdef HAVE_STDINT_H
| # include <stdint.h>
| #endif
| #ifdef HAVE_UNISTD_H
| # include <unistd.h>
| #endif
| #include <minix/config.h>
configure:4577: result: no
configure:4577: checking minix/config.h presence
configure:4577: gcc -E -isystem /usr/local/include -isystem /usr/include/python2.7 conftest.c
conftest.c:21:26: fatal error: minix/config.h: No such file or directory
compilation terminated.
configure:4577: $? = 1
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "ledger"
| #define PACKAGE_TARNAME "ledger"
| #define PACKAGE_VERSION "3.0.0-20120217"
| #define PACKAGE_STRING "ledger 3.0.0-20120217"
| #define PACKAGE_BUGREPORT "johnw@newartisans.com"
| #define PACKAGE_URL ""
| #define PACKAGE "ledger"
| #define VERSION "3.0.0-20120217"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| /* end confdefs.h.  */
| #include <minix/config.h>
configure:4577: result: no
configure:4577: checking for minix/config.h
configure:4577: result: no
configure:4598: checking whether it is safe to define __EXTENSIONS__
configure:4616: gcc -c -g -O2 -isystem /usr/local/include -isystem /usr/include/python2.7 conftest.c >&5
configure:4616: $? = 0
configure:4623: result: yes
configure:4749: checking for C++ compiler version
configure:4758: g++ --version >&5
g++ (Ubuntu/Linaro 4.6.1-9ubuntu3) 4.6.1
Copyright (C) 2011 Free Software Foundation, Inc.
This is free software; see the source for copying conditions.  There is NO
warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.

configure:4769: $? = 0
configure:4758: g++ -v >&5
Using built-in specs.
COLLECT_GCC=g++
COLLECT_LTO_WRAPPER=/usr/lib/gcc/x86_64-linux-gnu/4.6.1/lto-wrapper
Target: x86_64-linux-gnu
Configured with: ../src/configure -v --with-pkgversion='Ubuntu/Linaro 4.6.1-9ubuntu3' --with-bugurl=file:///usr/share/doc/gcc-4.6/README.Bugs --enable-languages=c,c++,fortran,objc,obj-c++,go --prefix=/usr --program-suffix=-4.6 --enable-shared --enable-linker-build-id --with-system-zlib --libexecdir=/usr/lib --without-included-gettext --enable-threads=posix --with-gxx-include-dir=/usr/include/c++/4.6 --libdir=/usr/lib --enable-nls --with-sysroot=/ --enable-clocale=gnu --enable-libstdcxx-debug --enable-libstdcxx-time=yes --enable-plugin --enable-objc-gc --disable-werror --with-arch-32=i686 --with-tune=generic --enable-checking=release --build=x86_64-linux-gnu --host=x86_64-linux-gnu --target=x86_64-linux-gnu
Thread model: posix
gcc version 4.6.1 (Ubuntu/Linaro 4.6.1-9ubuntu3)
configure:4769: $? = 0
configure:4758: g++ -V >&5
g++: error: unrecognized option '-V'
g++: fatal error: no input files
compilation terminated.
configure:4769: $? = 4
configure:4758: g++ -qversion >&5
g++: error: unrecognized option '-qversion'
g++: fatal error: no input files
compilation terminated.
configure:4769: $? = 4
configure:4773: checking whether we are using the GNU C++ compiler
configure:4792: g++ -c -Wconversion -pthread -g -pipe -isystem /usr/local/include -isystem /usr/include/python2.7 conftest.cpp >&5
configure:4792: $? = 0
configure:4801: result: yes
configure:4810: checking whether g++ accepts -g
configure:4830: g++ -c -g -isystem /usr/local/include -isystem /usr/include/python2.7 conftest.cpp >&5
configure:4830: $? = 0
configure:4871: result: yes
configure:4896: checking dependency style of g++
configure:5006: result: gcc3
configure:5021: checking whether make sets $(MAKE)
configure:5043: result: yes
configure:5081: checking build system type
configure:5095: result: x86_64-unknown-linux-gnu
configure:5115: checking host system type
configure:5128: result: x86_64-unknown-linux-gnu
configure:5169: checking how to print strings
configure:5196: result: printf
configure:5217: checking for a sed that does not truncate output
configure:5281: result: /bin/sed
configure:5299: checking for fgrep
configure:5361: result: /bin/grep -F
configure:5396: checking for ld used by gcc
configure:5463: result: g++
configure:5470: checking if the linker (g++) is GNU ld
configure:5485: result: no
configure:5497: checking for BSD- or MS-compatible name lister (nm)
configure:5546: result: /usr/bin/nm -B
configure:5676: checking the name lister (/usr/bin/nm -B) interface
configure:5683: gcc -c -g -O2 -isystem /usr/local/include -isystem /usr/include/python2.7 conftest.c >&5
configure:5686: /usr/bin/nm -B "conftest.o"
configure:5689: output
0000000000000000 B some_variable
configure:5696: result: BSD nm
configure:5699: checking whether ln -s works
configure:5703: result: yes
configure:5711: checking the maximum length of command line arguments
configure:5836: result: 1572864
configure:5853: checking whether the shell understands some XSI constructs
configure:5863: result: yes
configure:5867: checking whether the shell understands "+="
configure:5873: result: yes
configure:5908: checking how to convert x86_64-unknown-linux-gnu file names to x86_64-unknown-linux-gnu format
configure:5948: result: func_convert_file_noop
configure:5955: checking how to convert x86_64-unknown-linux-gnu file names to toolchain format
configure:5975: result: func_convert_file_noop
configure:5982: checking for g++ option to reload object files
configure:5989: result: -r
configure:6063: checking for objdump
configure:6079: found /usr/bin/objdump
configure:6090: result: objdump
configure:6122: checking how to recognize dependent libraries
configure:6324: result: pass_all
configure:6409: checking for dlltool
configure:6439: result: no
configure:6469: checking how to associate runtime and link libraries
configure:6496: result: printf %s\n
configure:6556: checking for ar
configure:6572: found /usr/bin/ar
configure:6583: result: ar
configure:6620: checking for archiver @FILE support
configure:6637: gcc -c -g -O2 -isystem /usr/local/include -isystem /usr/include/python2.7 conftest.c >&5
configure:6637: $? = 0
configure:6640: ar cru libconftest.a @conftest.lst >&5
configure:6643: $? = 0
configure:6648: ar cru libconftest.a @conftest.lst >&5
ar: conftest.o: No such file or directory
configure:6651: $? = 1
configure:6663: result: @
configure:6721: checking for strip
configure:6737: found /usr/bin/strip
configure:6748: result: strip
configure:6820: checking for ranlib
configure:6836: found /usr/bin/ranlib
configure:6847: result: ranlib
configure:6949: checking command to parse /usr/bin/nm -B output from gcc object
configure:7068: gcc -c -g -O2 -isystem /usr/local/include -isystem /usr/include/python2.7 conftest.c >&5
configure:7071: $? = 0
configure:7075: /usr/bin/nm -B conftest.o \| sed -n -e 's/^.*[ ]\([ABCDGIRSTW][ABCDGIRSTW]*\)[ ][ ]*\([_A-Za-z][_A-Za-z0-9]*\)$/\1 \2 \2/p' | sed '/ __gnu_lto/d' \> conftest.nm
configure:7078: $? = 0
configure:7144: gcc -o conftest -g -O2 -isystem /usr/local/include -isystem /usr/include/python2.7 -fpch-deps -g -L/usr/local/lib -L/usr/lib -L/usr/lib/python2.7/config conftest.c conftstm.o >&5
configure:7147: $? = 0
configure:7185: result: ok
configure:7222: checking for sysroot
configure:7252: result: no
configure:7329: gcc -c -g -O2 -isystem /usr/local/include -isystem /usr/include/python2.7 conftest.c >&5
configure:7332: $? = 0
configure:7495: checking for mt
configure:7511: found /bin/mt
configure:7522: result: mt
configure:7545: checking if mt is a manifest tool
configure:7551: mt '-?'
configure:7559: result: no
configure:8188: checking for dlfcn.h
configure:8188: gcc -c -g -O2 -isystem /usr/local/include -isystem /usr/include/python2.7 conftest.c >&5
configure:8188: $? = 0
configure:8188: result: yes
configure:8386: checking for objdir
configure:8401: result: .libs
configure:8672: checking if gcc supports -fno-rtti -fno-exceptions
configure:8690: gcc -c -g -O2 -isystem /usr/local/include -isystem /usr/include/python2.7 -fno-rtti -fno-exceptions conftest.c >&5
cc1: warning: command line option '-fno-rtti' is valid for C++/ObjC++ but not for C [enabled by default]
configure:8694: $? = 0
configure:8707: result: no
configure:9017: checking for gcc option to produce PIC
configure:9024: result: -fPIC -DPIC
configure:9032: checking if gcc PIC flag -fPIC -DPIC works
configure:9050: gcc -c -g -O2 -isystem /usr/local/include -isystem /usr/include/python2.7 -fPIC -DPIC -DPIC conftest.c >&5
configure:9054: $? = 0
configure:9067: result: yes
configure:9096: checking if gcc static flag -static works
configure:9124: result: yes
configure:9139: checking if gcc supports -c -o file.o
configure:9160: gcc -c -g -O2 -isystem /usr/local/include -isystem /usr/include/python2.7 -o out/conftest2.o conftest.c >&5
configure:9164: $? = 0
configure:9186: result: yes
configure:9194: checking if gcc supports -c -o file.o
configure:9241: result: yes
configure:9274: checking whether the gcc linker (g++ -m elf_x86_64) supports shared libraries
configure:10436: result: no
configure:10681: checking dynamic linker characteristics
configure:11196: gcc -o conftest -g -O2 -isystem /usr/local/include -isystem /usr/include/python2.7 -fpch-deps -g -L/usr/local/lib -L/usr/lib -L/usr/lib/python2.7/config  conftest.c  >&5
configure:11196: $? = 0
configure:11430: result: GNU/Linux ld.so
configure:11537: checking how to hardcode library paths into programs
configure:11562: result: unsupported
configure:12102: checking whether stripping libraries is possible
configure:12107: result: yes
configure:12142: checking if libtool supports shared libraries
configure:12144: result: no
configure:12147: checking whether to build shared libraries
configure:12168: result: no
configure:12171: checking whether to build static libraries
configure:12175: result: yes
configure:12198: checking how to run the C++ preprocessor
configure:12225: g++ -E -isystem /usr/local/include -isystem /usr/include/python2.7 conftest.cpp
configure:12225: $? = 0
configure:12239: g++ -E -isystem /usr/local/include -isystem /usr/include/python2.7 conftest.cpp
conftest.cpp:28:28: fatal error: ac_nonexistent.h: No such file or directory
compilation terminated.
configure:12239: $? = 1
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "ledger"
| #define PACKAGE_TARNAME "ledger"
| #define PACKAGE_VERSION "3.0.0-20120217"
| #define PACKAGE_STRING "ledger 3.0.0-20120217"
| #define PACKAGE_BUGREPORT "johnw@newartisans.com"
| #define PACKAGE_URL ""
| #define PACKAGE "ledger"
| #define VERSION "3.0.0-20120217"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define __EXTENSIONS__ 1
| #define _ALL_SOURCE 1
| #define _GNU_SOURCE 1
| #define _POSIX_PTHREAD_SEMANTICS 1
| #define _TANDEM_SOURCE 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| /* end confdefs.h.  */
| #include <ac_nonexistent.h>
configure:12264: result: g++ -E
configure:12284: g++ -E -isystem /usr/local/include -isystem /usr/include/python2.7 conftest.cpp
configure:12284: $? = 0
configure:12298: g++ -E -isystem /usr/local/include -isystem /usr/include/python2.7 conftest.cpp
conftest.cpp:28:28: fatal error: ac_nonexistent.h: No such file or directory
compilation terminated.
configure:12298: $? = 1
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "ledger"
| #define PACKAGE_TARNAME "ledger"
| #define PACKAGE_VERSION "3.0.0-20120217"
| #define PACKAGE_STRING "ledger 3.0.0-20120217"
| #define PACKAGE_BUGREPORT "johnw@newartisans.com"
| #define PACKAGE_URL ""
| #define PACKAGE "ledger"
| #define VERSION "3.0.0-20120217"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define __EXTENSIONS__ 1
| #define _ALL_SOURCE 1
| #define _GNU_SOURCE 1
| #define _POSIX_PTHREAD_SEMANTICS 1
| #define _TANDEM_SOURCE 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| /* end confdefs.h.  */
| #include <ac_nonexistent.h>
configure:12468: checking for ld used by g++
configure:12535: result: g++ -m elf_x86_64
configure:12542: checking if the linker (g++ -m elf_x86_64) is GNU ld
configure:12557: result: no
configure:12612: checking whether the g++ linker (g++ -m elf_x86_64) supports shared libraries
configure:13616: result: yes
configure:13651: g++ -c -Wconversion -pthread -g -pipe -isystem /usr/local/include -isystem /usr/include/python2.7 conftest.cpp >&5
configure:13654: $? = 0
configure:14174: checking for g++ option to produce PIC
configure:14181: result: -fPIC -DPIC
configure:14189: checking if g++ PIC flag -fPIC -DPIC works
configure:14207: g++ -c -Wconversion -pthread -g -pipe -isystem /usr/local/include -isystem /usr/include/python2.7 -fPIC -DPIC -DPIC conftest.cpp >&5
configure:14211: $? = 0
configure:14224: result: yes
configure:14247: checking if g++ static flag -static works
configure:14275: result: yes
configure:14287: checking if g++ supports -c -o file.o
configure:14308: g++ -c -Wconversion -pthread -g -pipe -isystem /usr/local/include -isystem /usr/include/python2.7 -o out/conftest2.o conftest.cpp >&5
configure:14312: $? = 0
configure:14334: result: yes
configure:14339: checking if g++ supports -c -o file.o
configure:14386: result: yes
configure:14416: checking whether the g++ linker (g++ -m elf_x86_64) supports shared libraries
configure:14453: result: yes
configure:14596: checking dynamic linker characteristics
configure:15279: result: GNU/Linux ld.so
configure:15332: checking how to hardcode library paths into programs
configure:15357: result: unsupported
configure:15417: checking whether NLS is requested
configure:15426: result: yes
configure:15467: checking for msgfmt
configure: trying /usr/bin/msgfmt...
0 translated messages.
configure:15499: result: /usr/bin/msgfmt
configure:15508: checking for gmsgfmt
configure:15539: result: /usr/bin/msgfmt
configure:15590: checking for xgettext
configure: trying /usr/bin/xgettext...
/usr/bin/xgettext: warning: file `/dev/null' extension `' is unknown; will try C
configure:15622: result: /usr/bin/xgettext
configure:15668: checking for msgmerge
configure: trying /usr/bin/msgmerge...
configure:15699: result: /usr/bin/msgmerge
configure:15717: checking whether we are using the GNU C Library 2 or newer
configure:15744: result: yes
configure:15793: checking for ranlib
configure:15820: result: ranlib
configure:15847: checking for simple visibility declarations
configure:15869: gcc -c -g -O2 -fvisibility=hidden -isystem /usr/local/include -isystem /usr/include/python2.7 conftest.c >&5
configure:15869: $? = 0
configure:15878: result: yes
configure:15893: checking for inline
configure:15909: gcc -c -g -O2 -isystem /usr/local/include -isystem /usr/include/python2.7 conftest.c >&5
configure:15909: $? = 0
configure:15917: result: inline
configure:15935: checking for size_t
configure:15935: gcc -c -g -O2 -isystem /usr/local/include -isystem /usr/include/python2.7 conftest.c >&5
configure:15935: $? = 0
configure:15935: gcc -c -g -O2 -isystem /usr/local/include -isystem /usr/include/python2.7 conftest.c >&5
conftest.c: In function 'main':
conftest.c:65:21: error: expected expression before ')' token
configure:15935: $? = 1
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "ledger"
| #define PACKAGE_TARNAME "ledger"
| #define PACKAGE_VERSION "3.0.0-20120217"
| #define PACKAGE_STRING "ledger 3.0.0-20120217"
| #define PACKAGE_BUGREPORT "johnw@newartisans.com"
| #define PACKAGE_URL ""
| #define PACKAGE "ledger"
| #define VERSION "3.0.0-20120217"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define __EXTENSIONS__ 1
| #define _ALL_SOURCE 1
| #define _GNU_SOURCE 1
| #define _POSIX_PTHREAD_SEMANTICS 1
| #define _TANDEM_SOURCE 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_VISIBILITY 1
| /* end confdefs.h.  */
| #include <stdio.h>
| #ifdef HAVE_SYS_TYPES_H
| # include <sys/types.h>
| #endif
| #ifdef HAVE_SYS_STAT_H
| # include <sys/stat.h>
| #endif
| #ifdef STDC_HEADERS
| # include <stdlib.h>
| # include <stddef.h>
| #else
| # ifdef HAVE_STDLIB_H
| #  include <stdlib.h>
| # endif
| #endif
| #ifdef HAVE_STRING_H
| # if !defined STDC_HEADERS && defined HAVE_MEMORY_H
| #  include <memory.h>
| # endif
| # include <string.h>
| #endif
| #ifdef HAVE_STRINGS_H
| # include <strings.h>
| #endif
| #ifdef HAVE_INTTYPES_H
| # include <inttypes.h>
| #endif
| #ifdef HAVE_STDINT_H
| # include <stdint.h>
| #endif
| #ifdef HAVE_UNISTD_H
| # include <unistd.h>
| #endif
| int
| main ()
| {
| if (sizeof ((size_t)))
|           return 0;
|   ;
|   return 0;
| }
configure:15935: result: yes
configure:15947: checking for stdint.h
configure:15964: gcc -c -g -O2 -isystem /usr/local/include -isystem /usr/include/python2.7 conftest.c >&5
configure:15964: $? = 0
configure:15971: result: yes
configure:15983: checking for working alloca.h
configure:16000: gcc -o conftest -g -O2 -isystem /usr/local/include -isystem /usr/include/python2.7 -fpch-deps -g -L/usr/local/lib -L/usr/lib -L/usr/lib/python2.7/config conftest.c  >&5
configure:16000: $? = 0
configure:16008: result: yes
configure:16016: checking for alloca
configure:16053: gcc -o conftest -g -O2 -isystem /usr/local/include -isystem /usr/include/python2.7 -fpch-deps -g -L/usr/local/lib -L/usr/lib -L/usr/lib/python2.7/config conftest.c  >&5
configure:16053: $? = 0
configure:16061: result: yes
configure:16176: checking for stdlib.h
configure:16176: result: yes
configure:16176: checking for unistd.h
configure:16176: result: yes
configure:16176: checking for sys/param.h
configure:16176: gcc -c -g -O2 -isystem /usr/local/include -isystem /usr/include/python2.7 conftest.c >&5
configure:16176: $? = 0
configure:16176: result: yes
configure:16196: checking for getpagesize
configure:16196: gcc -o conftest -g -O2 -isystem /usr/local/include -isystem /usr/include/python2.7 -fpch-deps -g -L/usr/local/lib -L/usr/lib -L/usr/lib/python2.7/config conftest.c  >&5
configure:16196: $? = 0
configure:16196: result: yes
configure:16205: checking for working mmap
configure:16352: gcc -o conftest -g -O2 -isystem /usr/local/include -isystem /usr/include/python2.7 -fpch-deps -g -L/usr/local/lib -L/usr/lib -L/usr/lib/python2.7/config conftest.c  >&5
configure:16352: $? = 0
configure:16352: ./conftest
configure:16352: $? = 0
configure:16362: result: yes
configure:16373: checking whether integer division by zero raises SIGFPE
configure:16439: gcc -o conftest -g -O2 -isystem /usr/local/include -isystem /usr/include/python2.7 -fpch-deps -g -L/usr/local/lib -L/usr/lib -L/usr/lib/python2.7/config conftest.c  >&5
conftest.c:51:5: warning: built-in function 'nan' declared as non-function [enabled by default]
configure:16439: $? = 0
configure:16439: ./conftest
configure:16439: $? = 0
configure:16451: result: yes
configure:16464: checking for inttypes.h
configure:16481: gcc -c -g -O2 -isystem /usr/local/include -isystem /usr/include/python2.7 conftest.c >&5
configure:16481: $? = 0
configure:16488: result: yes
configure:16499: checking for unsigned long long int
configure:16539: gcc -o conftest -g -O2 -isystem /usr/local/include -isystem /usr/include/python2.7 -fpch-deps -g -L/usr/local/lib -L/usr/lib -L/usr/lib/python2.7/config conftest.c  >&5
configure:16539: $? = 0
configure:16547: result: yes
configure:16577: checking for inttypes.h
configure:16577: result: yes
configure:16588: checking whether the inttypes.h PRIxNN macros are broken
configure:16609: gcc -c -g -O2 -isystem /usr/local/include -isystem /usr/include/python2.7 conftest.c >&5
configure:16609: $? = 0
configure:16617: result: no
configure:16712: checking for ld used by GCC
configure:16776: result: g++ -m elf_x86_64
configure:16783: checking if the linker (g++ -m elf_x86_64) is GNU ld
configure:16796: result: no
configure:16803: checking for shared library run path origin
configure:16816: result: done
configure:16862: checking whether imported symbols can be declared weak
configure:16877: gcc -o conftest -g -O2 -isystem /usr/local/include -isystem /usr/include/python2.7 -fpch-deps -g -L/usr/local/lib -L/usr/lib -L/usr/lib/python2.7/config conftest.c  >&5
configure:16877: $? = 0
configure:16882: result: yes
configure:16887: checking pthread.h usability
configure:16887: gcc -c -g -O2 -isystem /usr/local/include -isystem /usr/include/python2.7 conftest.c >&5
configure:16887: $? = 0
configure:16887: result: yes
configure:16887: checking pthread.h presence
configure:16887: gcc -E -isystem /usr/local/include -isystem /usr/include/python2.7 conftest.c
configure:16887: $? = 0
configure:16887: result: yes
configure:16887: checking for pthread.h
configure:16887: result: yes
configure:16915: gcc -o conftest -g -O2 -isystem /usr/local/include -isystem /usr/include/python2.7 -fpch-deps -g -L/usr/local/lib -L/usr/lib -L/usr/lib/python2.7/config conftest.c  >&5
/tmp/ccPRrDdD.o: In function `main':
/home/jrake/ledger/conftest.c:47: undefined reference to `pthread_mutexattr_init'
collect2: ld returned 1 exit status
configure:16915: $? = 1
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "ledger"
| #define PACKAGE_TARNAME "ledger"
| #define PACKAGE_VERSION "3.0.0-20120217"
| #define PACKAGE_STRING "ledger 3.0.0-20120217"
| #define PACKAGE_BUGREPORT "johnw@newartisans.com"
| #define PACKAGE_URL ""
| #define PACKAGE "ledger"
| #define VERSION "3.0.0-20120217"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define __EXTENSIONS__ 1
| #define _ALL_SOURCE 1
| #define _GNU_SOURCE 1
| #define _POSIX_PTHREAD_SEMANTICS 1
| #define _TANDEM_SOURCE 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_VISIBILITY 1
| #define HAVE_STDINT_H_WITH_UINTMAX 1
| #define HAVE_ALLOCA_H 1
| #define HAVE_ALLOCA 1
| #define HAVE_STDLIB_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_SYS_PARAM_H 1
| #define HAVE_GETPAGESIZE 1
| #define HAVE_MMAP 1
| #define INTDIV0_RAISES_SIGFPE 1
| #define HAVE_INTTYPES_H_WITH_UINTMAX 1
| #define HAVE_UNSIGNED_LONG_LONG_INT 1
| #define HAVE_UINTMAX_T 1
| #define HAVE_INTTYPES_H 1
| /* end confdefs.h.  */
| #include <pthread.h>
| int
| main ()
| {
| pthread_mutex_lock((pthread_mutex_t*)0);
|            pthread_mutexattr_init((pthread_mutexattr_t*)0);
|   ;
|   return 0;
| }
configure:16978: checking for pthread_kill in -lpthread
configure:17003: gcc -o conftest -g -O2 -isystem /usr/local/include -isystem /usr/include/python2.7 -fpch-deps -g -L/usr/local/lib -L/usr/lib -L/usr/lib/python2.7/config conftest.c -lpthread   >&5
configure:17003: $? = 0
configure:17012: result: yes
configure:17082: checking for pthread_rwlock_t
configure:17082: gcc -c -g -O2 -isystem /usr/local/include -isystem /usr/include/python2.7 conftest.c >&5
configure:17082: $? = 0
configure:17082: gcc -c -g -O2 -isystem /usr/local/include -isystem /usr/include/python2.7 conftest.c >&5
conftest.c: In function 'main':
conftest.c:49:31: error: expected expression before ')' token
configure:17082: $? = 1
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "ledger"
| #define PACKAGE_TARNAME "ledger"
| #define PACKAGE_VERSION "3.0.0-20120217"
| #define PACKAGE_STRING "ledger 3.0.0-20120217"
| #define PACKAGE_BUGREPORT "johnw@newartisans.com"
| #define PACKAGE_URL ""
| #define PACKAGE "ledger"
| #define VERSION "3.0.0-20120217"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define __EXTENSIONS__ 1
| #define _ALL_SOURCE 1
| #define _GNU_SOURCE 1
| #define _POSIX_PTHREAD_SEMANTICS 1
| #define _TANDEM_SOURCE 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_VISIBILITY 1
| #define HAVE_STDINT_H_WITH_UINTMAX 1
| #define HAVE_ALLOCA_H 1
| #define HAVE_ALLOCA 1
| #define HAVE_STDLIB_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_SYS_PARAM_H 1
| #define HAVE_GETPAGESIZE 1
| #define HAVE_MMAP 1
| #define INTDIV0_RAISES_SIGFPE 1
| #define HAVE_INTTYPES_H_WITH_UINTMAX 1
| #define HAVE_UNSIGNED_LONG_LONG_INT 1
| #define HAVE_UINTMAX_T 1
| #define HAVE_INTTYPES_H 1
| #define USE_POSIX_THREADS 1
| #define USE_POSIX_THREADS_WEAK 1
| /* end confdefs.h.  */
| #include <pthread.h>
|
| int
| main ()
| {
| if (sizeof ((pthread_rwlock_t)))
|           return 0;
|   ;
|   return 0;
| }
configure:17082: result: yes
configure:17107: gcc -c -g -O2 -isystem /usr/local/include -isystem /usr/include/python2.7 conftest.c >&5
configure:17107: $? = 0
configure:17705: checking for multithread API to use
configure:17707: result: posix
configure:18175: gcc -o conftest -g -O2 -isystem /usr/local/include -isystem /usr/include/python2.7 -fpch-deps -g -L/usr/local/lib -L/usr/lib -L/usr/lib/python2.7/config conftest.c  >&5
configure:18175: $? = 0
configure:18186: checking argz.h usability
configure:18186: gcc -c -g -O2 -isystem /usr/local/include -isystem /usr/include/python2.7 conftest.c >&5
configure:18186: $? = 0
configure:18186: result: yes
configure:18186: checking argz.h presence
configure:18186: gcc -E -isystem /usr/local/include -isystem /usr/include/python2.7 conftest.c
configure:18186: $? = 0
configure:18186: result: yes
configure:18186: checking for argz.h
configure:18186: result: yes
configure:18186: checking for inttypes.h
configure:18186: result: yes
configure:18186: checking limits.h usability
configure:18186: gcc -c -g -O2 -isystem /usr/local/include -isystem /usr/include/python2.7 conftest.c >&5
configure:18186: $? = 0
configure:18186: result: yes
configure:18186: checking limits.h presence
configure:18186: gcc -E -isystem /usr/local/include -isystem /usr/include/python2.7 conftest.c
configure:18186: $? = 0
configure:18186: result: yes
configure:18186: checking for limits.h
configure:18186: result: yes
configure:18186: checking for unistd.h
configure:18186: result: yes
configure:18186: checking for sys/param.h
configure:18186: result: yes
configure:18201: checking for getcwd
configure:18201: gcc -o conftest -g -O2 -isystem /usr/local/include -isystem /usr/include/python2.7 -fpch-deps -g -L/usr/local/lib -L/usr/lib -L/usr/lib/python2.7/config conftest.c  >&5
configure:18201: $? = 0
configure:18201: result: yes
configure:18201: checking for getegid
configure:18201: gcc -o conftest -g -O2 -isystem /usr/local/include -isystem /usr/include/python2.7 -fpch-deps -g -L/usr/local/lib -L/usr/lib -L/usr/lib/python2.7/config conftest.c  >&5
configure:18201: $? = 0
configure:18201: result: yes
configure:18201: checking for geteuid
configure:18201: gcc -o conftest -g -O2 -isystem /usr/local/include -isystem /usr/include/python2.7 -fpch-deps -g -L/usr/local/lib -L/usr/lib -L/usr/lib/python2.7/config conftest.c  >&5
configure:18201: $? = 0
configure:18201: result: yes
configure:18201: checking for getgid
configure:18201: gcc -o conftest -g -O2 -isystem /usr/local/include -isystem /usr/include/python2.7 -fpch-deps -g -L/usr/local/lib -L/usr/lib -L/usr/lib/python2.7/config conftest.c  >&5
configure:18201: $? = 0
configure:18201: result: yes
configure:18201: checking for getuid
configure:18201: gcc -o conftest -g -O2 -isystem /usr/local/include -isystem /usr/include/python2.7 -fpch-deps -g -L/usr/local/lib -L/usr/lib -L/usr/lib/python2.7/config conftest.c  >&5
configure:18201: $? = 0
configure:18201: result: yes
configure:18201: checking for mempcpy
configure:18201: gcc -o conftest -g -O2 -isystem /usr/local/include -isystem /usr/include/python2.7 -fpch-deps -g -L/usr/local/lib -L/usr/lib -L/usr/lib/python2.7/config conftest.c  >&5
conftest.c:80:6: warning: conflicting types for built-in function 'mempcpy' [enabled by default]
configure:18201: $? = 0
configure:18201: result: yes
configure:18201: checking for munmap
configure:18201: gcc -o conftest -g -O2 -isystem /usr/local/include -isystem /usr/include/python2.7 -fpch-deps -g -L/usr/local/lib -L/usr/lib -L/usr/lib/python2.7/config conftest.c  >&5
configure:18201: $? = 0
configure:18201: result: yes
configure:18201: checking for stpcpy
configure:18201: gcc -o conftest -g -O2 -isystem /usr/local/include -isystem /usr/include/python2.7 -fpch-deps -g -L/usr/local/lib -L/usr/lib -L/usr/lib/python2.7/config conftest.c  >&5
conftest.c:82:6: warning: conflicting types for built-in function 'stpcpy' [enabled by default]
configure:18201: $? = 0
configure:18201: result: yes
configure:18201: checking for strcasecmp
configure:18201: gcc -o conftest -g -O2 -isystem /usr/local/include -isystem /usr/include/python2.7 -fpch-deps -g -L/usr/local/lib -L/usr/lib -L/usr/lib/python2.7/config conftest.c  >&5
conftest.c:83:6: warning: conflicting types for built-in function 'strcasecmp' [enabled by default]
configure:18201: $? = 0
configure:18201: result: yes
configure:18201: checking for strdup
configure:18201: gcc -o conftest -g -O2 -isystem /usr/local/include -isystem /usr/include/python2.7 -fpch-deps -g -L/usr/local/lib -L/usr/lib -L/usr/lib/python2.7/config conftest.c  >&5
conftest.c:84:6: warning: conflicting types for built-in function 'strdup' [enabled by default]
configure:18201: $? = 0
configure:18201: result: yes
configure:18201: checking for strtoul
configure:18201: gcc -o conftest -g -O2 -isystem /usr/local/include -isystem /usr/include/python2.7 -fpch-deps -g -L/usr/local/lib -L/usr/lib -L/usr/lib/python2.7/config conftest.c  >&5
configure:18201: $? = 0
configure:18201: result: yes
configure:18201: checking for tsearch
configure:18201: gcc -o conftest -g -O2 -isystem /usr/local/include -isystem /usr/include/python2.7 -fpch-deps -g -L/usr/local/lib -L/usr/lib -L/usr/lib/python2.7/config conftest.c  >&5
configure:18201: $? = 0
configure:18201: result: yes
configure:18201: checking for argz_count
configure:18201: gcc -o conftest -g -O2 -isystem /usr/local/include -isystem /usr/include/python2.7 -fpch-deps -g -L/usr/local/lib -L/usr/lib -L/usr/lib/python2.7/config conftest.c  >&5
configure:18201: $? = 0
configure:18201: result: yes
configure:18201: checking for argz_stringify
configure:18201: gcc -o conftest -g -O2 -isystem /usr/local/include -isystem /usr/include/python2.7 -fpch-deps -g -L/usr/local/lib -L/usr/lib -L/usr/lib/python2.7/config conftest.c  >&5
configure:18201: $? = 0
configure:18201: result: yes
configure:18201: checking for argz_next
configure:18201: gcc -o conftest -g -O2 -isystem /usr/local/include -isystem /usr/include/python2.7 -fpch-deps -g -L/usr/local/lib -L/usr/lib -L/usr/lib/python2.7/config conftest.c  >&5
configure:18201: $? = 0
configure:18201: result: yes
configure:18201: checking for __fsetlocking
configure:18201: gcc -o conftest -g -O2 -isystem /usr/local/include -isystem /usr/include/python2.7 -fpch-deps -g -L/usr/local/lib -L/usr/lib -L/usr/lib/python2.7/config conftest.c  >&5
configure:18201: $? = 0
configure:18201: result: yes
configure:18212: checking whether feof_unlocked is declared
configure:18232: gcc -c -g -O2 -isystem /usr/local/include -isystem /usr/include/python2.7 conftest.c >&5
configure:18232: $? = 0
configure:18239: result: yes
configure:18253: checking whether fgets_unlocked is declared
configure:18273: gcc -c -g -O2 -isystem /usr/local/include -isystem /usr/include/python2.7 conftest.c >&5
configure:18273: $? = 0
configure:18280: result: yes
configure:18324: checking for iconv
configure:18346: gcc -o conftest -g -O2 -isystem /usr/local/include -isystem /usr/include/python2.7 -fpch-deps -g -L/usr/local/lib -L/usr/lib -L/usr/lib/python2.7/config conftest.c  >&5
configure:18346: $? = 0
configure:18378: result: yes
configure:18381: checking for working iconv
configure:18457: gcc -o conftest -g -O2 -isystem /usr/local/include -isystem /usr/include/python2.7 -fpch-deps -g -L/usr/local/lib -L/usr/lib -L/usr/lib/python2.7/config conftest.c  >&5
configure:18457: $? = 0
configure:18457: ./conftest
configure:18457: $? = 0
configure:18469: result: yes
configure:18497: checking for iconv declaration
configure:18526: gcc -c -g -O2 -isystem /usr/local/include -isystem /usr/include/python2.7 conftest.c >&5
configure:18526: $? = 0
configure:18537: result:
         extern size_t iconv (iconv_t cd, char * *inbuf, size_t *inbytesleft, char * *outbuf, size_t *outbytesleft);
configure:18548: checking for NL_LOCALE_NAME macro
configure:18567: gcc -o conftest -g -O2 -isystem /usr/local/include -isystem /usr/include/python2.7 -fpch-deps -g -L/usr/local/lib -L/usr/lib -L/usr/lib/python2.7/config conftest.c  >&5
configure:18567: $? = 0
configure:18576: result: yes
configure:18588: checking for bison
configure:18618: result: no
configure:18646: checking for long long int
configure:18686: gcc -o conftest -g -O2 -isystem /usr/local/include -isystem /usr/include/python2.7 -fpch-deps -g -L/usr/local/lib -L/usr/lib -L/usr/lib/python2.7/config conftest.c  >&5
configure:18686: $? = 0
configure:18716: gcc -o conftest -g -O2 -isystem /usr/local/include -isystem /usr/include/python2.7 -fpch-deps -g -L/usr/local/lib -L/usr/lib -L/usr/lib/python2.7/config conftest.c  >&5
configure:18716: $? = 0
configure:18716: ./conftest
configure:18716: $? = 0
configure:18731: result: yes
configure:18740: checking for wchar_t
configure:18757: gcc -c -g -O2 -isystem /usr/local/include -isystem /usr/include/python2.7 conftest.c >&5
configure:18757: $? = 0
configure:18764: result: yes
configure:18773: checking for wint_t
configure:18798: gcc -c -g -O2 -isystem /usr/local/include -isystem /usr/include/python2.7 conftest.c >&5
configure:18798: $? = 0
configure:18805: result: yes
configure:18816: checking for intmax_t
configure:18842: gcc -c -g -O2 -isystem /usr/local/include -isystem /usr/include/python2.7 conftest.c >&5
configure:18842: $? = 0
configure:18849: result: yes
configure:18859: checking whether printf() supports POSIX/XSI format strings
configure:18900: gcc -o conftest -g -O2 -isystem /usr/local/include -isystem /usr/include/python2.7 -fpch-deps -g -L/usr/local/lib -L/usr/lib -L/usr/lib/python2.7/config conftest.c  >&5
configure:18900: $? = 0
configure:18900: ./conftest
configure:18900: $? = 0
configure:18911: result: yes
configure:18922: checking whether we are using the GNU C Library 2.1 or newer
configure:18949: result: yes
configure:18958: checking for stdint.h
configure:18958: result: yes
configure:18968: checking for SIZE_MAX
configure:19040: result: yes
configure:19055: checking for stdint.h
configure:19055: result: yes
configure:19067: checking for CFPreferencesCopyAppValue
configure:19085: gcc -o conftest -g -O2 -isystem /usr/local/include -isystem /usr/include/python2.7 -fpch-deps -g -L/usr/local/lib -L/usr/lib -L/usr/lib/python2.7/config conftest.c  -Wl,-framework -Wl,CoreFoundation >&5
conftest.c:80:42: fatal error: CoreFoundation/CFPreferences.h: No such file or directory
compilation terminated.
configure:19085: $? = 1
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "ledger"
| #define PACKAGE_TARNAME "ledger"
| #define PACKAGE_VERSION "3.0.0-20120217"
| #define PACKAGE_STRING "ledger 3.0.0-20120217"
| #define PACKAGE_BUGREPORT "johnw@newartisans.com"
| #define PACKAGE_URL ""
| #define PACKAGE "ledger"
| #define VERSION "3.0.0-20120217"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define __EXTENSIONS__ 1
| #define _ALL_SOURCE 1
| #define _GNU_SOURCE 1
| #define _POSIX_PTHREAD_SEMANTICS 1
| #define _TANDEM_SOURCE 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_VISIBILITY 1
| #define HAVE_STDINT_H_WITH_UINTMAX 1
| #define HAVE_ALLOCA_H 1
| #define HAVE_ALLOCA 1
| #define HAVE_STDLIB_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_SYS_PARAM_H 1
| #define HAVE_GETPAGESIZE 1
| #define HAVE_MMAP 1
| #define INTDIV0_RAISES_SIGFPE 1
| #define HAVE_INTTYPES_H_WITH_UINTMAX 1
| #define HAVE_UNSIGNED_LONG_LONG_INT 1
| #define HAVE_UINTMAX_T 1
| #define HAVE_INTTYPES_H 1
| #define USE_POSIX_THREADS 1
| #define USE_POSIX_THREADS_WEAK 1
| #define HAVE_PTHREAD_RWLOCK 1
| #define HAVE_PTHREAD_MUTEX_RECURSIVE 1
| #define HAVE_BUILTIN_EXPECT 1
| #define HAVE_ARGZ_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_LIMITS_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_SYS_PARAM_H 1
| #define HAVE_GETCWD 1
| #define HAVE_GETEGID 1
| #define HAVE_GETEUID 1
| #define HAVE_GETGID 1
| #define HAVE_GETUID 1
| #define HAVE_MEMPCPY 1
| #define HAVE_MUNMAP 1
| #define HAVE_STPCPY 1
| #define HAVE_STRCASECMP 1
| #define HAVE_STRDUP 1
| #define HAVE_STRTOUL 1
| #define HAVE_TSEARCH 1
| #define HAVE_ARGZ_COUNT 1
| #define HAVE_ARGZ_STRINGIFY 1
| #define HAVE_ARGZ_NEXT 1
| #define HAVE___FSETLOCKING 1
| #define HAVE_DECL_FEOF_UNLOCKED 1
| #define HAVE_DECL_FGETS_UNLOCKED 1
| #define HAVE_ICONV 1
| #define ICONV_CONST
| #define HAVE_NL_LOCALE_NAME 1
| #define HAVE_LONG_LONG_INT 1
| #define HAVE_WCHAR_T 1
| #define HAVE_WINT_T 1
| #define HAVE_INTMAX_T 1
| #define HAVE_POSIX_PRINTF 1
| #define HAVE_STDINT_H 1
| #define HAVE_STDINT_H 1
| /* end confdefs.h.  */
| #include <CoreFoundation/CFPreferences.h>
| int
| main ()
| {
| CFPreferencesCopyAppValue(NULL, NULL)
|   ;
|   return 0;
| }
configure:19094: result: no
configure:19101: checking for CFLocaleCopyCurrent
configure:19119: gcc -o conftest -g -O2 -isystem /usr/local/include -isystem /usr/include/python2.7 -fpch-deps -g -L/usr/local/lib -L/usr/lib -L/usr/lib/python2.7/config conftest.c  -Wl,-framework -Wl,CoreFoundation >&5
conftest.c:80:37: fatal error: CoreFoundation/CFLocale.h: No such file or directory
compilation terminated.
configure:19119: $? = 1
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "ledger"
| #define PACKAGE_TARNAME "ledger"
| #define PACKAGE_VERSION "3.0.0-20120217"
| #define PACKAGE_STRING "ledger 3.0.0-20120217"
| #define PACKAGE_BUGREPORT "johnw@newartisans.com"
| #define PACKAGE_URL ""
| #define PACKAGE "ledger"
| #define VERSION "3.0.0-20120217"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define __EXTENSIONS__ 1
| #define _ALL_SOURCE 1
| #define _GNU_SOURCE 1
| #define _POSIX_PTHREAD_SEMANTICS 1
| #define _TANDEM_SOURCE 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_VISIBILITY 1
| #define HAVE_STDINT_H_WITH_UINTMAX 1
| #define HAVE_ALLOCA_H 1
| #define HAVE_ALLOCA 1
| #define HAVE_STDLIB_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_SYS_PARAM_H 1
| #define HAVE_GETPAGESIZE 1
| #define HAVE_MMAP 1
| #define INTDIV0_RAISES_SIGFPE 1
| #define HAVE_INTTYPES_H_WITH_UINTMAX 1
| #define HAVE_UNSIGNED_LONG_LONG_INT 1
| #define HAVE_UINTMAX_T 1
| #define HAVE_INTTYPES_H 1
| #define USE_POSIX_THREADS 1
| #define USE_POSIX_THREADS_WEAK 1
| #define HAVE_PTHREAD_RWLOCK 1
| #define HAVE_PTHREAD_MUTEX_RECURSIVE 1
| #define HAVE_BUILTIN_EXPECT 1
| #define HAVE_ARGZ_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_LIMITS_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_SYS_PARAM_H 1
| #define HAVE_GETCWD 1
| #define HAVE_GETEGID 1
| #define HAVE_GETEUID 1
| #define HAVE_GETGID 1
| #define HAVE_GETUID 1
| #define HAVE_MEMPCPY 1
| #define HAVE_MUNMAP 1
| #define HAVE_STPCPY 1
| #define HAVE_STRCASECMP 1
| #define HAVE_STRDUP 1
| #define HAVE_STRTOUL 1
| #define HAVE_TSEARCH 1
| #define HAVE_ARGZ_COUNT 1
| #define HAVE_ARGZ_STRINGIFY 1
| #define HAVE_ARGZ_NEXT 1
| #define HAVE___FSETLOCKING 1
| #define HAVE_DECL_FEOF_UNLOCKED 1
| #define HAVE_DECL_FGETS_UNLOCKED 1
| #define HAVE_ICONV 1
| #define ICONV_CONST
| #define HAVE_NL_LOCALE_NAME 1
| #define HAVE_LONG_LONG_INT 1
| #define HAVE_WCHAR_T 1
| #define HAVE_WINT_T 1
| #define HAVE_INTMAX_T 1
| #define HAVE_POSIX_PRINTF 1
| #define HAVE_STDINT_H 1
| #define HAVE_STDINT_H 1
| /* end confdefs.h.  */
| #include <CoreFoundation/CFLocale.h>
| int
| main ()
| {
| CFLocaleCopyCurrent();
|   ;
|   return 0;
| }
configure:19128: result: no
configure:19146: checking for ptrdiff_t
configure:19146: gcc -c -g -O2 -isystem /usr/local/include -isystem /usr/include/python2.7 conftest.c >&5
configure:19146: $? = 0
configure:19146: gcc -c -g -O2 -isystem /usr/local/include -isystem /usr/include/python2.7 conftest.c >&5
conftest.c: In function 'main':
conftest.c:116:24: error: expected expression before ')' token
configure:19146: $? = 1
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "ledger"
| #define PACKAGE_TARNAME "ledger"
| #define PACKAGE_VERSION "3.0.0-20120217"
| #define PACKAGE_STRING "ledger 3.0.0-20120217"
| #define PACKAGE_BUGREPORT "johnw@newartisans.com"
| #define PACKAGE_URL ""
| #define PACKAGE "ledger"
| #define VERSION "3.0.0-20120217"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define __EXTENSIONS__ 1
| #define _ALL_SOURCE 1
| #define _GNU_SOURCE 1
| #define _POSIX_PTHREAD_SEMANTICS 1
| #define _TANDEM_SOURCE 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_VISIBILITY 1
| #define HAVE_STDINT_H_WITH_UINTMAX 1
| #define HAVE_ALLOCA_H 1
| #define HAVE_ALLOCA 1
| #define HAVE_STDLIB_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_SYS_PARAM_H 1
| #define HAVE_GETPAGESIZE 1
| #define HAVE_MMAP 1
| #define INTDIV0_RAISES_SIGFPE 1
| #define HAVE_INTTYPES_H_WITH_UINTMAX 1
| #define HAVE_UNSIGNED_LONG_LONG_INT 1
| #define HAVE_UINTMAX_T 1
| #define HAVE_INTTYPES_H 1
| #define USE_POSIX_THREADS 1
| #define USE_POSIX_THREADS_WEAK 1
| #define HAVE_PTHREAD_RWLOCK 1
| #define HAVE_PTHREAD_MUTEX_RECURSIVE 1
| #define HAVE_BUILTIN_EXPECT 1
| #define HAVE_ARGZ_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_LIMITS_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_SYS_PARAM_H 1
| #define HAVE_GETCWD 1
| #define HAVE_GETEGID 1
| #define HAVE_GETEUID 1
| #define HAVE_GETGID 1
| #define HAVE_GETUID 1
| #define HAVE_MEMPCPY 1
| #define HAVE_MUNMAP 1
| #define HAVE_STPCPY 1
| #define HAVE_STRCASECMP 1
| #define HAVE_STRDUP 1
| #define HAVE_STRTOUL 1
| #define HAVE_TSEARCH 1
| #define HAVE_ARGZ_COUNT 1
| #define HAVE_ARGZ_STRINGIFY 1
| #define HAVE_ARGZ_NEXT 1
| #define HAVE___FSETLOCKING 1
| #define HAVE_DECL_FEOF_UNLOCKED 1
| #define HAVE_DECL_FGETS_UNLOCKED 1
| #define HAVE_ICONV 1
| #define ICONV_CONST
| #define HAVE_NL_LOCALE_NAME 1
| #define HAVE_LONG_LONG_INT 1
| #define HAVE_WCHAR_T 1
| #define HAVE_WINT_T 1
| #define HAVE_INTMAX_T 1
| #define HAVE_POSIX_PRINTF 1
| #define HAVE_STDINT_H 1
| #define HAVE_STDINT_H 1
| /* end confdefs.h.  */
| #include <stdio.h>
| #ifdef HAVE_SYS_TYPES_H
| # include <sys/types.h>
| #endif
| #ifdef HAVE_SYS_STAT_H
| # include <sys/stat.h>
| #endif
| #ifdef STDC_HEADERS
| # include <stdlib.h>
| # include <stddef.h>
| #else
| # ifdef HAVE_STDLIB_H
| #  include <stdlib.h>
| # endif
| #endif
| #ifdef HAVE_STRING_H
| # if !defined STDC_HEADERS && defined HAVE_MEMORY_H
| #  include <memory.h>
| # endif
| # include <string.h>
| #endif
| #ifdef HAVE_STRINGS_H
| # include <strings.h>
| #endif
| #ifdef HAVE_INTTYPES_H
| # include <inttypes.h>
| #endif
| #ifdef HAVE_STDINT_H
| # include <stdint.h>
| #endif
| #ifdef HAVE_UNISTD_H
| # include <unistd.h>
| #endif
| int
| main ()
| {
| if (sizeof ((ptrdiff_t)))
|           return 0;
|   ;
|   return 0;
| }
configure:19146: result: yes
configure:19159: checking stddef.h usability
configure:19159: gcc -c -g -O2 -isystem /usr/local/include -isystem /usr/include/python2.7 conftest.c >&5
configure:19159: $? = 0
configure:19159: result: yes
configure:19159: checking stddef.h presence
configure:19159: gcc -E -isystem /usr/local/include -isystem /usr/include/python2.7 conftest.c
configure:19159: $? = 0
configure:19159: result: yes
configure:19159: checking for stddef.h
configure:19159: result: yes
configure:19159: checking for stdlib.h
configure:19159: result: yes
configure:19159: checking for string.h
configure:19159: result: yes
configure:19172: checking for asprintf
configure:19172: gcc -o conftest -g -O2 -isystem /usr/local/include -isystem /usr/include/python2.7 -fpch-deps -g -L/usr/local/lib -L/usr/lib -L/usr/lib/python2.7/config conftest.c  >&5
configure:19172: $? = 0
configure:19172: result: yes
configure:19172: checking for fwprintf
configure:19172: gcc -o conftest -g -O2 -isystem /usr/local/include -isystem /usr/include/python2.7 -fpch-deps -g -L/usr/local/lib -L/usr/lib -L/usr/lib/python2.7/config conftest.c  >&5
configure:19172: $? = 0
configure:19172: result: yes
configure:19172: checking for putenv
configure:19172: gcc -o conftest -g -O2 -isystem /usr/local/include -isystem /usr/include/python2.7 -fpch-deps -g -L/usr/local/lib -L/usr/lib -L/usr/lib/python2.7/config conftest.c  >&5
configure:19172: $? = 0
configure:19172: result: yes
configure:19172: checking for setenv
configure:19172: gcc -o conftest -g -O2 -isystem /usr/local/include -isystem /usr/include/python2.7 -fpch-deps -g -L/usr/local/lib -L/usr/lib -L/usr/lib/python2.7/config conftest.c  >&5
configure:19172: $? = 0
configure:19172: result: yes
configure:19172: checking for setlocale
configure:19172: gcc -o conftest -g -O2 -isystem /usr/local/include -isystem /usr/include/python2.7 -fpch-deps -g -L/usr/local/lib -L/usr/lib -L/usr/lib/python2.7/config conftest.c  >&5
configure:19172: $? = 0
configure:19172: result: yes
configure:19172: checking for snprintf
configure:19172: gcc -o conftest -g -O2 -isystem /usr/local/include -isystem /usr/include/python2.7 -fpch-deps -g -L/usr/local/lib -L/usr/lib -L/usr/lib/python2.7/config conftest.c  >&5
conftest.c:111:6: warning: conflicting types for built-in function 'snprintf' [enabled by default]
configure:19172: $? = 0
configure:19172: result: yes
configure:19172: checking for wcslen
configure:19172: gcc -o conftest -g -O2 -isystem /usr/local/include -isystem /usr/include/python2.7 -fpch-deps -g -L/usr/local/lib -L/usr/lib -L/usr/lib/python2.7/config conftest.c  >&5
configure:19172: $? = 0
configure:19172: result: yes
configure:19183: checking whether _snprintf is declared
configure:19203: gcc -c -g -O2 -isystem /usr/local/include -isystem /usr/include/python2.7 conftest.c >&5
conftest.c: In function 'main':
conftest.c:96:22: error: '_snprintf' undeclared (first use in this function)
conftest.c:96:22: note: each undeclared identifier is reported only once for each function it appears in
configure:19203: $? = 1
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "ledger"
| #define PACKAGE_TARNAME "ledger"
| #define PACKAGE_VERSION "3.0.0-20120217"
| #define PACKAGE_STRING "ledger 3.0.0-20120217"
| #define PACKAGE_BUGREPORT "johnw@newartisans.com"
| #define PACKAGE_URL ""
| #define PACKAGE "ledger"
| #define VERSION "3.0.0-20120217"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define __EXTENSIONS__ 1
| #define _ALL_SOURCE 1
| #define _GNU_SOURCE 1
| #define _POSIX_PTHREAD_SEMANTICS 1
| #define _TANDEM_SOURCE 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_VISIBILITY 1
| #define HAVE_STDINT_H_WITH_UINTMAX 1
| #define HAVE_ALLOCA_H 1
| #define HAVE_ALLOCA 1
| #define HAVE_STDLIB_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_SYS_PARAM_H 1
| #define HAVE_GETPAGESIZE 1
| #define HAVE_MMAP 1
| #define INTDIV0_RAISES_SIGFPE 1
| #define HAVE_INTTYPES_H_WITH_UINTMAX 1
| #define HAVE_UNSIGNED_LONG_LONG_INT 1
| #define HAVE_UINTMAX_T 1
| #define HAVE_INTTYPES_H 1
| #define USE_POSIX_THREADS 1
| #define USE_POSIX_THREADS_WEAK 1
| #define HAVE_PTHREAD_RWLOCK 1
| #define HAVE_PTHREAD_MUTEX_RECURSIVE 1
| #define HAVE_BUILTIN_EXPECT 1
| #define HAVE_ARGZ_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_LIMITS_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_SYS_PARAM_H 1
| #define HAVE_GETCWD 1
| #define HAVE_GETEGID 1
| #define HAVE_GETEUID 1
| #define HAVE_GETGID 1
| #define HAVE_GETUID 1
| #define HAVE_MEMPCPY 1
| #define HAVE_MUNMAP 1
| #define HAVE_STPCPY 1
| #define HAVE_STRCASECMP 1
| #define HAVE_STRDUP 1
| #define HAVE_STRTOUL 1
| #define HAVE_TSEARCH 1
| #define HAVE_ARGZ_COUNT 1
| #define HAVE_ARGZ_STRINGIFY 1
| #define HAVE_ARGZ_NEXT 1
| #define HAVE___FSETLOCKING 1
| #define HAVE_DECL_FEOF_UNLOCKED 1
| #define HAVE_DECL_FGETS_UNLOCKED 1
| #define HAVE_ICONV 1
| #define ICONV_CONST
| #define HAVE_NL_LOCALE_NAME 1
| #define HAVE_LONG_LONG_INT 1
| #define HAVE_WCHAR_T 1
| #define HAVE_WINT_T 1
| #define HAVE_INTMAX_T 1
| #define HAVE_POSIX_PRINTF 1
| #define HAVE_STDINT_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_STDDEF_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_ASPRINTF 1
| #define HAVE_FWPRINTF 1
| #define HAVE_PUTENV 1
| #define HAVE_SETENV 1
| #define HAVE_SETLOCALE 1
| #define HAVE_SNPRINTF 1
| #define HAVE_WCSLEN 1
| /* end confdefs.h.  */
| #include <stdio.h>
| int
| main ()
| {
|
| #ifndef _snprintf
|   char *p = (char *) _snprintf;
| #endif
|
|   ;
|   return 0;
| }
configure:19210: result: no
configure:19224: checking whether _snwprintf is declared
configure:19244: gcc -c -g -O2 -isystem /usr/local/include -isystem /usr/include/python2.7 conftest.c >&5
conftest.c: In function 'main':
conftest.c:97:22: error: '_snwprintf' undeclared (first use in this function)
conftest.c:97:22: note: each undeclared identifier is reported only once for each function it appears in
configure:19244: $? = 1
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "ledger"
| #define PACKAGE_TARNAME "ledger"
| #define PACKAGE_VERSION "3.0.0-20120217"
| #define PACKAGE_STRING "ledger 3.0.0-20120217"
| #define PACKAGE_BUGREPORT "johnw@newartisans.com"
| #define PACKAGE_URL ""
| #define PACKAGE "ledger"
| #define VERSION "3.0.0-20120217"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define __EXTENSIONS__ 1
| #define _ALL_SOURCE 1
| #define _GNU_SOURCE 1
| #define _POSIX_PTHREAD_SEMANTICS 1
| #define _TANDEM_SOURCE 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_VISIBILITY 1
| #define HAVE_STDINT_H_WITH_UINTMAX 1
| #define HAVE_ALLOCA_H 1
| #define HAVE_ALLOCA 1
| #define HAVE_STDLIB_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_SYS_PARAM_H 1
| #define HAVE_GETPAGESIZE 1
| #define HAVE_MMAP 1
| #define INTDIV0_RAISES_SIGFPE 1
| #define HAVE_INTTYPES_H_WITH_UINTMAX 1
| #define HAVE_UNSIGNED_LONG_LONG_INT 1
| #define HAVE_UINTMAX_T 1
| #define HAVE_INTTYPES_H 1
| #define USE_POSIX_THREADS 1
| #define USE_POSIX_THREADS_WEAK 1
| #define HAVE_PTHREAD_RWLOCK 1
| #define HAVE_PTHREAD_MUTEX_RECURSIVE 1
| #define HAVE_BUILTIN_EXPECT 1
| #define HAVE_ARGZ_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_LIMITS_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_SYS_PARAM_H 1
| #define HAVE_GETCWD 1
| #define HAVE_GETEGID 1
| #define HAVE_GETEUID 1
| #define HAVE_GETGID 1
| #define HAVE_GETUID 1
| #define HAVE_MEMPCPY 1
| #define HAVE_MUNMAP 1
| #define HAVE_STPCPY 1
| #define HAVE_STRCASECMP 1
| #define HAVE_STRDUP 1
| #define HAVE_STRTOUL 1
| #define HAVE_TSEARCH 1
| #define HAVE_ARGZ_COUNT 1
| #define HAVE_ARGZ_STRINGIFY 1
| #define HAVE_ARGZ_NEXT 1
| #define HAVE___FSETLOCKING 1
| #define HAVE_DECL_FEOF_UNLOCKED 1
| #define HAVE_DECL_FGETS_UNLOCKED 1
| #define HAVE_ICONV 1
| #define ICONV_CONST
| #define HAVE_NL_LOCALE_NAME 1
| #define HAVE_LONG_LONG_INT 1
| #define HAVE_WCHAR_T 1
| #define HAVE_WINT_T 1
| #define HAVE_INTMAX_T 1
| #define HAVE_POSIX_PRINTF 1
| #define HAVE_STDINT_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_STDDEF_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_ASPRINTF 1
| #define HAVE_FWPRINTF 1
| #define HAVE_PUTENV 1
| #define HAVE_SETENV 1
| #define HAVE_SETLOCALE 1
| #define HAVE_SNPRINTF 1
| #define HAVE_WCSLEN 1
| #define HAVE_DECL__SNPRINTF 0
| /* end confdefs.h.  */
| #include <stdio.h>
| int
| main ()
| {
|
| #ifndef _snwprintf
|   char *p = (char *) _snwprintf;
| #endif
|
|   ;
|   return 0;
| }
configure:19251: result: no
configure:19266: checking whether getc_unlocked is declared
configure:19286: gcc -c -g -O2 -isystem /usr/local/include -isystem /usr/include/python2.7 conftest.c >&5
configure:19286: $? = 0
configure:19293: result: yes
configure:19332: checking for nl_langinfo and CODESET
configure:19348: gcc -o conftest -g -O2 -isystem /usr/local/include -isystem /usr/include/python2.7 -fpch-deps -g -L/usr/local/lib -L/usr/lib -L/usr/lib/python2.7/config conftest.c  >&5
configure:19348: $? = 0
configure:19357: result: yes
configure:19366: checking for LC_MESSAGES
configure:19382: gcc -o conftest -g -O2 -isystem /usr/local/include -isystem /usr/include/python2.7 -fpch-deps -g -L/usr/local/lib -L/usr/lib -L/usr/lib/python2.7/config conftest.c  >&5
configure:19382: $? = 0
configure:19390: result: yes
configure:19541: checking for CFPreferencesCopyAppValue
configure:19568: result: no
configure:19575: checking for CFLocaleCopyCurrent
configure:19602: result: no
configure:19637: checking whether included gettext is requested
configure:19647: result: yes
configure:20262: checking whether to use NLS
configure:20264: result: yes
configure:20267: checking where the gettext function comes from
configure:20278: result: included intl directory
configure:20374: checking for emacs
configure:20390: found /usr/bin/emacs
configure:20401: result: emacs
configure:20425: checking where .elc files should go
configure:20438: $EMACS -batch -q -eval '(while load-path (princ (concat (car load-path) "\n")) (setq load-path (cdr load-path)))' </dev/null >conftest.out
Loading 00debian-vars...
Loading /etc/emacs23/site-start.d/50auctex.el (source)...
Loading /usr/local/share/emacs/site-lisp/auctex.el (source)...
Loading /usr/local/share/emacs/site-lisp/preview-latex.el (source)...
Loading /etc/emacs/site-start.d/50autoconf.el (source)...
Loading /etc/emacs/site-start.d/50dictionaries-common.el (source)...
Loading debian-ispell...
Loading /var/cache/dictionaries-common/emacsen-ispell-default.el (source)...
Loading /var/cache/dictionaries-common/emacsen-ispell-dicts.el (source)...
configure:20441: $? = 0
configure:20454: result: ${datarootdir}/emacs/site-lisp
configure:20583: checking if pipes can be used
configure:20628: g++ -o conftest -Wconversion -pthread -g -pipe -isystem /usr/local/include -isystem /usr/include/python2.7 -fpch-deps -g -L/usr/local/lib -L/usr/lib -L/usr/lib/python2.7/config conftest.cpp  >&5
configure:20628: $? = 0
configure:20642: result: true
configure:20652: checking if GMP is available
configure:20678: g++ -o conftest -Wconversion -pthread -g -pipe -isystem /usr/local/include -isystem /usr/include/python2.7 -fpch-deps -g -L/usr/local/lib -L/usr/lib -L/usr/lib/python2.7/config conftest.cpp -lgmp  >&5
configure:20678: $? = 0
configure:20693: result: true
configure:20706: checking if MPFR is available
configure:20734: g++ -o conftest -Wconversion -pthread -g -pipe -isystem /usr/local/include -isystem /usr/include/python2.7 -fpch-deps -g -L/usr/local/lib -L/usr/lib -L/usr/lib/python2.7/config conftest.cpp -lmpfr -lgmp  >&5
configure:20734: $? = 0
configure:20749: result: true
configure:20762: checking if libedit is available
configure:20790: g++ -o conftest -Wconversion -pthread -g -pipe -isystem /usr/local/include -isystem /usr/include/python2.7 -fpch-deps -g -L/usr/local/lib -L/usr/lib -L/usr/lib/python2.7/config conftest.cpp -ledit -lmpfr -lgmp  >&5
configure:20790: $? = 0
configure:20805: result: true
configure:20816: checking if boost_regex is available
configure:20840: g++ -o conftest -Wconversion -pthread -g -pipe -isystem /usr/local/include -isystem /usr/include/python2.7 -fpch-deps -g -L/usr/local/lib -L/usr/lib -L/usr/lib/python2.7/config conftest.cpp -lboost_regex -ledit -lmpfr -lgmp  >&5
configure:20840: $? = 0
configure:20855: result: true
configure:20867: checking if boost_regex w/ICU is available
configure:20894: g++ -o conftest -Wconversion -pthread -g -pipe -isystem /usr/local/include -isystem /usr/include/python2.7 -fpch-deps -g -L/usr/local/lib -L/usr/lib -L/usr/lib/python2.7/config conftest.cpp -licuuc -lboost_regex -ledit -lmpfr -lgmp  >&5
configure:20894: $? = 0
configure:20909: result: true
configure:20920: checking if boost_date_time is available
configure:20962: g++ -o conftest -Wconversion -pthread -g -pipe -isystem /usr/local/include -isystem /usr/include/python2.7 -fpch-deps -g -L/usr/local/lib -L/usr/lib -L/usr/lib/python2.7/config conftest.cpp -lboost_date_time -licuuc -lboost_regex -ledit -lmpfr -lgmp  >&5
configure:20962: $? = 0
configure:20977: result: true
configure:20990: checking if boost_filesystem is available
configure:21014: g++ -o conftest -Wconversion -pthread -g -pipe -isystem /usr/local/include -isystem /usr/include/python2.7 -fpch-deps -g -L/usr/local/lib -L/usr/lib -L/usr/lib/python2.7/config conftest.cpp -lboost_filesystem -lboost_system -lboost_date_time -licuuc -lboost_regex -ledit -lmpfr -lgmp  >&5
configure:21014: $? = 0
configure:21029: result: true
configure:21042: checking if boost_iostreams is available
configure:21076: g++ -o conftest -Wconversion -pthread -g -pipe -isystem /usr/local/include -isystem /usr/include/python2.7 -fpch-deps -g -L/usr/local/lib -L/usr/lib -L/usr/lib/python2.7/config conftest.cpp -lboost_iostreams -lboost_system -lboost_filesystem -lboost_system -lboost_date_time -licuuc -lboost_regex -ledit -lmpfr -lgmp  >&5
configure:21076: $? = 0
configure:21091: result: true
configure:21471: checking if boost_test is available
configure:21490: g++ -o conftest -Wconversion -pthread -g -pipe -isystem /usr/local/include -isystem /usr/include/python2.7 -fpch-deps -g -L/usr/local/lib -L/usr/lib -L/usr/lib/python2.7/config conftest.cpp -lboost_unit_test_framework -lboost_test_exec_monitor -lboost_iostreams -lboost_system -lboost_filesystem -lboost_system -lboost_date_time -licuuc -lboost_regex -ledit -lmpfr -lgmp  >&5
/usr/bin/ld: cannot find -lboost_unit_test_framework
/usr/bin/ld: cannot find -lboost_test_exec_monitor
collect2: ld returned 1 exit status
configure:21490: $? = 1
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "ledger"
| #define PACKAGE_TARNAME "ledger"
| #define PACKAGE_VERSION "3.0.0-20120217"
| #define PACKAGE_STRING "ledger 3.0.0-20120217"
| #define PACKAGE_BUGREPORT "johnw@newartisans.com"
| #define PACKAGE_URL ""
| #define PACKAGE "ledger"
| #define VERSION "3.0.0-20120217"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define __EXTENSIONS__ 1
| #define _ALL_SOURCE 1
| #define _GNU_SOURCE 1
| #define _POSIX_PTHREAD_SEMANTICS 1
| #define _TANDEM_SOURCE 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_VISIBILITY 1
| #define HAVE_STDINT_H_WITH_UINTMAX 1
| #define HAVE_ALLOCA_H 1
| #define HAVE_ALLOCA 1
| #define HAVE_STDLIB_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_SYS_PARAM_H 1
| #define HAVE_GETPAGESIZE 1
| #define HAVE_MMAP 1
| #define INTDIV0_RAISES_SIGFPE 1
| #define HAVE_INTTYPES_H_WITH_UINTMAX 1
| #define HAVE_UNSIGNED_LONG_LONG_INT 1
| #define HAVE_UINTMAX_T 1
| #define HAVE_INTTYPES_H 1
| #define USE_POSIX_THREADS 1
| #define USE_POSIX_THREADS_WEAK 1
| #define HAVE_PTHREAD_RWLOCK 1
| #define HAVE_PTHREAD_MUTEX_RECURSIVE 1
| #define HAVE_BUILTIN_EXPECT 1
| #define HAVE_ARGZ_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_LIMITS_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_SYS_PARAM_H 1
| #define HAVE_GETCWD 1
| #define HAVE_GETEGID 1
| #define HAVE_GETEUID 1
| #define HAVE_GETGID 1
| #define HAVE_GETUID 1
| #define HAVE_MEMPCPY 1
| #define HAVE_MUNMAP 1
| #define HAVE_STPCPY 1
| #define HAVE_STRCASECMP 1
| #define HAVE_STRDUP 1
| #define HAVE_STRTOUL 1
| #define HAVE_TSEARCH 1
| #define HAVE_ARGZ_COUNT 1
| #define HAVE_ARGZ_STRINGIFY 1
| #define HAVE_ARGZ_NEXT 1
| #define HAVE___FSETLOCKING 1
| #define HAVE_DECL_FEOF_UNLOCKED 1
| #define HAVE_DECL_FGETS_UNLOCKED 1
| #define HAVE_ICONV 1
| #define ICONV_CONST
| #define HAVE_NL_LOCALE_NAME 1
| #define HAVE_LONG_LONG_INT 1
| #define HAVE_WCHAR_T 1
| #define HAVE_WINT_T 1
| #define HAVE_INTMAX_T 1
| #define HAVE_POSIX_PRINTF 1
| #define HAVE_STDINT_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_STDDEF_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_ASPRINTF 1
| #define HAVE_FWPRINTF 1
| #define HAVE_PUTENV 1
| #define HAVE_SETENV 1
| #define HAVE_SETLOCALE 1
| #define HAVE_SNPRINTF 1
| #define HAVE_WCSLEN 1
| #define HAVE_DECL__SNPRINTF 0
| #define HAVE_DECL__SNWPRINTF 0
| #define HAVE_DECL_GETC_UNLOCKED 1
| #define HAVE_LANGINFO_CODESET 1
| #define HAVE_LC_MESSAGES 1
| #define ENABLE_NLS 1
| #define DEBUG_MODE 1
| #define USE_PCH 1
| #define HAVE_UNIX_PIPES 1
| #define HAVE_LIBEDIT 1
| #define HAVE_BOOST_REGEX_UNICODE 1
| /* end confdefs.h.  */
| #define BOOST_TEST_MODULE sample
|           #include <boost/test/unit_test.hpp>
|           BOOST_AUTO_TEST_CASE(test_test) {}
configure:21505: result: false
configure:21518: checking for ANSI C header files
configure:21622: result: yes
configure:21630: checking whether stat file-mode macros are broken
configure:21657: gcc -c -g -O2 -isystem /usr/local/include -isystem /usr/include/python2.7 conftest.c >&5
configure:21657: $? = 0
configure:21664: result: no
configure:21674: checking langinfo.h usability
configure:21674: gcc -c -g -O2 -isystem /usr/local/include -isystem /usr/include/python2.7 conftest.c >&5
configure:21674: $? = 0
configure:21674: result: yes
configure:21674: checking langinfo.h presence
configure:21674: gcc -E -isystem /usr/local/include -isystem /usr/include/python2.7 conftest.c
configure:21674: $? = 0
configure:21674: result: yes
configure:21674: checking for langinfo.h
configure:21674: result: yes
configure:21686: checking for size_t
configure:21686: result: yes
configure:21697: checking whether struct tm is in sys/time.h or time.h
configure:21717: gcc -c -g -O2 -isystem /usr/local/include -isystem /usr/include/python2.7 conftest.c >&5
configure:21717: $? = 0
configure:21724: result: time.h
configure:21740: checking for access
configure:21740: gcc -o conftest -g -O2 -isystem /usr/local/include -isystem /usr/include/python2.7 -fpch-deps -g -L/usr/local/lib -L/usr/lib -L/usr/lib/python2.7/config conftest.c -lboost_iostreams -lboost_system -lboost_filesystem -lboost_system -lboost_date_time -licuuc -lboost_regex -ledit -lmpfr -lgmp  >&5
configure:21740: $? = 0
configure:21740: result: yes
configure:21740: checking for realpath
configure:21740: gcc -o conftest -g -O2 -isystem /usr/local/include -isystem /usr/include/python2.7 -fpch-deps -g -L/usr/local/lib -L/usr/lib -L/usr/lib/python2.7/config conftest.c -lboost_iostreams -lboost_system -lboost_filesystem -lboost_system -lboost_date_time -licuuc -lboost_regex -ledit -lmpfr -lgmp  >&5
configure:21740: $? = 0
configure:21740: result: yes
configure:21740: checking for getpwuid
configure:21740: gcc -o conftest -g -O2 -isystem /usr/local/include -isystem /usr/include/python2.7 -fpch-deps -g -L/usr/local/lib -L/usr/lib -L/usr/lib/python2.7/config conftest.c -lboost_iostreams -lboost_system -lboost_filesystem -lboost_system -lboost_date_time -licuuc -lboost_regex -ledit -lmpfr -lgmp  >&5
configure:21740: $? = 0
configure:21740: result: yes
configure:21740: checking for getpwnam
configure:21740: gcc -o conftest -g -O2 -isystem /usr/local/include -isystem /usr/include/python2.7 -fpch-deps -g -L/usr/local/lib -L/usr/lib -L/usr/lib/python2.7/config conftest.c -lboost_iostreams -lboost_system -lboost_filesystem -lboost_system -lboost_date_time -licuuc -lboost_regex -ledit -lmpfr -lgmp  >&5
configure:21740: $? = 0
configure:21740: result: yes
configure:21740: checking for isatty
configure:21740: gcc -o conftest -g -O2 -isystem /usr/local/include -isystem /usr/include/python2.7 -fpch-deps -g -L/usr/local/lib -L/usr/lib -L/usr/lib/python2.7/config conftest.c -lboost_iostreams -lboost_system -lboost_filesystem -lboost_system -lboost_date_time -licuuc -lboost_regex -ledit -lmpfr -lgmp  >&5
configure:21740: $? = 0
configure:21740: result: yes
configure:21931: creating ./config.status

## ---------------------- ##
## Running config.status. ##
## ---------------------- ##

This file was extended by ledger config.status 3.0.0-20120217, which was
generated by GNU Autoconf 2.68.  Invocation command line was

  CONFIG_FILES    =
  CONFIG_HEADERS  =
  CONFIG_LINKS    =
  CONFIG_COMMANDS =
  $ ./config.status

on geertz

config.status:1321: creating Makefile
config.status:1321: creating po/Makefile.in
config.status:1321: creating intl/Makefile
config.status:1321: creating config.h
config.status:1550: executing depfiles commands
config.status:1550: executing libtool commands
config.status:1550: executing po-directories commands

## ---------------- ##
## Cache variables. ##
## ---------------- ##

ac_cv_build=x86_64-unknown-linux-gnu
ac_cv_c_compiler_gnu=yes
ac_cv_c_inline=inline
ac_cv_cxx_compiler_gnu=yes
ac_cv_env_CCC_set=
ac_cv_env_CCC_value=
ac_cv_env_CC_set=set
ac_cv_env_CC_value=gcc
ac_cv_env_CFLAGS_set=
ac_cv_env_CFLAGS_value=
ac_cv_env_CPPFLAGS_set=set
ac_cv_env_CPPFLAGS_value='-isystem /usr/local/include -isystem /usr/include/python2.7'
ac_cv_env_CPP_set=
ac_cv_env_CPP_value=
ac_cv_env_CXXCPP_set=
ac_cv_env_CXXCPP_value=
ac_cv_env_CXXFLAGS_set=set
ac_cv_env_CXXFLAGS_value='-Wconversion -pthread -g -pipe'
ac_cv_env_CXX_set=set
ac_cv_env_CXX_value=g++
ac_cv_env_EMACSLOADPATH_set=
ac_cv_env_EMACSLOADPATH_value=
ac_cv_env_EMACS_set=
ac_cv_env_EMACS_value=
ac_cv_env_LDFLAGS_set=set
ac_cv_env_LDFLAGS_value='-fpch-deps -g -L/usr/local/lib -L/usr/lib -L/usr/lib/python2.7/config'
ac_cv_env_LIBS_set=
ac_cv_env_LIBS_value=
ac_cv_env_build_alias_set=
ac_cv_env_build_alias_value=
ac_cv_env_host_alias_set=
ac_cv_env_host_alias_value=
ac_cv_env_target_alias_set=
ac_cv_env_target_alias_value=
ac_cv_func___fsetlocking=yes
ac_cv_func_access=yes
ac_cv_func_alloca_works=yes
ac_cv_func_argz_count=yes
ac_cv_func_argz_next=yes
ac_cv_func_argz_stringify=yes
ac_cv_func_asprintf=yes
ac_cv_func_fwprintf=yes
ac_cv_func_getcwd=yes
ac_cv_func_getegid=yes
ac_cv_func_geteuid=yes
ac_cv_func_getgid=yes
ac_cv_func_getpagesize=yes
ac_cv_func_getpwnam=yes
ac_cv_func_getpwuid=yes
ac_cv_func_getuid=yes
ac_cv_func_isatty=yes
ac_cv_func_mempcpy=yes
ac_cv_func_mmap_fixed_mapped=yes
ac_cv_func_munmap=yes
ac_cv_func_putenv=yes
ac_cv_func_realpath=yes
ac_cv_func_setenv=yes
ac_cv_func_setlocale=yes
ac_cv_func_snprintf=yes
ac_cv_func_stpcpy=yes
ac_cv_func_strcasecmp=yes
ac_cv_func_strdup=yes
ac_cv_func_strtoul=yes
ac_cv_func_tsearch=yes
ac_cv_func_wcslen=yes
ac_cv_gnu_library_2=yes
ac_cv_gnu_library_2_1=yes
ac_cv_have_decl__snprintf=no
ac_cv_have_decl__snwprintf=no
ac_cv_have_decl_feof_unlocked=yes
ac_cv_have_decl_fgets_unlocked=yes
ac_cv_have_decl_getc_unlocked=yes
ac_cv_header_argz_h=yes
ac_cv_header_dlfcn_h=yes
ac_cv_header_inttypes_h=yes
ac_cv_header_langinfo_h=yes
ac_cv_header_limits_h=yes
ac_cv_header_memory_h=yes
ac_cv_header_minix_config_h=no
ac_cv_header_pthread_h=yes
ac_cv_header_stat_broken=no
ac_cv_header_stdc=yes
ac_cv_header_stddef_h=yes
ac_cv_header_stdint_h=yes
ac_cv_header_stdlib_h=yes
ac_cv_header_string_h=yes
ac_cv_header_strings_h=yes
ac_cv_header_sys_param_h=yes
ac_cv_header_sys_stat_h=yes
ac_cv_header_sys_types_h=yes
ac_cv_header_unistd_h=yes
ac_cv_host=x86_64-unknown-linux-gnu
ac_cv_lib_pthread_pthread_kill=yes
ac_cv_objext=o
ac_cv_path_EGREP='/bin/grep -E'
ac_cv_path_FGREP='/bin/grep -F'
ac_cv_path_GMSGFMT=/usr/bin/msgfmt
ac_cv_path_GREP=/bin/grep
ac_cv_path_MSGFMT=/usr/bin/msgfmt
ac_cv_path_MSGMERGE=/usr/bin/msgmerge
ac_cv_path_SED=/bin/sed
ac_cv_path_XGETTEXT=/usr/bin/xgettext
ac_cv_path_install='/usr/bin/install -c'
ac_cv_path_mkdir=/bin/mkdir
ac_cv_prog_AWK=mawk
ac_cv_prog_CPP='gcc -E'
ac_cv_prog_CXXCPP='g++ -E'
ac_cv_prog_EMACS=emacs
ac_cv_prog_ac_ct_AR=ar
ac_cv_prog_ac_ct_CC=gcc
ac_cv_prog_ac_ct_MANIFEST_TOOL=mt
ac_cv_prog_ac_ct_OBJDUMP=objdump
ac_cv_prog_ac_ct_RANLIB=ranlib
ac_cv_prog_ac_ct_STRIP=strip
ac_cv_prog_cc_c89=
ac_cv_prog_cc_g=yes
ac_cv_prog_cxx_g=yes
ac_cv_prog_make_make_set=yes
ac_cv_safe_to_define___extensions__=yes
ac_cv_struct_tm=time.h
ac_cv_type_long_long_int=yes
ac_cv_type_pthread_rwlock_t=yes
ac_cv_type_ptrdiff_t=yes
ac_cv_type_size_t=yes
ac_cv_type_unsigned_long_long_int=yes
ac_cv_working_alloca_h=yes
acl_cv_hardcode_direct=no
acl_cv_hardcode_libdir_flag_spec=
acl_cv_hardcode_libdir_separator=
acl_cv_hardcode_minus_L=no
acl_cv_libext=a
acl_cv_libname_spec='lib$name'
acl_cv_library_names_spec='$libname$shrext'
acl_cv_path_LD='g++ -m elf_x86_64'
acl_cv_prog_gnu_ld=no
acl_cv_rpath=done
acl_cv_shlibext=so
acl_cv_wl=-Wl,
am_cv_CC_dependencies_compiler_type=gcc3
am_cv_CXX_dependencies_compiler_type=gcc3
am_cv_func_iconv=yes
am_cv_func_iconv_works=yes
am_cv_langinfo_codeset=yes
am_cv_lib_iconv=no
am_cv_lispdir='${datarootdir}/emacs/site-lisp'
am_cv_proto_iconv='extern size_t iconv (iconv_t cd, char * *inbuf, size_t *inbytesleft, char * *outbuf, size_t *outbytesleft);'
am_cv_proto_iconv_arg1=
boost_date_time_cpplib_avail_cv_=true
boost_filesystem_cpplib_avail_cv_=true
boost_iostreams_cpplib_avail_cv_=true
boost_regex_avail_cv_=true
boost_regex_icu_avail_cv_=true
boost_test_avail_cv_=false
gl_cv_cc_visibility=yes
gl_cv_header_inttypes_h=yes
gl_cv_header_stdint_h=yes
gl_cv_size_max=yes
gt_cv_c_intmax_t=yes
gt_cv_c_wchar_t=yes
gt_cv_c_wint_t=yes
gt_cv_func_CFLocaleCopyCurrent=no
gt_cv_func_CFPreferencesCopyAppValue=no
gt_cv_func_printf_posix=yes
gt_cv_int_divbyzero_sigfpe=yes
gt_cv_inttypes_pri_broken=no
gt_cv_nl_locale_name=yes
gt_cv_val_LC_MESSAGES=yes
libedit_avail_cv_=true
libgmp_avail_cv_=true
libmpfr_avail_cv_=true
lt_cv_ar_at_file=@
lt_cv_deplibs_check_method=pass_all
lt_cv_file_magic_cmd='$MAGIC_CMD'
lt_cv_file_magic_test_file=
lt_cv_ld_reload_flag=-r
lt_cv_nm_interface='BSD nm'
lt_cv_objdir=.libs
lt_cv_path_LD=g++
lt_cv_path_LDCXX='g++ -m elf_x86_64'
lt_cv_path_NM='/usr/bin/nm -B'
lt_cv_path_mainfest_tool=no
lt_cv_prog_compiler_c_o=yes
lt_cv_prog_compiler_c_o_CXX=yes
lt_cv_prog_compiler_pic='-fPIC -DPIC'
lt_cv_prog_compiler_pic_CXX='-fPIC -DPIC'
lt_cv_prog_compiler_pic_works=yes
lt_cv_prog_compiler_pic_works_CXX=yes
lt_cv_prog_compiler_rtti_exceptions=no
lt_cv_prog_compiler_static_works=yes
lt_cv_prog_compiler_static_works_CXX=yes
lt_cv_prog_gnu_ld=no
lt_cv_prog_gnu_ldcxx=no
lt_cv_sharedlib_from_linklib_cmd='printf %s\n'
lt_cv_shlibpath_overrides_runpath=no
lt_cv_sys_global_symbol_pipe='sed -n -e '\''s/^.*[       ]\([ABCDGIRSTW][ABCDGIRSTW]*\)[         ][      ]*\([_A-Za-z][_A-Za-z0-9]*\)$/\1 \2 \2/p'\'' | sed '\''/ __gnu_lto/d'\'''
lt_cv_sys_global_symbol_to_c_name_address='sed -n -e '\''s/^: \([^ ]*\)[ ]*$/  {\"\1\", (void *) 0},/p'\'' -e '\''s/^[ABCDGIRSTW]* \([^ ]*\) \([^ ]*\)$/  {"\2", (void *) \&\2},/p'\'''
lt_cv_sys_global_symbol_to_c_name_address_lib_prefix='sed -n -e '\''s/^: \([^ ]*\)[ ]*$/  {\"\1\", (void *) 0},/p'\'' -e '\''s/^[ABCDGIRSTW]* \([^ ]*\) \(lib[^ ]*\)$/  {"\2", (void *) \&\2},/p'\'' -e '\''s/^[ABCDGIRSTW]* \([^ ]*\) \([^ ]*\)$/  {"lib\2", (void *) \&\2},/p'\'''
lt_cv_sys_global_symbol_to_cdecl='sed -n -e '\''s/^T .* \(.*\)$/extern int \1();/p'\'' -e '\''s/^[ABCDGIRSTW]* .* \(.*\)$/extern char \1;/p'\'''
lt_cv_sys_max_cmd_len=1572864
lt_cv_to_host_file_cmd=func_convert_file_noop
lt_cv_to_tool_file_cmd=func_convert_file_noop
nls_cv_force_use_gnu_gettext=yes
nls_cv_header_intl=
nls_cv_header_libgt=
nls_cv_use_gnu_gettext=yes
pipes_avail_cv_=true

## ----------------- ##
## Output variables. ##
## ----------------- ##

ACLOCAL='${SHELL} /home/jrake/ledger/missing --run aclocal-1.11'
ALLOCA=''
AMDEPBACKSLASH='\'
AMDEP_FALSE='#'
AMDEP_TRUE=''
AMTAR='${SHELL} /home/jrake/ledger/missing --run tar'
AM_BACKSLASH='\'
AM_DEFAULT_VERBOSITY='0'
AR='ar'
AUTOCONF='${SHELL} /home/jrake/ledger/missing --run autoconf'
AUTOHEADER='${SHELL} /home/jrake/ledger/missing --run autoheader'
AUTOMAKE='${SHELL} /home/jrake/ledger/missing --run automake-1.11'
AWK='mawk'
BOOST_SUFFIX=''
BUILD_INCLUDED_LIBINTL='yes'
CATOBJEXT='.gmo'
CC='gcc'
CCDEPMODE='depmode=gcc3'
CFLAGS='-g -O2'
CFLAG_VISIBILITY='-fvisibility=hidden'
CPP='gcc -E'
CPPFLAGS='-isystem /usr/local/include -isystem /usr/include/python2.7'
CXX='g++'
CXXCPP='g++ -E'
CXXDEPMODE='depmode=gcc3'
CXXFLAGS='-Wconversion -pthread -g -pipe'
CYGPATH_W='echo'
DATADIRNAME='share'
DEBUG_FALSE='#'
DEBUG_TRUE=''
DEFS='-DHAVE_CONFIG_H'
DEPDIR='.deps'
DLLTOOL='false'
DSYMUTIL=''
DUMPBIN=''
ECHO_C=''
ECHO_N='-n'
ECHO_T=''
EGREP='/bin/grep -E'
EMACS='emacs'
EMACSLOADPATH=''
EXEEXT=''
FGREP='/bin/grep -F'
GENCAT='gencat'
GETTEXT_MACRO_VERSION='0.17'
GLIBC21='yes'
GLIBC2='yes'
GMSGFMT='/usr/bin/msgfmt'
GMSGFMT_015='/usr/bin/msgfmt'
GREP='/bin/grep'
HAVE_ASPRINTF='1'
HAVE_BOOST_PYTHON_FALSE=''
HAVE_BOOST_PYTHON_TRUE='#'
HAVE_BOOST_SERIALIZATION_FALSE=''
HAVE_BOOST_SERIALIZATION_TRUE='#'
HAVE_BOOST_TEST_FALSE=''
HAVE_BOOST_TEST_TRUE='#'
HAVE_POSIX_PRINTF='1'
HAVE_PYTHON_FALSE=''
HAVE_PYTHON_TRUE='#'
HAVE_SNPRINTF='1'
HAVE_VISIBILITY='1'
HAVE_WPRINTF='0'
INSTALL_DATA='${INSTALL} -m 644'
INSTALL_PROGRAM='${INSTALL}'
INSTALL_SCRIPT='${INSTALL}'
INSTALL_STRIP_PROGRAM='$(install_sh) -c -s'
INSTOBJEXT='.mo'
INTLBISON=':'
INTLLIBS='${top_builddir}/intl/libintl.a  '
INTLOBJS='$(GETTOBJS)'
INTL_LIBTOOL_SUFFIX_PREFIX=''
INTL_MACOSX_LIBS=''
LD='g++ -m elf_x86_64'
LDFLAGS='-fpch-deps -g -L/usr/local/lib -L/usr/lib -L/usr/lib/python2.7/config'
LIBICONV=''
LIBINTL='${top_builddir}/intl/libintl.a  '
LIBMULTITHREAD='-lpthread'
LIBOBJS=''
LIBPTH=''
LIBPTH_PREFIX=''
LIBS='-lboost_iostreams -lboost_system -lboost_filesystem -lboost_system -lboost_date_time -licuuc -lboost_regex -ledit -lmpfr -lgmp '
LIBTHREAD=''
LIBTOOL='$(SHELL) $(top_builddir)/libtool'
LIPO=''
LN_S='ln -s'
LTLIBC='-lc'
LTLIBICONV=''
LTLIBINTL='${top_builddir}/intl/libintl.a  '
LTLIBMULTITHREAD='-lpthread'
LTLIBOBJS=''
LTLIBPTH=''
LTLIBTHREAD=''
MAKEINFO='${SHELL} /home/jrake/ledger/missing --run makeinfo'
MANIFEST_TOOL=':'
MKDIR_P='/bin/mkdir -p'
MSGFMT='/usr/bin/msgfmt'
MSGFMT_015='/usr/bin/msgfmt'
MSGMERGE='/usr/bin/msgmerge'
NM='/usr/bin/nm -B'
NMEDIT=''
OBJDUMP='objdump'
OBJEXT='o'
OTOOL64=''
OTOOL=''
PACKAGE='ledger'
PACKAGE_BUGREPORT='johnw@newartisans.com'
PACKAGE_NAME='ledger'
PACKAGE_STRING='ledger 3.0.0-20120217'
PACKAGE_TARNAME='ledger'
PACKAGE_URL=''
PACKAGE_VERSION='3.0.0-20120217'
PATH_SEPARATOR=':'
POSUB='po'
PRI_MACROS_BROKEN='0'
PYTHON='/usr/bin/python'
PYTHON_EXEC_PREFIX=''
PYTHON_PLATFORM=''
PYTHON_PREFIX=''
PYTHON_VERSION='2.7'
RANLIB='ranlib'
SED='/bin/sed'
SET_MAKE=''
SHELL='/bin/bash'
STRIP='strip'
USE_CACHE_OPTION_FALSE=''
USE_CACHE_OPTION_TRUE='#'
USE_DOXYGEN_FALSE=''
USE_DOXYGEN_TRUE='#'
USE_INCLUDED_LIBINTL='yes'
USE_NLS='yes'
USE_PCH_FALSE='#'
USE_PCH_TRUE=''
VERSION='3.0.0-20120217'
WINDRES=''
WOE32='no'
WOE32DLL='no'
XGETTEXT='/usr/bin/xgettext'
XGETTEXT_015='/usr/bin/xgettext'
XGETTEXT_EXTRA_OPTIONS=''
ac_ct_AR='ar'
ac_ct_CC='gcc'
ac_ct_CXX=''
ac_ct_DUMPBIN=''
am__EXEEXT_FALSE=''
am__EXEEXT_TRUE='#'
am__fastdepCC_FALSE='#'
am__fastdepCC_TRUE=''
am__fastdepCXX_FALSE='#'
am__fastdepCXX_TRUE=''
am__include='include'
am__isrc=''
am__leading_dot='.'
am__quote=''
am__tar='${AMTAR} chof - "$$tardir"'
am__untar='${AMTAR} xf -'
bindir='${exec_prefix}/bin'
build='x86_64-unknown-linux-gnu'
build_alias=''
build_cpu='x86_64'
build_os='linux-gnu'
build_vendor='unknown'
datadir='${datarootdir}'
datarootdir='${prefix}/share'
docdir='${datarootdir}/doc/${PACKAGE_TARNAME}'
dvidir='${docdir}'
exec_prefix='${prefix}'
host='x86_64-unknown-linux-gnu'
host_alias=''
host_cpu='x86_64'
host_os='linux-gnu'
host_vendor='unknown'
htmldir='${docdir}'
includedir='${prefix}/include'
infodir='${datarootdir}/info'
install_sh='${SHELL} /home/jrake/ledger/install-sh'
libdir='${exec_prefix}/lib'
libexecdir='${exec_prefix}/libexec'
lispdir='${datarootdir}/emacs/site-lisp'
localedir='${datarootdir}/locale'
localstatedir='${prefix}/var'
mandir='${datarootdir}/man'
mkdir_p='/bin/mkdir -p'
oldincludedir='/usr/include'
pdfdir='${docdir}'
pkgpyexecdir=''
pkgpythondir=''
prefix='/usr/local'
program_transform_name='s,x,x,'
psdir='${docdir}'
pyexecdir=''
pythondir=''
sbindir='${exec_prefix}/sbin'
sharedstatedir='${prefix}/com'
sysconfdir='${prefix}/etc'
target_alias=''

## ----------- ##
## confdefs.h. ##
## ----------- ##

/* confdefs.h */
#define PACKAGE_NAME "ledger"
#define PACKAGE_TARNAME "ledger"
#define PACKAGE_VERSION "3.0.0-20120217"
#define PACKAGE_STRING "ledger 3.0.0-20120217"
#define PACKAGE_BUGREPORT "johnw@newartisans.com"
#define PACKAGE_URL ""
#define PACKAGE "ledger"
#define VERSION "3.0.0-20120217"
#define STDC_HEADERS 1
#define HAVE_SYS_TYPES_H 1
#define HAVE_SYS_STAT_H 1
#define HAVE_STDLIB_H 1
#define HAVE_STRING_H 1
#define HAVE_MEMORY_H 1
#define HAVE_STRINGS_H 1
#define HAVE_INTTYPES_H 1
#define HAVE_STDINT_H 1
#define HAVE_UNISTD_H 1
#define __EXTENSIONS__ 1
#define _ALL_SOURCE 1
#define _GNU_SOURCE 1
#define _POSIX_PTHREAD_SEMANTICS 1
#define _TANDEM_SOURCE 1
#define HAVE_DLFCN_H 1
#define LT_OBJDIR ".libs/"
#define HAVE_VISIBILITY 1
#define HAVE_STDINT_H_WITH_UINTMAX 1
#define HAVE_ALLOCA_H 1
#define HAVE_ALLOCA 1
#define HAVE_STDLIB_H 1
#define HAVE_UNISTD_H 1
#define HAVE_SYS_PARAM_H 1
#define HAVE_GETPAGESIZE 1
#define HAVE_MMAP 1
#define INTDIV0_RAISES_SIGFPE 1
#define HAVE_INTTYPES_H_WITH_UINTMAX 1
#define HAVE_UNSIGNED_LONG_LONG_INT 1
#define HAVE_UINTMAX_T 1
#define HAVE_INTTYPES_H 1
#define USE_POSIX_THREADS 1
#define USE_POSIX_THREADS_WEAK 1
#define HAVE_PTHREAD_RWLOCK 1
#define HAVE_PTHREAD_MUTEX_RECURSIVE 1
#define HAVE_BUILTIN_EXPECT 1
#define HAVE_ARGZ_H 1
#define HAVE_INTTYPES_H 1
#define HAVE_LIMITS_H 1
#define HAVE_UNISTD_H 1
#define HAVE_SYS_PARAM_H 1
#define HAVE_GETCWD 1
#define HAVE_GETEGID 1
#define HAVE_GETEUID 1
#define HAVE_GETGID 1
#define HAVE_GETUID 1
#define HAVE_MEMPCPY 1
#define HAVE_MUNMAP 1
#define HAVE_STPCPY 1
#define HAVE_STRCASECMP 1
#define HAVE_STRDUP 1
#define HAVE_STRTOUL 1
#define HAVE_TSEARCH 1
#define HAVE_ARGZ_COUNT 1
#define HAVE_ARGZ_STRINGIFY 1
#define HAVE_ARGZ_NEXT 1
#define HAVE___FSETLOCKING 1
#define HAVE_DECL_FEOF_UNLOCKED 1
#define HAVE_DECL_FGETS_UNLOCKED 1
#define HAVE_ICONV 1
#define ICONV_CONST
#define HAVE_NL_LOCALE_NAME 1
#define HAVE_LONG_LONG_INT 1
#define HAVE_WCHAR_T 1
#define HAVE_WINT_T 1
#define HAVE_INTMAX_T 1
#define HAVE_POSIX_PRINTF 1
#define HAVE_STDINT_H 1
#define HAVE_STDINT_H 1
#define HAVE_STDDEF_H 1
#define HAVE_STDLIB_H 1
#define HAVE_STRING_H 1
#define HAVE_ASPRINTF 1
#define HAVE_FWPRINTF 1
#define HAVE_PUTENV 1
#define HAVE_SETENV 1
#define HAVE_SETLOCALE 1
#define HAVE_SNPRINTF 1
#define HAVE_WCSLEN 1
#define HAVE_DECL__SNPRINTF 0
#define HAVE_DECL__SNWPRINTF 0
#define HAVE_DECL_GETC_UNLOCKED 1
#define HAVE_LANGINFO_CODESET 1
#define HAVE_LC_MESSAGES 1
#define ENABLE_NLS 1
#define DEBUG_MODE 1
#define USE_PCH 1
#define HAVE_UNIX_PIPES 1
#define HAVE_LIBEDIT 1
#define HAVE_BOOST_REGEX_UNICODE 1
#define STDC_HEADERS 1
#define HAVE_LANGINFO_H 1
#define HAVE_ACCESS 1
#define HAVE_REALPATH 1
#define HAVE_GETPWUID 1
#define HAVE_GETPWNAM 1
#define HAVE_ISATTY 1

configure: exit 0
:END:
:PROPERTIES:
:ID:       D74DC501-645A-4E14-A768-2C0AD84182D8
:CREATED:  [2012-03-10 Sat 22:40]
:Date: Sun, 04 Mar 2012 10:35:53 -0500
:Message: [[message://87d38sjs4m.fsf@buster.johnrakestraw.com][can't run latest next version]]
:Author: John Rakestraw <jar34@georgetown.edu>
:END:
** CLOSED (Martin) Cannot build ledger
- State "CLOSED"     from "DONE"       [2012-03-27 Tue 15:45] \\
  Cannot be tested.
- State "DONE"       from "TODO"       [2012-03-11 Sun 20:36]
- Note taken on [2012-03-10 Sat 22:24] \\
  FWIW, I'm currently building on a system which has libboost 1.48 and
  this error does not occur.

  Not sure if the right fix is to require a newer libboost or to change
  something in ledger.

  I'll open a bug report so other users are aware of this issue.
- Note taken on [2012-03-10 Sat 22:24] \\
  I noticed that older ledger sources still build on my system, so I did
  a git bisect I found that the first revision that shows this error is:
   Switched to using Boost.Graph for commodity pricing
   48ab6ad1dbab100bb8abd87029a0ca5bc501a3db

  I noticed that I didn't have libboost-graph and libboost-graph-dev
  installed.  Unfortunately, installing these didn't help either.

  Maybe the problem is that I'm still using libboost 1.42.
Do you know anything about the error below?  Is my version of boost
wrong?
:OUTPUT:
  CXX    libledger_report_la-stats.lo
In file included from /usr/include/boost/graph/adjacency_list.hpp:33,
                 from system.hh:157:
/usr/include/boost/property_map/property_map.hpp: In instantiation of ‘boost::property_traits<ledger::date_specifier_t>’:
/usr/include/boost/graph/two_bit_color_map.hpp:47:   instantiated from ‘boost::two_bit_color_map<ledger::date_specifier_t>’
/home/tbm/tmp/src/ledger/src/times.h:480:   instantiated from here
/usr/include/boost/property_map/property_map.hpp:31: error: no type named ‘key_type’ in ‘class ledger::date_specifier_t’
/usr/include/boost/property_map/property_map.hpp:32: error: no type named ‘value_type’ in ‘class ledger::date_specifier_t’
/usr/include/boost/property_map/property_map.hpp:33: error: no type named ‘reference’ in ‘class ledger::date_specifier_t’
/usr/include/boost/property_map/property_map.hpp:34: error: no type named ‘category’ in ‘class ledger::date_specifier_t’
/usr/include/boost/property_map/property_map.hpp: In instantiation of ‘boost::property_traits<ledger::date_range_t>’:
/usr/include/boost/graph/two_bit_color_map.hpp:47:   instantiated from ‘boost::two_bit_color_map<ledger::date_range_t>’
/home/tbm/tmp/src/ledger/src/times.h:482:   instantiated from here
/usr/include/boost/property_map/property_map.hpp:31: error: no type named ‘key_type’ in ‘class ledger::date_range_t’
/usr/include/boost/property_map/property_map.hpp:32: error: no type named ‘value_type’ in ‘class ledger::date_range_t’
/usr/include/boost/property_map/property_map.hpp:33: error: no type named ‘reference’ in ‘class ledger::date_range_t’
/usr/include/boost/property_map/property_map.hpp:34: error: no type named ‘category’ in ‘class ledger::date_range_t’
/usr/include/boost/property_map/property_map.hpp: In instantiation of ‘boost::property_traits<bool>’:
/usr/include/boost/graph/two_bit_color_map.hpp:47:   instantiated from ‘boost::two_bit_color_map<bool>’
/home/tbm/tmp/src/ledger/src/value.h:554:   instantiated from here
/usr/include/boost/property_map/property_map.hpp:31: error: ‘bool’ is not a class, struct, or union type
/usr/include/boost/property_map/property_map.hpp:32: error: ‘bool’ is not a class, struct, or union type
/usr/include/boost/property_map/property_map.hpp:33: error: ‘bool’ is not a class, struct, or union type
/usr/include/boost/property_map/property_map.hpp:34: error: ‘bool’ is not a class, struct, or union type
/usr/include/boost/property_map/property_map.hpp: In instantiation of ‘boost::property_traits<boost::posix_time::ptime>’:
/usr/include/boost/graph/two_bit_color_map.hpp:47:   instantiated from ‘boost::two_bit_color_map<boost::posix_time::ptime>’
/home/tbm/tmp/src/ledger/src/value.h:571:   instantiated from here
/usr/include/boost/property_map/property_map.hpp:31: error: no type named ‘key_type’ in ‘class boost::posix_time::ptime’
/usr/include/boost/property_map/property_map.hpp:32: error: no type named ‘value_type’ in ‘class boost::posix_time::ptime’
/usr/include/boost/property_map/property_map.hpp:33: error: no type named ‘reference’ in ‘class boost::posix_time::ptime’
/usr/include/boost/property_map/property_map.hpp:34: error: no type named ‘category’ in ‘class boost::posix_time::ptime’
/usr/include/boost/property_map/property_map.hpp: In instantiation of ‘boost::property_traits<boost::gregorian::date>’:
/usr/include/boost/graph/two_bit_color_map.hpp:47:   instantiated from ‘boost::two_bit_color_map<boost::gregorian::date>’
/home/tbm/tmp/src/ledger/src/value.h:588:   instantiated from here
/usr/include/boost/property_map/property_map.hpp:31: error: no type named ‘key_type’ in ‘class boost::gregorian::date’
/usr/include/boost/property_map/property_map.hpp:32: error: no type named ‘value_type’ in ‘class boost::gregorian::date’
/usr/include/boost/property_map/property_map.hpp:33: error: no type named ‘reference’ in ‘class boost::gregorian::date’
/usr/include/boost/property_map/property_map.hpp:34: error: no type named ‘category’ in ‘class boost::gregorian::date’
/usr/include/boost/property_map/property_map.hpp: In instantiation of ‘boost::property_traits<long int>’:
/usr/include/boost/graph/two_bit_color_map.hpp:47:   instantiated from ‘boost::two_bit_color_map<long int>’
/home/tbm/tmp/src/ledger/src/value.h:605:   instantiated from here
/usr/include/boost/property_map/property_map.hpp:31: error: ‘long int’ is not a class, struct, or union type
/usr/include/boost/property_map/property_map.hpp:32: error: ‘long int’ is not a class, struct, or union type
/usr/include/boost/property_map/property_map.hpp:33: error: ‘long int’ is not a class, struct, or union type
/usr/include/boost/property_map/property_map.hpp:34: error: ‘long int’ is not a class, struct, or union type
/usr/include/boost/property_map/property_map.hpp: In instantiation of ‘boost::property_traits<ledger::amount_t>’:
/usr/include/boost/graph/two_bit_color_map.hpp:47:   instantiated from ‘boost::two_bit_color_map<ledger::amount_t>’
/home/tbm/tmp/src/ledger/src/value.h:622:   instantiated from here
/usr/include/boost/property_map/property_map.hpp:31: error: no type named ‘key_type’ in ‘class ledger::amount_t’
/usr/include/boost/property_map/property_map.hpp:32: error: no type named ‘value_type’ in ‘class ledger::amount_t’
/usr/include/boost/property_map/property_map.hpp:33: error: no type named ‘reference’ in ‘class ledger::amount_t’
/usr/include/boost/property_map/property_map.hpp:34: error: no type named ‘category’ in ‘class ledger::amount_t’
/usr/include/boost/property_map/property_map.hpp: In instantiation of ‘boost::property_traits<std::basic_string<char, std::char_traits<char>, std::allocator<char> > >’:
/usr/include/boost/graph/two_bit_color_map.hpp:47:   instantiated from ‘boost::two_bit_color_map<std::basic_string<char, std::char_traits<char>, std::allocator<char> > >’
/home/tbm/tmp/src/ledger/src/value.h:658:   instantiated from here
/usr/include/boost/property_map/property_map.hpp:31: error: no type named ‘key_type’ in ‘struct std::basic_string<char, std::char_traits<char>, std::allocator<char> >’
/usr/include/boost/property_map/property_map.hpp:34: error: no type named ‘category’ in ‘struct std::basic_string<char, std::char_traits<char>, std::allocator<char> >’
/usr/include/boost/property_map/property_map.hpp: In instantiation of ‘boost::property_traits<ledger::mask_t>’:
/usr/include/boost/graph/two_bit_color_map.hpp:47:   instantiated from ‘boost::two_bit_color_map<ledger::mask_t>’
/home/tbm/tmp/src/ledger/src/value.h:682:   instantiated from here
/usr/include/boost/property_map/property_map.hpp:31: error: no type named ‘key_type’ in ‘class ledger::mask_t’
/usr/include/boost/property_map/property_map.hpp:32: error: no type named ‘value_type’ in ‘class ledger::mask_t’
/usr/include/boost/property_map/property_map.hpp:33: error: no type named ‘reference’ in ‘class ledger::mask_t’
/usr/include/boost/property_map/property_map.hpp:34: error: no type named ‘category’ in ‘class ledger::mask_t’
/usr/include/boost/property_map/property_map.hpp: In instantiation of ‘boost::property_traits<boost::any>’:
/usr/include/boost/graph/two_bit_color_map.hpp:47:   instantiated from ‘boost::two_bit_color_map<boost::any>’
/home/tbm/tmp/src/ledger/src/value.h:742:   instantiated from here
/usr/include/boost/property_map/property_map.hpp:31: error: no type named ‘key_type’ in ‘class boost::any’
/usr/include/boost/property_map/property_map.hpp:32: error: no type named ‘value_type’ in ‘class boost::any’
/usr/include/boost/property_map/property_map.hpp:33: error: no type named ‘reference’ in ‘class boost::any’
/usr/include/boost/property_map/property_map.hpp:34: error: no type named ‘category’ in ‘class boost::any’
/usr/include/boost/property_map/property_map.hpp: In instantiation of ‘boost::property_traits<ledger::value_t>’:
/usr/include/boost/graph/two_bit_color_map.hpp:47:   instantiated from ‘boost::two_bit_color_map<ledger::value_t>’
/home/tbm/tmp/src/ledger/src/op.h:146:   instantiated from here
/usr/include/boost/property_map/property_map.hpp:31: error: no type named ‘key_type’ in ‘class ledger::value_t’
/usr/include/boost/property_map/property_map.hpp:32: error: no type named ‘value_type’ in ‘class ledger::value_t’
/usr/include/boost/property_map/property_map.hpp:33: error: no type named ‘reference’ in ‘class ledger::value_t’
/usr/include/boost/property_map/property_map.hpp:34: error: no type named ‘category’ in ‘class ledger::value_t’
/usr/include/boost/property_map/property_map.hpp: In instantiation of ‘boost::property_traits<boost::function<ledger::value_t(ledger::call_scope_t&)> >’:
/usr/include/boost/graph/two_bit_color_map.hpp:47:   instantiated from ‘boost::two_bit_color_map<boost::function<ledger::value_t(ledger::call_scope_t&)> >’
/home/tbm/tmp/src/ledger/src/op.h:181:   instantiated from here
/usr/include/boost/property_map/property_map.hpp:31: error: no type named ‘key_type’ in ‘struct boost::function<ledger::value_t(ledger::call_scope_t&)>’
/usr/include/boost/property_map/property_map.hpp:32: error: no type named ‘value_type’ in ‘struct boost::function<ledger::value_t(ledger::call_scope_t&)>’
/usr/include/boost/property_map/property_map.hpp:33: error: no type named ‘reference’ in ‘struct boost::function<ledger::value_t(ledger::call_scope_t&)>’
/usr/include/boost/property_map/property_map.hpp:34: error: no type named ‘category’ in ‘struct boost::function<ledger::value_t(ledger::call_scope_t&)>’
/usr/include/boost/property_map/property_map.hpp: In instantiation of ‘boost::property_traits<boost::shared_ptr<ledger::scope_t> >’:
/usr/include/boost/graph/two_bit_color_map.hpp:47:   instantiated from ‘boost::two_bit_color_map<boost::shared_ptr<ledger::scope_t> >’
/home/tbm/tmp/src/ledger/src/op.h:198:   instantiated from here
/usr/include/boost/property_map/property_map.hpp:31: error: no type named ‘key_type’ in ‘class boost::shared_ptr<ledger::scope_t>’
/usr/include/boost/property_map/property_map.hpp:34: error: no type named ‘category’ in ‘class boost::shared_ptr<ledger::scope_t>’
/usr/include/boost/property_map/property_map.hpp: In instantiation of ‘boost::property_traits<boost::intrusive_ptr<ledger::expr_t::op_t> >’:
/usr/include/boost/graph/two_bit_color_map.hpp:47:   instantiated from ‘boost::two_bit_color_map<boost::intrusive_ptr<ledger::expr_t::op_t> >’
/home/tbm/tmp/src/ledger/src/op.h:225:   instantiated from here
/usr/include/boost/property_map/property_map.hpp:31: error: no type named ‘key_type’ in ‘class boost::intrusive_ptr<ledger::expr_t::op_t>’
/usr/include/boost/property_map/property_map.hpp:32: error: no type named ‘value_type’ in ‘class boost::intrusive_ptr<ledger::expr_t::op_t>’
/usr/include/boost/property_map/property_map.hpp:33: error: no type named ‘reference’ in ‘class boost::intrusive_ptr<ledger::expr_t::op_t>’
/usr/include/boost/property_map/property_map.hpp:34: error: no type named ‘category’ in ‘class boost::intrusive_ptr<ledger::expr_t::op_t>’
/usr/include/boost/property_map/property_map.hpp: In instantiation of ‘boost::property_traits<ledger::expr_t>’:
/usr/include/boost/graph/two_bit_color_map.hpp:47:   instantiated from ‘boost::two_bit_color_map<ledger::expr_t>’
/home/tbm/tmp/src/ledger/src/format.h:145:   instantiated from here
/usr/include/boost/property_map/property_map.hpp:31: error: no type named ‘key_type’ in ‘class ledger::expr_t’
/usr/include/boost/property_map/property_map.hpp:32: error: no type named ‘value_type’ in ‘class ledger::expr_t’
/usr/include/boost/property_map/property_map.hpp:33: error: no type named ‘reference’ in ‘class ledger::expr_t’
/usr/include/boost/property_map/property_map.hpp:34: error: no type named ‘category’ in ‘class ledger::expr_t’
/usr/include/boost/property_map/property_map.hpp: In instantiation of ‘boost::property_traits<const ledger::date_specifier_t>’:
/usr/include/boost/graph/two_bit_color_map.hpp:47:   instantiated from ‘boost::two_bit_color_map<const ledger::date_specifier_t>’
/usr/include/boost/variant/get.hpp:193:   instantiated from ‘typename boost::add_reference<const U>::type boost::get(const boost::variant<T0, T1, T2, T3, T4, T5, T6, T7, T8, T9, T10, T11, T12, T13, T14, T15, T16, T17, T18, T19>&) [with U = ledger::date_specifier_t, T0 = int, T1 = ledger::date_specifier_t, T2 = ledger::date_range_t, T3 = boost::detail::variant::void_, T4 = boost::detail::variant::void_, T5 = boost::detail::variant::void_, T6 = boost::detail::variant::void_, T7 = boost::detail::variant::void_, T8 = boost::detail::variant::void_, T9 = boost::detail::variant::void_, T10 = boost::detail::variant::void_, T11 = boost::detail::variant::void_, T12 = boost::detail::variant::void_, T13 = boost::detail::variant::void_, T14 = boost::detail::variant::void_, T15 = boost::detail::variant::void_, T16 = boost::detail::variant::void_, T17 = boost::detail::variant::void_, T18 = boost::detail::variant::void_, T19 = boost::detail::variant::void_]’
/home/tbm/tmp/src/ledger/src/times.h:480:   instantiated from here
/usr/include/boost/property_map/property_map.hpp:31: error: no type named ‘key_type’ in ‘const class ledger::date_specifier_t’
/usr/include/boost/property_map/property_map.hpp:32: error: no type named ‘value_type’ in ‘const class ledger::date_specifier_t’
/usr/include/boost/property_map/property_map.hpp:33: error: no type named ‘reference’ in ‘const class ledger::date_specifier_t’
/usr/include/boost/property_map/property_map.hpp:34: error: no type named ‘category’ in ‘const class ledger::date_specifier_t’
/usr/include/boost/property_map/property_map.hpp: In instantiation of ‘boost::property_traits<const ledger::date_range_t>’:
/usr/include/boost/graph/two_bit_color_map.hpp:47:   instantiated from ‘boost::two_bit_color_map<const ledger::date_range_t>’
/usr/include/boost/variant/get.hpp:193:   instantiated from ‘typename boost::add_reference<const U>::type boost::get(const boost::variant<T0, T1, T2, T3, T4, T5, T6, T7, T8, T9, T10, T11, T12, T13, T14, T15, T16, T17, T18, T19>&) [with U = ledger::date_range_t, T0 = int, T1 = ledger::date_specifier_t, T2 = ledger::date_range_t, T3 = boost::detail::variant::void_, T4 = boost::detail::variant::void_, T5 = boost::detail::variant::void_, T6 = boost::detail::variant::void_, T7 = boost::detail::variant::void_, T8 = boost::detail::variant::void_, T9 = boost::detail::variant::void_, T10 = boost::detail::variant::void_, T11 = boost::detail::variant::void_, T12 = boost::detail::variant::void_, T13 = boost::detail::variant::void_, T14 = boost::detail::variant::void_, T15 = boost::detail::variant::void_, T16 = boost::detail::variant::void_, T17 = boost::detail::variant::void_, T18 = boost::detail::variant::void_, T19 = boost::detail::variant::void_]’
/home/tbm/tmp/src/ledger/src/times.h:482:   instantiated from here
/usr/include/boost/property_map/property_map.hpp:31: error: no type named ‘key_type’ in ‘const class ledger::date_range_t’
/usr/include/boost/property_map/property_map.hpp:32: error: no type named ‘value_type’ in ‘const class ledger::date_range_t’
/usr/include/boost/property_map/property_map.hpp:33: error: no type named ‘reference’ in ‘const class ledger::date_range_t’
/usr/include/boost/property_map/property_map.hpp:34: error: no type named ‘category’ in ‘const class ledger::date_range_t’

make[2]: *** [libledger_report_la-stats.lo] Error 1
make[2]: Leaving directory `/home/tbm/tmp/src/ledger/build/ledger/opt'
make[1]: *** [all-recursive] Error 1
make[1]: Leaving directory `/home/tbm/tmp/src/ledger/build/ledger/opt'
make: *** [all] Error 2
:END:
:PROPERTIES:
:ID:       D60E8639-883D-4AC8-8326-EF2041C5DCDE
:CREATED:  [2012-03-10 Sat 22:23]
:Date: Sat, 10 Mar 2012 10:33:01 +0000
:Message: [[message://20120310103301.GA17626@jirafa.cyrius.com][Cannot build ledger]]
:Author: Martin Michlmayr <tbm@cyrius.com>
:END:
** CLOSED (bzg) [ledger] Two tiny typos
- State "CLOSED"     from "DONE"       [2012-03-27 Tue 15:45] \\
  Cannot be tested.
- State "DONE"       from "TODO"       [2012-03-11 Sun 20:37]
:PROPERTIES:
:ID:       6AFF6DA6-D38B-439B-AB26-B5D8ACD62936
:CREATED:  [2012-03-10 Sat 22:45]
:Date: Wed, 29 Feb 2012 06:17:17 -0800
:Message: [[message://jwiegley/ledger/pull/56@github.com][{ledger} Two tiny typos (#56)]]
:Author: bzg <reply+i-3437044-b88176438075b868ec460a63d919d4fbcc7c327d-8460@reply.github.com>
:END:
** CLOSED --budget doesn't produce correct output
   - State "CLOSED"     from "DONE"       [2009-11-02 Mon 01:10]
   - State "DONE"       from "TODO"       [2009-10-27 Tue 05:51]
   I have a budget transaction like this:
   :SOURCE:
   ~ Monthly
     Expenses:Auto:Fuel           $ 120.00
     Expenses:Food:Out            $ 100.00
     Expenses:Food:Groceries      $ 350.00
     Assets
   :END:

   It doesn't, however, seem to take effect with --budget:
   :OUTPUT:
   % ledger bal --p this --flat auto:fuel food:out
                $ 67.15  Expenses:Auto:Fuel
                $ 18.30  Expenses:Food:Out
   --------------------
                $ 85.45
   % ledger bal --p this --budget --flat auto:fuel food:out
                $ 67.15  Expenses:Auto:Fuel
                $ 18.30  Expenses:Food:Out
   --------------------
                $ 85.45
   % ledger --version | head -1
   Ledger next-0-g752677e, the command-line accounting tool
   :END:
   :PROPERTIES:
   :ID:       8254755E-7B61-47C8-B48E-A2A7FD79EB80
   :URL:      http://github.com/jwiegley/ledger/issues#issue/5
   :CREATED:  [2009-10-26 Mon 21:27]
   :END:
** CLOSED --sort d not working with -p
- State "CLOSED"     from "DONE"       [2012-03-22 Thu 16:51]
   - State "DONE"       from "TODO"       [2010-05-23 Sun 01:11]
   :PROPERTIES:
   :ID:       3AAB00ED-9904-4380-8988-16506B0AFE08
   :Message:  [[message://20100322090611.GV1914@jirafa.cyrius.com][--sort d not working with -p]]
   :CREATED:  [2010-03-26 Fri 22:23]
   :END:
** CLOSED Add a 'locus' member to call_scope_t, for error reporting
   - State "CLOSED"     from "DONE"       [2012-03-27 Tue 15:45] \\
     Cannot be tested.
   - State "DONE"       from "TODO"       [2010-06-13 Sun 18:41]
   :PROPERTIES:
   :ID:       C7F08DC9-934E-46CD-8B22-33E8A3C69E5B
   :CREATED:  [2010-06-13 Sun 06:04]
   :END:
** CLOSED Allow --exchange to take a comma-separated list of commodities
- State "CLOSED"     from "DONE"       [2012-03-22 Thu 16:50] \\
  Tested by 83B4A0E5.test.
   - State "DONE"       [2009-02-22 Sun 16:12]
   :PROPERTIES:
   :ID:       924DA74D-7D4F-4412-AE2A-251DC139D86A
   :CREATED:  [2009-02-22 Sun 04:33]
   :END:
** CLOSED Allow for chaining, so that -VA works
- State "CLOSED"     from "DONE"       [2012-03-27 Tue 15:54]
- State "DONE"       from "TODO"       [2012-03-07 Wed 14:32]
:PROPERTIES:
:ID:       EA18D948-C811-4F74-8BDF-21C53C19176B
:CREATED:  [2012-03-07 Wed 05:33]
:END:
** CLOSED Allow for sorting by multiple criteria, like -S date,payee
- State "CLOSED"     from "DONE"       [2012-03-22 Thu 16:51]
   - State "DONE"       [2009-02-15 Sun 23:17]
   :PROPERTIES:
   :ID:       AFAFB804-E156-4D94-B897-3AB4A9E611CB
   :CREATED:  [2009-02-12 Thu 04:54]
   :END:
** CLOSED An amount like 0h @ $70 gives divide by zero error
   - State "CLOSED"     from "DONE"       [2009-06-16 Tue 16:23]
   - State "DONE"       from "TODO"       [2009-06-16 Tue 16:23]
   :PROPERTIES:
   :ID:       6DAB9FE3-1399-4727-9AB1-FE413FB85A03
   :CREATED:  [2009-03-11 Wed 19:24]
   :END:
** CLOSED Applying an account with apply account Steven Watanabe does not work
- State "CLOSED"     from "DONE"       [2012-03-22 Thu 16:49] \\
  Says tested by dir-apply.test.
- State "DONE"       from "STARTED"    [2012-03-12 Mon 23:02] \\
  Fixed by be289fb, and tested by dir-apply.test
:PROPERTIES:
:ID:       F69D587A-4160-42AF-89E1-F6C3F85D2FBE
:CREATED:  [2012-03-12 Mon 18:39]
:END:
** CLOSED Balance report is still broken
   - State "CLOSED"     from "DONE"       [2009-06-16 Tue 15:44]
   - State "DONE"       from "TODO"       [2009-06-15 Mon 17:53]
   :SCRIPT:
   ./ledger -f test/input/drewr.dat bal assets
   :END:
   This produces an erroneous balance report if I change drewr.dat.
   :OUTPUT:
         $ -3,804.00  Assets
             $ 30.00    Checking:Business
         $ -5,200.00    Savings
   --------------------
         $ -3,804.00
   :END:
   It should be:
   :OUTPUT:
         $ -3,804.00  Assets
          $ 1,366.00    Checking
             $ 30.00      Business
         $ -5,200.00    Savings
   --------------------
         $ -3,804.00
   :END:
   :PROPERTIES:
   :ID:       5A03CFC3-1A76-4F93-A1FE-555F98438C5A
   :ARCHIVE_TIME: 2009-06-15 Mon 17:53
   :ARCHIVE_CATEGORY: Ledger
   :CREATED:  [2009-03-24 Tue 18:38]
   :END:
** CLOSED Balance report was missing the parent account
- State "CLOSED"     from "DONE"       [2012-03-18 Sun 18:57]
   - State "DONE"       [2009-03-16 Mon 04:06]
   :PROPERTIES:
   :ID:       461980A1-86DE-4C76-9CB1-1480B5606624
   :CREATED:  [2009-03-15 Sun 22:32]
   :END:
** CLOSED Balance report wasn't reporting a final total
- State "CLOSED"     from "DONE"       [2012-03-18 Sun 18:57]
   - State "DONE"       [2009-03-16 Mon 04:06]
   :PROPERTIES:
   :ID:       E9F130C5-33AA-4841-B238-1148506B3DDF
   :CREATED:  [2009-03-15 Sun 22:32]
   :END:
** CLOSED Balances with non-matching exchange rates is ambiguous
   - State "CLOSED"     [2009-02-24 Tue 13:09]
   - State "DONE"       [2009-02-20 Fri 01:55]
   Not sure what it should say here... it balances in EUR, but not in
   USD. Should it fail?
   :DATA:
   2007-12-31 * Start of year / Opening balances.
   Account1   1000 EUR @ 1.6 USD
   Account2   -1000 EUR @ 1.5 USD
   :END:
   :OUTPUT:
   -*- mode: compilation; default-directory: "/tmp/" -*-
   Compilation started at Sat Apr 12 12:35:43

   ledger -f /tmp/brokrate.ledger bal
   While balancing xact:
   2007/12/31 * Start of year / Opening balances.
      Account1                            1000 EUR @ 1.6 USD
      Account2                            -1000 EUR @ 1.5 USD
   Unbalanced remainder is:
           100.0 USD
   Error: "/tmp/brokrate.ledger", line 3: Xact does not balance

   Compilation exited abnormally with code 1 at Sat Apr 12 12:35:43
   :END:
   :PROPERTIES:
   :Submitter: Martin Blais <blais@furius.ca>
   :Version:  2.6
   :Ticket:   179
   :ID:       2E3496BD-143C-4D3E-8815-A01FFD31D132
   :CREATED:  [2008-04-12 Sat]
   :END:
** CLOSED Break up interval_t and move range_t into value_t
- State "CLOSED"     from "DONE"       [2012-03-27 Tue 15:46] \\
  Cannot be tested.
   - State "DONE"       [2009-03-16 Mon 04:56]
   - State "STARTED"    [2009-03-10 Tue 23:14]
   :PROPERTIES:
   :ID:       FFD34FF1-66E2-4209-93A7-A6C09073B02A
   :CREATED:  [2009-03-10 Tue 19:40]
   :END:
** CLOSED Bug in account balance display
   - State "CLOSED"     [2009-02-24 Tue 14:02] \\
     Simon can't remember exactly was the bug was here, so I'm closing it.
   - State "WAITING"    [2009-02-20 Fri 01:59]
   :DATA:
   2008/01/01 * previous balances
    liabilities:credit cards:discover 4462            $-1094.38
    equity:opening balances

   2008/01/18 * DISCOVER FEES
    liabilities:credit cards:discover 4462:interest          $-36.59
    assets:bank:wells fargo:checking

   2008/01/18 * DISCOVER FEES
    liabilities:credit cards:discover 4462:fee          $-39
    liabilities:credit cards:discover 4462:interest    $-28.17
    assets:bank:wells fargo:checking

   2008/3/1 * discover card payment
    liabilities:credit cards:discover 4462        $1198.14
    assets:bank:wells fargo:checking
   :END:
   that triggers it..
   :SCRIPT:
   ledger -f test.ledger -s bal discover
   :END:
   :PROPERTIES:
   :Submitter: Simon Michael <simon@joyful.com>
   :Version:  2.6.1
   :ID:       55831A79-0556-4872-A81F-F082A7B2E96B
   :CREATED:  [2008-11-20 Thu 23:48]
   :END:
** CLOSED Bug in ledger equity output
   - State "CLOSED"     [2009-02-24 Tue 13:09]
   - State "DONE"       [2009-02-20 Fri 13:06]
   Seeing as how I've reached the end of my financial year my thoughts turned
   to how to 'close the books'.

   I have the following as part of my account tree:
   :DATA:
   Assets:Super:ARF
   Assets:Super:CSS
   Assets:Super:CSS:Contributions
   :END:

   The ledger 'balance' report correctly shows `Contributions` to be a child of
   `Assets:Super:CSS`:
   :OUTPUT:
   $ ledger -l 'd<=[30/06/2006]' -w -s bal ^Assets:Super
         $171,819.90  Assets:Super
          $12,777.87    ARF
         $159,042.03    CSS
           $3,861.00      Contributions
   --------------------
         $171,819.90
   :END:

   However the ledger `equity` report formats `Contributions` as a new
   top-level account:
   :OUTPUT:
   $ ledger -l 'd<=[30/06/2006]' -w equity ^Assets:Super

   14/07/2006 Opening Balances
    Assets:Super:ARF                      $12,777.87
    Assets:Super:CSS                     $155,181.03
    Contributions                          $3,861.00
                                        $-171,819.90
   :END:

   Whilst its no great issue to manually edit the report (have to change the
   date anyway) its slightly annoying.
   :PROPERTIES:
   :Submitter: <rpw101ml@yahoo.com.au>
   :Version:  2.6
   :Ticket:   16
   :ID:       1CF1EEC2-74F2-4538-8508-F0B424BA5D19
   :CREATED:  [2007-12-10 Mon]
   :END:
** CLOSED Cannot stop the file parser by pressing Control-C
- State "CLOSED"     from "DONE"       [2012-03-27 Tue 15:46] \\
  Cannot be tested.
   - State "DONE"       [2009-02-16 Mon 04:16]
   :PROPERTIES:
   :ID:       51159E59-18E6-46D8-BBF6-60EFA98BFC6E
   :CREATED:  [2009-02-10 Tue 22:29]
   :END:
** CLOSED Cannot use uncommoditized amounts as a per-unit cost
   - State "CLOSED"     from "DONE"       [2009-06-18 Thu 16:08]
   - State "DONE"       from "TODO"       [2009-06-18 Thu 16:08]
   :PROPERTIES:
   :ID:       86D2BDC4-53A4-4039-99C9-F8C0370A89FB
   :CREATED:  [2009-06-18 Thu 16:07]
   :END:
** CLOSED Catch Control-C within the Ledger REPL
- State "CLOSED"     from "DONE"       [2012-03-27 Tue 15:46] \\
  Cannot be tested.
   - State "DONE"       [2009-02-04 Wed 21:01]
   :PROPERTIES:
   :ID:       E755A238-65AE-485F-84C0-2D9DA8AFA8A1
   :CREATED:  [2009-02-04 Wed 19:58]
   :END:
** CLOSED Change op.calc debug class to expr.calc
- State "CLOSED"     from "DONE"       [2012-03-27 Tue 15:46] \\
  Cannot be tested.
   - State "DONE"       [2009-02-15 Sun 15:40]
   :PROPERTIES:
   :ID:       E62413C7-8ADD-4221-B397-83AF6086E515
   :CREATED:  [2009-02-15 Sun 05:05]
   :END:
** CLOSED Change streaming to std::cerr to use WARN
- State "CLOSED"     from "DONE"       [2012-03-27 Tue 15:46] \\
  Cannot be tested.
   - State "DONE"       [2009-02-26 Thu 04:53]
   :PROPERTIES:
   :ID:       142B89D4-7741-4951-A636-707273C1FE3D
   :CREATED:  [2009-02-25 Wed 01:32]
   :END:
** CLOSED Change strip() function to more general scrub()
- State "CLOSED"     from "DONE"       [2012-03-27 Tue 15:46] \\
  Cannot be tested.
   - State "DONE"       [2009-02-21 Sat 19:17]
   :PROPERTIES:
   :ID:       F10BB0FD-86C6-4B61-A2BA-473820F27BD6
   :CREATED:  [2009-02-21 Sat 12:30]
   :END:
** CLOSED Clean up the code in main.cc again, move stripwhite to utils.cc
- State "CLOSED"     from "DONE"       [2012-03-27 Tue 15:46] \\
  Cannot be tested.
   - State "DONE"       [2009-02-05 Thu 21:55]
   :PROPERTIES:
   :ID:       D98F86D8-1789-4757-BC8D-C2E2A7AFA3C4
   :CREATED:  [2009-02-04 Wed 21:48]
   :END:
** CLOSED Compilation error on master (7ca8149e)
- State "CLOSED"     from "DONE"       [2012-03-27 Tue 15:46] \\
  Cannot be tested.
   - State "DONE"       from "TODO"       [2010-05-23 Sun 00:32]
   :PROPERTIES:
   :ID:       0F17CB7F-A000-4F99-8471-739948AD575F
   :Message:  [[message://500992d31003251651q7a127ba5p434c64b7454152de@mail.gmail.com][Compilation error on master (7ca8149e)]]
   :CREATED:  [2010-03-26 Fri 22:17]
   :END:
** CLOSED Compile errors with gcc 4.3                                                    :ATTACH:
- State "CLOSED"     from "DONE"       [2012-03-27 Tue 15:46] \\
  Cannot be tested.
   - State "DONE"       [2008-05-23 Fri 03:59] \\
     Thanks for that update; the earlier one failed to build on openbsd-x86-normal.
   - State "TODO"       [2008-05-22 Thu 20:50] \\
     Nathan Jones <nathanj@insightbb.com> writes:
     > I had debug on, so I didn't notice a few spots that needed <stdlib>
     > included.
   - State "TODO"       [2008-05-22 Thu 20:49] \\
     Nathan Jones <nathanj@insightbb.com> writes:
     > Another fix.
   - State "TODO"       [2008-05-20 Tue 19:14] \\
     Patch has been applied.
   gcc 4.3 moved some header files around, leading to compile errors. Attached
   is the patch for git.
   :PROPERTIES:
   :Submitter: Nathan Jones <nathanj@insightbb.com>
   :Version:  2.6
   :Ticket:   197
   :ID:       E9AD679E-6A13-456E-820C-51C682957B55
   :Attachments: 0001-Fix-compile-errors-with-gcc-4.3.patch 0002-Fix-compile-errors-with-gcc-4.3.patch
   :CREATED:  [2008-05-20 Tue]
   :END:
** CLOSED Complete the "stats" command
- State "CLOSED"     from "DONE"       [2012-03-27 Tue 15:55]
   - State "DONE"       [2009-02-16 Mon 05:17]
   An example from ledgerstat:
   :OUTPUT:
   ledgerstat reports some useful ledger statistics using beancount:

   $ ledgerstat
   Ledger status report as of 2008-05-26
   -------------------------------------
   File: /Users/simon/current.ledger
   Nb accounts: 104
   Nb postings: 357
   Nb commodities: 2
   Nb postings: 830
   Nb unique payees: 1
   Postings: 357 over 145 days (2.5 per day)
   Postings for the past 30 days: 78 (2.6 per day)
   The last reconciliation seems to have been: 21 days ago (on 2008-05-05)
   The last non-future posting was: 1 day ago
   :END:
   :PROPERTIES:
   :ID:       93DFA8A2-B54B-4BB5-809D-3857C8ECD472
   :CREATED:  [2009-02-10 Tue 04:34]
   :END:
** CLOSED Completing currency fails
   - State "CLOSED"     [2009-02-24 Tue 13:09]
   - State "DONE"       [2009-02-20 Fri 13:08]
   Strange bug with inference of currency:
   :DATA:
   2007/12/31 * Cost basis for: RED HAT INC RHT
   Assets:Investments:RBC-Broker:Account-RSP                                    4 RHT
   Equity:Opening-Balances:Cost                                            689.87 CAD

   2008/01/03=2007/12/28 * Sell -- RHT -- RED HAT INC CA TAUX DE CHANGE    .96590
   Assets:Investments:RBC-Broker:Account-RSP                              -4.00 RHT @      21.14 CAD
   Expenses:Financial:Commissions                                          9.95 USD @     .96590 CAD
   Assets:Investments:RBC-Broker:Account-RSP                              72.06 CAD
   Expenses:Financial:Fees
   :END:

   The fees are inserted without a commodity as -9.610705:
   :OUTPUT:
   ledger -w -f bug.txt  reg
   2007/12/31  Cost basis for: RED HAT INC RHT     As:Investments:RBC-Broker:Account-RSP                4.00 RHT               4.00 RHT
                                                Equity:Opening-Balances:Cost                       689.87 CAD             689.87 CAD
                                                                                                                            4.00 RHT
   2008/01/03  Sell -- RHT -- RED HAT INC CA TAU.. As:Investments:RBC-Broker:Account-RSP               -4.00 RHT             689.87 CAD
                                                Expenses:Financial:Commissions                       9.95 USD             689.87 CAD
                                                                                                                            9.95 USD
                                                As:Investments:RBC-Broker:Account-RSP               72.06 CAD             761.93 CAD
                                                                                                                            9.95 USD
                                                Expenses:Financial:Fees                             -9.610705              -9.610705
                                                                                                                          761.93 CAD
                                                                                                                            9.95 USD
                                                Expenses:Financial:Fees                             12.50 CAD              -9.610705
                                                                                                                          774.43 CAD
                                                                                                                            9.95 USD
   :END:
   This is a bug.

   I wish I could just say:
   :DATA:
   2008/01/03=2007/12/28 * Sell -- RHT -- RED HAT INC CA TAUX DE CHANGE    .96590
   Assets:Investments:RBC-Broker:Account-RSP                              -4.00 RHT @      21.14 CAD
   Expenses:Financial:Commissions                                          9.95 USD @     .96590 CAD
   Assets:Investments:RBC-Broker:Account-RSP                              72.06 CAD
   Expenses:Financial:Fees                                                      CAD
   :END:
   ... to tell Ledger which currency to use to complete the xact.
   :PROPERTIES:
   :Submitter: Martin Blais <blais@furius.ca>
   :Version:  2.6
   :Ticket:   55
   :ID:       E4C9A8EA-296B-443F-937A-80182B21AA20
   :CREATED:  [2008-04-07 Mon]
   :END:
** CLOSED Confusing error message with ledger v3 with invalid input
- State "CLOSED"     from "DONE"       [2012-03-22 Thu 16:53]
   - State "DONE"       from "TODO"       [2010-05-22 Sat 18:45]
   :PROPERTIES:
   :ID:       15A80F68-F233-49D9-AF0C-9908BB6903BA
   :Message:  [[message://20100325214507.GA22847@jirafa.cyrius.com][Confusing error message with ledger v3 with invalid input]]
   :CREATED:  [2010-03-26 Fri 22:18]
   :END:
** CLOSED Cost parsing bug
   - State "CLOSED"     from "DONE"       [2009-06-16 Tue 15:41]
   - State "DONE"       from "TODO"       [2009-06-15 Mon 17:01]
   [[message://2aaaa8b6-4a51-4acb-8a73-ac4c98578b59@d7g2000prl.googlegroups.com][Re: Tracking fuel and milage]]
   :PROPERTIES:
   :ID:       04C5E1CA-1B39-4214-81C7-FD5AA785308F
   :ARCHIVE_TIME: 2009-06-15 Mon 17:13
   :ARCHIVE_CATEGORY: Ledger
   :CREATED:  [2009-06-03 Wed 19:11]
   :END:
** CLOSED Create a fmt_ handler category, for reading %P as %(payee)
- State "CLOSED"     from "DONE"       [2012-03-27 Tue 15:55]
   - State "DONE"       [2009-02-15 Sun 18:34]
   :PROPERTIES:
   :ID:       525D3608-5CA8-40B5-A0A6-D1A0BF37C06A
   :CREATED:  [2009-02-15 Sun 05:06]
   :END:
** CLOSED Create an interactive_t object to do argument parsing
- State "CLOSED"     from "DONE"       [2012-03-27 Tue 15:46] \\
  Cannot be tested.
   - State "DONE"       [2009-02-21 Sat 18:57]
   :PROPERTIES:
   :ID:       B42F7688-FC26-4A0A-9C36-AB9D30FBD864
   :CREATED:  [2009-02-21 Sat 16:14]
   :END:
** CLOSED Create set_expr method for HANDLER(limit_), removing append_predicate
- State "CLOSED"     from "DONE"       [2012-03-27 Tue 15:46] \\
  Cannot be tested.
   - State "DONE"       [2009-02-15 Sun 18:21]
   :PROPERTIES:
   :ID:       E0346AE8-DA9F-4C11-B297-5D8937C5B05F
   :CREATED:  [2009-02-15 Sun 05:06]
   :END:
** CLOSED Determine if pre-reading the textual ledger speeds up parsing
- State "CLOSED"     from "DONE"       [2012-03-27 Tue 15:46] \\
  Cannot be tested.
   - State "DONE"       [2009-03-06 Fri 04:12] \\
     This is not where the slowness is, according to the profiler.
   :PROPERTIES:
   :ID:       5F272418-F871-4881-AE03-E12C1057E682
   :CREATED:  [2009-03-03 Tue 00:09]
   :END:
** CLOSED Ditch POST_AUTO for ITEM_GENERATED
- State "CLOSED"     from "DONE"       [2012-03-27 Tue 15:46] \\
  Cannot be tested.
   - State "DONE"       [2009-02-24 Tue 01:01]
   :PROPERTIES:
   :ID:       D579B743-D87C-4168-8E83-7A49A77917F6
   :CREATED:  [2009-02-23 Mon 21:35]
   :END:
** CLOSED Do not use names with double underscores in C++ code
- State "CLOSED"     from "DONE"       [2012-03-27 Tue 15:46] \\
  Cannot be tested.
   - State "DONE"       from "TODO"       [2010-05-23 Sun 00:37]
   For example, HANDLER(foo_) -> foo__handler
   :PROPERTIES:
   :ID:       6A4AFDC2-DE87-48A5-A17D-B04120EE1F62
   :CREATED:  [2010-04-25 Sun 15:45]
   :END:
** CLOSED Document the new command-line query syntax for Ledger
- State "CLOSED"     from "DONE"       [2012-03-27 Tue 15:46] \\
  Cannot be tested.
   - State "DONE"       [2009-02-02 Mon 00:32]
   :PROPERTIES:
   :ID:       BC8E6D64-2C61-464A-9B58-7BE039F7C97B
   :CREATED:  [2009-02-01 Sun 22:12]
   :END:
** CLOSED Enable gettext, but only for exceptions and public strings
- State "CLOSED"     from "DONE"       [2012-03-27 Tue 15:46] \\
  Cannot be tested.
   - State "DONE"       [2009-02-21 Sat 20:08]
   :PROPERTIES:
   :ID:       C6772BE2-04DF-4027-AF96-16B677E08603
   :CREATED:  [2009-02-21 Sat 12:28]
   :END:
** CLOSED Ensure that every class uses CTOR/DTOR tracing functions
- State "CLOSED"     from "DONE"       [2012-03-27 Tue 15:46] \\
  Cannot be tested.
- State "DONE"       from "TODO"       [2012-03-18 Sun 01:01]
:PROPERTIES:
:ID:       7F0DC354-E82F-4CB0-BD70-8311E47C97A8
:CREATED:  [2012-03-17 Sat 17:30]
:END:
** CLOSED Expenses:Wedding appears twice in the attached balance command
   - State "CLOSED"     from "DONE"       [2009-11-02 Mon 01:21]
   - State "DONE"       from "TODO"       [2009-10-26 Mon 21:11]
   :SCRIPT:
   ledger bal --sort amount --flat expenses:foo
   :END:
   :PROPERTIES:
   :ID:       5F1BAF17-2A7C-4992-ACCA-B1111104E4EE
   :CREATED:  [2009-10-26 Mon 17:21]
   :END:
** CLOSED Fix the Ledger v2.6.1 branch
- State "CLOSED"     from "DONE"       [2012-03-27 Tue 15:46] \\
  Cannot be tested.
   - State "DONE"       [2008-05-08 Thu]
   - Every commit must relate to an issue, and name that issue in the commit message.
   - The comment for every fixed issue must reference the commit that fixed it.
   - There must be a ChangeLog set for every change, which also names the issue.
   - Every jww comment must name a Trac issue.
   :PROPERTIES:
   :ID:       1F5B58EB-F5ED-4467-8362-1E5094C19F80
   :CREATED:  [2008-04-21 Mon]
   :END:
** CLOSED Fix the rendering of O_CONS and O_CALL
- State "CLOSED"     from "DONE"       [2012-03-27 Tue 15:46] \\
  Cannot be tested.
   - State "DONE"       [2009-02-23 Mon 14:21]
   :PROPERTIES:
   :ID:       BE1CB9AB-6FE9-45EC-BD61-63D1F3AE612D
   :CREATED:  [2009-02-23 Mon 05:07]
   :END:
** CLOSED Fold gather_statistics into calc_posts
- State "CLOSED"     from "DONE"       [2012-03-27 Tue 15:46] \\
  Cannot be tested.
   - State "DONE"       [2009-03-04 Wed 04:41]
   :PROPERTIES:
   :ID:       D64F0CA1-4810-4FD0-BAF5-E6614C69DB42
   :CREATED:  [2009-03-03 Tue 17:14]
   :END:
** CLOSED Forecasting goes too far
   - State "CLOSED"     from "DONE"       [2009-11-02 Mon 01:43]
   - State "DONE"       from "TODO"       [2009-10-26 Mon 20:55] \\
     This is fixed in 3.0.
   - Note taken on [2007-12-10 Mon 19:04] \\
     Because of the way that forecasting is (currently) implemented, you will often
     see an entry that is "one beyond" the condition of your forecast. I hope to
     remedy this in the near future.
   :OUTPUT:
   tim@yggdrasil [/Users/tim]# ledger --forecast 'd<=[2006/08/27]' reg
   ^assets
   2006/09/01 Forecast entry       Assets                      $-1322.00    $13313.99
   :END:
   Why is the last entry being displayed?  Doesn't the date predicate prevent
   that from happening?
   :PROPERTIES:
   :CREATED:  [some entries which balance correctly]
   :Submitter: <tim@scarybright.org>
   :Version:  2.6
   :Ticket:   15
   :ID:       E627C594-A019-4D87-A6B4-C8E75F6D8FC0
   :END:
** CLOSED Get PCH support working again for the Ledger build
- State "CLOSED"     from "DONE"       [2012-03-27 Tue 15:46] \\
  Cannot be tested.
   - State "DONE"       [2009-02-08 Sun 20:26]
   - State "STARTED"    [2009-02-08 Sun 18:12]
   :PROPERTIES:
   :ID:       2594BA36-AC89-4A83-BE3E-D0ED75C89658
   :CREATED:  [2009-02-08 Sun 18:12]
   :END:
** CLOSED Get rid of all uses of "ident"
- State "CLOSED"     from "DONE"       [2012-03-27 Tue 15:46] \\
  Cannot be tested.
   - State "DONE"       [2009-02-08 Sun 02:30]
   :PROPERTIES:
   :ID:       EB366809-44CB-45AF-ABF1-3D3E3540773D
   :CREATED:  [2009-02-07 Sat 18:14]
   :END:
** CLOSED If --strict, warn if an uncleared account has never been seen before
- State "CLOSED"     from "DONE"       [2012-03-22 Thu 16:48] \\
  Tested by baseline/opt-strict.test.
   - State "DONE"       [2009-02-19 Thu 22:28]
   :PROPERTIES:
   :ID:       27E4A5B5-F9B9-46EA-9582-82573507F612
   :CREATED:  [2009-02-19 Thu 15:59]
   :END:
** CLOSED If there are multiple balancing xacts, print shows them all
- State "CLOSED"     from "DONE"       [2012-03-22 Thu 16:53]
   - State "DONE"       from "TODO"       [2009-06-28 Sun 15:56] \\
     This was fixed by implying --actual whenever "print" is used.
   :DATA:
   2009/01/01 Sample
   Expenses:Alpha       10 A
   Expenses:Beta        10 B
   Expenses:Gamma       10 C
   Income:Unknown
   :END:
   :SCRIPT:
   ./ledger -f /tmp/bug.dat print
   :END:
   :OUTPUT:
   2009/01/01 Sample
    Expenses:Alpha                              10 A
    Expenses:Beta                               10 B
    Expenses:Gamma                              10 C
    Income:Unknown
    Income:Unknown
    Income:Unknown
   :END:
   The output should include only one "Income:Unknown" line.
   :PROPERTIES:
   :ID:       E2E479BC-BC00-4539-A330-895B2C1C8D57
   :CREATED:  [2009-02-27 Fri 04:10]
   :END:
** CLOSED Integrate omari's changes into 3.0
- State "CLOSED"     from "DONE"       [2012-03-27 Tue 15:46] \\
  Cannot be tested.
   - State "DONE"       [2009-02-08 Sun 16:05]
   :PROPERTIES:
   :ID:       8241124E-4FC6-46CD-9A64-1A79B59F426F
   :CREATED:  [2008-10-21 Tue 14:03]
   :END:
** CLOSED Integrate support for gettext() into Ledger
- State "CLOSED"     from "DONE"       [2012-03-27 Tue 15:46] \\
  Cannot be tested.
   - State "DONE"       [2009-02-03 Tue 01:15]
   :PROPERTIES:
   :ID:       D599561A-5CB2-4647-8A9E-FB1E558C04FD
   :CREATED:  [2009-02-02 Mon 17:01]
   :END:
** CLOSED Ledger dies if a periodic transaction is unbalanced
- State "CLOSED"     from "DONE"       [2012-03-22 Thu 16:53]
   - State "DONE"       from "TODO"       [2010-01-18 Mon 03:41]
   #+begin_src ledger
   ~ Monthly
      Aufwand:Bargeld    0,30€
      Aktiva:Bank:Girokonto  -0,40€
   #+end_src
   It crashes tries to use the transaction's position, which is uninitialized.
   :PROPERTIES:
   :ID:       DDB54BB8-8C1C-4129-A137-07A38068F3BE
   :Message:  [[message://4B0D8A2D.9020300@gmail.com][Re: "Assertion `this->is_initialized()' failed"]]
   :CREATED:  [2009-12-01 Tue 02:55]
   :END:
** CLOSED Ledger is currently failing 'make check'
- State "CLOSED"     from "DONE"       [2012-03-27 Tue 15:46] \\
  Cannot be tested.
   - State "DONE"       [2008-11-23 Sun 23:43]
   :PROPERTIES:
   :ID:       15CFAA5C-5A95-43FD-8343-06047CF7440B
   :CREATED:  [2008-10-11 Sat 20:11]
   :END:
** CLOSED Ledger is failing test/regress/D060256A.test
- State "CLOSED"     from "DONE"       [2012-03-22 Thu 16:47] \\
  Can be closed since test/regress/D060256A.test no longer fails.
- State "DONE"       from "TODO"       [2012-02-17 Fri 17:11]
:PROPERTIES:
:ID:       390D8B54-6E5E-453A-993C-45521CAE904B
:CREATED:  [2012-02-16 Thu 19:31]
:END:
** CLOSED Ledger is still getting confused by trailing whitespace                        :ATTACH:
   - State "CLOSED"     from "DONE"       [2009-06-16 Tue 17:04]
   - State "DONE"       from "TODO"       [2009-06-16 Tue 17:03]
   I just noticed that ledger ist confused by whitespace at the end of
   lines. Attached is a simple testcase where ledger reports:
   :OUTPUT:
   % ledger -f test.ldg bal
            -17,94€  Aktiva:Bank
            -17,94€    Girokonto
           -800,00€    Girokonto
            800,00€    Sparkonto
             17,94€  Aufwand:Einkauf:Lebensmittel
   --------------------
                  0
   :END:
   instead of:
   :OUTPUT:
   % ledger -f test.ldg bal
            -17,94€  Aktiva:Bank
           -817,94€    Girokonto
            800,00€    Sparkonto
             17,94€  Aufwand:Einkauf:Lebensmittel
   --------------------
                  0
   :END:
   This is caused by an extra space at the end of line 12.
   :PROPERTIES:
   :Submitter: Johann Klähn <kljohann@gmail.com>
   :Message:  [[message://b0bc07100903260936n26b7c404nc1a9aaa2c9aa2da0@mail.gmail.com][Ledger bug: whitespace at eol]]
   :ID:       C523E23F-CFAC-4A53-B0C6-21226640E763
   :Attachments: test.ldg
   :CREATED:  [2009-04-01 Wed 18:50]
   :END:
** CLOSED Left justifying an amount with %-12{amount} does nothing
   - State "CLOSED"     from "DONE"       [2009-06-28 Sun 15:24]
   - State "DONE"       from "TODO"       [2009-06-28 Sun 15:23]
   :PROPERTIES:
   :ID:       F559EC12-7645-465D-8B2D-D3BC61030493
   :CREATED:  [2009-03-03 Tue 04:12]
   :END:
** CLOSED Make --empty tests for bal, bal -n, weekly, etc.
- State "CLOSED"     from "DONE"       [2012-03-22 Thu 16:47] \\
  Can be closed since tests are there now.
   - State "DONE"       [2009-02-21 Sat 20:59]
   :PROPERTIES:
   :ID:       EDE71916-D0FC-4EF3-99A5-34FF0B35F58F
   :CREATED:  [2009-02-21 Sat 12:27]
   :END:
** CLOSED Make sure "make release-distcheck" still works for Ledger
- State "CLOSED"     from "DONE"       [2012-03-27 Tue 15:46] \\
  Cannot be tested.
   - State "DONE"       [2009-02-08 Sun 16:01]
   :PROPERTIES:
   :ID:       F3B3E622-AD73-4B8A-8839-F1CF87D7CC7C
   :CREATED:  [2009-01-23 Fri 19:07]
   :END:
** CLOSED Make sure the period flag (-p) can accept "YYYY/MM"
   - State "CLOSED"     from "DONE"       [2009-11-02 Mon 01:59]
   - State "DONE"       from "TODO"       [2009-11-02 Mon 01:59]
   :PROPERTIES:
   :ID:       7F3650FD-7225-47D5-AB77-A0D5025B4941
   :Message:  [[message://741c09a4-9f52-4346-9e6f-2f4d407e5e49@s31g2000yqs.googlegroups.com][Re: All known bugs and features for 3.0 implemented]]
   :CREATED:  [2009-11-01 Sun 05:51]
   :END:
** CLOSED Move --pager back to report_t
- State "CLOSED"     from "DONE"       [2012-03-27 Tue 15:46] \\
  Cannot be tested.
   - State "DONE"       [2009-02-05 Thu 21:54]
   :PROPERTIES:
   :ID:       45FE9185-591D-4965-A91A-99B7F708627B
   :CREATED:  [2009-02-05 Thu 04:35]
   :END:
** CLOSED Move code at the bottom of report.h back into derive.h
- State "CLOSED"     from "DONE"       [2012-03-27 Tue 15:46] \\
  Cannot be tested.
   - State "DONE"       [2009-02-16 Mon 04:13]
   :PROPERTIES:
   :ID:       5031CD23-FD35-4622-B0D6-90E8FFAD33D4
   :CREATED:  [2009-02-12 Thu 01:17]
   :END:
** CLOSED Move session.cc read_journal code into journal_t
- State "CLOSED"     from "DONE"       [2012-03-27 Tue 15:46] \\
  Cannot be tested.
   - State "DONE"       from "TODO"       [2009-11-05 Thu 04:17]
   :PROPERTIES:
   :ID:       1E297D28-3012-4DF8-A456-4CC09086EB88
   :CREATED:  [2009-11-02 Mon 17:11]
   :END:
** CLOSED Move the new ledger xact completion to M-TAB
- State "CLOSED"     from "DONE"       [2012-03-27 Tue 15:46] \\
  Cannot be tested.
   - State "DONE"       [2009-02-15 Sun 18:03]
   :PROPERTIES:
   :ID:       C6AC5776-AB18-4132-87E4-DE2A89E781CF
   :CREATED:  [2009-02-15 Sun 05:23]
   :END:
** CLOSED Move the samples in contrib/scripts perhaps to contrib/?
- State "CLOSED"     from "DONE"       [2012-03-27 Tue 15:46] \\
  Cannot be tested.
   - State "DONE"       [2009-02-24 Tue 04:07]
   :PROPERTIES:
   :ID:       079B7BEC-73F9-4598-A6F6-6D9717B37F34
   :CREATED:  [2009-02-04 Wed 20:56]
   :END:
** CLOSED Multiple -f options fail silently
- State "CLOSED"     from "DONE"       [2012-03-22 Thu 16:53]
   - State "DONE"       [2009-02-08 Sun 16:05]
   Ledger does not seem to be able to accept multiple -f options (further -f's
   get ignored silently). It should simply concatenate all the specified files
   in a single data set.

   :OUTPUT:
   Predicate:
   Display P: a
   2007/12/31 Start of year / Op.. As:In:HSBC-Broker           100 IVV      100 IVV
                                Eq:Op:Cost             -15333.7200 USD      100 IVV
                                                                 -15333.7200 USD
   banane:~$ ledger -f /tmp/b.txt reg
   Predicate:
   Display P: a
   2007/12/31 Start of year / Op.. As:In:HSBC-Broker           100 IAA      100 IAA
                                Eq:Op:Cost             -15333.7200 USD      100 IAA
                                                                 -15333.7200 USD
   banane:~$ ledger -f /tmp/a.txt /tmp/b.txt reg
   Error: Unrecognized command '/tmp/b.txt'
   banane:~$ ledger -f /tmp/a.txt -f /tmp/b.txt reg
   Predicate:
   Display P: a
   2007/12/31 Start of year / Op.. As:In:HSBC-Broker           100 IVV      100 IVV
                                Eq:Op:Cost             -15333.7200 USD      100 IVV
                                                                 -15333.7200 USD
   :END:
   :PROPERTIES:
   :Submitter: Martin Blais <blais@furius.ca>
   :Version:  2.6
   :Ticket:   54
   :ID:       B1E49EA5-18B9-413A-ACD6-9F9795F25722
   :CREATED:  [2008-04-07 Mon]
   :END:
** CLOSED My use of Boost.Iostreams is broken in Boost 1.44
- State "CLOSED"     from "DONE"       [2012-03-27 Tue 15:46] \\
  Cannot be tested.
   - State "DONE"       from "TODO"       [2010-09-05 Sun 17:35]
   :PROPERTIES:
   :ID:       4287EE80-665C-4C73-B439-52D6893D6857
   :CREATED:  [2010-08-19 Thu 17:24]
   :END:
** CLOSED Need to rename entry->xact and xact->post
- State "CLOSED"     from "DONE"       [2012-03-27 Tue 15:46] \\
  Cannot be tested.
   - State "DONE"       [2009-02-23 Mon 18:49]
   :PROPERTIES:
   :ID:       CCD63092-FB8B-48DA-BA86-2C6710C6034A
   :CREATED:  [2009-02-23 Mon 03:46]
   :END:
** CLOSED PPC buildbot is failing due to a bad TeX installation
- State "CLOSED"     from "DONE"       [2012-03-27 Tue 15:46] \\
  Cannot be tested.
   - State "DONE"       [2009-02-03 Tue 14:20]
   :PROPERTIES:
   :ID:       560E59C8-8748-4679-9A17-C76893BDDDEF
   :CREATED:  [2009-02-01 Sun 03:03]
   :END:
** CLOSED Problem when specifying the year in a data file
   When I use this file:
   :DATA:
   Y2008

   01/30 A
        Bank    130
        Income

   02/01 B
        Bank    140
        Income

   02/20 C
        Bank    150
        Income

   03/01 D
        Bank    160
        Income
   :END:
   And I run ledger on it, the following output is produced:
   :OUTPUT:
   ledger -f journal.txt reg
   2008/01/30 A                     Bank      130          130
                               Income     -130            0
   2002/01/01 B                     Bank      140          140
                               Income     -140            0
   2008/02/20 C                     Bank      150          150
                               Income     -150            0
   2003/01/01 D                     Bank      160          160
                               Income     -160            0
   :END:
   The years are not at all what I expected. Is this a bug or am I using a
   wrong file format?
   :PROPERTIES:
   :Submitter: Christopher <christopher.illies@ki.se>
   :Version:  2.6.1
   :ID:       13965214-EFDD-43DF-BD9F-9EC72DC509AD
   :CREATED:  [2008-10-15 Wed 06:39]
   :END:
** CLOSED Regression: add support back for a "terminus" date
   - State "CLOSED"     from "DONE"       [2009-06-16 Tue 18:46]
   - State "DONE"       from "TODO"       [2009-06-16 Tue 18:46]
   Here's something I would like to open up for discussion.

   Suppose I have the ledger file:
   :DATA:
   2008/01/01 * Purchase Apple shares
       Equities        1000 AAPL @ $2
       Cash

   2008/06/30 * Sell some Apple shares
       Equities        -500 AAPL @ $2.5
       Cash

   P 2008/10/01 02:18:02 AAPL $3
   P 2009/01/31 02:18:02 AAPL $4
   P 3000/01/01 02:18:02 APPL $100
   :END:
   At end of 2008, I have 500 AAPL shares.

   If I type
   :SCRIPT:
   ledger -f example01.txt --end 2008/12/31 -JV bal Equities
   :END:
   I get the output:
   :OUTPUT:
   2009-03-29 2000
   :END:
   I would argue that the output should be
   :OUTPUT:
   2008-12-31 1500
   :END:

   My argument is that if I specify an end date, then I want ledger to assume
   that the current date is the end date I specify, and perform all reports and
   calculations on that basis. After all, if you stick with the current
   implementation, it could easily mess up any historical reporting you try to
   do.
   :PROPERTIES:
   :Submitter: Mark Carter <alt.mcarter@googlemail.com>
   :Message:  [[message://62f2a66e0903290043l2e98bad4jfe20e0a313064674@mail.gmail.com][Discussion/bug about end/current dates]]
   :ID:       647D5DB9-DBBB-47C8-80CE-F3F70E3B0253
   :CREATED:  [2009-04-01 Wed 18:55]
   :END:
** CLOSED Remove all references to cache_file
- State "CLOSED"     from "DONE"       [2012-03-27 Tue 15:46] \\
  Cannot be tested.
   - State "DONE"       [2009-02-04 Wed 21:01]
   :PROPERTIES:
   :ID:       AC1C1163-1EB0-4A8F-B4F5-CD0122442A64
   :CREATED:  [2009-02-04 Wed 18:17]
   :END:
** CLOSED Rename basket to bucket
- State "CLOSED"     from "DONE"       [2012-03-27 Tue 15:46] \\
  Cannot be tested.
   - State "DONE"       from "TODO"       [2009-11-07 Sat 06:41]
   :PROPERTIES:
   :ID:       4BC2BE6E-7A3D-4207-8F43-6BF07303B9DF
   :CREATED:  [2009-11-02 Mon 15:50]
   :END:
** CLOSED Restore deleted directories from src/ledger/lib
- State "CLOSED"     from "DONE"       [2012-03-27 Tue 15:46] \\
  Cannot be tested.
   - State "DONE"       [2008-08-13 Wed]
   :PROPERTIES:
   :ID:       E40F6364-3155-49C1-B5B2-A2308C1F401A
   :CREATED:  [2008-08-13 Wed]
   :END:
** CLOSED Review the changes I've made to ledger::master since 2.6.0.90
- State "CLOSED"     from "DONE"       [2012-03-27 Tue 15:46] \\
  Cannot be tested.
   - State "DONE"       [2008-05-07 Wed]
   The only questionable change is the abortive fix to -e.  This should be
     reverted until a proper fix is found.
     :PATCH:
   --- a/option.cc
   +++ b/option.cc
   @@ -482,17 +482,17 @@ OPT_BEGIN(begin, "b:") {
   OPT_BEGIN(end, "e:") {
   char buf[128];
   interval_t interval(optarg);
   -  if (! interval.end)
   +  if (! interval.begin)
   throw new error(std::string("Could not determine end of period '") +
                    optarg + "'");

   if (! report->predicate.empty())
   report->predicate += "&";
   report->predicate += "d<[";
   -  report->predicate += interval.end.to_string();
   +  report->predicate += interval.begin.to_string();
   report->predicate += "]";

   -  terminus = interval.end;
   +  terminus = interval.begin;
   } OPT_END(end);

   OPT_BEGIN(current, "c") {
     :END:
   :PROPERTIES:
   :ID:       CD409D8E-9926-4130-BB83-1179CF5AE84F
   :CREATED:  [2008-04-24 Thu]
   :END:
** CLOSED Revise the way that error contexts are passed up
- State "CLOSED"     from "DONE"       [2012-03-27 Tue 15:46] \\
  Cannot be tested.
   - State "DONE"       [2008-08-04 Mon]
   Special care needs to be taken that legitimate uses of exceptions are not too expensive.
   :PROPERTIES:
   :ID:       C86755E1-199A-4587-93A8-C18C04FC4996
   :CREATED:  [2008-07-25 Fri]
   :END:
** CLOSED Rounding bug
   - State "CLOSED"     from "DONE"       [2009-06-16 Tue 15:43]
   - State "DONE"       from "TODO"       [2009-06-15 Mon 17:13]
   [[message://20090411120649.GZ1037@lavos.net][Another rounding issue]]
   :DATA:
   D $1,000.00

   2009/01/01 Sample
   assets  134.123 FOO @ $8.88
   assets  100 BAR @ $8.88
   equity
   :END:
   :PROPERTIES:
   :ID:       B68FFB0D-A9A0-479C-A6C0-68853F229333
   :ARCHIVE_TIME: 2009-06-15 Mon 17:13
   :ARCHIVE_CATEGORY: Ledger
   :CREATED:  [2009-06-03 Wed 19:11]
   :END:
** CLOSED Rounding problem
   - State "CLOSED"     from "DONE"       [2009-06-16 Tue 18:27]
   - State "DONE"       [2009-02-24 Tue 11:42]
   I seem to have a rounding problem when I use the -B option, if I have a
   ledger that looks like this:
   :DATA:
   2008/01/01      * Checking balance
        Assets:Bank:Checking                            £0.00
        Equity:Opening Balances

   2008/02/02      Salary
        Income:Employer                                         $-512.85
        Assets:Bank:Checking                            $512.85 @@ £334.00

   2008/03/02      Salary
        Income:Employer                                         $-404.82
        Assets:Bank:Checking                            $404.82 @@ £248.07
   :END:
   Then issue the command "ledger -Bf test.ledger bal" I get this out:
   :OUTPUT:
           £582.07  Assets
    £-582.06999876  Income
   --------------------
       £0.00000124
   :END:
   :PROPERTIES:
   :Submitter: Tony Edgecombe <tonyedgecombe@gmail.com>
   :Version:  2.6.1
   :ID:       5FBF2ED8-EEAA-440E-AED5-67401B107E44
   :CREATED:  [2008-10-21 Tue 19:00]
   :END:
** CLOSED Running gettextize may be worse than autoreconf --intl
- State "CLOSED"     from "DONE"       [2012-03-27 Tue 15:46] \\
  Cannot be tested.
   - State "DONE"       [2009-02-15 Sun 23:17]
   :PROPERTIES:
   :ID:       81B2C4E9-2360-4055-88C2-076ACF88B97A
   :CREATED:  [2009-02-11 Wed 15:36]
   :END:
** CLOSED Separate out session option handlers from report.cc
- State "CLOSED"     from "DONE"       [2012-03-27 Tue 15:46] \\
  Cannot be tested.
   - State "DONE"       [2009-02-06 Fri 03:32]
   :PROPERTIES:
   :ID:       1B28673D-C55E-48A5-86AB-6052BB583D52
   :CREATED:  [2009-02-04 Wed 15:53]
   :END:
** CLOSED Special care needs to be taken that legitimate uses of exceptions
- State "CLOSED"     from "DONE"       [2012-03-27 Tue 15:46] \\
  Cannot be tested.
   ...are not too expensive.
   :PROPERTIES:
   :ID:       525657CE-DA76-4B4B-B88C-595F799A12A7
   :CREATED:  [2008-08-14 Thu]
   :END:
** CLOSED Split binary.cc into journal-specific and generic
- State "CLOSED"     from "DONE"       [2012-03-27 Tue 15:46] \\
  Cannot be tested.
   - State "DONE"       [2008-08-04 Mon]
   ...and put the generic one in libamounts
   :PROPERTIES:
   :ID:       12C3D67F-0E7C-46D4-AE7B-7E1E22456997
   :CREATED:  [2008-07-29 Tue]
   :END:
** CLOSED Test failure on Ubuntu Natty amd64
   - State "CLOSED"     from "DONE"       [2012-03-27 Tue 15:46] \\
     Cannot be tested.
   - State "DONE"       from "TODO"       [2011-03-28 Mon 01:58]
   - Note taken on [2011-03-26 Sat 15:38] \\
     I'll need to install Natty in a VM to properly test this user's problem.
   :PROPERTIES:
   :ID:       58660296-50F9-4348-AD36-65F1A94CA886
   :CREATED:  [2011-03-26 Sat 15:24]
   :Message:  [[message://jwiegley/ledger/issues/24@github.com][{GitHub} Test failure on Ubuntu Natty amd64 {jwiegley/ledger GH-24}]]
   :Submitter: mbudde <reply+i-706416-e56a2d7beb055dfd861a9af615594018ca5baf6a@reply.github.com>
   :Date:     Sat, 26 Mar 2011 06:20:12 -0700
   :END:
** CLOSED The -V flag is not working
   - State "CLOSED"     from "DONE"       [2009-06-16 Tue 18:28]
   - State "DONE"       [2009-02-24 Tue 11:42]
   Here's the data input
   :DATA:
   2008/04/15 * Paid expenses back from cie.
   Expenses:Cie-Reimbursements    2000 CAD @ 1.10 EUR
   Assets:Checking

   P 2008/04/20 00:00:00 CAD 1.20 EUR
   :END:

   When I run the following command this does not work:
   :OUTPUT:
   Hermes:/Users/johnw $ ledger -f /tmp/test.dat -V reg
   2008/04/15 Paid expenses back.. Ex:Cie-Reimbursements   2200.00 EUR  2200.00 EUR
                                Assets:Checking        -2200.00 EUR            0
   2008/04/07 Commodities revalued                            2000 CAD
                                                       -2200.00 EUR     2000 CAD
                                                                    -2200.00 EUR
   :END:

   It should have reported in terms of Euros only.
   :PROPERTIES:
   :Submitter: Martin Blais <blais@furius.ca>
   :Version:  2.6
   :Ticket:   53
   :ID:       D943AE0F-44EA-47EE-BA85-AFC513E039EB
   :CREATED:  [2008-04-07 Mon]
   :END:
** CLOSED The entry command is broken
   - State "CLOSED"     from "DONE"       [2009-06-16 Tue 16:17]
   - State "DONE"       from "TODO"       [2009-06-16 Tue 16:15]
   :SCRIPT:
   ledger -f doc/sample.dat entry 2009/03/15 book 10
   :END:
   gives me:
   :OUTPUT:
   <no item context>
   Unbalanced remainder is:
              $10.00
   Error: Transaction does not balance
   :END:
   :PROPERTIES:
   :ID:       793F6BF0-9CDE-4741-967A-2CEA697476B4
   :CREATED:  [2009-03-24 Tue 18:31]
   :END:
** CLOSED The period -p "june 2008" ranges from 6/2008-1/2009
   - State "CLOSED"     from "DONE"       [2009-06-18 Thu 01:14]
   - State "DONE"       from "TODO"       [2009-06-18 Thu 01:13]
   :PROPERTIES:
   :ID:       BBFA1759-3E90-402B-93A7-FC4E7E342B08
   :CREATED:  [2009-06-17 Wed 17:07]
   :END:
** CLOSED The use of automated expressions increases invocation by 50%
- State "CLOSED"     from "DONE"       [2012-03-27 Tue 15:46] \\
  Cannot be tested.
   - State "DONE"       [2009-02-04 Wed 04:00] \\
     This is because value expressions are being calculated for every xact.
   :PROPERTIES:
   :ID:       13567C8B-DB84-4658-8C66-40AB211B7BF0
   :CREATED:  [2009-02-03 Tue 19:02]
   :END:
** CLOSED There are too many O_CONS levels for parsing '((1, 2), 3)'
- State "CLOSED"     from "DONE"       [2012-03-27 Tue 15:46] \\
  Cannot be tested.
   - State "DONE"       [2009-02-23 Mon 05:29]
   :PROPERTIES:
   :ID:       539F3920-0426-40D0-AB6A-091EE1AC9B1B
   :CREATED:  [2009-02-23 Mon 05:07]
   :END:
** CLOSED Transfer Ledger bugs to Bugzilla
- State "CLOSED"     from "DONE"       [2012-03-27 Tue 15:46] \\
  Cannot be tested.
   - State "DONE"       from "DEFERRED"   [2010-05-28 Fri 01:13]
   - State "DEFERRED"   from "TODO"       [2010-05-22 Sat 13:33]
   :PROPERTIES:
   :ID:       2944B698-4588-431B-87FE-DC7EBBB158B8
   :CREATED:  [2010-05-03 Mon 23:01]
   :END:
** CLOSED Unbound local variable 'package' in ./acprep dependencies script
- State "CLOSED"     from "DONE"       [2012-03-27 Tue 15:46] \\
  Cannot be tested.
- State "DONE"       from "TODO"       [2011-12-21 Wed 17:40]
:PROPERTIES:
:ID:       95057FE2-99CC-47F5-96B7-3BB314C89CDA
:CREATED:  [2011-12-21 Wed 17:13]
:Date: Wed, 21 Dec 2011 14:43:30 -0800
:Message: [[message://jwiegley/ledger/issues/50@github.com][{ledger} unbound local variable 'package' in ./acprep dependencies script (#50)]]
:Submitter: Dominic Tarr <reply+i-2630652-e80c61cf818badfb94fcd02537c1fbbc10349176-8460@reply.github.com>
:END:
** CLOSED Use --head to limit post generation (and speed up GenerateTests!)
- State "CLOSED"     from "DONE"       [2012-03-27 Tue 15:47] \\
  Cannot be tested.
   - State "DONE"       [2009-02-27 Fri 13:14]
   :PROPERTIES:
   :ID:       E02F85C9-B369-42AB-8463-0C9ACF601DA3
   :CREATED:  [2009-02-27 Fri 04:30]
   :END:
** CLOSED Weird timelog report bug
   - State "CLOSED"     [2009-02-24 Tue 13:09]
   - State "DONE"       [2009-02-20 Fri 13:19]
   ledger 2.6.1 can report wrong numbers for midnight-spanning timelog records
   depending on dates.
   :DATA:
   i 2007/03/01 23:00:00 A
   o 2007/03/02 01:00:00
   i 2007/03/11 23:00:00 B
   o 2007/03/12 01:00:00
   :END:
   :OUTPUT:
   $ ledger -f <DATA> register
   2007/03/02       (A)       2.0h         1.0h
   2007/03/12       (B)       1.0h         3.0h
   :END:
   The B xact should be 2 hours. Changing the date will probably fix it.
   :PROPERTIES:
   :Submitter: Simon Michael <simon@joyful.com>
   :Version:  2.6.1
   :ID:       3AB70168-D4B6-48CE-8C61-8C775E5B0E1B
   :CREATED:  [2008-10-08 Wed 15:43]
   :END:
** CLOSED [[bug:166][#166]] --percent incompatible with --exchange
- State "CLOSED"     from "DONE"       [2012-03-17 Sat 17:19]
- State "DONE"       from "TODO"       [2012-03-10 Sat 21:59] \\
  Fixed by 6ddd935
- State "TODO"       from "DEFERRED"   [2012-02-28 Tue 21:37]
   - State "DEFERRED"   from "TODO"       [2010-06-02 Wed 01:41] \\
     You are right, --percent cannot handle multiple commodities.  And since
     --exchange always takes place after --percent, it's not as
     straightforward as it seems.  I'm going to defer this bug until after
     3.0, since it may not be worth fixing.  But I'll keep thinking on it.
   I've found that --percent option is incompatible with --exchange.  Well,
    actually I suspect that --percent is not able to handle multi currencies.

    In the following simple exemple, I would have expected that --percent
    option works correctly.

   #+begin_src ledger
   P 2008/01/01 $ €1

   2008/01/11 LIAT
      Expenses:Travel:Airfare                   $40.00
      Liabilities:MasterCard

   2008/02/05 CTX
      Expenses:Travel:Auto                     €240.38
      Liabilities:MasterCard
   #+end_src

    :OUTPUT:
    $ ledger --file=test_12.ledger bal --exchange=€
                €280.38  Expenses:Travel
                 €40.00    Airfare
                €240.38    Auto
               €-280.38  Liabilities:MasterCard
    --------------------
                      0
    :END:
    :OUTPUT:
    $ ledger --file=test_12.ledger bal --exchange=€ --percent
    While evaluating value expression:
     (((is_account & parent) & parent.total) & percent(total,
    parent.total))

    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    While evaluating value expression:
     market(total_expr, date, exchange)
    While evaluating value expression:
     justify(scrub(display_total), 20, -1, true, color)
    Error: Cannot convert a balance with multiple commodities to an amount
    :END:
   :PROPERTIES:
   :ID:       4509F714-BA35-4659-8F57-6BD6A725FA73
   :Message:  [[message://fabd9b4b-3c20-4507-92e5-55a5e8996790@g19g2000yqe.googlegroups.com][--percent incompatible with --exchange]]
   :Submitter: thierry <thierry.daucourt@free.fr>
   :CREATED:  [2010-04-04 Sun 15:11]
   :END:
** CLOSED [[bug:167][#167]] Another rounding issue                                                    :ATTACH:
- State "CLOSED"     from "DONE"       [2012-03-18 Sun 18:57]
   - State "DONE"       from "STARTED"    [2010-06-02 Wed 06:25] \\
     Fixed by cbc0a125.
   :LOGBOOK:
   CLOCK: [2010-06-02 Wed 01:52]--[2010-06-02 Wed 06:24] =>  4:32
   :END:
   When playing with ledger v3, I met those rounding issues.  Here is an
   extract with all transactions having rounding issues I provide them for
   unit test (if useful).
   :PROPERTIES:
   :ID:       1D275740-D1A6-42B7-BDE4-F2F85E30CE8E
   :Message:  [[message://541a7592-f815-4625-bd42-e1efa3b49b30@j5g2000yqm.googlegroups.com][Re: Another rounding issue]]
   :Attachments: data.dat
   :Submitter: thierry <thierry.daucourt@free.fr>
   :CREATED:  [2010-01-09 Sat 21:09]
   :END:
** CLOSED [[bug:193][#193]] Useful links from the mailing list
- State "CLOSED"     from "DONE"       [2012-03-27 Tue 15:47] \\
  Cannot be tested.
- State "DONE"       from "DEFERRED"   [2011-11-18 Fri 20:01]
   - State "DEFERRED"   from "TODO"       [2010-06-10 Thu 14:52]
   Since I'm new to ledger and accounting, I went through the mailing list
   archives to look for useful examples and questions.  Here is a list of
   threads that I found useful.  Maybe this will save someone the time to look
   through the whole mailing list archive. (John, maybe you can add a link to
   the web site.)

   - [[http://groups.google.com/group/ledger-cli/browse_thread/thread/43a25dcafc0f31d7#][Billing]]
   - [[http://groups.google.com/group/ledger-cli/browse_thread/thread/312f41276af412ed#][how to show credit card liability when initializing ledger Options]]
   - [[http://groups.google.com/group/ledger-cli/browse_thread/thread/980e8f4540fc71a2#][actual date, effective date]]
   - [[http://groups.google.com/group/ledger-cli/browse_thread/thread/c8b2ce3206878c15#][debit and credit accounts, & reporting]]
   - [[http://groups.google.com/group/ledger-cli/browse_thread/thread/5954cd1801b8256a#][example balance sheet report]]
   - [[http://groups.google.com/group/ledger-cli/browse_thread/thread/94136141ff10aab1#][simple ledger data entry question Options]]
   - [[http://groups.google.com/group/ledger-cli/browse_thread/thread/515ffdf8edd2bc9d#][mileage]]
   - [[http://groups.google.com/group/ledger-cli/browse_thread/thread/baf6312d124b1f0b#][Ledger Invoicing]]
   - [[http://groups.google.com/group/ledger-cli/browse_thread/thread/65964a4ad3bfb184#][Pre-Paid Cards]]
   - [[http://groups.google.com/group/ledger-cli/browse_thread/thread/31d8a10a6c4f18af#][New metadata/note syntax]]
   - [[http://groups.google.com/group/ledger-cli/browse_thread/thread/58c402a82b8dc53a#][HTML Plotting Utility]]
   - [[http://groups.google.com/group/ledger-cli/browse_thread/thread/5d789daf21ac7865#][html reporting for ledger]]
   - [[http://groups.google.com/group/ledger-cli/browse_thread/thread/5bac3df2a0a3a087#][More metadata goodness]]
   - [[http://groups.google.com/group/ledger-cli/browse_thread/thread/34d9a40607384e2a#][stocks]]
   - [[http://groups.google.com/group/ledger-cli/browse_thread/thread/81f59f2a3e8ac382#][Opening balance for an income or expense account?]]
   - [[http://groups.google.com/group/ledger-cli/browse_thread/thread/e98bee73e279b3af#][New feature today: Fixated commodity prices]]
   - [[http://groups.google.com/group/ledger-cli/browse_thread/thread/b64f474414ac4f7e#][reporting scripts]]
   - [[http://groups.google.com/group/ledger-cli/browse_thread/thread/0c674c77302391d8#][What is the relative account of Expenses:Tax]]
   - [[http://groups.google.com/group/ledger-cli/browse_thread/thread/fe5919f35b93a6d9#][numbers in commodity name]]
   :PROPERTIES:
   :ID:       5EBF9B2F-CE06-4C15-8B54-BB4E524ADC26
   :Message:  [[message://20100410170831.GA24387@jirafa.cyrius.com][Useful links from the mailing list]]
   :Submitter: Martin Michlmayr <tbm@cyrius.com>
   :CREATED:  [2010-04-11 Sun 03:55]
   :END:
** CLOSED [[bug:198][#198]] Errors with using the -J option
- State "CLOSED"     from "DONE"       [2012-03-18 Sun 18:57]
   - State "DONE"       from "TODO"       [2010-06-09 Wed 03:12] \\
     This is now fixed, but you'll have to run:
     #+begin_src sh
     ledger -X F -J reg Assets
     #+end_src
     in order to ensure that everything is rendered in the same commodity.

     Fixed by fc09b69f.
   With ledger v3, I have the following error when using -J option (while ok
    with ledger v2).  I inlined comment below starting with '#' character.

   #+begin_src sh
    D 1000,00 €

    1994/1/1 Company
     Assets:Checking  10000 F
     Income:Salary

    1998/1/1 Transfer
     Assets:US account  200 $
     Assets:Checking  -1000 F

    P 1998/12/31 $ 6 F

    1999/1/1 Books
     Expenses:Books  200 $
     Assets:US account

    P 2002/1/1 F 0,15244901723741037903399155737342539221320909754755 €

    2002/1/1 Company
     Assets:Checking  2000 €
     Income:Salary
   #+end_src

    :OUTPUT:
    $ ledger3 -f test3.ledger -J reg Assets
    While evaluating value expression:
     quantity(scrub(display_total))
     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    Error: Cannot convert a balance with multiple commodities to an amount
    1994-01-01 10000
    $ ledger3 -f test3.ledger -V -J reg Assets
    While evaluating value expression:
     quantity(scrub(display_total))
     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    Error: Cannot convert a balance with multiple commodities to an amount
    1994-01-01 10000
    1998-01-01 11000
    1998-01-01 10000
    1999-01-01 10200
    1999-01-01 9000
    :END:

    Above, I get error with ledger v3.  Below, output from ledger 2.6.2:
    :OUTPUT:
    $ ledger -f test3.ledger -J reg Assets
    1994/01/01 10000
    1998/01/01 10200
    1998/01/01 9200
    1999/01/01 9000
    2002/01/01 11000
    $ ledger -f test3.ledger -V -J reg Assets
    1994/01/01 10000
    1998/01/01 11000
    1998/01/01 10000
    1999/01/01 9000
    2002/01/01 3372.04
    :END:

    I do not know it this is the expected result for "ledger -J reg
    Assets", but acutally amount are added whatever the currency : 9000 F
    + 2000 € becomes 11000.
   :PROPERTIES:
   :ID:       7C44010B-BB26-4E5C-8800-EB2C11891C9D
   :Message:  [[message://916c6e83-4da6-4b7a-a035-d146908beabc@a15g2000yqm.googlegroups.com][-J option]]
   :Submitter: thierry <thierry.daucourt@free.fr>
   :CREATED:  [2010-01-09 Sat 21:05]
   :END:
** CLOSED [[bug:199][#199]] Issue with reporting asset history and -j/-J
- State "CLOSED"     from "DONE"       [2012-03-18 Sun 18:57]
   - State "DONE"       from "TODO"       [2010-05-30 Sun 22:00] \\
     Fixed by commits 5a2644c1b7220dc96e4de9cfb82f6d829cf34321 and
     654c842348c570a086f31cb79b7b3b4810463707.
   - Note taken on [2010-05-30 Sun 17:02] \\
     Fixing this will actually require a change in the way that -V/-X work.  I
     think it's a reasonable change, however, so I will start working on it.
   - Note taken on [2010-05-28 Fri 00:56] \\
     Thierry: I extracted the relevant transactions and commodity history in one
     ledger file (already provided in first post, here it is again) What I expect
     is that gnuplot do a plot of all historic value of the commodity.

     #+begin_src sh
     1994/01/01 Achat Rialto
            Actif:Fixe:Rialto       2 Rialto
            Actif:BNP              -120000 €
            Actif:BNP               120000 €
            Revenu:Salaire         -120000 €

     P 1995/01/01 Rialto 70000 €
     P 1996/01/01 Rialto 90000 €
     P 1997/01/01 Rialto 90000 €
     P 1998/01/01 Rialto 105000 €
     P 1999/01/01 Rialto 110000 €
     P 2000/01/01 Rialto 120000 €
     P 2001/01/01 Rialto 130000 €
     P 2002/01/01 Rialto 140000 €
     P 2003/01/01 Rialto 150000 €
     P 2004/01/01 Rialto 160000 €
     P 2005/01/01 Rialto 170000 €
     P 2006/01/01 Rialto 180000 €
     P 2007/01/01 Rialto 190000 €
     P 2008/01/01 Rialto 200000 €
     P 2009/01/01 Rialto 210000 €
     P 2010/01/01 Rialto 211000 €
     #+end_src
   - Note taken on [2010-05-28 Fri 00:56] \\
     Thierry: I did try with ldeger v2 and ledger v3, but I am unable to get one
     value by month.  Any help appreciated.

     :OUTPUT:
     $ ledger -f test2.ledger -j -M -V reg ^Actif
     1994/01/01 120000
     2010/01/02 302000
     $ ledger3 -f test2.ledger -j -M -V reg ^Actif
     1994-01-01 120000
     2010-01-02 302000
     :END:
   - Note taken on [2010-05-28 Fri 00:56] \\
     I believe you may need -j, not -J (which is for balance reports).
   I am trying to use the command report (for plotting with gnuplot) with
    the below ledger file.  What I expect is one value for each month.
    I do not understand why the "-M" option do not output one value per
    month.  How can I reach my goal?

    :OUTPUT:
    $ ledger -f test2.ledger -J -M -V reg ^Actif
    1994/01/01 120000
    2010/01/01 422000
    :END:
   #+begin_src sh
    1994/01/01 Achat Rialto
        Actif:Fixe:Rialto       2 Rialto
           Actif:BNP              -120000 €
        Actif:BNP               120000 €
        Revenu:Salaire         -120000 €

    P 1995/01/01 Rialto 70000 €
    P 1996/01/01 Rialto 90000 €
    P 1997/01/01 Rialto 90000 €
    P 1998/01/01 Rialto 105000 €
    P 1999/01/01 Rialto 110000 €
    P 2000/01/01 Rialto 120000 €
    P 2001/01/01 Rialto 130000 €
    P 2002/01/01 Rialto 140000 €
    P 2003/01/01 Rialto 150000 €
    P 2004/01/01 Rialto 160000 €
    P 2005/01/01 Rialto 170000 €
    P 2006/01/01 Rialto 180000 €
    P 2007/01/01 Rialto 190000 €
    P 2008/01/01 Rialto 200000 €
    P 2009/01/01 Rialto 210000 €
    P 2010/01/01 Rialto 211000 €
   #+end_src
   :PROPERTIES:
   :ID:       9EB10714-36E9-4AA0-A8FB-E9CECA92F5A3
   :Message:  [[message://dff1fb891001011724i8f750a7wf3df7f2aa69d7cd6@mail.gmail.com][Re: reporting assets history]]
   :Submitter: Thierry Daucourt <thierry.daucourt@free.fr>
   :CREATED:  [2010-01-09 Sat 21:08]
   :END:
** CLOSED [[bug:211][#211]] The --european option not really European
- State "CLOSED"     from "DONE"       [2012-03-27 Tue 15:55]
   - State "DONE"       from "TODO"       [2010-06-01 Tue 18:06] \\
     Fixed by 038c2435.
   :PROPERTIES:
   :ID:       1736ACA5-5DE6-4826-AEB4-DB5B2A2217AC
   :Submitter: Martin Michlmayr <tbm@cyrius.com>
   :Message:  [[message://20100531102647.GA23953@jirafa.cyrius.com][--european option not really European]]
   :CREATED:  [2010-05-31 Mon 14:32]
   :END:
** CLOSED [[bug:224][#224]] A large number of GenerateTests are failing                               :ATTACH:
- State "CLOSED"     from "DONE"       [2012-03-27 Tue 15:47] \\
  Cannot be tested.
   - State "DONE"       from "TODO"       [2010-06-10 Thu 14:26]
   When running GenerateTests from 1 to 10001, 954 of the tests fail --
   although many of them for the same apparent reason.  These different types
   stand out:
   :OUTPUT:
   Print for seed 119 failed:
   While parsing file "/dev/stdin", line 478:
   Error: A posting's cost must be of a different commodity than its amount
   :END:
   :OUTPUT:
   Print for seed 403 failed:
   While parsing file "/dev/stdin", line 214:
   While balancing transaction from standard input:
   Unbalanced remainder is:
                  tGlk1
   Amount to balance against:
   tGlk6263354594.500000185668
   Error: Transaction does not balance
   :END:
   :OUTPUT:
   Generation for seed 1781 failed:
   While parsing file "/dev/stdin", line 2:
   While parsing posting:
     (h25302bHHk12f58TgrH:a2 o 69xNMo0)  612331KF @ Fjg1e+06
                                                    ^^^^^^^^
   Error: Unexpected char 'e' (Note: inline math requires parentheses)
   :END:
   :OUTPUT:
   Generation for seed 1809 failed:
   While parsing file "/dev/stdin", line 5:
   While balancing transaction from standard input:
   Unbalanced remainder is:
        -429003805324 I
   Amount to balance against:
                      0
   Error: Transaction does not balance
   :END:
   :OUTPUT:
   Generation for seed 1942 failed:
   While parsing file "/dev/stdin", line 10:
   While parsing posting:
     (mc48XU1x:96dQzRe)  -1e+06 SLKn
                         ^^^^^^^^^^^
   Error: Unexpected char '+' (Note: inline math requires parentheses)
   :END:
   :PROPERTIES:
   :ID:       D5762158-1B83-408F-954B-81A81A3F412E
   :Attachments: generate.out.7z
   :CREATED:  [2010-06-02 Wed 17:23]
   :END:
** CLOSED [[bug:330][#330]] libledger_math.so: undefined reference to `vtable for ledger::expr_t'
   - State "CLOSED"     from "DONE"       [2012-03-27 Tue 15:47] \\
     Cannot be tested.
   - State "DONE"       from "STARTED"    [2010-06-13 Sun 03:58]
   This error occurs on the CentOS 'make distcheck' build.
   :PROPERTIES:
   :ID:       BDDAF0E5-F875-4347-A04F-3AAC211CE0FF
   :CREATED:  [2010-06-12 Sat 15:59]
   :END:
** CLOSED [[bug:350][#350]] --gain shows wrong resuls
- State "CLOSED"     from "DONE"       [2012-03-18 Sun 18:57]
   - Note taken on [2010-06-20 Sun 17:48] \\
     Another possibility is that name-merging unless fixated and non-fixated
     versions both exist, in which case name merging is only done for the
     non-fixated, and all of the fixated will have their prices reported as if
     --lot-prices had been specified just for them.
   - State "DONE"       from "TODO"       [2010-06-20 Sun 17:20]
   I've fixed the problem as you presented it, but there is more going on
   here.  Most importantly, commodities with fixated prices are logically
   distinct from those without.  Here's what happens:

   On 2008-01-01, you buy 5 shares of GBP at a unit-price of 1.4 EUR.
   Internally, this commodity is named GBP {1.4 EUR}.  If ever the share price
   of GBP changes, the offset from 1.4 EUR will represent a gain or loss.

   On 2009-01-01, you "sold" 5 shares of GBP {=1.4 EUR} for 7.50 EUR, making
   0.50 EUR in the process.  Ledger does not ask whether you owned these
   shares before selling them, as double-entry accounting does not require
   this foreknowledge.  My bug fix today was to make sure that a sale of a
   fixated commodity does not record a market price for other commodities of
   the same basename.

   If, later, the value of GBP should change, there will still be a gain
   reflected, as you have not yet sold the 5 shares of GBP {1.4 EUR}.  Again,
   GBP {=1.4 EUR} != GBP {1.4 EUR}.  You may have converted 5 shares of GBP
   {=1.4 EUR}, but in Ledger's eyes, internally, you still own 5 shares of GBP
   {1.4 EUR}.  If GBP should ever get revalued, this will show up as a
   gain/loss in the --gain report.

   What makes all of this confusing is that by default, Ledger 'collapses'
   commodities which are related by name as if they were the same commodity.
   This is a convenience, since until now no one has ever thought to mix
   fixated and non-fixated versions of the same commodity.  Thus, Ledger
   *reports* GBP {1.4 EUR} and GBP {=1.4 EUR} as if they were both GBP, but
   for calculating the --gain report, it will reckon them as separate.

   This all becomes much clearer if you use "reg --lot-prices", to stop Ledger
   from merging like-named commodities.

   I'm not sure there is an answer here, other than forcing fixated commodities
   to always display with their fixated price -- though I'm not sure most people
   would want that.  The only other answer is to not mix them, or to think very
   hard in the case where you do and still want meaning from --gain.
   :PROPERTIES:
   :ID:       C0212EAC-CCE6-41F6-BCFD-543A257B4B74
   :CREATED:  [2010-06-20 Sun 14:51]
   :END:
** CLOSED [[bug:354][#354]] Forecasting bug with terminating periodic entries
- State "CLOSED"     from "DONE"       [2012-03-18 Sun 18:57]
   - State "DONE"       from "TODO"       [2010-06-20 Sun 17:08]
   #+begin_src ledger
   ~ Monthly since 2010/01/01
       Expenses:Bills:Rent                 $873.00
       Expenses:Household                  $200.00
       Income:Salary                       -$2491.60
       Assets:Bank:Checking

   ~ biweekly from 2010/02/23
       Expenses:Bills:Housecleaning        $85.00
       Assets:Bank:Checking

   2010/06/22 c897683b
       ad738623:d317da42:0e30a690              A2079.00
       208b135f:c84cc2a7:a336b63a               A199.00
       45435ee9:2d8ee712:ee7e46b1:0f0e7e54:f5dbec59
   #+end_src
   #+begin_src sh
   ledger reg bank --forecast "d<=[next year]" -d "d>=[this month] & d<=[next year]" --sort d --now=2010/06/20
   #+end_src
   :OUTPUT:
   Assertion failed: (this->is_initialized()), function get, file /opt/local/include/boost/optional/optional.hpp, line 578.
   Abort trap
   :END:
   :PROPERTIES:
   :ID:       620F0674-B74F-452C-8F36-66F8425CA4BD
   :CREATED:  [2010-06-20 Sun 17:04]
   :END:
** CLOSED [[bug:355][#355]] Problem with forecasting not showing biweekly transactions
- State "CLOSED"     from "DONE"       [2012-03-18 Sun 18:57]
   - State "DONE"       from "TODO"       [2010-06-21 Mon 17:16]
   :PROPERTIES:
   :ID:       D2829FC4-D319-4FB9-8A24-B8FFCF5F4E61
   :CREATED:  [2010-06-20 Sun 20:17]
   :END:
** CLOSED [[bug:358][#358]] When abbreviating account names, consume trailing whitespace
- State "CLOSED"     from "TODO"       [2012-03-16 Fri 05:30] \\
  Fixed by 6305855
:PROPERTIES:
:ID:       6E041C52-9EB1-45EC-8168-0EA62AB86843
:CREATED:  [2010-06-21 Mon 18:12]
:END:
** CLOSED [[bug:359][#359]] Balance command now shows empty accounts
- State "CLOSED"     from "DONE"       [2012-03-18 Sun 18:57]
   - State "DONE"       from "TODO"       [2010-06-21 Mon 18:30]
   :PROPERTIES:
   :ID:       56BBE69B-604C-4379-A39D-8B412A8921CC
   :CREATED:  [2010-06-21 Mon 18:18]
   :END:
** CLOSED [[bug:374][#374]] Problem with periodic transactions having a null posting
- State "CLOSED"     from "TODO"       [2012-03-16 Fri 04:29] \\
  Fixed by 2605d8a.  The error reported is now:
  :OUTPUT:
  While parsing file "$sourcepath/test/regress/5D92A5EB.test", line 13: 
  While parsing periodic transaction:
  > ~ Monthly from 2010/7/1
  >     Expenses:Auto:Gas               $100.00
  >     Expenses:Auto:Insurance         $100.00
  >     Expenses:Childcare              $100.00
  >     Expenses:Entertainment:Blizzard $100.00
  >     Expenses:Entertainment:Netflix  $100.00
  >     Expenses:Groceries              $100.00
  >     Expenses:Utilities:Electric     $100.00
  >     Expenses:Utilities:Water        $100.00
  >     Expenses:Utilities:Sewage       $100.00
  >     Liabilities:Education:ULL       $100.00
  >     Liabilities:Mortgage            $100.00
  >     Assets:Bank:Checking
  Error: Posting with null amount's account may be mispelled:
  "Expenses:Entertainment:Blizzard $100.00"
  :END:
- Note taken on [2010-07-02 Fri 04:16] \\
  Yes, it is expected behavior.  Nice find!  I don't like the idea of
  making a hack to try and get around this, though, it's likely to only
  work right in the most obvious situations.  I'll think about having a
  better way to catch this (like having a warning if a null posting's
  account name contains digits).
- Note taken on [2010-07-02 Fri 04:15] \\
  Found the problem. In xact.cc, within the declaration for bool
  xact_base_t::finalize(), I tried changing this...
  #+begin_src cpp
  else if (null_post) {
  #+end_src

  to this...
  #+begin_src cpp
  else if (null_post) {
    DEBUG("xact.finalize", "first null post = " <<
  null_post->reported_account()->fullname());
    DEBUG("xact.finalize", "second null post = " <<
  post->reported_account()->fullname());
  #+end_src

  and came up with this output...
  :OUTPUT:
  5ms  [DEBUG] post must balance = $1062.96
  5ms  [DEBUG] first null post = Expenses:Entertainment:Blizzard $16.00
  5ms  [DEBUG] second null post = Assets:Bank:Checking
  :END:
  So there needed to be more than a single space between the account name
  and the transaction amount, or the intended amount was read as part of
  the transaction name.

  I would imagine that this is expected behavior, though if possible it
  would be nice if the parser would account for it such that the last
  non-whitespace text element on a line is used as the amount regardless of
  the amount of space separating it from the previous text element.
:PROPERTIES:
:ID:       5D92A5EB-48DD-4ED8-AFED-2A24884FAD4B
:CREATED:  [2010-07-01 Thu 22:03]
:END:
** CLOSED [[bug:379][#379]] equity shows two entries for the same commodity/account
- Note taken on [2012-03-27 Tue 15:01] \\
  --- Comment #6 from Martin Michlmayr <tbm@cyrius.com> ---
  Test case commited in 902d09fd16
- State "CLOSED"     from "TODO"       [2012-03-22 Thu 13:14]
:PROPERTIES:
:ID:       B39F083E-1C30-4F08-BFB7-E0E1FC7B7356
:Submitter: bugzilla-daemon@mail.johnwiegley.com
:Message:  [[message://bug-379-1@http.newartisans.com/bugzilla/][{Bug 379} New: equity shows two entries for the same commodity/account]]
:CREATED:  [2010-07-15 Thu 08:02]
:END:
** CLOSED [[bug:386][#386]] print command should never strip quotation marks from commodity
- State "CLOSED"     from "DONE"       [2012-03-18 Sun 18:57]
   - State "DONE"       from "STARTED"    [2010-07-29 Thu 04:12]
   :LOGBOOK:
   CLOCK: [2010-07-29 Thu 03:19]--[2010-07-29 Thu 04:12] =>  0:53
   :END:
   :PROPERTIES:
   :ID:       A28CF697-0E5B-49E9-AA38-606BDA234D46
   :Submitter: bugzilla-daemon@mail.johnwiegley.com
   :Message:  [[message://bug-386-1@http.newartisans.com/bugzilla/][{Bug 386} New: strips quotation marks from commodity when it's required]]
   :CREATED:  [2010-07-25 Sun 16:25]
   :END:
** CLOSED [[bug:394][#394]] Weekly report and monthly report (possible bug)
- State "CLOSED"     from "DONE"       [2012-03-18 Sun 18:57]
- State "DONE"       from "TODO"       [2012-02-28 Tue 02:36] \\
  Fixed by 6adfcc8
- Note taken on [2012-02-28 Tue 00:16] \\
  #+begin_src sh
  ledger -p "apr 2011" reg Expenses -X '$'   
  #+end_src
  :OUTPUT:
  11-Apr-01 serveraxis.com            Expenses:Computer:Internet             $15.00          $15.00
                                      Expenses:Computer:Internet              $1.10          $16.10
  11-Apr-05 Pennsylvania toll booth   Expenses:Auto:Fees                     $13.00          $29.10
                                      Expenses:Cash                         $-13.00          $16.10
  11-Apr-05 iTunes                    Expenses:Music                          $1.29          $17.39
                                      Expenses:Taxes:Sales                    $0.09          $17.48
  11-Apr-19 iTunes                    Expenses:Computer:Software              $4.99          $22.47
                                      Expenses:Taxes:Sales                    $0.35          $22.82
  11-Apr-24 iTunes                    Expenses:Movies                         $1.99          $24.81
                                      Expenses:Movies                         $2.99          $27.80
                                      Expenses:Taxes:Sales                    $0.35          $28.15
  11-Apr-29 iTunes                    Expenses:Computer:Movies                $0.99          $29.14
                                      Expenses:Taxes:Sales                    $0.07          $29.21
  :END:

  #+begin_src sh
  ledger -M -p "apr 2011" reg Expenses -X '$'
  #+end_src
  :OUTPUT:
  11-Apr-01 - 11-Apr-29               Expenses:Auto:Fees                     $13.00          $13.00
                                      Expenses:Cash                         $-13.00               0
                                      Expenses:Computer:Internet             $16.10          $16.10
                                      Expenses:Computer:Movies                $0.99          $17.09
                                      Expenses:Computer:Software              $4.99          $22.08
                                      Expenses:Movies                         $4.98          $27.06
                                      Expenses:Music                          $1.29          $28.35
                                      Expenses:Taxes:Sales                    $0.86          $29.21
  :END:
  
  #+begin_src sh
  ledger -W -p "apr 2011" reg Expenses -X '$'
  #+end_src
  :OUTPUT:
  11-Apr-01 - 11-Apr-02               Expenses:Computer:Internet             $16.10          $16.10
  11-Apr-15 - 11-Apr-21               Expenses:Computer:Software              $4.99          $21.09
                                      Expenses:Taxes:Sales                    $0.35          $21.44
  11-Apr-22 - 11-Apr-28               Expenses:Movies                         $4.98          $26.42
                                      Expenses:Taxes:Sales                    $0.35          $26.77
  11-Apr-29 - 11-Apr-29               Expenses:Computer:Movies                $0.99          $27.76
                                      Expenses:Taxes:Sales                    $0.07          $27.83
  :END:
  
  #+begin_src sh
  ledger -E -W -p "apr 2011" reg Expenses -X '$'
  #+end_src
  :OUTPUT:
  11-Apr-01 - 11-Apr-02               Expenses:Computer:Internet             $16.10          $16.10
  11-Apr-03 - 11-Apr-09               Expenses:Computer:Software              $4.99          $21.09
  11-Apr-10 - 11-Apr-16               Expenses:Taxes:Sales                    $0.35          $21.44
  11-Apr-17 - 11-Apr-23               Expenses:Movies                         $1.99          $23.43
  11-Apr-24 - 11-Apr-30               Expenses:Movies                         $2.99          $26.42
  11-Apr-24 - 11-Apr-29               Expenses:Computer:Movies                $0.99          $27.41
                                      Expenses:Taxes:Sales                    $0.42          $27.83
  :END:
I am using Ledger 3.0.0-20100615 and I guess I found a bug.

I ran the commands bellow on July 30.

#+begin_src sh
ledger -M -s -p "this month" reg Bakery Work Supermarket Vindinha Fuel
#+end_src
:OUTPUT:
10-Jul-01 - 10-Jul-31   Expenses:Car:Fuel              $199.01      $199.01
                        Expenses:Foods:Bakery          $126.20      $325.21
                        Expenses:Foods:Work            $432.54      $757.75
                        Expenses:Supermarket           $380.23     $1137.98
:END:

But when I ran the command bellow I had got this results:

#+begin_src sh
ledger -W -p "this month" reg Bakery Work Supermarket Vindinha Fuel
#+end_src
:OUTPUT:
10-Jul-01 - 10-Jul-03   Expenses:Foods:Bakery   $31.00       $31.00
                        Expenses:Foods:Work     $29.69       $60.69
10-Jul-08 - 10-Jul-14   Expenses:Car:Fuel       $35.00       $95.69
                        Expenses:Foods:Bakery   $31.50      $127.19
                        Expenses:Foods:Work     $65.53      $192.72
                        Expenses:Supermarket    $94.29      $287.01
10-Jul-15 - 10-Jul-21   Expenses:Car:Fuel       $59.01      $346.02
                        Expenses:Foods:Bakery   $11.00      $357.02
                        Expenses:Foods:Work    $136.10      $493.12
                        Expenses:Supermarket    $66.66      $559.78
10-Jul-22 - 10-Jul-28   Expenses:Car:Fuel       $20.00      $579.78
                        Expenses:Foods:Bakery   $40.90      $620.68
                        Expenses:Foods:Work    $112.65      $733.33
                        Expenses:Supermarket    $98.17      $831.50
10-Jul-29 - 10-Jul-31   Expenses:Car:Fuel       $30.00      $861.50
                        Expenses:Foods:Bakery    $7.30      $868.80
                        Expenses:Foods:Work     $35.99      $904.79
:END:

The days between 2010/07/04 and 2010/07/07 do not appear in the report. So I
ran this:

#+begin_src sh
ledger -b 2010/07/04 -e 2010/07/07 reg  Bakery Work Supermarket Vindinha Fuel
#+end_src
:OUTPUT:
10-Jul-04 Portal Imperatriz  Expenses:Car:Fuel      $15.00       $15.00
10-Jul-04 Marche             Expenses:Supermarket   $25.49       $40.49
10-Jul-04 Marche             Expenses:Supermarket   $80.62      $121.11
10-Jul-05 Extra Facil        Expenses:Supermarket   $15.00      $136.11
10-Jul-05 Funchal Grill      Expenses:Foods:Work    $12.87      $148.98
10-Jul-05 Padaria Moema      Expenses:Foods:Bakery   $4.50      $153.48
10-Jul-06 Vilachic Funchal   Expenses:Foods:Work    $17.90      $171.38
10-Jul-06 Posto Jucelino     Expenses:Car:Fuel      $20.00      $191.38
:END:

I didn't get the amount difference between the other two reports above.  So I
tried:

#+begin_src sh
ledger -b 2010/07/04 -e 2010/07/08 reg  Bakery Work Supermarket Vindinha Fuel
#+end_src
:OUTPUT:
10-Jul-04 Portal Imperatriz       Expenses:Car:Fuel      $15.00       $15.00
10-Jul-04 Marche                  Expenses:Supermarket   $25.49       $40.49
10-Jul-04 Marche                  Expenses:Supermarket   $80.62      $121.11
10-Jul-05 Extra Facil             Expenses:Supermarket   $15.00      $136.11
10-Jul-05 Funchal Grill           Expenses:Foods:Work    $12.87      $148.98
10-Jul-05 Padaria Moema           Expenses:Foods:Bakery   $4.50      $153.48
10-Jul-06 Vilachic Funchal        Expenses:Foods:Work    $17.90      $171.38
10-Jul-06 Posto Jucelino          Expenses:Car:Fuel      $20.00      $191.38
10-Jul-07 Viena Shopping Vila..   Expenses:Foods:Work    $21.81      $213.19
10-Jul-07 Posto Caminho Brade..   Expenses:Car:Fuel      $20.00      $233.19
:END:

I got the exact difference between the first and the second reports:
$1137.98 - $904.79 = $ $233.19.

So, I guess this is not the normal behavior expected by the second report
(weekly report).
:PROPERTIES:
:ID:       F06D5554-425C-4E4E-A8B4-3CF29E07AA1E
:Submitter: Leandro Henrique Oliveira Fernandes <leandroohf@gmail.com>
:Message:  [[message://AANLkTimSSZPgYKQR6U2oZ7uaJtXBdTYF%2BmCn_3SXatko@mail.gmail.com][weekly report and monthly report (Is it a BUG?)]]
:CREATED:  [2010-08-01 Sun 18:55]
:END:
** CLOSED [[bug:395][#395]] Need commodity alias
- State "CLOSED"     from "DONE"       [2012-03-27 Tue 15:54]
- State "DONE"       from "TODO"       [2012-03-09 Fri 07:24]
   :PROPERTIES:
   :ID:       13B53049-4795-4111-A679-6866AEFC4640
   :Submitter: bugzilla-daemon@mail.johnwiegley.com
   :Message:  [[message://bug-395-1@http.newartisans.com/bugzilla/][{Bug 395} New: need commodity alias]]
   :CREATED:  [2010-08-16 Mon 16:28]
   :END:
** CLOSED [[bug:448][#448]] Only one posting with null amount allowed because of note
- State "CLOSED"     from "DONE"       [2012-03-18 Sun 18:57]
- State "DONE"       from "TODO"       [2012-02-28 Tue 02:47] \\
  Fixed by 7a55c7f
I've noticed that adding a note to a periodic entry without specifying the
redundant transaction values produces a null amount error:
:OUTPUT:
# this works fine:
$ cat /tmp/sample
~ monthly
  ; note
  assets:checking  $1,000.00
  income:work:salary   -$1,000.00

$ ledger --forecast "d<[2011]" reg -f /tmp/sample
10-Dec-01 Forecast transaction  assets:checking           $1,000.00
$1,000.00
10-Dec-01 Forecast transaction  income:work:salary
$-1,000.00            0
:END:
:OUTPUT:
# removing the redundant info from the entry breaks it for some reason:
$ cat /tmp/sample
~ monthly
  ; note
  assets:checking  $1,000.00
  income:work:salary

$ ledger --forecast "d<[2011]" reg -f /tmp/sample
While parsing file "/tmp/sample", line 4:
While parsing periodic transaction:
> ~ monthly
>   ; note
>   assets:checking  $1,000.00
>   income:work:salary
Error: Only one posting with null amount allowed per transaction
:END:
:OUTPUT:
# this works without notes:
$ cat /tmp/sample
~ monthly
  assets:checking  $1,000.00
  income:work:salary

$ ledger --forecast "d<[2011]" reg -f /tmp/
sample
10-Dec-01 Forecast transaction  assets:checking           $1,000.00
$1,000.00
10-Dec-01 Forecast transaction  income:work:salary
$-1,000.00            0
:END:

:OUTPUT:
$ ledger --version
Ledger 3.0.0-20100623, the command-line accounting tool
:END:

I expect all three cases to not fail with an error.
:PROPERTIES:
:ID:       CFE5D8AA-1060-4A7D-816D-42F72C444118
:Submitter: Michael Ploujnikov <ploujj@gmail.com>
:Message:  [[message://a065e461-e06e-45e0-aa39-aec74b13c864@l32g2000yqc.googlegroups.com][Error: Only one posting with null amount allowed per transaction because of note]]
:CREATED:  [2010-11-28 Sun 20:33]
:END:
** CLOSED [[bug:458][#458]] Spaces seem to be significant in automatic transaction predicate
- State "CLOSED"     from "TODO"       [2012-03-16 Fri 04:09] \\
  Fixed by 7462d09
>>  = expr account =~ /Employer:Payroll/ and amount > 500

Played with it some more and came up with this:
#+begin_src ledger
= expr amount>500 and account =~/Employer:Payroll/
#+end_src

Which applies to transactions over 500, but also has the inverse
problem mentioned previously.

Adding spaces to the starting expression ("amount > 500") causes it
not to apply.

Changing the order around the "and" causes it to apply to every
transaction, not just the ones above 500:
#+begin_src ledger
= account =~ /Employer:Payroll/ and expr amount>500
#+end_src

On a slightly related note, is there a way to make an automatic
transaction result in a fixed amount, rather than a percentage?
:PROPERTIES:
:ID:       605A410D-FBBE-4089-84B1-452473325994
:Submitter: Zack Williams <zdwzdw@gmail.com>
:Message:  [[message://AANLkTikJrn5v4zPezXvmedNDoE-DfoTfUpgMw7QuwcPg@mail.gmail.com][Re: Automatic transactions only for certain entry amounts]]
:CREATED:  [2010-12-29 Wed 17:42]
:END:
** CLOSED [[bug:515][#515]] Pull request: Vim: Support for payee completion and caching
- State "CLOSED"     from "TODO"       [2012-03-27 Tue 15:01] \\
  --- Comment #1 from Martin Michlmayr <tbm@cyrius.com> ---
  This was merged in e51527a in June 2011.
   :PROPERTIES:
   :ID:       831633A9-8863-47E9-8950-FFE4CEBDA19F
   :CREATED:  [2011-05-10 Tue 09:02]
   :Message:  [[message://jwiegley/ledger/pull/26@github.com][{ledger} Vim: support for payee completion and caching (#26)]]
   :Submitter: kljohann <reply+i-872387-1d5f6dec35c9a2898adf1e68bf46b277d2008891@reply.github.com>
   :Date:     Mon, 9 May 2011 11:07:19 -0700
   :END:
** CLOSED [[bug:546][#546]] Record timelog hours on the day(s) of check-in
- State "CLOSED"     from "DONE"       [2012-03-18 Sun 18:57]
- State "DONE"       from "TODO"       [2012-02-28 Tue 03:19] \\
  Fixed by 6cbceb8.
   :PROPERTIES:
   :ID:       ACE05ECE-DC73-43B6-98CF-5E362806E517
   :CREATED:  [2011-07-21 Thu 16:11]
   :Date:     Thu, 21 Jul 2011 03:20:36 -0700 (PDT)
   :Message:  [[message://3c83e99a-8817-4976-a1c8-66ff1508ff21@d7g2000vbv.googlegroups.com][Record timelog hours on the day of check-in, instead of on the day of check-out?]]
   :Submitter: Seppo Sade <sepposade1@gmail.com>
   :END:
** CLOSED [[bug:550][#550]] Trailing white space is not ignored in tag vales
- State "CLOSED"     from "TODO"       [2012-03-16 Fri 03:50]
   :PROPERTIES:
   :ID:       AEDE9734-7FAA-4F02-9110-36C0CAF03D12
   :CREATED:  [2011-09-22 Thu 17:58]
   :Date:     Wed, 21 Sep 2011 13:16:32 +0000
   :Message:  [[message://bug-550-1@http.bugs.ledger-cli.org/][{Bug 550} New: Trailing white space is not ignored in tag vales]]
   :Submitter: bugzilla-daemon@mail.johnwiegley.com
   :END:
** CLOSED [[bug:555][#555]] ledger stats reports days per posting, not postings per day
- State "CLOSED"     from "DONE"       [2012-03-27 Tue 15:55]
- State "DONE"       from "REVIEW"     [2012-02-28 Tue 22:58]
- State "REVIEW"     from "TODO"       [2012-02-23 Thu 21:50]
- State "DONE"       from "TODO"       [2011-11-18 Fri 20:02]
   :PROPERTIES:
   :ID:       8F064DBC-02B3-4746-A27B-C33AE1FDC1BE
   :CREATED:  [2011-10-10 Mon 15:02]
   :Date:     Mon, 10 Oct 2011 19:16:34 +0000
   :Message:  [[message://bug-555-1@http.bugs.ledger-cli.org/][{Bug 555} New: ledger stats reports days per posting, not postings per day]]
   :Submitter: bugzilla-daemon@mail.johnwiegley.com
   :END:
** CLOSED [[bug:560][#560]] Allow a space between the minus sign and its amount
- State "CLOSED"     from "WONTFIX"    [2012-03-18 Sun 18:57]
- State "WONTFIX"    from "TODO"       [2012-03-16 Fri 03:16]
   :PROPERTIES:
   :ID:       D51BFF74-9763-45CF-B9D4-0B2233AF2249
   :CREATED:  [2011-09-22 Thu 14:51]
   :Date:     Thu, 22 Sep 2011 09:33:36 -0700
   :Message:  [[message://CAKs9TO+0H+b6gDWjzxYpSOi5eVYG6dCGLLsbDN0WDYsrkGMr2A@mail.gmail.com][Space before minus sign]]
   :Submitter: Craig Earls <enderw88-Re5JQEeQqe8AvxtiuMwx3w@public.gmane.org>
   :END:
** CLOSED [[bug:569][#569]] Problem in ledger3.texi
- State "CLOSED"     from "DONE"       [2012-03-27 Tue 15:47] \\
  Cannot be tested.
- State "DONE"       from "TODO"       [2011-11-18 Fri 20:02]
   :OUTPUT:
   ledger3.texi:196: Misplaced {.
   ledger3.texi:196: Misplaced }.
   ledger3.texi:102: Cross reference to nonexistent node `Principles of accounting' (perhaps incorrect sectioning?).
   ledger3.texi:82: Cross reference to nonexistent node `Keeping a journal' (perhaps incorrect sectioning?).
   :END:
   :PROPERTIES:
   :ID:       2274E886-AB1E-4FD7-B298-A8D71311E0B6
   :CREATED:  [2011-10-13 Thu 15:38]
   :Date:     Tue, 11 Oct 2011 13:53:21 -0700
   :Message:  [[message://301CD0BF-228A-4DEC-9C94-9411889896B7@joyful.com][Fwd: Cron <simon@joyful>  cd /repos/ledger;         git pull -q && cd doc && make --quiet]]
   :Submitter: Simon Michael <simon@joyful.com>
   :END:
** CLOSED [[bug:570][#570]] Add warning to docs about whitespace in ledger format
- State "CLOSED"     from "DONE"       [2012-03-27 Tue 15:47] \\
  Cannot be tested.
- State "DONE"       from "TODO"       [2011-11-18 Fri 20:02]
   Ledger won't accept a ledger without at least two spaces between the
   account name and value.  This adds a warning about it in the File format
   section of the docs.
   
   When you edit or view the docs in your editor the monospace display makes
   it easy to see the two space requirement.  I was viewing the HTML version
   of the docs in my browser and missed the subtle distinction.  This gave me
   quite a bit of pain trying to hunt down the source of the problem.  This
   patch was entirely motivated by the problems I had trying to get my ledger
   up and off the ground.
   :PROPERTIES:
   :ID:       A8037486-3EBB-4F3B-A720-9A0F6BFDF6F2
   :CREATED:  [2011-09-01 Thu 19:56]
   :Date:     Thu, 1 Sep 2011 15:40:10 -0700
   :Message:  [[message://jwiegley/ledger/pull/38@github.com][{ledger} Add warning to docs about whitespace in ledger format. ]]
   :Submitter: dgilman <reply+i-1546723-a9cdb41421bafec77dd1c029b11e110838cce71d@reply.github.com>
   :END:
** CLOSED [[bug:584][#584]] Trailing white space is not ignored in payee names
- State "CLOSED"     from "TODO"       [2012-03-16 Fri 03:12]
  :PROPERTIES:
  :ID:       C9D593B3-6263-494E-AF38-6D48BE109C63
  :CREATED:  [2011-10-21 Fri 00:52]
  :Date:     Thu, 20 Oct 2011 05:03:39 +0000
  :Message:  [[message://bug-584-1@http.bugs.ledger-cli.org/][{Bug 584} New: Trailing white space is not ignored in payee names]]
  :Submitter: bugzilla-daemon@mail.johnwiegley.com
  :END:
** CLOSED [[bug:600][#600]] -d "l>=2" performs > rather than >=
- State "CLOSED"     from "DONE"       [2012-03-18 Sun 18:57]
- State "DONE"       from "TODO"       [2012-02-28 Tue 04:02] \\
  Fixed by 9376b0f
:PROPERTIES:
:ID:       854150DF-C34B-447B-89FB-24D5006C798E
:CREATED:  [2011-11-14 Mon 15:06]
:Date:     Mon, 14 Nov 2011 01:44:22 +0000
:Message:  [[message://bug-600-1@http.bugs.ledger-cli.org/][{Bug 600} New: -d "l>=2" performs > rather than >=]]
:Submitter: bugzilla-daemon@mail.johnwiegley.com
:END:
** CLOSED [[bug:658][#658]] print does not indent properly
- State "CLOSED"     from "DONE"       [2012-03-18 Sun 18:57]
- State "DONE"       from "TODO"       [2012-02-28 Tue 04:06]
:PROPERTIES:
:ID:       DB490507-8C19-4081-A11D-C4A3D6415BA0
:CREATED:  [2012-02-27 Mon 19:46]
:Date: Sun, 26 Feb 2012 22:43:58 +0000
:Message: [[message://bug-658-1@http.bugs.ledger-cli.org/][{Bug 658} New: print does not indent properly]]
:Author: bugzilla-daemon@mail.johnwiegley.com
:END:
** CLOSED [[bug:659][#659]] Date parser does not accept 2/29 this year (2012)
- State "CLOSED"     from "DONE"       [2012-03-18 Sun 18:57]
- State "DONE"       from "TODO"       [2012-02-28 Tue 21:19] \\
  Fixed by 5517871
:PROPERTIES:
:ID:       65FECA4D-8B85-426E-9461-2FA624ED326A
:CREATED:  [2012-02-28 Tue 20:03]
:Date: Tue, 28 Feb 2012 14:28:26 -0800
:Message: [[message://CACHqOS-PqEUujLz5GctPLzGrRn0rzoEoHtb9adT5rAVE5Zk9uQ@mail.gmail.com][leap day]]
:Author: Alan Bram <sf.flyboy-Re5JQEeQqe8AvxtiuMwx3w@public.gmane.org>
:END:
** CLOSED [[bug:661][#661]] include directive causes a segmentation fault
- State "CLOSED"     from "DONE"       [2012-03-27 Tue 15:55]
- State "DONE"       from "TODO"       [2012-03-01 Thu 22:00]
:PROPERTIES:
:ID:       39FB15C4-59C8-407F-8242-FAC66F178035
:CREATED:  [2012-03-01 Thu 21:19]
:Date: Thu, 01 Mar 2012 22:14:57 +0000
:Message: [[message://bug-661-1@http.bugs.ledger-cli.org/][{Bug 661} New: In HEAD, installed today, include directive causes a segmentation fault.]]
:Author: bugzilla-daemon@mail.johnwiegley.com
:END:
** CLOSED [[bug:674][#674]] --decimal-comma and --percent are incompatible
- State "CLOSED"     from "DONE"       [2012-03-17 Sat 17:20]
- State "DONE"       from "TODO"       [2012-03-11 Sun 04:03] \\
  Fixed by fad24d4
:PROPERTIES:
:ID:       47C579B8-D8B6-4D0B-8EAA-26A3D2FE8642
:CREATED:  [2012-03-09 Fri 19:44]
:Date: Fri, 09 Mar 2012 23:34:48 +0000
:Message: [[message://bug-674-1@http.bugs.ledger-cli.org/][{Bug 674} New: --decimal-comma and --percent are incompatible]]
:Author: bugzilla-daemon@mail.johnwiegley.com
:END:
** CLOSED [[bug:678][#678]] -X GBP -H leads to Adjustment, or: ledger gets calculation/rounding wrong
- State "CLOSED"     from "DONE"       [2012-03-18 Sun 18:57]
- State "DONE"       from "TODO"       [2012-03-11 Sun 03:06] \\
  Fixed by 0d9d845
I was testing the combination of -X and -H with ledger from current next
(080c1d9a2d0f3013a4d26879a3e98cfa62ef3e48) and saw "<Adjustment>" in the
register output, which I wasn't expecting with -H.  Then I realized this may
be rounding, so I changed the precision of the output to see what's going on.
What I found confused me...

With the example below, I get the following output with "ledger reg
income:adse -X GBP -H":
:OUTPUT:
11-Jan-31 AdSense earnings      Income:AdSense            -9.46 GBP    -9.46 GBP
11-Feb-28 AdSense earnings      <Adjustment>              -0.01 GBP    -9.47 GBP
                                Income:AdSense            -8.60 GBP   -18.07 GBP
:END:

11.00 * 0.8604 = 9.4644, so showing 9.46 and then adjusting by 0.01 GBP seems
correct.

However, when I add
#+begin_src ledger
D 1000.0000 GBP
#+end_src

I noticed:
:OUTPUT:
11-Jan-31 AdSense earnings      Income:AdSense          -9.4644 GBP  -9.4644 GBP
11-Feb-28 AdSense earnings      Income:AdSense          -8.5760 GBP -18.0404 GBP
:END:

Again, 8.5760 is correct (10 * 0.8576).

But, to get back to the first example, how does ledger come up with a rounded
value of 8.60?  I would expected the rounded value to be 8.58.  In fact, when
I remove the first transaction from the file, this is exactly what I get.

Is ledger getting the calculation wrong?

Test case:
#+begin_src ledger
D 1000.00 GBP

P 2011-01-01 EUR 0.8604 GBP
P 2011-02-01 EUR 0.8576 GBP

2011-01-31 * AdSense earnings
    Assets:Receivable:AdSense              11.00 EUR
    Income:AdSense

2011-02-28 * AdSense earnings
    Assets:Receivable:AdSense              10.00 EUR
    Income:AdSense
#+end_src
:PROPERTIES:
:ID:       889BB167-2CF2-4A8D-A1BF-D8D1F8014BD1
:CREATED:  [2012-03-10 Sat 19:11]
:Date: Sat, 10 Mar 2012 15:38:56 +0000
:Message: [[message://bug-678-1@http.bugs.ledger-cli.org/][{Bug 678} New: -X GBP -H leads to Adjustment, or: ledger gets calculation/rounding wrong]]
:Author: bugzilla-daemon@mail.johnwiegley.com
:END:
** CLOSED [[bug:679][#679]] Error: Attempting to nail down a balance with -X -H
- State "CLOSED"     from "DONE"       [2012-03-18 Sun 18:57]
- State "DONE"       from "TODO"       [2012-03-11 Sun 03:07] \\
  Fixed by 2303aa9
:PROPERTIES:
:ID:       14DB77E7-777A-4636-9E69-E4E0298359BF
:CREATED:  [2012-03-10 Sat 19:10]
:Date: Sat, 10 Mar 2012 15:41:36 +0000
:Message: [[message://bug-679-1@http.bugs.ledger-cli.org/][{Bug 679} New: Error: Attempting to nail down a balance with -X -H]]
:Author: bugzilla-daemon@mail.johnwiegley.com
:END:
** CLOSED [[bug:680][#680]] ledger pricedb shows incorrect(?) entries
- State "CLOSED"     from "DONE"       [2012-03-18 Sun 18:57]
- State "DONE"       from "TODO"       [2012-03-15 Thu 05:01] \\
  Fixed by 610a3e1
:PROPERTIES:
:ID:       786A3DD0-B511-4746-8A4B-28216594491A
:CREATED:  [2012-03-10 Sat 19:10]
:Date: Sat, 10 Mar 2012 15:56:53 +0000
:Message: [[message://bug-680-1@http.bugs.ledger-cli.org/][{Bug 680} New: ledger pricedb shows incorrect(?) entries]]
:Author: bugzilla-daemon@mail.johnwiegley.com
:END:
** CLOSED [[bug:681][#681]] Commodities revalued with -X -H when no pricedb entry for one transaction
- State "CLOSED"     from "TODO"       [2012-03-18 Sun 02:33] \\
  Fixed by 20edb3a
In the example below, there's no pricedb entry to convert EUR to GBP for the
first transaction with -X GBP -H.  Bug #679 fixes this so EUR would shown and
it would be revalued to GBP once there's a valid pricedb entry to allow this
conversion.  So far so good.  However, now it constantly revalues this
transaction whenever it finds a new pricedb entry.  This is not what I'd
expect with -H.

Output with current ledger (8fe68c5fc3a71fa17cf309f9b87b5089ecce8996)
:OUTPUT:
./ledger -f test.ledger reg income:ad -X GBP -H
2011-01-31 AdSense earnings     Income:AdSense        -11.00 EUR   -11.00 EUR
2011-02-01 Commodities revalued <Revalued>             -9.43 GBP    -9.43 GBP
2011-02-28 AdSense earnings     Income:AdSense         -8.58 GBP   -18.01 GBP
2011-03-01 Commodities revalued <Revalued>             -0.04 GBP   -18.05 GBP
2011-04-01 Commodities revalued <Revalued>              0.11 GBP   -17.94 GBP
:END:

Expected output: 
:OUTPUT:
2011-01-31 AdSense earnings     Income:AdSense        -11.00 EUR   -11.00 EUR
2011-02-01 Commodities revalued <Revalued>             -9.43 GBP    -9.43 GBP
2011-02-28 AdSense earnings     Income:AdSense         -8.58 GBP   -18.01 GBP
:END:

Test case:
#+begin_src ledger
D 1000.00 GBP

P 2011-02-01 EUR 0.8576 GBP
P 2011-03-01 EUR 0.8612 GBP
P 2011-04-01 EUR 0.8510 GBP

2011-01-31 * AdSense earnings
    Assets:Receivable:AdSense              11.00 EUR
    Income:AdSense

2011-02-28 * AdSense earnings
    Assets:Receivable:AdSense              10.00 EUR
    Income:AdSense
#+end_src
:PROPERTIES:
:ID:       9E0E606D-8C04-40EB-8054-21CE86ADD5DD
:CREATED:  [2012-03-11 Sun 19:59]
:Date: Sun, 11 Mar 2012 11:54:38 +0000
:Message: [[message://bug-681-1@http.bugs.ledger-cli.org/][{Bug 681} New: commodities revalued with -X -H when no pricedb entry for one transaction]]
:Author: bugzilla-daemon@mail.johnwiegley.com
:END:
** CLOSED [[bug:688][#688]] print command does not handle multiple spaces in the payee
- State "CLOSED"     from "DONE"       [2012-03-18 Sun 18:57]
- State "DONE"       from "STARTED"    [2012-03-12 Mon 05:51] \\
  Fixed by ed42a7e
:LOGBOOK:
CLOCK: [2012-03-12 Mon 00:49]--[2012-03-12 Mon 05:51] =>  5:02
:END:
With the latest ledger payee containing multiple spaces are not handled
correctly by the print command:
:OUTPUT:
$ cat x.ledger
2011/01/01 * PAYEE  CONTAINING  MULTIPLE  SPACES
    Assets:Cash   -100
    Expenses:Cash

$ ledger -f x.ledger print
2011/01/01 * PAYEE
    Assets:Cash                                 -100
    Expenses:Cash
:END:
:PROPERTIES:
:ID:       6D9066DD-3956-440D-91B2-C5621B5EA66D
:CREATED:  [2012-03-11 Sun 22:03]
:END:
** CLOSED [[bug:691][#691]] Assertion failed in "src/pool.cc" with -X -H
- State "CLOSED"     from "TODO"       [2012-03-18 Sun 02:25] \\
  Fixed by 47d7f5a
:PROPERTIES:
:ID:       96A8E4A1-67D9-4BF5-B91C-A7D62A9C7808
:CREATED:  [2012-03-12 Mon 16:39]
:Date: Mon, 12 Mar 2012 14:52:55 +0000
:Message: [[message://bug-691-1@http.bugs.ledger-cli.org/][{Bug 691} New: Assertion failed in "src/pool.cc" with -X -H]]
:Author: bugzilla-daemon@mail.johnwiegley.com
:END:
** CLOSED [[bug:702][#702]] No carriage return
- State "CLOSED"     from "DUPLICATE"  [2012-03-18 Sun 23:54]
- State "DUPLICATE"  from "TODO"       [2012-03-14 Wed 20:51] \\
  Duplicate of #701
:PROPERTIES:
:ID:       3B7F3F81-F6DB-4AEA-9778-AE054846CABD
:CREATED:  [2012-03-14 Wed 19:58]
:Date: Wed, 14 Mar 2012 22:21:57 +0000
:Message: [[message://bug-702-1@http.bugs.ledger-cli.org/][{Bug 702} New: no carriage return]]
:Author: bugzilla-daemon@mail.johnwiegley.com
:END:
** CLOSED [[bug:704][#704]] pricedb entries randomly repeated
- State "CLOSED"     from "DONE"       [2012-03-18 Sun 18:57]
- State "DONE"       from "TODO"       [2012-03-16 Fri 03:09] \\
  Fixed by 49ec40a
:PROPERTIES:
:ID:       8CE88DB4-B1B7-4303-9221-C1BEF3BBF17A
:CREATED:  [2012-03-15 Thu 15:28]
:Date: Thu, 15 Mar 2012 12:56:01 +0000
:Message: [[message://bug-704-1@http.bugs.ledger-cli.org/][{Bug 704} New: pricedb entries randomly repeated]]
:Author: bugzilla-daemon@mail.johnwiegley.com
:END:
** CLOSED [[bug:706][#706]] Alias is causing segfault and other strangeness
- State "CLOSED"     from "TODO"       [2012-03-19 Mon 04:24] \\
  Duplicated of #700
:PROPERTIES:
:ID:       6BCE2904-905A-4E57-B5B2-25B9F0D7FBAD
:CREATED:  [2012-03-16 Fri 15:00]
:Date: Fri, 16 Mar 2012 16:03:02 +0000
:Message: [[message://bug-706-1@http.bugs.ledger-cli.org/][{Bug 706} New: Alias is causing segfault and other strangeness]]
:Author: bugzilla-daemon@mail.johnwiegley.com
:END:
** CLOSED [[bug:711][#711]] Behavior of alias appears to have changed
- State "CLOSED"     from "TODO"       [2012-03-17 Sat 07:02] \\
  Fixed by bc31e48
:PROPERTIES:
:ID:       1384C1D8-CB33-4C66-A2C8-E02FD8EA6FAB
:CREATED:  [2012-03-16 Fri 04:49]
:Date: Thu, 15 Mar 2012 19:11:38 -0700
:Message: [[message://CAKs9TO+RpW4qd7KTW9SzJtxfSZRykQ9FnJO4mwKXtdL8bN28Mg@mail.gmail.com][Behavior of alias changed?]]
:Author: Craig Earls <enderw88@gmail.com>
:END:
** CLOSED [[bug:715][#715]] Error: Cannot divide a balance by an amount with -X -H
- State "CLOSED"     from "TODO"       [2012-03-19 Mon 00:42] \\
  Fixed by cd50fe0
The following test case used to show error from bug 691 but now that this is
fixed I get:
:OUTPUT:
$ ledger -f 2011 reg -X EUR -H > /dev/null
While evaluating value expression:
ansify_if(justify(scrub(display_amount), int(amount_width), ((((((3 + int(meta_width)) + int(date_width)) + int(payee_width)) + int(account_width)) + int(amount_width)) + int(prepend_width)), true, color), (should_bold ? (bold : null)))
While dividing -0.01 EUR by -0.00589775 EUR
-0.00446825 EUR (({1.00 EUR})):
While calling function 'nail_down (-0.01 EUR, -0.01 EUR)':
While calling function 'market (<#EXPR display_amount>, <#EXPR value_date>, <#EXPR exchange>)':
While calling function 'market (<#EXPR display_amount>, <#EXPR value_date>, <#EXPR exchange>)':
While calling function 'scrub <#EXPR display_amount>':
While calling function 'justify (<#EXPR scrub(display_amount)>, 12, 67, 1, 0)':
While calling function 'ansify_if (<#EXPR justify(scrub(display_amount), int(amount_width), (((((({3} + int(meta_width)) + int(date_width)) + int(payee_width)) + int(account_width)) + int(amount_width)) + int(prepend_width)), true, color)>, (null))':
While handling posting from "2011", line 7:
>     Assets:A                                              1.59 GBP
Error: Cannot divide a balance by an amount
:END:

I found it a bit hard to generate a test case because I don't know what the
problem is.  Below is one small test case I managed to generate.  My original
ledger file shows the problem in other transaction.  If you can fix this bug,
I'll check with my original ledger file to see if all other transactions now
work too.

Test case:
#+begin_src ledger
2011-01-01 * Opening balance
    Assets:Investment                  100 "AAA" @ 16.58900489 EUR
    Assets:Investments                   5 "BBB" @ 24.79900855 EUR
    Equity:Opening balance

2011-02-10 * Reimbursement: Taxi / Subway / Bus / Train
    Assets:A                                              1.59 GBP
    Assets:B                  -1.80 EUR @ 0.884955752212389381 GBP
#+end_src
:PROPERTIES:
:ID:       BFD3FBE1-2BF9-4109-8BF6-225C28C49837
:CREATED:  [2012-03-18 Sun 19:22]
:Date: Sun, 18 Mar 2012 10:26:22 +0000
:Message: [[message://bug-715-1@http.bugs.ledger-cli.org/][{Bug 715} New: Error: Cannot divide a balance by an amount with -X -H]]
:Author: bugzilla-daemon@mail.johnwiegley.com
:END:
** CLOSED [[bug:718][#718]] Strange <Adjustment> entries with -X -H and ledger maybe hangs?
- State "CLOSED"     from "TODO"       [2012-03-20 Tue 03:21] \\
  Fixed by f76d458
- Note taken on [2012-03-19 Mon 23:16] \\
  display_filter_posts isn't stripping annotations before looking for price
  deltas.
  
  In fact, a lot of the code is too knowledge about how to read a post's
  amount.  There needs to be a new set of objects, report_post_t,
  report_xact_t, report_account_t, which abstract the notion of what that
  posts "amount" is, based on all the current report settings.  Then the
  filters don't have to know about the details.
  
  This will also eliminate the need for xdata members.  I can, for speed, use
  a pointer from post_t to report_post_t, or to support multithreading I could
  use a mapping of post_t* to report_post_t*.
This is a really strange one.  ledger reg -X EUR -H prints these really strange
<Adjustment> entries and then takes up 100% of my CPU but doesn't print more...
not sure if it hangs or computes something.  I haven't waited long enough to
see what happens.
#+begin_src sh
ledger reg -X EUR -H
#+end_src

Here's my reduced test case:
#+begin_src ledger
2012-01-01 * Opening balance
    Assets:Current                         17.43 EUR
    Assets:Investments                200 "LU02" @ 24.77 EUR
    Assets:Investments                 58 "LU02" @ 24.79900855 EUR
    Equity:Opening balance

2012-01-01 * Opening balance
    Assets:Pension                        785.44 GBP
    Assets:Pension               97.0017 "H2" @ 5.342999720204 GBP
    Assets:Pension                4.3441 "H1" @ 5.289999915108 GBP
    Equity:Opening balance

2012-01-01 * Opening balance: misc
    Assets:Piggy bank                       3.51 GBP
    Equity:Opening balance

2012-01-01 * Opening balance
    Assets:Rewards                   9836 AAdvantage
    Equity:Opening balance

2012-01-03 * Receivable
    Assets:Current
    Assets:Receivable                    -161.06 EUR
    Assets:Receivable                      -9.99 GBP @@ 11.65 EUR

2012-01-27 * Test
    Income:Test                         -2759.50 GBP
    Income:Test                          -110.76 GBP
    Assets:Foo                            345.57 GBP
    Expenses:Test                          16.47 GBP
    Expenses:Test                           6.33 GBP
    Expenses:Test                         261.39 GBP
    Assets:Current
#+end_src
:PROPERTIES:
:ID:       A560FDAD-6628-482D-8DFC-3D4527B514D7
:CREATED:  [2012-03-19 Mon 15:33]
:Date: Mon, 19 Mar 2012 10:20:42 +0000
:Message: [[message://bug-718-1@http.bugs.ledger-cli.org/][{Bug 718} New: strange <Adjustment> entries with -X -H and ledger maybe hangs?]]
:Author: bugzilla-daemon@mail.johnwiegley.com
:END:
** CLOSED [[bug:721][#721]] Equity shows commodities that have already been sold
- State "CLOSED"     from "DONE"       [2012-03-27 Tue 15:55]
- State "DONE"       from "TODO"       [2012-03-23 Fri 00:05]
:PROPERTIES:
:ID:       CEECC0B0-F91B-45A0-8BC3-F3A4106BD92E
:CREATED:  [2012-03-22 Thu 13:24]
:Date: Thu, 22 Mar 2012 18:21:06 +0000
:Message: [[message://bug-721-1@http.bugs.ledger-cli.org/][{Bug 721} New: equity shows commodities that have already been sold]]
:Author: bugzilla-daemon@mail.johnwiegley.com
:END:
** CLOSED [[bug:728][#728]] pricesdb command renamed to pricedb - preserve compatibility
- State "CLOSED"     from "TODO"       [2012-03-30 Fri 16:44]
:PROPERTIES:
:ID:       D0414B38-94C5-4B42-8B64-3494903C8372
:CREATED:  [2012-03-23 Fri 03:56]
:Date: Fri, 23 Mar 2012 08:49:01 +0000
:Message: [[message://bug-728-1@http.bugs.ledger-cli.org/][{Bug 728} New: pricesdb command renamed to pricedb - preserve compatibility]]
:Author: bugzilla-daemon@mail.johnwiegley.com
:END:
** CLOSED [[bug:757][#757]] emacs baseline test failure
- State "CLOSED"     from "TODO"       [2012-03-29 Thu 03:56] \\
  The test that was causing this error has been removed from the test suite.
:PROPERTIES:
:ID:       08E056AB-76EB-4738-AAF6-04A3090386BC
:CREATED:  [2012-03-29 Thu 03:55]
:Date: Thu, 29 Mar 2012 08:41:58 +0000
:Message: [[message://bug-757-1@http.bugs.ledger-cli.org/][{Bug 757} New: emacs baseline test failure]]
:Author: bugzilla-daemon@mail.johnwiegley.com
:END:
** CLOSED [[bug:770][#770]] Options --monthly and --invert do not work together
- State "CLOSED"     from "TODO"       [2012-04-06 Fri 01:02] \\
  Fixed by ad7ace9
:PROPERTIES:
:ID:       FCE11C8D-D9FC-43AE-9564-0E76B2A62004
:CREATED:  [2012-04-05 Thu 16:01]
:END:
** CLOSED acprep upload is deleting the file after it uploads it
- State "CLOSED"     from "DONE"       [2012-03-27 Tue 15:47] \\
  Cannot be tested.
   - State "DONE"       from "TODO"       [2009-03-31 Tue 16:24]
   :PROPERTIES:
   :ID:       E4EFE47F-2014-4AEF-A515-CBB3B5186C38
   :ARCHIVE_TIME: 2009-04-12 Sun 20:34
   :ARCHIVE_CATEGORY: Ledger
   :CREATED:  [2009-03-31 Tue 06:27]
   :END:
** CLOSED amount_t::value should not return a priced commodity
- State "CLOSED"     from "TODO"       [2012-03-30 Fri 00:43]
:PROPERTIES:
:ID:       78AB4B87-EACB-4B21-9FB6-C20DDCA70E08
:CREATED:  [2012-03-29 Thu 16:26]
:END:
** CLOSED budget misbehavior with account tree
   - State "CLOSED"     from "DONE"       [2009-11-02 Mon 01:40]
   - State "DONE"       from "TODO"       [2009-11-02 Mon 01:40]
   The budget command behaves slightly different than I would expect
   for parent accounts.  Here is example output:
   :OUTPUT:
   % ledger budget -p this --effective --flat food
       $ 490.46     $ 925.00    $ -434.54   53%  Expenses:Food
       $ 361.11     $ 325.00      $ 36.11  111%  Expenses:Food:Groceries
       $ 129.35     $ 100.00      $ 29.35  129%  Expenses:Food:Out
   ------------ ------------ ------------ -----
       $ 490.46     $ 925.00    $ -434.54   53%
   :END:

   The relevant journal context:
   :SOURCE:
   ~ Monthly
     Expenses:Food                $ 500.00
     Expenses:Food:Out            $ 100.00
     Expenses:Food:Groceries      $ 325.00
     Assets
   :END:

   It looks like :Food gets added to its children instead of picking up the
   slack.  If I remove the children and let the parent provide a budget for it
   and its descendants, I get nothing.

   :SOURCE:
   ~ Monthly
     Expenses:Food                $ 500.00
     Assets
   :END:
   :OUTPUT:
   % ledger budget -p this --effective --flat food
              0     $ 500.00    $ -500.00     0  Expenses:Food
   :END:

   That's on the same journal data.
   :PROPERTIES:
   :ID:       D060256A-D0BD-429F-87B9-C9F73A24C0D3
   :Message:  [[message://4aec9a0bee27d_4b733fce572cbaf4188@fe3.rs.github.com.tmail][{GitHub} drewr sent you a message]]
   :Issue:    http://github.com/jwiegley/ledger/issues#issue/7
   :CREATED:  [2009-11-01 Sun 05:51]
   :END:
** CLOSED release-distcheck fails because we're passing all args to configure
- State "CLOSED"     from "DONE"       [2012-03-27 Tue 15:47] \\
  Cannot be tested.
   - State "DONE"       [2009-02-11 Wed 21:26]
   :PROPERTIES:
   :ID:       903AC319-A260-4166-8318-34C5ACC95AE8
   :CREATED:  [2009-02-11 Wed 15:12]
   :END:
** CLOSED [#C] [[bug:322][#322]] Minor typo in acprep output
- State "CLOSED"     from "DONE"       [2012-03-27 Tue 15:47] \\
  Cannot be tested.
:PROPERTIES:
:ID:       CB16689E-741D-4545-AF9E-3E80DD3B0E83
:CREATED:  [2012-03-18 Sun 22:45]
:END:
** NOTE Building Boost with g++-4.4:
   boost/tools/build/v2/user-config.jam:
     using gcc : 4.4 : g++-4.4 ;
   boost/tools/build/v2/tools/darwin.jam:
     local command = [ common.get-invocation-command darwin : g++ : g++-mp-4.4 ] ;
     flags darwin.compile OPTIONS : -gdwarf-2 ;
   :PROPERTIES:
   :ID:       0C8CDAC9-5280-4111-82DE-91C0B7206714
   :VISIBILITY: folded
   :CREATED:  [2009-10-29 Thu 23:09]
   :END:
** NOTE Found a very nasty interaction with g++-mp-4.4 and Boost
   - Note taken on [2009-10-25 Sun 04:04] \\
     I've created a [[https://trac.macports.org/ticket/22234][MacPorts ticket]] for this issue.
   - Note taken on [2009-10-25 Sun 03:45] \\
     Apparently I have to use the following configure option:
     --enable-fully-dynamic-string.  Paolo Carlini [[message://20091025055053.32533.qmail@sourceware.org][writes]]:

     The Snow Leopard case is different, apparently they decided to build the
     system compiler with --enable-fully-dynamic-string and then that shows up
     everywhere, see [[http://gcc.gnu.org/bugzilla/show_bug.cgi%3Fid%3D41645][41645]]. As far as we can understand so far, people willing
     to experiment with recent GCCs on Snow Leopard have to use that configure
     time switch.
   I'm actually getting this same error on Snow Leopard (Mac OS X 10.6.0).
   It's pretty easy to reproduce with Boost (1.40):
   :SOURCE:
   #include <string>
   #include <sstream>

   #include <boost/variant.hpp>

   int main()
   {
     std::ostringstream buf;
     boost::variant<bool, std::string> data;
     data = buf.str();
     data = false;
     return 0;
   }
   :END:
   :SCRIPT:
   $ g++ -I/opt/local/include -o bug bug.cc
   :END:

   What happens here is that ostringstream, which is in libstdc++.dylib,
   returns an empty string which does not match the notion of empty string
   compiled into my executable; thus when Boost tries to deconstruct the
   string it stored in order to store the boolean, it crashes trying to
   deallocate a foreign lib's empty string.

   This doesn't happen with the same Boost using the stock compiler (g++ 4.2).

   With the stock compiler, g++ 4.2.1:
   :OUTPUT:
   vulcan /tmp $ otool -L bug
   bug:
           /usr/lib/libstdc++.6.dylib (compatibility version 7.0.0, current
   version 7.9.0)
           /usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current
   version 123.0.0)
   vulcan /tmp $ nm -o /usr/lib/libstdc++.6.dylib | grep empty_rep
   0003f200 T __ZNSbIwSt11char_traitsIwESaIwEE12_S_empty_repEv
   0003f2fd T __ZNSbIwSt11char_traitsIwESaIwEE4_Rep12_S_empty_repEv
   0006fe50 S __ZNSbIwSt11char_traitsIwESaIwEE4_Rep20_S_empty_rep_storageE
   0002fae3 T __ZNSs12_S_empty_repEv
   0002fbe7 T __ZNSs4_Rep12_S_empty_repEv
   0006fdb0 S __ZNSs4_Rep20_S_empty_rep_storageE
   vulcan /tmp $ nm bug | grep empty_rep
   0000000100001fc7 T __ZNSs12_S_empty_repEv
   0000000100001f14 T __ZNSs4_Rep12_S_empty_repEv
   000000010000dd00 D __ZNSs4_Rep20_S_empty_rep_storageE
   :END:

   With the compiler built from MacPorts, g++ 4.4.2:
   :OUTPUT:
   vulcan /tmp $ otool -L bug
   bug:
           /opt/local/lib/gcc44/libstdc++.6.dylib (compatibility version 7.0.0,
   current version 7.13.0)
           /opt/local/lib/gcc44/libgcc_s.1.dylib (compatibility version 1.0.0,
   current version 1.0.0)
           /usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current
   version 123.0.0)
   vulcan /tmp $ nm /opt/local/lib/gcc44/libstdc++.6.dylib | grep empty_rep
   00000000000655c0 T __ZNSbIwSt11char_traitsIwESaIwEE12_S_empty_repEv
   00000000000658c0 T __ZNSbIwSt11char_traitsIwESaIwEE4_Rep12_S_empty_repEv
   00000000000bbe40 D __ZNSbIwSt11char_traitsIwESaIwEE4_Rep20_S_empty_rep_storageE
   000000000004de20 T __ZNSs12_S_empty_repEv
   000000000004e0e0 T __ZNSs4_Rep12_S_empty_repEv
   00000000000bbdc0 D __ZNSs4_Rep20_S_empty_rep_storageE
   vulcan /tmp $ nm bug | grep empty_rep
   000000010000193b T __ZNSs4_Rep12_S_empty_repEv
   0000000100007820 D __ZNSs4_Rep20_S_empty_rep_storageE
   :END:

   It likes like the S vs. D is the main difference.  Is it how MacPorts is
   building g++?  I've logged this information into the GCC bugs database:
   [[http://gcc.gnu.org/bugzilla/show_bug.cgi%3Fid%3D24196][Using string instances to pass arguments to dlls fails]].

   This discrepancy only occurs when _GLIBCXX_DEBUG=1.
   :PROPERTIES:
   :ID:       E4156C53-FC70-49CD-80A1-552C4B508010
   :VISIBILITY: folded
   :CREATED:  [2009-10-25 Sun 01:44]
   :END:
** NOTE Problem using boost::regex on Snow Leopard with g++ 4.4
   The following code shows the exception:
   :SOURCE:
   #include <string>
   #include <boost/regex.hpp>

   int main(int argc, char **argv)
   {
     std::string s("(.*)bar|(.*)bah");
     boost::regex re_node(s);
     return 1;
   }
   :END:

   This happens when there is a mismatch in the use of _GLIBCXX_DEBUG.
   :PROPERTIES:
   :ID:       3C40259C-BE0C-4657-A379-80E2F2B61286
   :VISIBILITY: folded
   :CREATED:  [2009-10-25 Sun 03:38]
   :END:
* Emacs
  :PROPERTIES:
  :CATEGORY: Emacs
  :OVERLAY: (face (:background "#fdebeb"))
  :END:
** TODO (Thierry) ledger-do-reconcile
- Note taken on [2012-09-06 Thu 19:23] \\
  Until know I had never done any elisp, but with some "let's try", I managed
  to get it work with patch here attached.

  Is this patch valid, and can it be integrated in sources ?

During the refactoring you did from ledger.el to ldg-*.el, the reconcile
section from ledger.el has been copied to leg-reconcile.el.  But the function
ledger-do-reconcile has been emptied.  Any reason for that ?

I tried to copy/paste the content of ledger-do-reconcile, from old ledger.ol
to ledger-reconcile.el, but it did not worked...  Any idea? Should I open a
bug for that?
:PROPERTIES:
:ID:       10279BF5-93FB-4726-9641-9B1CF79D4909
:CREATED:  [2012-09-06 Thu 19:23]
:Date:     Sun, 2 Sep 2012 22:28:40 +0200
:Message:  [[message://CA+R89YL7uWeWf3BrhLk-h28H5SwaiWmsf4BxUxmD8umh+6qJyg@mail.gmail.com][ledger-do-reconcile]]
:Author:   Thierry Daucourt <thierry.daucourt@free.fr>
:END:

** TODO [#A] [[bug:638][#638]] ledger-mode dropping first digit of inserted dates
I use Aquamacs on OS X.  When I use the ledger-mode facility for adding
entries, ledger-mode inserts the entry without the most significant digit. For
example:
#+begin_src ledger
011/11/15 Bountiful Baskets
    Expenses:Groceries                        $16.50
    Assets:VWCU:Joint Checking
#+end_src

Which requires hand correction.
:PROPERTIES:
:ID:       E39956E4-B4BF-4B83-B80D-38820CCEFAFB
:CREATED:  [2011-11-15 Tue 18:05]
:Date:     Tue, 15 Nov 2011 10:07:17 -0700
:Message:  [[message://CAKs9TOJfSSjmqfi8i7xu=JdqJ=aayRgkwdxRdvJt4CUcgW7oMQ@mail.gmail.com][Minor annoyance with emacs mode]]
:Submitter: Craig Earls <enderw88-Re5JQEeQqe8AvxtiuMwx3w@public.gmane.org>
:END:
** TODO (Alexandre) Default values format and C-c C-a
:PROPERTIES:
:ID:       0FD00AFA-67EB-47F0-9415-CF95A4BA509F
:CREATED:  [2012-07-23 Mon 17:58]
:Date: Fri, 20 Jul 2012 06:53:47 -0700 (PDT)
:Message: [[message://7cfd9e34-e07e-49f6-8825-225b820e1c54@googlegroups.com][default values format]]
:Author: Alexandre Rademaker <arademaker@gmail.com>
:END:
** TODO (John) ledger.el won't reconcile
:PROPERTIES:
:ID:       3652375C-804D-44C0-AB7B-116191F6AD99
:CREATED:  [2012-03-19 Mon 00:44]
:Date: Sun, 18 Mar 2012 21:00:54 -0400
:Message: [[message://87pqc9csl5.fsf@buster.johnrakestraw.com][ledger.el won't reconcile]]
:Author: John Rakestraw <johnr-hdTKlMK9g6hNu5YjidvPyAC/G2K4zDHf@public.gmane.org>
:END:
** TODO [[bug:389][#389]] Emacs mode autocompletion issue
   :PROPERTIES:
   :ID:       87255055-84B2-4B95-B643-0F8848C06D70
   :Submitter: Todd B <avtsbtmn@gmail.com>
   :Message:  [[message://97c84a1d-67f6-48be-b718-6abdf592e3bd@y11g2000yqm.googlegroups.com][Emacs mode autocompletion issue]]
   :CREATED:  [2010-07-17 Sat 05:01]
   :END:
** TODO [[bug:391][#391]] Emacs reconciliation mode does not work on Linux
   :PROPERTIES:
   :ID:       63328ED4-3C26-4DF6-8C1A-526E86A56ED2
   :Submitter: bugzilla-daemon@mail.johnwiegley.com
   :Message:  [[message://bug-391-1@http.newartisans.com/bugzilla/][{Bug 391} New: Emacs reconciliation mode does not work on Linux]]
   :CREATED:  [2010-08-05 Thu 19:08]
   :END:
** TODO [[bug:396][#396]] ledger emacs doesn't escape double quotes
   :PROPERTIES:
   :ID:       8CE53771-0142-4F89-8C09-F24418AE3B93
   :Submitter: bugzilla-daemon@mail.johnwiegley.com
   :Message:  [[message://bug-396-1@http.newartisans.com/bugzilla/][{Bug 396} New: ledger emacs doesn't escape double quotes]]
   :CREATED:  [2010-08-16 Mon 16:28]
   :END:
** TODO [[bug:431][#431]] Reconciling with ledger.el doesn't seem to work
   I use ledger.el with GNU Emacs 23.2.1. Is that supported at all? I wonder,
   because the reconcile mode doesn't seem to work. Hitting SPACE or RETURN
   doesn't do anything. I can use other keys such as 'r', 's', etc., but those
   are useless without the ability to clear a transaction with SPACE. Am I
   doing something wrong, or is that a known problem with Emacs 23?
   :PROPERTIES:
   :ID:       70FDB8A4-6552-44AF-AD81-D0C412A905DE
   :Submitter: GitHub <noreply@github.com>
   :Message:  [[message://4c8e1d53a5fb0_5b163fae2e59506c1fb@fe1.rs.github.com.tmail][{GitHub} Reconciling with ledger.el doesn't seem to work {jwiegley/ledger GH-17}]]
   :CREATED:  [2010-09-13 Mon 17:19]
   :END:
** TODO [[bug:441][#441]] Patch to allow jumping between records with M-n and M-p                     :ATTACH:
   :PROPERTIES:
   :ID:       669AE4A1-E30D-4A3D-A330-06E183FBF66E
   :Submitter: Russell Adams <RLAdams@AdamsInfoServ.Com>
   :Message:  [[message://20101110003259.GN30297@x201][Patch for ledger.el]]
   :Attachments: ledger.el.movement.patch
   :CREATED:  [2010-11-10 Wed 09:14]
   :END:
** TODO [[bug:442][#442]] Trouble with the emacs reconciling features
   - Note taken on [2010-11-26 Fri 13:45] \\
     Scott Walck: Thanks, Tom.  That worked great.
   - Note taken on [2010-11-26 Fri 13:45] \\
     Tom Rindborg: I had the same problem, and I have filed a bug report for
     it. The reason is that (car where) evaluates to "/dev/stdin" on Linux.

     While waiting for an official bug fix you can fix the problem with the
     following sed command:
     :OUTPUT:
     sed -e 's|(equal (car where) "<stdin>")|(string-match-p "stdin" (car where))|' -i ledger.el
     :END:
   I just installed ledger on a new computer (ubuntu 10.04) and I am having
   trouble with the emacs reconciling features that have worked well in the
   past on other computers.  When I open a reconciling buffer, the space bar
   does not toggle a transaction like it should.  When I change ledger.el as
   follows, skipping the equality test between (car where) and "<stdin>",
   things seem to work again.
   :PROPERTIES:
   :ID:       EA4933EE-A324-4925-9827-7D594E9A6441
   :Submitter: Scott Walck <scott.n.walck@gmail.com>
   :Message:  [[message://cc55b8f2-8b24-4a8f-ad3e-8c2842722593@l6g2000yqb.googlegroups.com][ledger.el troubles]]
   :CREATED:  [2010-10-03 Sun 22:16]
   :END:
** TODO [[bug:460][#460]] ledger.el expects blank lines around transactions
   :PROPERTIES:
   :ID:       190E8223-FCD1-4592-B1CF-7C682E3D3F8B
   :Submitter: David Brown <ledger@davidb.org>
   :Message:  [[message://87sjxgi7wd.fsf@a64.davidb.org][Some ledger.el questions]]
   :CREATED:  [2010-12-29 Wed 17:41]
   :END:
** TODO [[bug:464][#464]] auto-indenting in emacs mode?
   - State "TODO"       from "DEFERRED"   [2011-01-02 Sun 04:48]
   - State "DEFERRED"   from "TODO"       [2010-04-27 Tue 08:59]
   :PROPERTIES:
   :ID:       9CCBD7BF-DB21-4BEA-B603-16BB87BA0082
   :Message:  [[message://m2p1ea387f61004101209lb0fb93a8z160df933074f99b1@mail.gmail.com][auto-indenting in emacs mode?]]
   :CREATED:  [2010-04-11 Sun 03:55]
   :END:
** TODO [[bug:465][#465]] ledger.el tweak for handling yyyy-mm-dd
   :PROPERTIES:
   :ID:       8BFE15FF-71AD-4F4E-AE15-C922E6A10205
   :Submitter: jimr <jim.robinson@gmail.com>
   :Message:  [[message://52d270cf-30a2-45c1-9ad2-c0b95b0539b9@z26g2000prf.googlegroups.com][ledger.el tweak for handling yyyy-mm-dd]]
   :CREATED:  [2011-01-02 Sun 09:16]
   :END:
** TODO [[bug:468][#468]] New ledger mode in master sometimes erases data when aligning amounts
   :PROPERTIES:
   :ID:       EF8918DA-97AC-4BD2-8676-7D8B49A35097
   :Submitter: bugzilla-daemon@mail.johnwiegley.com
   :Message:  [[message://bug-468-1@http.newartisans.com/bugzilla/][{Bug 468} New: new ledger mode in master sometimes erases data when aligning amounts]]
   :CREATED:  [2011-01-10 Mon 17:21]
   :END:
** TODO [[bug:485][#485]] Problem reconciling with ledger.el: spacebar does nothing
   :PROPERTIES:
   :ID:       8C580CBF-4759-452D-9AF6-51E6ADECFDC3
   :CREATED:  [2011-02-12 Sat 00:16]
   :Message:  [[message://25362.2107.1297417062067.JavaMail.geo-discussion-forums@yqmi40][Problem Reconciling with ledger.el - Spacebar Does Nothing]]
   :END:
** TODO [[bug:495][#495]] Emacs ledger mode v3 & reconcile
   - Note taken on [2011-03-07 Mon 14:51] \\
     [[message://AANLkTin2T3zbdXqEHiu2_OVP%2BW_xEdyQPoRBDtYXkEBa@mail.gmail.com][Re: emacs ledger mode v3 & reconcile]]
   - Note taken on [2011-03-07 Mon 14:51] \\
     [[message://AANLkTimeY0_PbDM8sZr41uf74Ch3tEXtOGfOTi6RHSF7@mail.gmail.com][Re: emacs ledger mode v3 & reconcile]]
   :PROPERTIES:
   :ID:       EEAF4E93-18DA-4658-BDFE-E10172158396
   :CREATED:  [2011-03-07 Mon 14:50]
   :Message:  [[message://AANLkTimzfEdDUv6uNvFcCw6k2h2Gfasdh-jR4KsB+rDC@mail.gmail.com][emacs ledger mode v3 & reconcile]]
   :Submitter: Thierry Daucourt <thierry.daucourt@free.fr>
   :Date:     Sat, 5 Mar 2011 15:33:35 +0100
   :END:
** TODO [[bug:509][#509]] Reconciling using ledger.el doesn't work with latest ledger from git
   :PROPERTIES:
   :ID:       9D4B86FB-8B91-48CA-91B9-2F586D14C60D
   :CREATED:  [2011-05-13 Fri 12:02]
   :Message:  [[message://bug-509-1@http.newartisans.com/bugzilla/][{Bug 509} New: reconciling using ledger.el doesn't work with latest ledger from git]]
   :Submitter: bugzilla-daemon@mail.johnwiegley.com
   :Date:     Wed, 11 May 2011 06:21:06 -0500 (CDT)
   :END:
** TODO [[bug:521][#521]] ledger and currency format in entry command
   My problem is not with ledger mode, but with ledger entry command. If I
   omit the commodity in the entry command the dot is recognized as thousands
   separator rather than decimal separator:
   :OUTPUT:
   $ ledger -f BR01.dat entry 05/13 Salsa Resta 12.00 Cash

   2011/05/13 Salsalito
       Expenses:Restaurante                       1.200
       Assets:Cash

   $ ledger -f BR01.dat entry 05/13 Salsa Resta 12,00 Cash

   2011/05/13 Salsalito
       Expenses:Restaurante                       12,00
       Assets:Cash
   :END:
   But the question is why is ledger using comma as default decimal separator
   if I have in my ledger file BR01.dat the line:
   #+begin_src ledger
   D $1,000.00
   #+end_src
   :PROPERTIES:
   :ID:       A7B25520-3540-48E9-B2CF-F1E738B06BC3
   :CREATED:  [2011-05-17 Tue 17:16]
   :Message:  [[message://25416512.4102.1305385663024.JavaMail.geo-discussion-forums@vbqe26][ledger and currency format in entry command]]
   :Submitter: Alexandre Rademaker <arademaker@gmail.com>
   :Date:     Sat, 14 May 2011 08:07:43 -0700 (PDT)
   :END:
** TODO [[bug:523][#523]] Two patches for ledger.el
   :PROPERTIES:
   :ID:       10257074-8228-4DA0-B004-503A47561D6A
   :CREATED:  [2011-04-07 Thu 01:39]
   :Message:  [[message://jwiegley/ledger/pull/25@github.com][{GitHub} Two patch for ledger.el {jwiegley/ledger GH-25}]]
   :Submitter: vanicat <reply+i-738876-e6c2bd7e07d155e7598aca9c15a040a6dc86b89a@reply.github.com>
   :Date:     Wed, 6 Apr 2011 11:20:37 -0700
   :END:
** TODO [[bug:525][#525]] Trouble with Emacs ledger-mode
   - Note taken on [2011-06-09 Thu 01:21] \\
     My emergency workaround (for the past several weeks) has been to use
     some elisp to remove the double quotes:

     #+begin_src diff
     diff --git a/ledger/ledger.el b/ledger/ledger.el
     index 8e4de27..20a4370 100644
     --- a/ledger/ledger.el
     +++ b/ledger/ledger.el
     @@ -583,6 +583,9 @@ dropped."
                   (ledger-run-ledger buf "--uncleared" "emacs" account)))
              (when (= 0 exit-code)
                (goto-char (point-min))
     +		(while (re-search-forward "\"\"" nil t)
     +            (replace-match "\""))
     +		(goto-char (point-min))
                (unless (eobp)
                  (unless (looking-at "(")
                    (error (buffer-string)))
     #+end_src

     Obviously, this is not a long-term solution. :)
   In my case it errors out in the function ledger-do-reconcile at the point
   it is trying to goto the line number in the ledger file for a particular
   transaction.  The uncleared transactions are in a list structure that I
   think _should_ look something like:
   #+begin_src lisp
   ((/dev/stdin 1890 (19667 18688 0) nil "John Lewis"
    (1897 "Liabilities:premier" "£-159.00" nil))...
   #+end_src

   The file line numbers are the second item in the detail of each
   transction which are dug out with an (nth 1 call and passed to
   goto-line.  What I see being passed through to goto-line is actually
   /dev/stdin, which, not being a file position causes the error.

   The transaction list is built by a call out to ledger with the emacs
   option that returns a stream suitable for the lisp reader to swallow up.
   In my case that stream looks like:
   #+begin_src lisp
   ((""/dev/stdin"" 1890 (19667 18688 0) nil "John Lewis"
    (1897 "Liabilities:premier" "£-159.00" nil))...
   #+end_src

   with those odd looking doubled quotes.  I am guessing but it looks
   like the reader is seeing an empty string as the first item in the list
   and therefore /dev/stdin, rather than the line number, as the second.

   This isn't a lisp issue.  I am getting those doubled quotes on the
   command line as well.  If they are the source of the problem then I'm
   sorry but I have no idea where they are coming from.

   For what it is worth I am building with boost 1.46.1
   :PROPERTIES:
   :ID:       2D813401-0D9C-469B-B047-EDF21AA53520
   :CREATED:  [2011-04-23 Sat 05:03]
   :Message:  [[message://m2tydqtu2z.fsf@bo.sak.lan][Re: Trouble with Emacs ledger-mode]]
   :Submitter: Philip Rooke <phil@yax.org.uk>
   :Date:     Fri, 22 Apr 2011 12:16:04 +0100
   :END:
** TODO [[bug:526][#526]] ledger-mode.el does not recognize decimal dot separator
   I upgraded to Aquamacs Distribution 2.2 in Mac OS 10.6.7 running Ledger
   2.6.2 few weeks ago. After that, my ledger-mode.el does not recognize the
   decimal dot separator in the amount when I create a new entry with the
   command C-c C-a. Have anyone had similar problem?
   :PROPERTIES:
   :ID:       AB161685-E9AD-4240-8477-E31FFAD26A38
   :CREATED:  [2011-05-17 Tue 17:16]
   :Message:  [[message://30767627.3925.1305383585634.JavaMail.geo-discussion-forums@vbjh33][ledger-mode.el]]
   :Submitter: Alexandre Rademaker <arademaker@gmail.com>
   :Date:     Sat, 14 May 2011 07:33:05 -0700 (PDT)
   :END:
** TODO [[bug:527][#527]] Include check numbers in emacs reconcile buffer
   Is there an option I can set to include check numbers in the reconcile
   buffer when I'm reconciling an account using emacs?
   :PROPERTIES:
   :ID:       F5EDFAC6-850F-4558-B367-63AE454AABDC
   :CREATED:  [2011-04-23 Sat 21:38]
   :Message:  [[message://m362q52fiu.fsf@buster.johnrakestraw.com][Include check numbers in emacs reconcile buffer?]]
   :Submitter: John Rakestraw <johnr@johnrakestraw.com>
   :Date:     Sat, 23 Apr 2011 10:44:57 -0400
   :END:
** TODO [[bug:545][#545]] Create a quick entry function for Ledger to reduce keystrokes
    It lets me just say "exxon 10" at the minibuffer, then takes me to the entry.
    :PROPERTIES:
    :ID:       7E625CF1-1258-4B29-9227-29153CC54B53
    :CREATED:  [2011-07-09 Sat 20:44]
    :END:
** TODO [[bug:620][#620]] The -j option needs a way to specific the base to report values in
If you report the following data using "reg -j", it outputs commodityless
values that nonetheless have different bases: some are minute quantities,
others are hour quantities.

You can get around this using --base, however then your only recourse is to
report in terms of seconds.  But what if you wanted to graph hours worked per
day?  The -j option should force use of the default base (hours), and then
there should be an option added to manually specify the reporting base, such
as  "--use-base m".
:PROPERTIES:
:ID:       B7C2C869-7319-449C-8350-E14F3A26DCB8
:CREATED: [2012-02-23 Thu 21:52]
:END:
** TODO [[bug:635][#635]] ledger.el and support for YYYY-MM-DD dates
I don't recall if I picked these changes up from this list or if I muddled
through it myself at one point, but since I just had to restore a backup from
the ledger.el provided by the github repo for ledger I thought I'd post this:

  http://highwire.stanford.edu/~jimr/misc/ledger.el.diff

It's a small set of changes to the ledger.el that supports clearing
transactions that use the YYYY-MM-DD format, and which make some adjustments
to tab vs. spaces in the pattern matching used in the lisp code. I think I
submitted a bug report for this last one, but can't find it in the bugzilla db
right now.
:PROPERTIES:
:ID:       2DC5CB7E-F612-4813-9246-E95C691DCEAB
:CREATED:  [2012-01-02 Mon 04:13]
:Date: Fri, 30 Dec 2011 07:28:14 -0800 (PST)
:Message: [[message://1006733.2027.1325258894225.JavaMail.geo-discussion-forums@prht13][ledger.el and support for YYYY-MM-DD dates]]
:Submitter: Jim Robinson <jim.robinson-Re5JQEeQqe8AvxtiuMwx3w@public.gmane.org>
:END:
** TODO [[bug:653][#653]] Do automatic transactions break emacs reconcile mode?
This may be related to a feature request I made a while back.  Automatic
transactions are getting reported to the reconciliation mode as uncleared
transactions.  This appears to be breaking the reconciliation mode.  reconcile
gives a paramter error that happens to complain about a check number I have in
my jounral.  I added --real to the ledger command called by ledger and it no
longer complains, but the buffer is empty.  It doesn repond to the 'q'
command, but nothing else I do seems to bring anything up in the buffer.

I assume that if I type C-c C-r Expenses, the reconcile buffer should show all
my uncleared transactions.  All I get is an empty buffer.
:PROPERTIES:
:ID:       A7D23C81-73A4-4849-BB03-5B3C489332B5
:CREATED:  [2011-11-16 Wed 15:15]
:Date:     Tue, 15 Nov 2011 16:00:35 -0700
:Message:  [[message://CAKs9TOLF1tFi9fzsbboAfwSor-uXU69hDJM4GxFBLjFu4PAxJw@mail.gmail.com][Do automatic transactions break emacs reconcile mode?]]
:Submitter: Craig Earls <enderw88-Re5JQEeQqe8AvxtiuMwx3w@public.gmane.org>
:END:
** TODO [[bug:699][#699]] Typing chars in reconcile-mode should quick set the account name
:PROPERTIES:
:ID:       B1AA3DBB-9766-4148-8A0E-7E87076D8963
:CREATED:  [2012-03-12 Mon 06:00]
:END:
** TODO [[bug:710][#710]] ledger-mode is ruining the undo history
:PROPERTIES:
:ID:       BC63A8C3-B564-4AD6-97AE-056B1A4FBE5E
:CREATED:  [2012-03-16 Fri 04:11]
:END:
** TODO cmd-emacs.test fails for tbm with --now set
:PROPERTIES:
:ID:       9B666875-4DED-48E4-9C1B-22E9724283DB
:CREATED:  [2012-03-23 Fri 14:02]
:END:
** DEFERRED [[bug:245][#245]] Add colorized highlighting to the reconciler
   - State "DEFERRED"   from "TODO"       [2009-10-31 Sat 05:05]
   http://thread.gmane.org/gmane.comp.finance.ledger.general/483
   :PROPERTIES:
   :ID:       C7E28F7F-93F9-4C3F-956A-4F4B84868CBF
   :CREATED:  [2009-10-31 Sat 00:06]
   :END:
** DEFERRED [[bug:246][#246]] Add folding support to ledger.el
   - State "DEFERRED"   from "TODO"       [2009-10-25 Sun 22:03]
   - State "TODO"       from "DELEGATED"  [2009-10-22 Thu 06:46]
   - State "DELEGATED"  from "TODO"       [2009-10-11 Sun 05:31] \\
     Demosthenes said that the author of loccur was going to look into this.
   For example, show only transactions matching a given report query.
   :PROPERTIES:
   :ID:       E98B3CBD-B76F-4917-92A5-4B9E69833131
   :CREATED:  [2009-10-06 Tue 17:29]
   :END:
** DEFERRED [[bug:247][#247]] Allow for quicker reporting commands in ledger.el
   - State "DEFERRED"   from "TODO"       [2009-10-25 Sun 22:04]
   :PROPERTIES:
   :Version:  2.6
   :Ticket:   117
   :ID:       932324E2-4A3F-4319-9586-1F33DFE29527
   :END:
** DEFERRED [[bug:248][#248]] Allow reconciling postings in multiple included files
   - State "DEFERRED"   from "TODO"       [2009-10-25 Sun 22:03]
   :PROPERTIES:
   :ID:       29AC8129-C451-4782-8371-B74588609E9F
   :CREATED:  [2009-03-03 Tue 00:10]
   :END:
** DEFERRED [[bug:249][#249]] Allow reports, such as completed tasks last week, etc.
   - State "DEFERRED"   from "TODO"       [2009-10-25 Sun 22:04]
   :PROPERTIES:
   :ID:       D9B4D001-21E4-4247-ADF6-56C00B2C8F3A
   :CREATED:  [2008-05-12 Mon]
   :END:
** DEFERRED [[bug:250][#250]] Break ledger.el up into sections
   - State "DEFERRED"   from "TODO"       [2009-10-25 Sun 22:03]
   - Font-locking
   - REPL interaction
   - Parsing
   - Utility functions
   - Manipulation (sorting, etc)
   - Reconciling
   - Reports
   :PROPERTIES:
   :ID:       770D07CF-9F28-4A9B-B4E8-48ACC4926E06
   :CREATED:  [2009-10-23 Fri 06:12]
   :END:
** DEFERRED [[bug:251][#251]] C-c C-c should be magical in ledger-mode
   - State "DEFERRED"   from "TODO"       [2009-10-25 Sun 22:03]
   It should auto-generate reports, for example, if the user does it in an
   account or payee name.
   :PROPERTIES:
   :ID:       5C52F851-18CF-41A3-953B-49DA4EF67C00
   :CREATED:  [2009-10-23 Fri 06:12]
   :END:
** DEFERRED [[bug:252][#252]] Create a hotkey for creating Ledger transactions
   - State "DEFERRED"   from "TODO"       [2009-10-25 Sun 22:03]
   :PROPERTIES:
   :ID:       CAAE8C68-A26F-4BED-A626-751A98B57E7E
   :CREATED:  [2009-10-23 Fri 06:13]
   :END:
** DEFERRED [[bug:253][#253]] Fix toggle-current-transaction
   - State "DEFERRED"   from "TODO"       [2009-10-25 Sun 22:04]
   When all transactions have been cleared, the marks should be wiped and then
   ledger-toggle-current-entry called, rather than doing the entry clearing
   itself.
   :PROPERTIES:
   :Version:  2.6
   :Ticket:   130
   :ID:       465231DF-6EF2-4C4F-BF0D-9FED19AB99A3
   :CREATED:  [2008-04-11 Fri]
   :END:
** DEFERRED [[bug:254][#254]] Have ledger.el warn if the ledger version is too old
   - State "DEFERRED"   from "TODO"       [2009-10-25 Sun 22:04]
   :PROPERTIES:
   :Version:  2.6
   :Ticket:   163
   :ID:       5F20A546-046B-4CC6-B1EF-89C5962B55BE
   :CREATED:  [2008-04-11 Fri]
   :END:
** DEFERRED [[bug:255][#255]] Highlight transaction lines based on their status
   - State "DEFERRED"   from "TODO"       [2009-10-25 Sun 22:04]
   Here is a tweak to ledger-mode that I find useful. It makes uncleared lines
   pink and cleared lines green. C-c C-e to toggle the status.
   :SCRIPT:
   (add-hook 'ledger-mode-hook (lambda ()
                                (highlight-lines-matching-regexp "^..\\(..\\)?/..?/..?[         ]+[^\\*]" (quote hi-pink))
                                (highlight-lines-matching-regexp "^..\\(..\\)?/..?/..?[         ]+\\*" (quote hi-green))))
   :END:
   :PROPERTIES:
   :Version:  2.6
   :Ticket:   200
   :ID:       1C870658-6460-423C-9199-E46C48074688
   :CREATED:  [2008-07-13 Sun]
   :END:
** DEFERRED [[bug:256][#256]] Inserting comments in ledger-mode is inserting leading whitespace
   - State "DEFERRED"   from "TODO"       [2009-10-25 Sun 22:03]
   Comments in ledger-mode are inserted with whitespace at the beginning of the
   line, which makes ledger.dat unusable.  One has to delete the extra
   whitespace manually afterwards.
   :OUTPUT:
   do! ledger bal bank
   Error: "ledger.dat", line 341: Line begins with whitespace
   Error: "ledger.dat", line 342: Line begins with whitespace
   Error: "ledger.dat", line 343: Line begins with whitespace
   :END:
   :PROPERTIES:
   :Submitter: Henry Atting <nsmp_01@online.de>
   :Message:  [[message://87y6ukqwyy.fsf@online.de][inserting comments in ledger-mode ]]
   :ID:       BEBC59BB-C7FF-4295-9EE5-171354CCEBBC
   :CREATED:  [2009-04-01 Wed 18:57]
   :END:
** DEFERRED [[bug:257][#257]] Ledger-context-at-point fails to parse acct-transaction
   - State "DEFERRED"   from "TODO"       [2009-10-25 Sun 22:04]
   - State "TODO"       [2007-11-07 Wed 04:06] \\
     Levin <zslevin@gmail.com> writes:
     > The following patch fixes problem of the amount with no ',':
     :PATCH:
     @@ -648,10 +648,12 @@
             (indent account amount nil commodity comment))
            ("\\(^[ \t]+\\)\\(.*?\\)[ \t]+\\(-?[0-9]+\\(\\.[0-9]*\\)?\\)[ \t]+\\(.*?\\)[ \t]*$"
             (indent account amount nil commodity))
     -      ("\\(^[ \t]+\\)\\(.*?\\)[ \t]+\\(-?\\(\\.[0-9]*\\)\\)[ \t]+\\(.*?\\)[ \t]*;[ \t]*\\(.*?\\)[ \t]*$"
     +      ("\\(^[ \t]+\\)\\(.*?\\)[ \t]+\\(-?[0-9]+\\(\\.[0-9]*\\)?\\)[ \t]+\\(.*?\\)[ \t]*;[ \t]*\\(.*?\\)[ \t]*$"
             (indent account amount nil commodity comment))
     -      ("\\(^[ \t]+\\)\\(.*?\\)[ \t]+\\(-?\\(\\.[0-9]*\\)\\)[ \t]+\\(.*?\\)[ \t]*$"
     +      ("\\(^[ \t]+\\)\\(.*?\\)[ \t]+\\(-?[0-9]+\\(\\.[0-9]*\\)?\\)[ \t]+\\(.*?\\)[ \t]*$"
             (indent account amount nil commodity))
     +      ("\\(^[ \t]+\\)\\(.*?\\)[ \t]+\\(-?[0-9]+\\(\\.[0-9]*\\)?\\)[ \t]*$"
     +       (indent account amount nil))
            ("\\(^[ \t]+\\)\\(.*?\\)[ \t]*;[ \t]*\\(.*?\\)[ \t]*$"
             (indent account comment))
            ("\\(^[ \t]+\\)\\(.*?\\)[ \t]*$"
     :END:
     > BTW, the amount regexp is a bit complex here. Do we need the fraction
     > part of the amount? And it should recognize the ',' in amount.
   Use the following ledger data
   :DATA:
   2004/05/01 * Checking balance
     Assets:Bank:Checking        1000.00
     Equity:Opening Balances
   :END:
   With cursor on the beginning of the second line, eval
   `(ledger-context-at-point)`, which returns:
   :OUTPUT:
   (acct-transaction account ((indent "  " 31) (account "Assets:Bank:Checking        1000.00" 33)))
   :END:
   It is not correct, since 1000.00 ought to be amount.

   ledger-context-at-point also fails to parse amount with ',' in it, such as:
   :DATA:
   2004/05/01 * Checking balance
     Assets:Bank:Checking        $1,000.00
     Equity:Opening Balances
   :END:
   :PROPERTIES:
   :Submitter: Levin <zslevin@gmail.com>
   :Version:  2.6
   :Ticket:   6
   :ID:       2558642F-EE17-4DCB-B6DB-50490FB0CF83
   :CREATED:  [2007-11-07 Wed]
   :END:
** DEFERRED [[bug:258][#258]] ledger.el should define its own faces
   - State "DEFERRED"   from "TODO"       [2009-10-25 Sun 22:03]
   This would allow people to describe how they want cleared and uncleared
   payee names to appear.
   :PROPERTIES:
   :Submitter: John Wiegley <johnw@newartisans.com>
   :Version:  2.6.1
   :Milestone: 3.0
   :Ticket:   2
   :ID:       78B2F4A4-DCE5-1B40-9C21-86195584ACF1
   :CREATED:  [2009-03-01 Sun 01:08]
   :END:
** DEFERRED [[bug:259][#259]] Look at making ledger's new entry completion behavior cyclic
   - State "DEFERRED"   from "TODO"       [2009-10-25 Sun 22:04]
   :PROPERTIES:
   :ID:       B443E186-4E6F-4FB5-8421-4F703DC9353C
   :CREATED:  [2009-02-13 Fri 05:17]
   :END:
** DEFERRED [[bug:260][#260]] Make M-x ledger-sort work on the current region
   - State "DEFERRED"   from "TODO"       [2009-10-25 Sun 22:04]
   :PROPERTIES:
   :ID:       C390F6D0-FA81-4A1B-877A-C6946EA51105
   :CREATED:  [2009-01-29 Thu 19:36]
   :END:
** DEFERRED [[bug:261][#261]] Make TAB more magical in ledger-mode
   - State "DEFERRED"   from "TODO"       [2009-10-25 Sun 22:03]
   It should do what C-c TAB does, but still cycle.  Or, it should move around.
   Or, if in payee and preceding char is a digit, call ledger xact.
   :PROPERTIES:
   :ID:       2A9F5DDB-4DB6-4E87-A755-392F51CF0C2D
   :CREATED:  [2009-10-23 Fri 06:13]
   :END:
** DEFERRED [[bug:262][#262]] Pressing C-c C-c on an entry line should clear it
   - State "DEFERRED"   from "TODO"       [2009-10-25 Sun 22:04]
   :PROPERTIES:
   :ID:       FEE28C4E-B113-4280-85F5-42E2B8EE603B
   :CREATED:  [2009-01-31 Sat 06:13]
   :END:
** DEFERRED [[bug:263][#263]] Redesign ledger.el
   - State "DEFERRED"   from "TODO"       [2009-10-25 Sun 22:03]
   It should always be talking with Ledger via the REPL.
   :PROPERTIES:
   :ID:       BADF02BF-CAA1-4990-B9FF-DA20BA025FE0
   :CREATED:  [2009-10-23 Fri 06:11]
   :END:
** DEFERRED [[bug:264][#264]] The Great Renaming still needs to take place in ledger.el
   - State "DEFERRED"   from "TODO"       [2009-10-25 Sun 22:04]
   :PROPERTIES:
   :ID:       721AC8F7-9189-4151-8611-2BBC0D1E8267
   :CREATED:  [2009-06-19 Fri 00:49]
   :END:
** DEFERRED [[bug:265][#265]] Use of ledger.el with various invalid "ledger" binaries (and none)
   - State "DEFERRED"   from "TODO"       [2009-10-25 Sun 22:04]
   :PROPERTIES:
   :Version:  2.6
   :Ticket:   175
   :ID:       8735E6AB-DB0A-4F66-BD81-BBFFEE66A68E
   :CREATED:  [2008-04-11 Fri]
   :END:
** DEFERRED [[bug:266][#266]] Use yasnippet with ledger-mode
   - State "DEFERRED"   from "TODO"       [2009-10-25 Sun 22:03]
   :PROPERTIES:
   :ID:       178EC4C8-F87A-40C2-91CE-C5BD9CA50BD3
   :CREATED:  [2009-10-23 Fri 06:14]
   :END:
** DEFERRED [[bug:502][#502]] Auto-complete with Ledger.el in Emacs
- State "DEFERRED"   from "TODO"       [2012-03-11 Sun 20:32]
   Right now ledger.el only reads the text in the current file.  You could put
   a dummy transaction at the top which transfer zero dollars among a bunch of
   accounts.  But I'll make a note that it should follow file inclusions to
   determine the complete set of account names.
   :PROPERTIES:
   :ID:       6BF64136-5B4A-4FA2-AC90-5AB3D90A16C3
   :CREATED:  [2011-03-30 Wed 14:15]
   :Message:  [[message://1357411.342.1301506462564.JavaMail.geo-discussion-forums@yqis17][Auto-complete with Ledger.el in Emacs.]]
   :Submitter: Ian Barton <ian@wilkesley.com>
   :Date:     Wed, 30 Mar 2011 10:34:22 -0700 (PDT)
   :END:
** DONE [#A] Pressing space bar on items on the reconcile window does nothing
   - State "DONE"       from "TODO"       [2009-10-31 Sat 04:16]
   message://01BBC0A5-1185-4FCF-8D8C-72E29FA86675@gmail.com
   :PROPERTIES:
   :ID:       AC756278-72D5-4CAC-82A7-334A9BB6F7EE
   :CREATED:  [2009-10-03 Sat 03:23]
   :END:
** DONE [#A] ledger.el byte-compile error: Unknown rx form `date'
   - State "DONE"       from "TODO"       [2010-05-13 Thu 00:14]
   :PROPERTIES:
   :ID:       9D0245D2-22B7-457A-993F-0C5006E153BA
   :Message:  [[message://1273691277.24226.30.camel@black][ledger.el error]]
   :CREATED:  [2010-05-12 Wed 15:34]
   :END:
** DONE Add easy-menu for Emacs-mode
- State "DONE"       from "TODO"       [2012-02-23 Thu 21:10]
:PROPERTIES:
:ID:       34D222C4-7343-4AC0-AF00-202DF030482A
:CREATED:  [2011-12-08 Thu 22:12]
:Date: Thu, 8 Dec 2011 18:56:54 -0800
:Message: [[message://jwiegley/ledger/pull/49@github.com][{ledger} Add easy-menu for Emacs-mode (#49)]]
:Submitter: Kenny Meyer <reply+i-2498116-e90a1a758c19fe7dfe49f3a101c160aa4aa822aa-8460@reply.github.com>
:END:
** DONE In ledger-mode, color directive lines a different color
   - State "DONE"       from "TODO"       [2009-06-16 Tue 18:13]
   :PROPERTIES:
   :Version:  2.6
   :Ticket:   186
   :ID:       B34222A3-DD25-4717-B60B-865DB7F1DFD6
   :CREATED:  [2008-04-16 Wed]
   :END:
** DONE Make *, # and | into comment characters, for Org compatibility
   - State "DONE"       from "TODO"       [2009-11-25 Wed 02:36]
   :PROPERTIES:
   :ID:       B38AC5A0-31BB-4F89-8112-5999D8A99C02
   :CREATED:  [2009-11-24 Tue 22:17]
   :END:
** WONTFIX [[bug:479][#479]] Descriptions of cleared transactions are not highlighted
- State "WONTFIX"    from "TODO"       [2012-03-12 Mon 00:11] \\
  This behavior is intentional.  The highlighted means "This transaction is
  awaiting your attention!"  Perhaps it is confusing though...
   :PROPERTIES:
   :ID:       D26858FD-A897-4D2D-98F9-156ADB25D22F
   :CREATED:  [2011-02-12 Sat 14:34]
   :Submitter: bugzilla-daemon@mail.johnwiegley.com
   :Message:  [[message://bug-479-1@http.newartisans.com/bugzilla/][{Bug 479} New: Descriptions of cleared transactions are not highlighted]]
   :END:
** WORKSFORME C-c TAB no longer works in ledger-mode
   :PROPERTIES:
   :ID:       AA885449-23F0-450C-BBA8-ECC8C073F14C
   :CREATED:  [2009-11-17 Tue 16:29]
   :END:
** WORKSFORME [[bug:183][#183]] Adding memo field breaks ledger-add-entry
   - State "WORKSFORME" from "TODO"       [2010-06-01 Tue 17:08]
   I do `C-c C-a', complete the date and enter a payee. According to an older
   entry with the same payee I am expecting something like this to appear:
   #+begin_src ledger
   2010/04/08 payee
          account1                1.00
          account2
   #+end_src

   But I get only:
   :OUTPUT:
   2010/04/08 payee
   :END:

   With a ledger backup file without memo fields everything still works fine.
   :PROPERTIES:
   :ID:       878AB79B-B656-4221-941F-6C956F6A1E92
   :Message:  [[message://87eiir4wov.fsf@online.de][Memo Field]]
   :Submitter: henry atting <nsmp_02@online.de>
   :CREATED:  [2010-04-08 Thu 18:47]
   :END:
** CLOSED C-c C-c on a cleared entry doesn't unclear it
- State "CLOSED"     from "DONE"       [2012-03-27 Tue 15:47] \\
  Cannot be tested.
   - State "DONE"       from "TODO"       [2009-06-16 Tue 18:11]
   :PROPERTIES:
   :Version:  2.6.0.90
   :Ticket:   212
   :ID:       863C0EE8-C193-46EE-9BAA-3A37DE73E4DB
   :END:
** CLOSED [[bug:467][#467]] ledger.el won't highlight account names if they have a space
- State "CLOSED"     from "DONE"       [2012-03-27 Tue 15:47] \\
  Cannot be tested.
- State "DONE"       from "TODO"       [2012-03-16 Fri 03:01]
   :PROPERTIES:
   :ID:       02CD3C95-0B6A-4B09-8C33-4D5CE6ACB93C
   :Submitter: GitHub <noreply@github.com>
   :Message:  [[message://4d26879ee6e14_2a73fd58175e87412f@fe2.rs.github.com.tmail][{GitHub} ledger.el won't highlight account names if they have a space {jwiegley/ledger GH-21}]]
   :CREATED:  [2011-01-07 Fri 04:48]
   :END:
** CLOSED [[bug:524][#524]] ledger.el, highlighting of account names w/spaces
- State "CLOSED"     from "DUPLICATE"  [2012-03-18 Sun 23:55]
- State "DUPLICATE"  from "TODO"       [2012-03-16 Fri 03:01] \\
  467
   I'm using the git ledger 3.0, and notice that account names with spaces
   in them are not highlighted properly. I'm quite sure single spaces are
   allowed in account names, and it troubles my little mind when they are
   not highlighted properly. I suspect the following font-lock statement:
   #+begin_src lisp
   (defvar ledger-font-lock-keywords
     '(("\\(       \\|  \\|^\\)\\(;.*\\)" 2 font-lock-comment-face)
       ("^[0-9]+[-/.=][-/.=0-9]+\\s-+\\(([^)]+)\\s-+\\)?\\([^*].+?\\)\\(\\(        ;\\|  ;\\|$\\)\\)" 2 bold)
       ;;("^[0-9]+[-/.=][-/.=0-9]+\\s-+\\(([^)]+)\\s-+\\)?\\([*].+?\\)\\(\\(       ;\\|  ;\\|$\\)\\)"
       ;; 2 font-lock-type-face)
       ("^\\s-+\\([*]\\s-*\\)?\\(\\([[(]\\)?[^*:
           ]+?:[^]);
           ]+?\\([])]\\)?\\)\\(    \\|  \\|$\\)"
        2 font-lock-keyword-face)
       ("^\\([~=].+\\)" 1 font-lock-function-name-face)
       ("^\\([A-Za-z]+ .+\\)" 1 font-lock-function-name-face))
     "Expressions to highlight in Ledger mode.")
   #+end_src
   In particular, the "font-lock-keyword-face" part. After staring at the
   regexp, however, I can't tell where the whitespace counter should be
   inserted. Can someone fix it?

   Sorry for the petty confusion, but it does make a difference...
   :PROPERTIES:
   :ID:       6212750C-AC03-41CB-968B-2EE1E64C747E
   :CREATED:  [2011-04-20 Wed 18:01]
   :Message:  [[message://87bp03apoz.fsf@ericabrahamsen.net][ledger.el, highlighting of account names w/spaces]]
   :Submitter: Eric Abrahamsen <eric@ericabrahamsen.net>
   :Date:     Mon, 18 Apr 2011 17:12:12 +0800
   :END:
** CLOSED [[bug:580][#580]] Emacs mode 'reconcile' doesn't work
- State "CLOSED"     from "DONE"       [2012-03-27 Tue 15:47] \\
  Cannot be tested.
- State "DONE"       from "TODO"       [2012-02-23 Thu 21:41] \\
  Fixed by d2915c6
   I'm trying to reconcile a ledger file in "GNU Emacs 23.3.1
   (x86_64-unknown-linux-gnu, GTK+ Version 2.24.3)". When I hit C-c C-r, I
   just get the following error message:
   :OUTPUT:
   save-excursion: Wrong type argument: number-or-marker-p, nil
   :END:
   
   I'm using the current git HEAD of ledger.
   :PROPERTIES:
   :ID:       400C0BA0-D132-465A-B0A4-AC7E6839DBD2
   :CREATED:  [2011-07-21 Thu 15:26]
   :Date:     Thu, 21 Jul 2011 09:23:28 -0700
   :Message:  [[message://jwiegley/ledger/issues/31@github.com][{ledger} Emacs mode 'reconcile' doesn't work (#31)]]
   :Submitter: peti <reply+i-1264237-1c07217de3933472fbd8fa785975d03170c352df@reply.github.com>
   :END:
** CLOSED [[bug:639][#639]] Highlight accounts with spaces in Emacs
- State "CLOSED"     from "DUPLICATE"  [2012-03-18 Sun 23:54]
- State "DUPLICATE"  from "TODO"       [2012-03-16 Fri 03:01] \\
  467
I have recently upgraded to ledger 3.0 and found that highlight of account
names with spaces is broken. I took a look at git repo and found that there's
a change set fixing exactly the same problem in 2009:
https://github.com/jwiegley/ledger/commit/8834fc0c15a53b8db8c2aaee95d2b25a050fe786

However the change set above adresses file ldg-mode.el, not ledger.el, I guess
something has been changed with packaging. Anyway I just reapplied this patch
to ledger.el locally and problem is fixed.
:PROPERTIES:
:ID:       E6D64332-BD37-48FD-A9B7-ACD1D213C240
:CREATED:  [2012-02-06 Mon 14:29]
:Date: Mon, 16 Jan 2012 21:58:28 -0800 (PST)
:Message: [[message://dd6656b9-eb45-4df1-a78d-6476cf75d112@a11g2000vbz.googlegroups.com][Highlight accounts with spaces in Emacs]]
:Author: Ivan <ivan.inozemtsev-Re5JQEeQqe8AvxtiuMwx3w@public.gmane.org>
:END:
* Features
  :PROPERTIES:
  :CATEGORY: Features
  :OVERLAY: (face (:background "#fdebeb"))
  :END:
** TODO Script to convert QuickBooks transaction export to Ledger format
:PROPERTIES:
:ID:       F1E1858C-2372-4AC4-8B81-A19141F9CAD6
:CREATED:  [2012-09-30 Sun 02:03]
:Date:     Sun, 23 Sep 2012 10:34:56 -0700 (PDT)
:Message:  [[message://6e96c973-175b-4a02-933f-e005d6577f20@googlegroups.com][Script to convert QuickBooks transaction export to Ledger format]]
:Author:   Gene Goykhman <gene@indigo1.com>
:END:
** TODO (Thierry) Best way to slurp bank records?
:PROPERTIES:
:ID:       9165B461-95DF-405B-ABC6-544868B800E9
:CREATED:  [2012-09-30 Sun 02:03]
:Date:     Sat, 29 Sep 2012 05:37:29 -0700 (PDT)
:Message:  [[message://53d07263-c529-4174-b470-bf905e210c95@googlegroups.com][Re: best way to slurp bank records?]]
:Author:   thierry <thierry.daucourt@free.fr>
:END:
** TODO (Qwertyu) Reply: Remove <Adjustment> lines from report
:PROPERTIES:
:ID:       D4D6A10A-EDEC-4571-A613-782457608D6D
:CREATED:  [2012-07-19 Thu 01:50]
:Date: Wed, 11 Jul 2012 08:52:42 -0700 (PDT)
:Message: [[message://a5eb1b34-fe59-4091-891f-ab1414b486f7@googlegroups.com][Re: Remove <Adjustment> lines from report]]
:Author: Qwertyu <scheit@gmail.com>
:END:
** TODO (Tim) Reply: RESTful web service API to Ledger
:PROPERTIES:
:ID:       C4405B98-F812-415E-94D5-BB0F19C142EA
:CREATED:  [2012-05-28 Mon 03:36]
:Date: Sun, 27 May 2012 22:01:37 -0700 (PDT)
:Message: [[message://29a53482-77c2-45e8-af68-2eec0aa57e7f@googlegroups.com][RESTful web service API to Ledger]]
:Author: Tim Crews <tim-QJ3Fn9itRil4wfmgmkLWVgC/G2K4zDHf@public.gmane.org>
:END:
** TODO (Zack) Templating for more complicated reports?
:PROPERTIES:
:ID:       D781A9E0-61AF-40CD-B3FA-B5212312CD57
:CREATED:  [2012-05-21 Mon 03:48]
:Date: Thu, 17 May 2012 09:19:09 -0700
:Message: [[message://CAOKFOQHi=rPwoDd1ehumrWdn2gurNfENBPsPzTk_bS0Wthp9oQ@mail.gmail.com][Templating for more complicated reports?]]
:Author: Zack Williams <zdwzdw-Re5JQEeQqe8AvxtiuMwx3w@public.gmane.org>
:END:
** TODO Add options to control how CSV files are parsed
For example: the separator char (, ; TAB), quoting, etc.
:PROPERTIES:
:ID:       31A310EB-82F2-48C8-BFE0-0B779419F91C
:CREATED:  [2012-07-03 Tue 16:10]
:END:
** TODO Add the ability to enter "absolute" account names
I am keeping my personal and business finances with ledger and use the
@account directive to construct the correct account hierarchy without entering
it all every time.

That poses a problem though, as I have to be able to move funds from my
business receivable accounts to my checking account, which is not in the same
prefix as my business transactions.

Is there a way to specify that an account name is "absolute", i.e. not
affected by @account directives? If not, how could I achieve this kind of
result?
:PROPERTIES:
:ID:       B28EB735-78C4-4D41-AF87-FCBF381D9D32
:CREATED:  [2012-05-27 Sun 01:27]
:END:
** TODO Plan for Ledger 3.1
- C++11
- CMake
- Boost.Spirit
:PROPERTIES:
:ID:       9866E0EA-AD4B-4C83-A4B6-5D5F9FC9F27A
:CREATED:  [2012-05-17 Thu 17:28]
:END:
** TODO Use Boost.Exception instead of custom error contexts
:PROPERTIES:
:ID:       DD26960B-C62C-455D-BFED-17BD32346273
:CREATED:  [2012-05-14 Mon 12:07]
:END:
** TODO Use Boost.Flyweight to manage recurring objects
:PROPERTIES:
:ID:       A35892E5-B2E4-41BB-B33A-152579E3C39B
:CREATED:  [2012-05-14 Mon 20:32]
:END:
** TODO Use numeric_cast<> to guard against overflow casts
:PROPERTIES:
:ID:       73482649-D65A-4300-9DAF-EB7D23846BF0
:CREATED:  [2012-05-14 Mon 12:29]
:END:
** TODO Use regex_token_iterator with -1 instead of strtok/Tokenizer
:PROPERTIES:
:ID:       F1C6299D-3714-40AB-B508-6C0A02931DD6
:CREATED:  [2012-05-17 Thu 18:01]
:END:
** TODO [[bug:173][#173]] Make the prices report use standard report query terms
   The idea here is that report query filtering is done before the building up
   of commodities prices, so that you can see which commodities are involved
   with which reports:
   #+begin_src sh
   ledger prices 'Lebensmittel:Milch'
   ledger prices '%kauf=leche'
   #+end_src
   :PROPERTIES:
   :ID:       5229AE44-F390-4E4E-BAC6-674373CC775D
   :Message:  [[message://4B0E7757.1030607@gmail.com][How to type out a sales slip?]]
   :Submitter: Johann Klähn <kljohann@gmail.com>
   :CREATED:  [2009-12-01 Tue 03:04]
   :END:
** TODO [[bug:174][#174]] Make path to getquote script configurable using an option
   :PROPERTIES:
   :ID:       81278A4A-C3EB-4C73-A38D-061598F727F2
   :CREATED:  [2010-04-13 Tue 01:37]
   :END:
** TODO [[bug:217][#217]] Make "primary COMM ACCOUNT" force primary comm for an account
   :PROPERTIES:
   :ID:       C88403DF-F983-45D4-830B-4F0F69B6946D
   :CREATED:  [2010-05-31 Mon 10:35]
   :END:
** TODO [[bug:225][#225]] Complain about mutually exclusive options (such as -M and -s)
   - State "TODO"       from "DEFERRED"   [2010-06-02 Wed 18:11]
   - State "DEFERRED"   from "TODO"       [2010-01-22 Fri 20:05]
   #+begin_src sh
   ledger -M -s reg ^actifs
   #+end_src
   Adding the -s option seems to break the -M one (instead of three months,
   there is a single "09-Nov-01 - 10-Jan-01" period).  In short, -s and -M
   can't be combined in ledger reg.
   :PROPERTIES:
   :ID:       3BC282AF-4C48-4D54-A156-C9840A80EFA1
   :Submitter: Gabriel Kerneis <gabriel@kerneis.info>
   :CREATED:  [2010-01-18 Mon 02:55]
   :END:
** TODO [[bug:292][#292]] Make alias names for directives, like convert for C
   - State "TODO"       from "DEFERRED"   [2010-06-12 Sat 05:31]
   - State "DEFERRED"   from "TODO"       [2009-10-25 Sun 22:06]
   :PROPERTIES:
   :ID:       BD78C023-BB16-446C-9347-2F1AA16C7C5C
   :CREATED:  [2009-02-27 Fri 15:35]
   :END:
** TODO [[bug:299][#299]] The CSV report should optionally generate a "title line"
   - State "TODO"       from "DEFERRED"   [2010-06-12 Sat 05:30]
   - State "DEFERRED"   from "TODO"       [2009-10-25 Sun 22:06]
   :PROPERTIES:
   :ID:       65B7E207-1BCC-4448-881C-1574623346D7
   :CREATED:  [2009-03-03 Tue 21:49]
   :END:
** TODO [[bug:333][#333]] Add warning when duplicate meta references are given
   :PROPERTIES:
   :ID:       7B4EFB7D-B815-44DE-83CE-F8F902AC954D
   :Submitter: bugzilla-daemon@mail.johnwiegley.com
   :Message:  [[message://bug-333-1@http.newartisans.com/bugzilla/][{Bug 333} New: Add warning when duplicate meta references are given]]
   :CREATED:  [2010-06-13 Sun 17:43]
   :END:
** TODO [[bug:393][#393]] Allow lot tags to "link" to a past priced commodity
   :PROPERTIES:
   :ID:       E98C208C-876F-44B2-8BD1-1B60F1E293D2
   :CREATED:  [2010-07-30 Fri 06:11]
   :END:
** TODO [[bug:409][#409]] Almost strictly defined accounts
   I've seen it beeing discussed here to introduce strict verification of
   account names. I think it may by very handy, however, I think another
   approach may be usefull too: a predefined branches. One can define several
   branches of arbitrary depth and every posting must be on one of them. Eg.
   Defined branches:
   :OUTPUT:
   Income:Salary
   Income:Iterest
   Expenses:Rent
   Expenses:Food:Groceries
   Expenses:Food:Dining
   etc.
   :END:
   Now account names in postings must begin with one of the defined
   branches:
   :OUTPUT:
   Income:Salary:Small Co.
   Income:Salary:World Corp.
   :END:
   are both correct

   But
   :OUTPUT:
   Expenses:Rant:Flower St.
           ^^^
   :END:
   is not. One can introduce new accounts only below strictly defined
   structure.
   :PROPERTIES:
   :ID:       9F29112A-CFA7-4C3C-91FD-871D8187AE39
   :Submitter: Łukasz Stelmach <lukasz.stelmach@iem.pw.edu.pl>
   :Message:  [[message://87zkwhth69.fsf@dasa3.iem.pw.edu.pl][almost strictly defined accounts]]
   :CREATED:  [2010-08-20 Fri 12:17]
   :END:
** TODO [[bug:447][#447]] Make value sequences comparable
- State "TODO"       from "DEFERRED"   [2012-03-11 Sun 20:32]
- State "DEFERRED"   from "TODO"       [2012-03-09 Fri 07:33]
   If done, no special code is needed to do multi-column sorting.
   :PROPERTIES:
   :ID:       44493384-34BE-4184-AFCC-8AB7E3B1443E
   :CREATED:  [2010-12-03 Fri 14:13]
   :END:
** TODO [[bug:451][#451]] Handling multiple Ledgers
   - Note taken on [2010-12-27 Mon 18:25] \\
     [[message://AANLkTik8PZ4_bOSVhfPmSYfmNE3m5_cDbw7fovqD3uNX@mail.gmail.com][Re: Multiple Ledgers]]
   :PROPERTIES:
   :ID:       195EA2CB-2EDC-47DA-85A5-5C8950387ECF
   :Submitter: Zack Williams <zdwzdw@gmail.com>
   :CREATED:  [2010-12-17 Fri 05:14]
   :END:
** TODO [[bug:461][#461]] Balance report that shows commodities and value or basis cost
- State "TODO"       from "DEFERRED"   [2012-02-28 Tue 21:43]
   - State "DEFERRED"   from "TODO"       [2011-01-01 Sat 05:18]
   :PROPERTIES:
   :ID:       EB865380-8B2E-4847-AC97-D07EE9EC8A9D
   :Submitter: jimr <jim.robinson@gmail.com>
   :Message:  [[message://760a3e61-0b99-458c-b251-4fe45378df99@22g2000prx.googlegroups.com][Re: reporting on specific commodities?]]
   :CREATED:  [2010-12-30 Thu 07:51]
   :END:
** TODO [[bug:471][#471]] Swapping out memory allocators for performance testing
- State "TODO"       from "DEFERRED"   [2012-03-11 Sun 20:32]
   - State "DEFERRED"   from "TODO"       [2011-02-04 Fri 07:56]
   :PROPERTIES:
   :ID:       0BEC0050-A9B8-4B41-8483-E44AAF4C295F
   :Message:  [[message://4D31324D.3070903@pathscale.com][Re: Collaborating on boost performance]]
   :CREATED:  [2011-01-18 Tue 04:23]
   :END:
** TODO [[bug:486][#486]] More formal methods of doing lot-based reporting
   - Note taken on [2011-02-09 Wed 14:31] \\
     Martin Michlmayr: Yeah, I know... but I think it's a feature that ledger
     should eventually get (obviously not for 3.0).

     > If you specify an adorned commodity, like AAPL {$10.00}, it will also
     > balance against itself, and against any AAPL if --lots is not
     > specified.  But if you do specify --lot-prices, for example, then it
     > will balance against that specific price for AAPL.
     >
     > I may, for the sake of reporting *only*, be able to implement some sort
     > of guessing strategy, based on the order in which transactions appear
     > in the data file...

     Why for reporting only?  It seems to me that ledger has all the
     information to do FIFO and LIFO properly (i.e. to remove the right
     commodities from the list).  Let's take this example:
     #+begin_src ledger
     2011-01-01 * Buy AAA
         Assets:Shares                             5 AAA @ 10.00 EUR
         Assets:Cash

     2011-01-03 * Buy AAA
         Assets:Shares                             2 AAA @ 10.00 EUR
         Assets:Cash

     2011-01-11 * Buy AAA
         Assets:Shares                             5 AAA @ 12.00 EUR
         Assets:Cash

     2011-01-21 * Buy AAA
         Assets:Shares                             5 AAA @ 13.00 EUR
         Assets:Cash
     #+end_src

     So we end up with (ledger --lots):
     :OUTPUT:
     5 AAA {10.00 EUR} [2011/01/01]
     2 AAA {10.00 EUR} [2011/01/03]
     5 AAA {12.00 EUR} [2011/01/11]
     5 AAA {13.00 EUR} [2011/01/21]  Assets:Shares
     :END:
     So if I sell 6 shares now, according to FIFO, I would do:
     #+begin_src ledger
     2011-02-01 * Sell AAA
         Assets:Shares                          -5 AAA {10.00 EUR} [2011/01/01] @ 13.50 EUR
         Assets:Shares                          -1 AAA {10.00 EUR} [2011/01/03] @ 13.50 EUR
         Assets:Cash
     #+end_src

     ledger --lots:
     :OUTPUT:
     1 AAA {10.00 EUR} [2011/01/03]
     5 AAA {12.00 EUR} [2011/01/11]
     5 AAA {13.00 EUR} [2011/01/21]  Assets:Shares
     :END:
     According to LIFO, I would do this instead:
     #+begin_src ledger
     2011-02-01 * Sell AAA
         Assets:Shares                          -5 AAA {13.00 EUR} [2011/01/21] @ 13.50 EUR
         Assets:Shares                          -1 AAA {12.00 EUR} [2011/01/11] @ 13.50 EUR
         Assets:Cash
     #+end_src

     In other words, you can manually do FIFO and LIFO with ledger already.
     However, it would be great if ledger would make this easier, e.g. that
     you could specify:
     #+begin_src ledger
     2011-02-01 * Sell AAA
         Assets:Shares                          -6 AAA {FIFO} @ 13.50 EUR
         Assets:Cash
     #+end_src
     and ledger would iterate through all AAA commodities and take out the
     right ones (after all, it knows the date and price).

     The only thing I don't think is possible with ledger at the moment is
     average cost.  I'm also not sure how --lot-dates should behave for
     average cost.

     > There are reasons why -X can't be applied to any report.  Mainly it has
     > to do with rounding.  For example, let's say I have 10 postings that
     > each trade 1 DM, and the value of 1 DM is 0.001 EUR.  If I add all 10
     > DM and then apply -X, I get 0.01 EUR.  But if I apply -X to each 1 DM
     > and *then* total them, I get 0.00 EUR.

     Thanks for the explanation... what I was thinking of is that ledger would
     just produce a report according to -V or -B or whatever and *then*
     convert it with -X.  I use a shell script to do this for now:
     #+begin_src sh
     GBP2EUR="117/100"

     eurgbp=$(ledger -f $FILE -p "until $YEAR-$NEXT_MONTH-01" -B bal "^assets"
     "^liabilities" | egrep " (EUR|GBP)$" | tail -n 2)
     eur=$(echo "$eurgbp" | grep "EUR" | sed 's/ EUR//')
     gbp=$(echo "$eurgbp" | grep "GBP" | sed 's/ GBP//')
     eur=$(echo "$eur" | sed 's/\..*//')
     gbp=$(echo "$gbp" | sed 's/\..*//')
     gbpineur=$(($gbp*$GBP2EUR))
     echo "      " $(($eur + $gbpineur)) "   EUR   Total"
     #+end_src

     I'm kinda surprised that you no longer think it's a good idea to split -X
     from -V.  Last time I brought this up on IRC, you thought it was a good
     idea:

     10:44 < johnw> I think having -H, in addition to -X, may make what you want
      to see both natural and simple
     10:45 < johnw> you'd use -H for income/expense accounts, and -X for
      assets/liabilities
     10:45 < johnw> -H = historical values
     10:45 < johnw> -X = current exchange values
     10:45 < tbm> so what's the difference between -X and -V again?
     10:45 < johnw> -V is an automated version of -X
     10:45 < johnw> it tries to figure out what the reported commodity should be
     10:45 < johnw> we may then need an automated version of -H, to complete the
      reflection
     10:46 < johnw> btw, this is just an inside-out version of my "final"
      feature :)
     10:46 < tbm> why not change the meaning of -X to _only do conversion_?  And
      then you could combine -X with -B, -V or -H
     10:46 < johnw> instead of having it be syntactic, we're moving the semantic
      difference to a difference in options
     10:46 < johnw> oh HMM
     10:46 < johnw> -X with -B, -V and -I
     10:46 < johnw> (and -O, incidentally)
     10:46 < johnw> O = amount, B = cost, V = market value, I = price
     10:47 < johnw> that's really an excellent suggestion
     10:48 < johnw> i'd still need a flag to mean "historical" vs "current"
     10:48 < johnw> as well as "target commodity" (-X)
   - Note taken on [2011-02-09 Wed 14:29] \\
     Martin Michlmayr: I think it needs this functionality because it's
     required for any serious financial accounting.  It's not just about the
     management of inventory per se.  You'll also need FIFO/LIFO/AVCO for
     tracking shares/funds, which a lot of people have.

     > I'm thinking it shouldn't, as it introduces a whole range of issues -
     > for example, if you're doing FIFO or LIFO, how do you explain to
     > someone who purchased 4 widgets from you why some are one price, and
     > some are another?

     I think you're confusing purchase price with sales price.

     Let's say a company buys 3 widgets at 15 USD and 1 at 20 USD and sells
     the 4 widgets for 25 USD each, it would then make 10 USD on 3 widgets and
     5 USD on 1.
   As John pointed out, this is presently not possible with ledger.  I think
   the right solution is for ledger to get LIFO, FIFO and AVCO handling (see
   the message I just sent in the "A solution to the commodity pricing
   problem" thread).

   I think the way it should work is that you tell ledger which basis should
   be used for a given commodity (e.g. LIFO, FIFO, AVCO).  In the case of LIFO
   and FIFO, --lots would behave as now (i.e. show individual lots and their
   prices) and when you sell one it would use LIFO or FIFO to figure out which
   one.

   On the other hand, for AVCO, --lots should just show the amount of shares
   you own and the average cost.

   Ok, let's use the example from my other message again.  Let's buy AAA
   shares at different prices:
   #+begin_src ledger
   2011-01-01 * Buy AAA
       Assets:Shares                             5 AAA @ 10.00 EUR
       Assets:Cash

   2011-01-03 * Buy AAA
       Assets:Shares                             2 AAA @ 10.00 EUR
       Assets:Cash

   2011-01-11 * Buy AAA
       Assets:Shares                             5 AAA @ 12.00 EUR
       Assets:Cash

   2011-01-21 * Buy AAA
       Assets:Shares                             5 AAA @ 13.00 EUR
       Assets:Cash
   #+end_src

   Now in the case of LIFO and FIFO, "ledger --lots bal shares" would show (as
   it does today):
   :OUTPUT:
   5 AAA {10.00 EUR} [2011/01/01]
   2 AAA {10.00 EUR} [2011/01/03]
   4 AAA {12.00 EUR} [2011/01/11]  Assets:Shares
   :END:
   But in the case of AVCO, it could show this instead:
   :OUTPUT:
   11 AAA {10.7272 EUR}  Assets:Shares
   :END:
   :PROPERTIES:
   :ID:       55A4A64B-CCF6-4EA5-9763-449EDA581B20
   :CREATED:  [2011-02-09 Wed 14:28]
   :Message:  [[message://20110202001414.GD16162@jirafa.cyrius.com][Re: reporting on specific commodities?]]
   :END:
** TODO [[bug:522][#522]] Add a 'tags' command
   Since you have 'commodities' and 'payees' and 'accounts' commands, it seems
   logical that there should be a 'tags' command. Such commands help me check
   that I haven't made a typo in a transaction.
   :PROPERTIES:
   :ID:       D3B5526B-0B83-4EBD-965B-75EFE8B0CDC6
   :CREATED:  [2011-05-27 Fri 18:09]
   :Date:     Mon, 23 May 2011 18:17:27 -0700 (PDT)
   :Message:  [[message://30671703.170.1306199847233.JavaMail.geo-discussion-forums@prcm34][Re: My experience with Ledger so far]]
   :Submitter: Matthew Harris <mharris312@gmail.com>
   :END:
** TODO [[bug:536][#536]] Add an option to Ledger to account for time rounding
   For example, that recorded time segments are rounded up to 15 minute blocks.
   :PROPERTIES:
   :ID:       4813EDF8-192E-42FF-9D14-ABB9261CB20C
   :CREATED:  [2011-06-17 Fri 13:17]
   :END:
** TODO [[bug:595][#595]] Add a value expression function to round non-commoditized amounts
  :PROPERTIES:
  :ID:       E4757F31-F20B-40F4-B53C-CE4CA1257849
  :CREATED:  [2011-11-02 Wed 12:34]
  :Date:     Wed, 2 Nov 2011 06:16:01 -0700
  :Message:  [[message://CAKs9TOJ_AL1uXfUVUTU6wUAY6juw=yVw8Ghiir+f+6zq_bm0GA@mail.gmail.com][Re: Controlling the precision displayed in amounts]]
  :Submitter: Craig Earls <enderw88-Re5JQEeQqe8AvxtiuMwx3w@public.gmane.org>
  :END:
** TODO [[bug:627][#627]] Add help option "--help-{commands|options}-plain"
:PROPERTIES:
:ID:       22C7A4C4-3895-4457-B5E1-5F3BD50C3A23
:CREATED:  [2011-11-29 Tue 12:27]
:Date: Mon, 28 Nov 2011 21:48:13 -0700
:Message: [[message://CAKs9TOKWUbS4vjwkfmez7h+uOpi0E9T2yQjtND6R7MPpwGviHQ@mail.gmail.com][ATTN Clemens Fischer, input on command line completion]]
:Submitter: Craig Earls <enderw88-Re5JQEeQqe8AvxtiuMwx3w@public.gmane.org>
:END:
** TODO [[bug:628][#628]] round(value) should take an optional precision amount
:PROPERTIES:
:ID:       BE07F550-6BA8-43C2-B625-118ABC6E8D0B
:CREATED:  [2012-01-06 Fri 21:19]
:Date: Fri, 6 Jan 2012 14:27:42 -0700
:Message: [[message://CAKs9TO+0EpJRkW5yyyfR_H9w94i314HgTT9s4Qf=Bkp91ZdVhQ@mail.gmail.com][Re: Rounding formula for automatic transactions]]
:Author: Craig Earls <enderw88-Re5JQEeQqe8AvxtiuMwx3w@public.gmane.org>
:END:
** TODO [[bug:660][#660]] Create options in Ledger to define important localized strings
:PROPERTIES:
:ID:       BC412F6F-D490-432B-A021-F23F3193CE5F
:CREATED:  [2012-02-27 Mon 19:40]
:Date: Mon, 27 Feb 2012 23:50:11 +0100
:Message: [[message://CAE+8KM2QoZhi1dA0GUWsK8B=qwLtzhoutsHAVTJDjPrRgHXbMg@mail.gmail.com][Re: New feature: pre-declaring accounts, payees, commodities and tags]]
:Author: Johann Klähn <kljohann-Re5JQEeQqe8AvxtiuMwx3w@public.gmane.org>
:END:
** TODO [[bug:668][#668]] Add an option for specifying the separator to ledger convert
:PROPERTIES:
:ID:       EBECF506-D2D7-43B1-9559-DE27F866A7CC
:CREATED:  [2012-03-06 Tue 04:24]
:END:
** TODO [[bug:675][#675]] Add options --commodity-value-expr and --account-value-expr
:PROPERTIES:
:ID:       4558A00D-5362-4C0D-9A60-E90AEDE7D51C
:CREATED:  [2012-03-09 Fri 20:27]
:END:
** TODO [[bug:690][#690]] Add an option to output periodic transactions
In order to be able to export all the relevant information from a ledger file,
it would be useful to be able to print the list of periodic transactions. I
suggest to add an option --periodic, which might be used with commands like
print or csv. For example, given the following data:
#+begin_src ledger
~ Every 2 weeks
  Assets:Checking                     $500.00
  Income:Salary

~ Monthly from 2010/01/01 until 2010/12/01
   Expenses:Food  $100
   Assets

2010/12/01 * Checking balance
  Assets:Checking                   $1,000.00
  Equity:Opening Balances
#+end_src

a command like
#+begin_src sh
ledger csv --periodic
#+end_src

would output
:OUTPUT:
"Every 2 weeks","","","","","Assets:Salary","$","500","",""
"Monthly","2010/01/01","2010/12/01","","","Expenses:Food","$","100","",""
:END:

There would be three fields to specify a period (length, start date, end date)
and, maybe, fields that are irrelevant to periodic transactions, if any,
should be removed.
:PROPERTIES:
:ID:       1D49C76A-1546-4C77-A405-4EE8F56EEC6F
:CREATED:  [2012-03-11 Sun 22:00]
:URL: [[https://github.com/jwiegley/ledger/issues/53][Issue #53: Feature request: add an option to output periodic transactions]]
:END:
** TODO [[bug:714][#714]] Support for re-write rules (aka ledger "views", allows keeping separate books)
- Note taken on [2012-03-17 Sat 15:35] \\
  This sounds like a fantastic feature for 3.1, and I think it fits
  beautifully.

  One query you can do right now is this one:

   - ignore all transactions that involve Assets:Receivable:AdSense
     _and_ Income:AdSense

  This would be phrased as:

      ledger reg -l 'expr ! (account =~ /Receivable:AdSense/ && any(account =~ /Income:AdSense/)'

  The 'any' operator is used to query whether any of the other postings --
  in the transaction of a matched posting -- match an expression.

  But I see that your idea goes much beyond this, to allow reconfiguring
  transactions, adding and dropping postings, adding and dropping
  transactions, etc.  I think something automated transactions can be
  extended to do this by adding an expression based rewriter, rather than
  the simplistic postings-manipulator that it currently provides.
I'd like to propose a feature (for post 3.0) that would make ledger
even more powerful and useful.  It would make it easier to keep
separate books (e.g. cash vs accrual) and to get useful information
out of ledger.

My idea is inspired by SQL views.  In SQL, you can can define a
view which is essential a query that makes data available in a
virtual table that can be queried normally. (This idea is unrelated
to ledger's recently SQL support, though, afaict.)

Essentially what I'd like to do is to specify a config file in
ledger that would tell ledger how to re-write certain transactions
before showing them to me.

Let's consider some examples of how this would be useful.

Example 1) Cash vs accruals basis

I have Google ads on my web site and get a small income from this.
In ledger, I account for this income as it accrues (on a monthly
basis): every month, I login and check how much I've earned this
month and then I add this ledger.  But I only get paid from Google
when I reach 70 EUR or so (in the example I use 0.02 EUR).

So in ledger I have transactions like this:

2012-01-31 * AdSense earnings (1 Jan - 31 Jan)
    Assets:Receivable:AdSense                            0.01 EUR
    Income:AdSense

2012-02-29 * AdSense earnings (1 Feb - 29 Feb)
    Assets:Receivable:AdSense                            0.02 EUR
    Income:AdSense

2012-03-01 * AdSense payment
    Assets:Bank                                           0.02 EUR
    Assets:Receivable:AdSense                            -0.02 EUR

So far so good.  The problem is that when I do my tax return, I don't
have to specify income I've accrued but only money that has been paid
to me.  So I have to ignore the Assets:Receivable:AdSense entries and
only look for actual payments to my bank account.  Essentially, I have
to convert my accruals based accounting system to cash based accounting.

It would be great if I could tell ledger in a config file:
 - ignore all transactions that involve Assets:Receivable:AdSense
   _and_ Income:AdSense
 - and re-write all transactions that involve Assets:Receivable:AdSense
   _and_ Assets:Bank and re-write Assets:Receivable:AdSense to
   Income:AdSense in this case.

In the example above, this would delete the first two transactions
and leave me with the following transaction:

2012-03-01 * AdSense payment
    Assets:Bank                                           0.02 EUR
    Income:AdSense                                       -0.02 EUR

(Bonus points if I can also re-write the description from "AdSense
payment" to "AdSense earnings".)

Example 2) Combining accounts into one - salary, taxes, etc

A lot of us are tracking our personal finance.  We sometimes get
the question as to how to track salary best: should we track all
gross income and then track deductions, such as tax.  Or should we
simply enter our net pay since this is the figure we typically care
about.

This question was recently asked on this list and I argued in
http://www.mail-archive.com/ledger-cli@googlegroups.com/msg02552.htmlthat the correct way is to account for the gross income plus all
deductions.  However, this makes it hard to see the net pay since
you have to specify all deductions, e.g.:
  bal income:employment:salary expenses:tax:income expenses:tax:ni

This is another example that could be simplified if ledger would
allow to specify a config file to re-write transactions.  I could
then track all information (gross income, tax paid, social security,
etc), but I could also specify a config file that would simply it
for me.

Let's take a simpler example: let's say you receive money from PayPal.
PayPal takes a fee so what you receive is actually less.  So you have
something like this:

2012-02-07 * PayPal payment
    Income                                               -5.00 EUR
    Expenses:Fees:PayPal                                  0.57 EUR
    Assets:PayPal                                         4.43 EUR

In this case, if I want to know the net income, I have to run:

$ ledger -f c.ledger bal incom expenses:
            0.57 EUR  Expenses:Fees:PayPal
           -5.00 EUR  Income
--------------------
           -4.43 EUR

What I'd like to do is specify a file containing re-write rules so
that this transaction would become:

2012-02-07 * PayPal payment
    Income                                               -4.43 EUR
    Assets:PayPal                                         4.43 EUR

Then I could run ledger reg on my ledger file and get:

2012-02-07 PayPal payment  Income               -5.00 EUR -5.00 EUR
                           Expenses:Fees:PayPal  0.57 EUR -4.43 EUR
                           Assets:PayPal         4.43 EUR         0

But if I'd specify ledger reg --re-write test, I'd get:

2012-02-07 PayPal payment  Income           -4.43 EUR    -4.43 EUR
                           Assets:PayPal     4.43 EUR            0

I think such a feature would be very powerful and I can think of many
use cases for such a feature.  John, how difficult would this be to
implement and does this fit into your plans for ledger?
:PROPERTIES:
:ID:       C511ADB4-7562-451D-A9F9-F1B0E407829B
:CREATED:  [2012-03-17 Sat 15:35]
:Date: Sat, 17 Mar 2012 17:16:32 +0000
:Message: [[message://bug-714-1@http.bugs.ledger-cli.org/][{Bug 714} New: Support for re-write rules (aka ledger "views", allows keeping separate books)]]
:Author: bugzilla-daemon@mail.johnwiegley.com
:END:
** DEFERRED [[bug:172][#172]] Merge functionality of the C and P directives
- State "DEFERRED"   from "TODO"       [2012-03-11 Sun 20:31]
   :PROPERTIES:
   :ID:       B2A5D46F-4CF2-4725-BD1B-8641439CF115
   :CREATED:  [2010-04-02 Fri 14:11]
   :END:
** DEFERRED [[bug:177][#177]] lot_price should be able to return if commodity is "fixed rate"
   - State "DEFERRED"   from "TODO"       [2010-06-15 Tue 05:23]
   :PROPERTIES:
   :ID:       EF5442E5-4A83-45A5-98F8-DFEEF6F8AC6D
   :CREATED:  [2009-11-24 Tue 22:02]
   :END:
** DEFERRED [[bug:179][#179]] Allow specification of times on transactions and postings
   - State "DEFERRED"   from "TODO"       [2010-06-02 Wed 17:08]
   The value expressions to expose this would be:
   | hour   | The hour                              |
   | min    | The minute                            |
   | daymin | Minutes past midnight of that day     |
   | absmin | Minutes since the epoch (for sorting) |
   :PROPERTIES:
   :ID:       C0A606E0-AC51-4D0A-99F7-75C3E5E98F2B
   :CREATED:  [2010-05-22 Sat 16:46]
   :END:
** DEFERRED [[bug:182][#182]] Port Gnucash support to 3.0
- State "DEFERRED"   from "TODO"       [2012-03-11 Sun 20:31]
- State "TODO"       from "DEFERRED"   [2012-02-28 Tue 21:39]
   - State "DEFERRED"   from "TODO"       [2011-02-04 Fri 07:57]
   :PROPERTIES:
   :ID:       024046FE-DAB6-48E0-9F27-B2747180267C
   :Message:  [[message://96abdebf-d2ae-40fa-b555-c2329f91602b@q36g2000prg.googlegroups.com][How to use gnucash with v3]]
   :Submitter: Xavier Shay <xavier-list@rhnh.net>
   :CREATED:  [2010-05-25 Tue 16:42]
   :END:
** DEFERRED [[bug:233][#233]] Make 'last' a valexpr term of the last posting output
- State "DEFERRED"   from "TODO"       [2012-03-11 Sun 20:31]
- State "TODO"       from "DEFERRED"   [2012-02-28 Tue 21:39]
   - State "DEFERRED"   from "TODO"       [2010-06-14 Mon 08:15]
   :PROPERTIES:
   :ID:       7517CE3B-C3B0-460D-806B-31341272DE79
   :CREATED:  [2010-06-06 Sun 06:42]
   :END:
** DEFERRED [[bug:269][#269]] Add a "date" term to report queries
   - State "DEFERRED"   from "TODO"       [2009-11-06 Fri 01:55] \\
     This has been coded, but is not being enabled yet until I see that it has some
     value.
   :SCRIPT:
   ledger reg checking show date "june last year"
   :END:
   Write a compliance test to make sure that "june last year" (with --now) and
   "june 2009" do what's expected.  Make ~ be the shortcut key, with parsing
   behavior similar to =.
   :PROPERTIES:
   :ID:       BBBD2434-3763-45DB-A8EC-59DD47B3E387
   :CREATED:  [2009-11-04 Wed 16:27]
   :END:
** DEFERRED [[bug:273][#273]] Add complete calculation history in Ledger
   - State "DEFERRED"   [2009-02-24 Tue 04:00]
   :PROPERTIES:
   :Version:  2.6
   :Ticket:   146
   :ID:       B1F0071C-BD7D-4311-8DF2-7868F9CA7A29
   :END:
** DEFERRED [[bug:274][#274]] Add support for command aliases, to allow "canned reports"
   - State "DEFERRED"   from "TODO"       [2009-10-25 Sun 22:06]
   :PROPERTIES:
   :ID:       ADD3FB96-D19A-47F0-9F0B-1896328D6380
   :CREATED:  [2009-02-04 Wed 19:57]
   :END:
** DEFERRED [[bug:278][#278]] Allow reading an encrypted ledger file directly
   - State "DEFERRED"   from "TODO"       [2010-06-12 Sat 14:02]
   - State "TODO"       from "DEFERRED"   [2010-06-12 Sat 05:33]
   - State "DEFERRED"   from "TODO"       [2009-10-25 Sun 22:00]
   This would be done using libgpg.
   :PROPERTIES:
   :ID:       58512060-B3DD-438D-9BFE-D64D5DB9439B
   :CREATED:  [2009-10-23 Fri 06:13]
   :END:
** DEFERRED [[bug:279][#279]] Annotations should allow for HH:MM:SS
   - State "DEFERRED"   [2009-02-24 Tue 04:02]
   And also datetime should display this if it's there (but not if it's
   midnight).

   To implement this, add a parsing option that if, before the code, there is a
   string fitting HH:MM:SS, then it is taken to be a time value.  This will
   require making the parsing of date_t and datetime_t flexible and adaptive
   (and stream-based).
   :PROPERTIES:
   :Version:  2.6
   :Ticket:   149
   :ID:       F7DDD7D6-D219-4645-BB02-33AF74BED44B
   :CREATED:  [2008-04-11 Fri]
   :END:
** DEFERRED [[bug:284][#284]] Greatly improve Ledger's help system
   - State "DEFERRED"   from "TODO"       [2010-06-15 Tue 08:44]
   - State "TODO"       from "DEFERRED"   [2010-06-12 Sat 05:32]
   - State "DEFERRED"   from "TODO"       [2009-10-25 Sun 22:05]
   :PROPERTIES:
   :ID:       2E0D3A34-41DF-470C-8A2D-0A66B1DAA6E9
   :CREATED:  [2009-02-04 Wed 19:57]
   :END:
** DEFERRED [[bug:286][#286]] Implement readline completion for the REPL
   - State "DEFERRED"   from "TODO"       [2010-06-15 Tue 05:24]
   - State "TODO"       from "DEFERRED"   [2010-06-12 Sat 05:32]
   - State "DEFERRED"   from "TODO"       [2009-11-07 Sat 06:31]
   [[file:main.cc::jww%202009%2002%2005%20NYI][NYI]]
   :PROPERTIES:
   :ID:       EF3D6703-AD14-48B3-A9EE-481E5FC295AB
   :CREATED:  [2009-11-03 Tue 13:59]
   :END:
** DEFERRED [[bug:288][#288]] Integrate Org-mode with Ledger
   - State "DEFERRED"   from "TODO"       [2010-05-08 Sat 03:15]
   If you're on a trip you could accumulate your expense into an Org-table, and
   then either easily export that to your Ledger file later, or maybe even have
   Ledger read such data directly.
   :PROPERTIES:
   :ID:       01B4C4E5-63AE-4915-A39A-AA6E07D9F19F
   :CREATED:  [2010-04-11 Sun 17:48]
   :END:
** DEFERRED [[bug:290][#290]] journal_t objects should be copyable
   - State "DEFERRED"   from "TODO"       [2009-11-07 Sat 06:23]
   This also has to do with making them serializable.  There should be a way to
   "activate" a journal for the current session, which sets up the
   commodity_pool reference for amount_t.
   :PROPERTIES:
   :ID:       9ECF98A8-8C8C-42D1-B8A0-EB42F49AAED9
   :END:
** DEFERRED [[bug:291][#291]] Make a curses or http GUI for Ledger
   - State "DEFERRED"   from "TODO"       [2009-10-25 Sun 22:00] \\
     This is waiting for either the new Emacs rewrite, or the Python support code.
   :PROPERTIES:
   :ID:       8716A41C-3570-4193-A95D-9829F4FF8798
   :CREATED:  [2009-10-23 Fri 06:13]
   :END:
** DEFERRED [[bug:294][#294]] Forecasting performance would be weak with a lot of period xacts
   - State "DEFERRED"   [2009-02-24 Tue 04:05]
   What happens to performance with lots of accounts, of commodities?
   :PROPERTIES:
   :Version:  2.6
   :Ticket:   115
   :ID:       68E4C919-14BA-4AB1-A60B-FC176E966B45
   :CREATED:  [2008-04-11 Fri]
   :END:
** DEFERRED [[bug:298][#298]] Support for exceptions to interval_t
   - State "DEFERRED"   from "TODO"       [2009-06-16 Tue 18:13]
   For example, "monthly except June".
   :PROPERTIES:
   :Version:  2.6
   :Ticket:   147
   :ID:       A8AC5063-AB2F-4031-8821-2084B7B6497C
   :CREATED:  [2008-04-11 Fri]
   :END:
** DEFERRED [[bug:320][#320]] Implement move constructors for amount_t, balance_t and value_t
   - State "DEFERRED"   from "TODO"       [2010-06-10 Thu 14:54]
   This implies getting rid of the current reference counting structures too.
   :PROPERTIES:
   :ID:       558FDCF1-2C7A-4D20-94A3-48A62FF84104
   :CREATED:  [2010-06-08 Tue 19:22]
   :END:
** DEFERRED [[bug:361][#361]] Change value expression syntax to closely match Haskell's
   - State "DEFERRED"   from "TODO"       [2011-02-04 Fri 07:57]
   :PROPERTIES:
   :ID:       5E82B329-EFB9-432E-A42C-E52C8032210B
   :CREATED:  [2010-06-22 Tue 01:31]
   :END:
** DEFERRED [[bug:365][#365]] Generalize value sequences into iterators and generators
   - State "DEFERRED"   from "TODO"       [2011-02-04 Fri 07:56]
   :PROPERTIES:
   :ID:       EA919747-398C-44DA-9A8C-BE07643E42B4
   :CREATED:  [2010-06-24 Thu 20:16]
   :END:
** DEFERRED [[bug:366][#366]] Add "each" syntax, and closures like Ruby has
   - State "DEFERRED"   from "TODO"       [2011-02-04 Fri 07:56]
   :PROPERTIES:
   :ID:       8F4B51C1-3887-4997-908E-F3CD167C00F0
   :CREATED:  [2010-06-24 Thu 20:30]
   :END:
** DEFERRED [[bug:408][#408]] Enabling OFX support in Ledger 3
   - State "DEFERRED"   from "TODO"       [2011-02-04 Fri 07:56]
   If it helps, I use http://code.google.com/p/ofx-parser/ to convert my OFX
   files into ledger format (it doesn't know about ledger format, but it is
   fairly trivial to take an OFX object tree and output it as ledger).
   :PROPERTIES:
   :ID:       EC6DDB71-E008-4D58-9B3D-D059C7D113F3
   :Submitter: Xavier Shay <xavier-list@rhnh.net>
   :Message:  [[message://9d4f0817-f8ce-4d76-9c21-1f40d4f5ee6f@t3g2000vbb.googlegroups.com][Re: Enabling OFX support in Ledger 3]]
   :CREATED:  [2010-08-19 Thu 23:35]
   :END:
** DEFERRED [[bug:413][#413]] Have a look at Boost.TimeSeries
   - State "DEFERRED"   from "TODO"       [2011-02-04 Fri 07:56]
   This might be a better replacement for times.cc.
   :PROPERTIES:
   :ID:       8A015298-2838-4DF8-B225-262AF77D7DB7
   :CREATED:  [2010-09-18 Sat 14:45]
   :END:
** DEFERRED [[bug:414][#414]] Use Boost.Accumulator for ledger stats
   - State "DEFERRED"   from "TODO"       [2011-02-04 Fri 07:56]
   Perhaps using Accumulator would simplify the code?
   :PROPERTIES:
   :ID:       59AA0D1F-C788-4307-844C-716E74828F34
   :CREATED:  [2010-09-18 Sat 14:42]
   :END:
** DEFERRED [[bug:432][#432]] Create a command to list all options, commands, and functions
- State "DEFERRED"   from "TODO"       [2012-03-11 Sun 20:32]
   :PROPERTIES:
   :ID:       4BF09022-7059-4CFE-90C2-3507A7B54EDD
   :Submitter: Thierry Daucourt <thierry.daucourt@free.fr>
   :Message:  [[message://AANLkTik8FPboAMJFg1z4ZW6msRrC8_e6R1H-0Mp0VY0C@mail.gmail.com][list of possible ledger options and commands]]
   :CREATED:  [2010-08-16 Mon 16:48]
   :END:
** DEFERRED [[bug:496][#496]] Add --time-colon option
- State "DEFERRED"   from "TODO"       [2012-03-09 Fri 07:28]
- State "TODO"       from "DEFERRED"   [2012-02-28 Tue 21:44]
- State "DEFERRED"   from "TODO"       [2012-02-28 Tue 03:22]
   :PROPERTIES:
   :ID:       2E01D36E-41AB-4185-8528-686A5599438E
   :CREATED:  [2011-03-07 Mon 14:48]
   :Message:  [[message://jwiegley/ledger/pull/23@github.com][{GitHub} Add --time-colon option {jwiegley/ledger GH-23}]]
   :Submitter: afh <noreply@github.com>
   :Date:     Sat, 5 Mar 2011 15:02:09 -0800
   :END:
** DEFERRED [[bug:542][#542]] Create a --reset-amount/total option, to clear the expr series
- State "DEFERRED"   from "TODO"       [2012-03-11 Sun 20:32]
   :PROPERTIES:
   :ID:       0C1BBB09-F27C-4EDF-81F0-31D959476F72
   :CREATED:  [2011-07-04 Mon 23:07]
   :END:
** DEFERRED [[bug:547][#547]] Allow Ledger to read data directly from CSV files
- State "DEFERRED"   from "TODO"       [2012-03-11 Sun 20:32]
   As an alternate input format.  Then I can maintain by "bank's view" using
   Ledger itself, and not Excel.
   :PROPERTIES:
   :ID:       69D8C2FC-72E8-4C6B-BAEE-83B4BC92993D
   :CREATED:  [2011-07-25 Mon 12:34]
   :END:
** DEFERRED [[bug:589][#589]] Add ability to control color output
- State "DEFERRED"   from "TODO"       [2012-03-11 Sun 20:32]
  The user should be able to indicate the RGB value used for "blue", for
  example.
  :PROPERTIES:
  :ID:       340A8A87-A5E6-4E51-B327-280F27E3931A
  :CREATED:  [2011-10-18 Tue 21:31]
  :Date:     Tue, 18 Oct 2011 11:16:58 -0700
  :Message:  [[message://CAKs9TOLAMJsrvRAbD0pgCiBAHXJ75OvHM9ZvEGQ2Py749f5ahA@mail.gmail.com][Controlling color output]]
  :Submitter: Craig Earls <enderw88-Re5JQEeQqe8AvxtiuMwx3w@public.gmane.org>
  :END:
** DEFERRED [[bug:629][#629]] Add ability to jump to transactions from a report buffer
- State "DEFERRED"   from "TODO"       [2012-03-11 Sun 20:32]
:PROPERTIES:
:ID:       EC4C7A71-3C1C-43C2-81A6-2BBC3ED4A406
:CREATED:  [2012-02-16 Thu 16:02]
:Date: Thu, 16 Feb 2012 21:49:37 +0000
:Message: [[message://bug-629-1@http.bugs.ledger-cli.org/][{Bug 629} New: Add ability to jump to transactions from a report buffer.]]
:Author: bugzilla-daemon@mail.johnwiegley.com
:END:
** DEFERRED [[bug:647][#647]] Add ability to pass offset dates to xact command
- State "DEFERRED"   from "TODO"       [2012-03-11 Sun 20:32]
When using the entry command is there an easy way to specify that the
transaction occurred yesterday or the day before. I imagine something like
#+begin_src sh
$ledger entry t-1 Blah groceries '$3.41'
#+end_src
would give something like (today is 2012/01/26)
:OUTPUT:
2012/01/25 Blah
    Expenses:Dining:Groceries                $3.41
    Liabilities:CC:Amex
:END:

and t-2 would give the same entry but with the date of 2012/01/24.
:PROPERTIES:
:ID:       C1FD166C-7A14-4C40-808C-A87022379AEA
:CREATED:  [2012-02-06 Mon 14:29]
:Date: Thu, 26 Jan 2012 00:22:32 -0600
:Message: [[message://CABZEcScd3PkLkWKzWxCssDbh-Y+gC+rA24DPejHfE23L6ODDHA@mail.gmail.com][questions regarding draft (entry/xact)]]
:Author: David Whitmarsh <dwhitmarsh-Re5JQEeQqe8AvxtiuMwx3w@public.gmane.org>
:END:
** DEFERRED [[bug:670][#670]] Make ledger convert a sub-parser within textual.cc
- State "DEFERRED"   from "TODO"       [2012-03-11 Sun 20:33]
:PROPERTIES:
:ID:       750ECE98-C110-4879-B87D-B0FF17BE1A2D
:CREATED:  [2012-03-06 Tue 04:24]
:END:
** DONE A few changes for the textual parser [4/4]
   - State "DONE"       [2009-02-15 Sun 23:22]
   - [X] Ignore any line like /^\s*;/ as a comment -even in the middle of a
         posting
   - [X] Treat -00.00 the same as hB300.00 : I found myself making this mistake
         frequently.
   - [X] Print the out offending posting and the 'out of balance' amount
         in the 'unbalanced posting' error message.
   - [X] It would be nice if the 'xact' command could be modified to assume
         the amount is the same as last time if you dont supply it.  It also
         doesn't seem to reproduce multiple-split postings either -- it
         seems you only get the first split line.
   :PROPERTIES:
   :Version:  2.6
   :Ticket:   121
   :ID:       8C5FD48A-F498-4B97-9C6E-DD8B5A50B773
   :CREATED:  [2008-04-11 Fri]
   :END:
** DONE A mask by itself should generate a helpful error message
   - State "DONE"       [2009-02-26 Thu 04:10]
   Especially since people from 2.6 will want to use "/foo/" intead of "account
   =~ /foo".
   :PROPERTIES:
   :ID:       F21E8B63-C6C9-4B09-90B2-2441FBD1F517
   :CREATED:  [2008-08-26 Tue]
   :END:
** DONE Add a "fixedrate COMMODITY AMOUNT" directive                                     :ATTACH:
   - State "DONE"       from "TODO"       [2009-11-25 Wed 04:41]
   - Note taken on [2009-11-24 Tue 22:32] \\
     Russell also needs this for billing miles to the IRC based on rates-per-mile
     determined for particular time periods.
   - Note taken on [2009-11-24 Tue 22:07] \\
     Javier is facing some of these issues: [[message://5d55d2dd-2222-484f-9fa4-295fda763ac6@d21g2000yqn.googlegroups.com][Re: Multicurrency and reg problem]].
   Every use of COMMODITY within the range of transactions has a fixed cost, as
   if the user had typed COMMODITY {= AMOUNT}.
   :PROPERTIES:
   :ID:       33DA4CB9-3C76-47F5-AA06-682192A37E48
   :Attachments: IRC-fixed-rates-2009-11-24.txt
   :CREATED:  [2009-11-24 Tue 01:16]
   :END:
** DONE Add a "scramble" command
   - State "DONE"       [2009-01-29 Thu 15:29]
   The purpose of this command is to anonymize the user's data so that they can
   submit a bug report without revealing any sensitive information about
   themselves.
   :PROPERTIES:
   :Version:  2.6
   :Ticket:   162
   :ID:       5B6D773A-E90F-4F36-8C97-79613427CA01
   :CREATED:  [2008-04-11 Fri]
   :END:
** DONE Add a --date option, for setting the date of each posting
   - State "DONE"       from "TODO"       [2009-11-11 Wed 21:30]
   :PROPERTIES:
   :ID:       3CDC68C4-FB2A-44AA-824A-E3F5261647DF
   :CREATED:  [2009-11-11 Wed 05:15]
   :END:
** DONE Add a --no-color option for Ledger
   - State "DONE"       from "TODO"       [2009-06-26 Fri 17:51]
   :PROPERTIES:
   :ID:       E924C732-C3F9-40C7-8E69-8F20566EB920
   :CREATED:  [2009-06-17 Wed 16:45]
   :END:
** DONE Add a mechanism that allows VAT to be calculated
   - State "DONE"       from "TODO"       [2009-11-11 Wed 04:37]
   This means adding mathematical functions like floor, round, ceiling, etc.
   But also it means have a value expression variable that refer to the
   incoming amount which an automated expression will be calculated against.
   :PROPERTIES:
   :ID:       BD29154A-6BB5-487E-9201-A306B7F9FD53
   :CREATED:  [2009-11-11 Wed 02:58]
   :END:
** DONE Add a trim() value expression function
   - State "DONE"       from "TODO"       [2009-11-25 Wed 02:42]
   It trims all leading and trailing spaces
   :PROPERTIES:
   :ID:       AAA8F6E9-32A3-4CA7-9055-D4184B03AE2D
   :CREATED:  [2009-11-24 Tue 01:30]
   :END:
** DONE Add a valexpr variable for the "whicheth posting in account"
   - State "DONE"       from "TODO"       [2010-05-22 Sat 17:55] \\
     It's called account_id.
   This way I can test if the 1000th posting in an account matches up with my
   bank's reckoning.
   :PROPERTIES:
   :ID:       2B6DD3C2-267C-4280-BE0E-AFBBFA0ADBA6
   :CREATED:  [2010-05-17 Mon 00:00]
   :END:
** DONE Add an --actual option to override --effective if in .ledgerc
   - State "DONE"       from "TODO"       [2009-10-27 Tue 19:15] \\
     It's called --actual-dates
   :PROPERTIES:
   :ID:       84C7C18B-8B06-4248-9C4F-A8E377FACA49
   :CREATED:  [2008-10-03 Fri]
   :END:
** DONE Add an md5 valexpr function
   - State "DONE"       from "TODO"       [2009-10-25 Sun 22:01]
   Russell can generate a report using this instead of storing a string.
   :PROPERTIES:
   :ID:       18ADEF7A-6C43-4427-BC79-79F1E2905B85
   :CREATED:  [2009-10-23 Fri 06:10]
   :END:
** DONE Add any() and all() as report query terms
   - State "DONE"       from "TODO"       [2010-05-08 Sat 02:07]
   For example, an alternative to "-r food" would be:
   #+begin_src sh
   ledger reg 'any(food) and not food'
   #+end_src
   :PROPERTIES:
   :ID:       EA6C8D78-73B9-4BC3-8BF5-1C07F720D37B
   :CREATED:  [2010-05-03 Mon 07:42]
   :END:
** DONE Add conversion valexpr methods, like to_date(STR)
   - State "DONE"       from "TODO"       [2009-11-11 Wed 21:30]
   :PROPERTIES:
   :ID:       496A6351-BE11-47DE-A1C3-5DE1257B14F7
   :CREATED:  [2009-11-11 Wed 05:15]
   :END:
** DONE Add more color to the register report
   - State "DONE"       [2009-02-24 Tue 04:00]
   :PROPERTIES:
   :ID:       BD2F22FC-CB2C-45A8-8C07-3366A96B6034
   :CREATED:  [2008-08-23 Sat]
   :END:
** DONE Add support for "xact notes"
   - State "DONE"       [2009-02-16 Mon 05:22]
   :PROPERTIES:
   :ID:       334E9E08-0943-42DB-BB7A-A4D147508706
   :CREATED:  [2008-08-05 Tue]
   :END:
** DONE Add support for comment {} blocks
   - State "DONE"       from "TODO"       [2011-02-12 Sat 18:18]
   :PROPERTIES:
   :ID:       DDE339C6-13EE-4D3F-9A6A-3E1D2C6CB1C6
   :CREATED:  [2011-02-09 Wed 09:26]
   :END:
** DONE Allow // regex in the query parser
   - State "DONE"       from "TODO"       [2009-10-29 Thu 00:25]
   :PROPERTIES:
   :ID:       112D575E-51DB-4792-9280-3B559747BB00
   :CREATED:  [2009-10-28 Wed 17:28]
   :END:
** DONE Allow balance reports to have multiple totals columns
   - State "DONE"       [2009-03-03 Tue 03:18]
   For example, to show commodity quantities vs. market values; or to show
   date of latest cleared entry and cleared total vs. date of last queried
   entry and the query total.
   :PROPERTIES:
   :Submitter: John Wiegley <johnw@newartisans.com>
   :Milestone: 3.0
   :Ticket:   1
   :ID:       D737F702-9848-F001-5AC1-9924A9C3E5BA
   :CREATED:  [2009-02-28 Sat 20:38]
   :END:
** DONE Allow column width to be specified
   - State "DONE"       [2009-02-24 Tue 04:01]
   :PROPERTIES:
   :Version:  2.6
   :Ticket:   161
   :ID:       1F0FD61B-1734-4A30-9EB5-D7AC4A6C7D7B
   :END:
** DONE Allow for data file assertions
   - State "DONE"       [2009-02-16 Mon 05:23]
   A use for these would be after reconciling the bank balance, you want to
   assert that the cleared balance on that day is a given amount and if it ever
   changes there should be an error.
   :PROPERTIES:
   :Version:  2.6
   :Ticket:   165
   :ID:       434EA2BD-BB4D-4F97-BB2A-BB983797F1AE
   :CREATED:  [2008-04-11 Fri]
   :END:
** DONE Allow for fixed commodities, whose market value does not change
   - State "DONE"       [2009-03-02 Mon 17:06]
   Actually, this can be done with lot pricing, if I add a feature where a
   posting of a certain form causes it to fixate:

   2009/01/01 Payee
       Expenses:Gas                 20 Gallon {$10}
       Liabilities:MasterCard            $200
   :PROPERTIES:
   :ID:       FB85DEF4-7D65-45B5-898B-20B511FEE022
   :CREATED:  [2009-02-10 Tue 04:10]
   :END:
** DONE Allow notes and metadata on timeclock entries
   - State "DONE"       from "TODO"       [2009-11-11 Wed 01:54]
   :PROPERTIES:
   :ID:       F225EA85-49B6-4E0C-B861-38DD3E784048
   :CREATED:  [2009-11-09 Mon 01:44]
   :END:
** DONE Allow the include directive to accept wildcards
   - State "DONE"       from "TODO"       [2010-03-17 Wed 02:40]
   :PROPERTIES:
   :ID:       F5B86CC8-599C-4851-AD6A-8CD5324AD49C
   :CREATED:  [2010-02-04 Thu 17:22]
   :END:
** DONE Allow xact value expressions to access account totals
   - State "DONE"       [2009-03-03 Tue 16:29]
   I'd like to create entries that use a formula to compute the values, which
   doesn't seem to be supported (but I hope I'm wrong).

   I imagine something like:
   :DATA:
   11/5 mortgage payment
   Assets:Checking                           $-2000
   Expenses:Mortgage Interest        0.05*(Liabilities:Mortgage)
   Expenses:Tax                                 $500
   Liabilities:Mortgage
   :END:

   So that I could automatically keep track of how much the principle still is
   on my mortgage.  Of course, I could write a script to generate this payment,
   but I'd rather not bother.  Is there a syntax for formulas like this? The
   closest I could see was the tithing example, but I'd like this to be a real
   account and a real (non- virtual) transaction.  On the other hand, perhaps
   it wouldn't hurt to allow the Liabilities:Mortgage account to be virtual,
   since I never directly access it...
   :PROPERTIES:
   :Submitter: David Roundy <droundy@darcs.net>
   :Version:  2.6.1
   :ID:       B5CB8346-581D-4EBC-A980-B399CDD24961
   :CREATED:  [2008-11-01 Sat 11:43]
   :END:
** DONE Change automated expressions to use report query syntax
   - State "DONE"       from "TODO"       [2009-11-10 Tue 02:44]
   :PROPERTIES:
   :ID:       BBEF5801-56F2-44E0-BE3F-3B144F05328F
   :CREATED:  [2009-11-09 Mon 19:49]
   :END:
** DONE Come up with a consistent syntax for scoped directives
   - State "DONE"       from "TODO"       [2009-11-15 Sun 06:10]
   - master account
   - bucket account
   - common metadata
   :PROPERTIES:
   :ID:       687F2794-AECA-4E0B-BDED-E71425D1F4C6
   :CREATED:  [2009-11-09 Mon 19:19]
   :END:
** DONE Consider Martin's @openbal directive
   - State "DONE"       [2008-07-28 Mon]
   [[message://20080421153138.26F681144C3@banane.furius.ca]["AutoOpenBalance" from Martin Blais <blais@furius.ca>]]
   :PROPERTIES:
   :ID:       70E793CC-81E7-4E87-A3D7-4E18CD649C58
   :CREATED:  [2008-06-30 Mon]
   :END:
** DONE Convert *all* valexpr functions to use interactive_t
   - State "DONE"       from "TODO"       [2009-10-31 Sat 03:33]
   :PROPERTIES:
   :ID:       DF11A428-9958-44EB-99A8-34C48AB8365C
   :CREATED:  [2009-02-21 Sat 17:36]
   :END:
** DONE Create Expr, Query, Period, Draft, Format objects
   - State "DONE"       from "TODO"       [2009-11-10 Tue 02:48]
   - State "TODO"       from "DONE"       [2009-11-09 Mon 14:08] \\
     I still need to expose this classes to Python.
   - State "DONE"       from "TODO"       [2009-11-09 Mon 14:08]
   One to represent every expression type.  All the expression types should
   have a preview() method.
   :PROPERTIES:
   :ID:       D3395691-2BD5-4ADF-A528-3DBB96FC3F98
   :CREATED:  [2009-11-05 Thu 08:27]
   :END:
** DONE Create a --meta=FOO switch as a shorthand for --prepend-format
   - State "DONE"       from "TODO"       [2010-03-17 Wed 02:20]
   --prepend-format='%-<LONGEST>(tag("ER")) '
   :PROPERTIES:
   :ID:       237C562D-0F3D-44E9-A55F-4C91DE7F1E57
   :CREATED:  [2010-02-04 Thu 17:51]
   :END:
** DONE Create a command to output a commodity map at DATE as a DOT file
   - State "DONE"       from "TODO"       [2010-06-04 Fri 06:15]
   :PROPERTIES:
   :ID:       9EB7DD1D-D87D-4A37-8ED6-A836C4B231BD
   :CREATED:  [2010-06-03 Thu 18:09]
   :END:
** DONE Default to reading ~/.ledger if no -f is used
   - State "DONE"       from "TODO"       [2009-10-28 Wed 02:09]
   :PROPERTIES:
   :ID:       A76909EF-6C29-4424-8E0C-F99A60D5A3D4
   :CREATED:  [2009-10-27 Tue 22:38]
   :END:
** DONE Devise correct semantics for --pivot reports
   - State "DONE"       from "TODO"       [2010-03-17 Wed 00:56]
   If --pivot=. is used, then how can postings with multiple metadata fields
   appear in multiple accounts?
   :PROPERTIES:
   :ID:       CD39E6B1-DDD6-497E-A08B-0284F2CB935C
   :CREATED:  [2010-02-08 Mon 17:10]
   :END:
** DONE Formalize tagging
   - State "DONE"       [2008-08-05 Tue]
   Search with "account / tags", similar to "account -- payee".
   Tagging is any note with :tag: in it.
   Posts now need notes.
   :PROPERTIES:
   :ID:       7D8F14BE-4E84-4B40-8C3E-D563B291D4CA
   :CREATED:  [2008-07-31 Thu]
   :END:
** DONE Have an option --forecast-years
   - State "DONE"       from "TODO"       [2009-10-31 Sat 03:06]
   :PROPERTIES:
   :ID:       C6B21504-DF86-43AC-AEFE-2F3D843DDB0B
   :CREATED:  [2009-10-28 Wed 17:28]
   :END:
** DONE Have an option so that weeks begin on Monday
   - State "DONE"       [2009-02-21 Sat 01:37]
   :PROPERTIES:
   :Submitter: Simon Michael <simon@joyful.com>
   :Version:  2.6.1
   :ID:       9FF37C33-EBEF-4EC0-91F7-0E8681416D60
   :CREATED:  [2008-12-08 Mon 23:59]
   :END:
** DONE Implement a --raw flag for print, to show what the user entered
   - State "DONE"       [2009-02-21 Sat 19:40]
   - State "TODO"       [2009-02-21 Sat 01:38]
   - State "CANCELED"   [2009-02-21 Sat 01:37]
   :PROPERTIES:
   :Version:  3.0
   :ID:       9F074119-FF1C-4568-9297-54A8C31258D2
   :CREATED:  [2008-09-17 Wed]
   :END:
** DONE In daily budget report, there's no budgeting entry for "today"
   - State "DONE"       [2009-03-08 Sun 04:21]
   :PROPERTIES:
   :Version:  2.6
   :Ticket:   65
   :ID:       5D1B0408-90D0-4019-AE0F-A914329C73CB
   :CREATED:  [2009-04-11 Sat]
   :END:
** DONE In the "pricesdb" report, output commodity conversions
   - State "DONE"       from "TODO"       [2009-10-31 Sat 03:22]
   ... and "N" commands.
   :PROPERTIES:
   :Version:  2.6
   :Ticket:   110
   :ID:       1BE0C80D-AC4D-4372-B830-14193554EF6B
   :CREATED:  [2008-04-11 Fri]
   :END:
** DONE In the expression parser, 40% should mean 0.40
   - State "DONE"       from "TODO"       [2009-05-14 Thu 04:06]
   :PROPERTIES:
   :ID:       CEC3AE64-64C8-4339-B4DB-86A4FBDBBD98
   :ARCHIVE_TIME: 2009-05-15 Fri 18:00
   :ARCHIVE_CATEGORY: Ledger
   :CREATED:  [2009-05-14 Thu 02:06]
   :END:
** DONE Make "expr" a synonym for the "parse" command
   - State "DONE"       from "TODO"       [2010-06-05 Sat 03:36]
   :PROPERTIES:
   :ID:       3CAB2690-9AD6-4C14-AC97-A7E8A2250416
   :CREATED:  [2010-06-04 Fri 06:36]
   :END:
** DONE Make -D a synonym for --daily, instead of --deviation
   - State "DONE"       from "TODO"       [2009-10-28 Wed 01:20]
   :PROPERTIES:
   :ID:       6DCB7E25-5D3B-47A6-9651-9B7F3EF71FB2
   :CREATED:  [2009-10-27 Tue 22:48]
   :END:
** DONE Make a helper macro to validate valexpr func args
   - State "DONE"       [2009-02-24 Tue 04:04]
   USAGE("ss:i");   <-- function expects two strings and an optional integer
   :PROPERTIES:
   :ID:       D6049000-77E0-40EA-A15B-74490D0FFF3D
   :CREATED:  [2009-02-07 Sat 15:40]
   :END:
** DONE Make sure it's possible to sort by the entry code
   - State "DONE"       [2009-02-24 Tue 04:04]
   :PROPERTIES:
   :Submitter: Christopher <christopher.illies@ki.se>
   :Version:  2.6.1
   :ID:       FE972418-2D3B-41B5-B028-D2F6C477415E
   :CREATED:  [2008-10-13 Mon 10:28]
   :END:
** DONE Make the balance report separator bar a format code
   - State "DONE"       [2009-02-27 Fri 16:31]
   :PROPERTIES:
   :Version:  2.6
   :Ticket:   124
   :ID:       373A0146-BE4B-4C7E-9DA2-38D1EB275216
   :END:
** DONE Need a flag for sorting the amounts in a -M report in ledger
   - State "DONE"       [2009-02-16 Mon 14:26] \\
     The user can sort by display_amount.
   :PROPERTIES:
   :Version:  2.6
   :Ticket:   69
   :ID:       D97CB3FC-C80F-428C-B2D6-D2B204E3D4D9
   :END:
** DONE Optimize parsing of posting amounts
   - State "DONE"       [2009-02-16 Mon 05:24]
   :PROPERTIES:
   :Version:  2.6
   :Ticket:   98
   :ID:       5EBDDE91-BF8A-4925-B53D-2533361583A5
   :CREATED:  [2008-04-11 Fri]
   :END:
** DONE Promote tagging to a first-class concept
   - State "DONE"       [2009-02-16 Mon 05:24]
   - Tagging is indicated by the presence of ":tag:" in an xact note or a
     posting note.
   - Xact note postings apply also to all of their child xacts.
   - Searching by tag is support by using "/ tag..." on the command-line, after
     the fashion of "-- payee..".
   - When searching by tag, there should be a way to show a posting's tags
     in the register and balance outputs.
   :PROPERTIES:
   :Ticket:   208
   :ID:       E7595DA3-4634-4275-A793-701A6D9438A4
   :CREATED:  [2008-08-01 Fri]
   :END:
** DONE Provide single-letter value expression shortcuts
   - State "DONE"       from "TODO"       [2009-11-14 Sat 03:13]
   This is for compatibility with 2.x.
   - m :: now, today
   - a :: amount
   - i :: price
   - b :: cost
   - d :: date
   - X :: cleared
   - Y :: pending
   - R :: real
   - L :: actual
   - n :: index
   - N :: count
   - l :: depth
   - O :: total
   - I :: total_price
   - B :: total_cost
   - t :: display_amount
   - T :: display_total
   - U :: abs
   - S :: quantity
   - A :: avg, mean, average
   - P :: market_value [general]
   - v :: market_value(amount)
   - V :: market_value(total)
   - g :: gain
   - G :: total_gain
   - min
   - max
   :PROPERTIES:
   :ID:       80339708-5B3E-4413-A770-89E4E9912C04
   :CREATED:  [2009-11-02 Mon 01:10]
   :END:
** DONE Remove dependency on all globals:
   - State "DONE"       [2009-02-16 Mon 05:24]
   :PROPERTIES:
   :Version:  2.6
   :Ticket:   101
   :ID:       0C030979-3BF9-404D-9B39-5BDEAD77A749
   :CREATED:  [2008-04-11 Fri]
   :END:
** DONE Remove global commodities map
   - State "DONE"       [2009-02-16 Mon 05:24]
   Create a commodity_pool, which is linked to a journal (and which every
   amount has a pointer to).
   :PROPERTIES:
   :Version:  2.6
   :Ticket:   96
   :ID:       E41E5A1F-BD14-419D-BF0D-6CCF990A59B1
   :CREATED:  [2008-04-11 Fri]
   :END:
** DONE Revise the concept of commodities
   - State "DONE"       [2009-02-16 Mon 05:25]
   At the moment, commodities, conversions, exchanges and prices all relate to
   the same underlying ideas, but they're unfortunately spread out throughout
   the docs and the reporting struture.  It's time to unify all of this.
   :PROPERTIES:
   :Version:  2.6
   :Ticket:   180
   :ID:       29E1CF5D-FEA9-4A23-90F0-4E14C374D908
   :CREATED:  [2008-04-12 Sat]
   :END:
** DONE Rewrite the concept of error contexts
   - State "DONE"       [2009-02-16 Mon 05:25]
   :PROPERTIES:
   :Version:  2.6
   :Ticket:   95
   :ID:       6FE3032D-5862-4213-B40F-80D5BDFB68E2
   :CREATED:  [2008-04-11 Fri]
   :END:
** DONE Sort register reports by date by default
   - State "DONE"       from "TODO"       [2009-10-28 Wed 01:20]
   :PROPERTIES:
   :ID:       926078B5-07B9-4258-B769-8C3FD4BC0C81
   :CREATED:  [2009-10-27 Tue 22:44]
   :END:
** DONE Support "a; b" in value expressions
   - State "DONE"       [2009-03-03 Tue 16:03]
   :PROPERTIES:
   :ID:       6AEE70BA-673E-446F-9131-A3C29195A499
   :CREATED:  [2009-02-23 Mon 05:07]
   :END:
** DONE Support transactional queries in reports
   For example: List all expense postings in transaction which do not include a
   sales tax.
   :PROPERTIES:
   :ID:       18BDD076-83C0-46C5-8FC3-BC801C65C331
   :CREATED:  [2010-04-09 Fri 01:01]
   :END:
** DONE The --strict option should also prevent new commodities
   - State "DONE"       from "TODO"       [2009-10-31 Sat 03:08]
   :PROPERTIES:
   :ID:       3254504D-FA9F-4E60-B56D-414C6EF03BFE
   :CREATED:  [2009-03-07 Sat 00:31]
   :END:
** DONE The date parser needs to be rewritten
   - State "DONE"       from "TODO"       [2009-11-18 Wed 04:27]
   It needs to be a real parser, to handle these strings:
   :SOURCE:
   from july
   from 2009
   from 2009 july
   from july 2009
   from last july
   :END:
   :PROPERTIES:
   :ID:       28A80FB5-2475-45CD-B4AD-7BBA0038F9E6
   :CREATED:  [2009-11-06 Fri 01:42]
   :END:
** DONE The entry command drops price specifications
   - State "DONE"       from "TODO"       [2009-10-31 Sat 02:54]
   If you enter a pricing command like this in Emacs:
   :DATA:
   C -c C-a 2008/02/19 chevron 'GAL 11.118 @ $ 2.879'
   :END:
   The resulting entry omits the '@ ...' part.
   :PROPERTIES:
   :Version:  2.6
   :Ticket:   192
   :ID:       03C6208E-E48F-45BB-BFBF-2C38B129458A
   :CREATED:  [2008-05-03 Sat]
   :END:
** DONE The query parser should produce ptr_op_t trees directly
   - State "DONE"       from "TODO"       [2009-10-28 Wed 17:46]
   :PROPERTIES:
   :ID:       9165C59D-8933-4115-8684-5851A1D059C6
   :CREATED:  [2009-10-28 Wed 17:29]
   :END:
** DONE Use Boost.Format instead of straccstream
- State "DONE"       from "TODO"       [2012-05-28 Mon 04:15]
:PROPERTIES:
:ID:       4F66F351-AF52-4204-8247-00360CB703FB
:CREATED:  [2012-05-14 Mon 12:07]
:END:
** DONE Use a "token context" in the query parser
   - State "DONE"       from "TODO"       [2009-10-28 Wed 17:46]
   :PROPERTIES:
   :ID:       A77821CD-DB8D-46A1-B873-4257F2796A5B
   :CREATED:  [2009-10-28 Wed 17:28]
   :END:
** DONE Valexpr function: magnitude
   - State "DONE"       from "TODO"       [2009-10-24 Sat 17:49]
   The largest positive value of a balance.
   :PROPERTIES:
   :ID:       C53A9D20-ADB6-4B7C-BEA6-0074242044F9
   :CREATED:  [2009-10-23 Fri 06:14]
   :END:
** DONE Valexpr strings cannot have chars like \n
   - State "DONE"       from "TODO"       [2009-10-31 Sat 02:59]
   - State "TODO"       from "DEFERRED"   [2009-10-22 Thu 07:34]
   - State "DEFERRED"   from "TODO"       [2009-06-28 Sun 17:37]
   :PROPERTIES:
   :ID:       23680D4C-0361-46DA-AC8F-C98CFF79F47B
   :CREATED:  [2009-02-27 Fri 13:19]
   :END:
** DONE Value expressions for getting at the lot date
   - State "DONE"       from "TODO"       [2009-10-31 Sat 03:10]
   For example: lotdate, lotdateof(x)
   :PROPERTIES:
   :Version:  2.6
   :Ticket:   148
   :ID:       A1230B8C-EF48-40BB-A200-18E7E94620BE
   :CREATED:  [2008-04-11 Fri]
   :END:
** DONE [[bug:181][#181]] Add a --group-by=EXPR option for clustered reports
   - State "DONE"       from "TODO"       [2010-05-30 Sun 03:27]
   :PROPERTIES:
   :ID:       F56F414C-56B4-439D-B5B1-AD28D0E5330A
   :CREATED:  [2010-05-23 Sun 15:59]
   :END:
** DONE [[bug:190][#190]] Optimize finding and creation of annotated commodities
- State "DONE"       from "TODO"       [2012-03-09 Fri 07:31]
   - State "TODO"       from "STARTED"    [2010-06-02 Wed 17:11]
   Don't use textual names, but lookup based on annotation details
   directly.
   :PROPERTIES:
   :ID:       4DC71FA0-7325-4F88-B145-A87C5489B9A4
   :CREATED:  [2010-05-23 Sun 17:04]
   :END:
** DONE [[bug:232][#232]] Support variant behaviors for -V
- State "DONE"       from "TODO"       [2012-03-09 Fri 07:30]
   The problem is: for a given amount of a commodity, which commodity should
   its value be reported in terms of?

   1. For a transaction, an amount of the commodity might be permanently
      associated with another commodity.  This is a "price value".
   2. For a certain commodity, another commodity may always be the pricing
      commodity.  This is a "commodity value".
   3. For a certain account, a specific commodity may always be used for
      pricing.  This is an "account value".
   4. For a certain report, the user may request valuation using a list of
      candidate commodities.  This is a "report value".
   5. Otherwise, the user may desire simply the most recent valuation
      possible.  This is a "market value".

   So the target commodity might be bound to: a particular amount, a
   commodity, or an account.  If it's not bound during parsing, it may be
   bound during reporting using -X to specify a commodity.  If it's not bound
   at all, then it is valued using the most recent prices available, no matter
   their commodity.

   Then here is the logic:

   1.  If --exchange-only is specified, use those commodities.
   2.  Else if a commodity has been FIXED to the amount, use that.
   3.  Else if a commodity has been FIXED to the account, use that.
   4.  Else if a commodity has been FIXED to the commodity, use that.
   5.  Else if the amount's commodity is itself primary, use that.
   6.  Else if -X is specified, use those commodities.
   7.  Else if the amount has a price/cost, use the price's commodity.
   8.  Else if the account balance contains primary commodities, use
       whichever has the highest absolute value.
   9.  Else if the commodity has a history of association with other
       commodities, use whichever is most frequent.
   10. Else use whichever commodity yields the most recent market value.
   :PROPERTIES:
   :ID:       AA092062-FBA5-4142-B3E4-E67FA9E12C19
   :CREATED:  [2010-06-07 Mon 08:39]
   :END:
** DONE [[bug:270][#270]] Add a feature for "object descriptions"
- State "DONE"       from "TODO"       [2012-03-09 Fri 20:20]
   - State "TODO"       from "DEFERRED"   [2010-06-12 Sat 05:35]
   - State "DEFERRED"   from "TODO"       [2009-10-25 Sun 22:06]
   For example:

   def OBJECT NAME
     alias NAME
     commodities NAME[, NAME...]
     report NAME[, NAME...]
     set NAME EXPR
     assert EXPR
   end def

   def commodity GAL
     set fixed_commodity true
     set another_value $100 * 20
   end def

   def account Expenses:Food
     alias Chow
     commodities $, EUR
     report $
   end def
   :PROPERTIES:
   :ID:       B4BD2B5F-1F77-449B-80FF-DC7218DA2EFE
   :CREATED:  [2009-03-02 Mon 20:39]
   :END:
** DONE [[bug:271][#271]] Add a {{total}} syntax for lot price specification
- State "DONE"       from "TODO"       [2012-03-10 Sat 02:28]
- State "TODO"       from "DEFERRED"   [2012-02-28 Tue 21:39]
   - State "DEFERRED"   from "TODO"       [2009-10-25 Sun 22:06]
   I had another idea: do you remember I mentioned a problem I had, which that
   some of my trade confirmation slips provide the "adjusted cost base" and not
   the cost-per-share? This makes it a big ugly to enter such postings, even
   with expressions:
   :DATA:
     BrokerAccount    -29.435 WIDGETS {353.51435/29.435 USD} @ 13.02 USD
   :END:
   (I didn't test the above, by the way, that was your suggestion when we
   talked last time.)

   I propose this syntax:
   :DATA:
     BrokerAccount    -29.435 WIDGETS {{353.51435 USD}} @ 13.02 USD
   :END:
   It's a bit similar to the idea of @ vs. @@ where the single char (@) is for
   price, and the double (@@) is for total amount. Using {{ ... }} refers to
   the total cost, while { ... } refers to the cost price (per share).
   :PROPERTIES:
   :Submitter: Martin Blais <blais@furius.ca>
   :Version:  2.6
   :Ticket:   188
   :ID:       C9E09993-CC01-41C6-BADC-0A9AA1221419
   :CREATED:  [2008-04-20 Sun]
   :END:
** DONE [[bug:272][#272]] Add an entry type for specifying value constraints
   - State "DONE"       from "TODO"       [2010-06-13 Sun 00:46]
   - State "TODO"       from "DEFERRED"   [2010-06-12 Sat 05:34]
   - State "DEFERRED"   from "TODO"       [2009-10-25 Sun 22:06]
   I'd like to see a more general syntax for this based on value expressions,
   which would offer a full constraints mechanism.  For example, to constrain
   all transactions to being less than $10,000 in an account:
   :DATA:
   ? Constrain all transactions to less than $10,000
   /Expenses:Food/      a < $10,000
   :END:

   The "?" indicates a "constraints entry".  Each transaction would have two
   value expressions: one to match every applicable transaction in the file,
   and another to provide the boolean logic of the constraint.

   Then, while the file is being parsed, any violations of a constraint would
   be treated as an error, the same as when an entry fails to balance to zero.
   I suppose making these warnings could be a possibility as well.

   Here is how you'd constrain commodities in this model:
   :DATA:
   ? Guarantee commodities within accounts
   Assets:Checking    comm(a) == $1.00
   :END:

   (At the moment there is no value expr function that would allow: comm(a) ==
   "$")

   Then, of course, there could be a specific declaration option -- such as you
   have above -- for just this case, which internally would be parsed as a
   constraints entry.
   :PROPERTIES:
   :Version:  2.6
   :Ticket:   39
   :ID:       31E75D27-157E-452B-B817-7AD570AFE357
   :CREATED:  [2008-04-05 Sat]
   :END:
** DONE [[bug:275][#275]] Add the ability to have "typed" metadata
   - State "DONE"       from "TODO"       [2010-06-12 Sat 15:54]
   - State "TODO"       from "DEFERRED"   [2010-06-12 Sat 05:33]
   - State "DEFERRED"   from "TODO"       [2009-11-11 Wed 04:37]
   For example, a metadata property that contains a date, which could then be
   used to generate reports from.
   :PROPERTIES:
   :ID:       D919FE3B-3FA9-4E9D-B3F5-42A9BD33A2C4
   :CREATED:  [2009-11-11 Wed 04:28]
   :END:
** DONE [[bug:276][#276]] Allow for payee name mappings
   - State "DONE"       from "TODO"       [2010-06-12 Sat 14:02]
   - State "TODO"       from "DEFERRED"   [2010-06-12 Sat 05:33]
   - State "DEFERRED"   from "TODO"       [2009-10-25 Sun 22:05]
   After, create an "unaccounted" report for payees unknown to the matcher
   :PROPERTIES:
   :ID:       144F519E-9441-4FBA-9F6A-6757CA3F704A
   :CREATED:  [2009-10-23 Fri 06:14]
   :END:
** DONE [[bug:277][#277]] Allow forecasting from a specific date
   - State "DONE"       from "TODO"       [2010-06-14 Mon 03:30] \\
     This can be done with the --now option.
   - State "TODO"       from "DEFERRED"   [2010-06-12 Sat 05:33]
   - State "DEFERRED"   from "TODO"       [2009-10-25 Sun 22:06]
   This would make it possible to see expected vs. actual cash flows, for
   example, if the date chosen is before the end of actual transactions.  Kind
   of like a modified version of budgeting.
   :PROPERTIES:
   :Version:  2.6
   :Ticket:   94
   :ID:       BBD4F6F0-1250-4216-BB0E-3E86785D5E44
   :CREATED:  [2008-04-11 Fri]
   :END:
** DONE [[bug:280][#280]] Check for duplicated transactions
- State "DONE"       from "DEFERRED"   [2012-02-28 Tue 21:40] \\
  This is supported now with UUID.
   - State "DEFERRED"   from "TODO"       [2010-06-12 Sat 14:02]
   - State "TODO"       from "DEFERRED"   [2010-06-12 Sat 05:32]
   - State "DEFERRED"   from "TODO"       [2009-10-25 Sun 22:05]
   Either by date/payee/magnitude, or even payee/magnitude if --strict is on.
   :PROPERTIES:
   :ID:       4F58ACC1-498A-41A5-9164-93CD30B3CAC5
   :CREATED:  [2009-10-23 Fri 06:12]
   :END:
** DONE [[bug:281][#281]] Combine a random seed when hashing when using --anon
   - State "DONE"       from "DEFERRED"   [2010-06-12 Sat 05:26]
   - State "DEFERRED"   from "TODO"       [2009-10-29 Thu 01:00]
   Please keep in mind that the dictionary one pulls account names from is MUCH
   smaller than the dictionary of valid ASCII strings.  Given the SHA-1 hash of
   a string $foo, it is easy to tell if this is the hash of "Bar, Inc." or
   "Baz, Inc.".  So, while in theory it is hard to reverse, it becomes very
   easy in practice if I know anything about your company or even the language
   that the accounts will be in.  Finally, because of rainbow tables, these
   might even be easy to reverse without knowing anything about the target
   company.
   :PROPERTIES:
   :Submitter: Anthony Chivetta <anthony@chivetta.org>
   :ID:       03DA2F5B-9E0C-4E3B-B19D-531A4F77C050
   :Message:  [[message://20090703063943.GB16282@chivetta.org][Re: sample ledgers and anonymising]]
   :CREATED:  [2009-07-03 Fri 08:38]
   :END:
** DONE [[bug:283][#283]] Create new files for commodity_pool and annotated commodities
   - State "DONE"       from "DEFERRED"   [2010-06-12 Sat 05:32]
   - State "DEFERRED"   from "TODO"       [2009-06-16 Tue 18:12]
   :PROPERTIES:
   :ID:       BAE2292F-6B8B-4703-A6B6-8217390673DC
   :CREATED:  [2009-02-07 Sat 18:20]
   :END:
** DONE [[bug:285][#285]] Have an option for showing all amounts in the print report
   - State "DONE"       from "TODO"       [2010-06-12 Sat 15:55]
   - State "TODO"       from "DEFERRED"   [2010-06-12 Sat 05:32]
   - State "DEFERRED"   from "TODO"       [2009-11-25 Wed 02:34]
   :PROPERTIES:
   :ID:       7B8B33B7-925A-497E-A08A-D0B67E433FF6
   :CREATED:  [2009-11-25 Wed 00:27]
   :END:
** DONE [[bug:297][#297]] Support debit/credit register and balance reports
- State "DONE"       from "DEFERRED"   [2012-03-10 Sat 21:39] \\
  Fixed by 860610f
   - State "DEFERRED"   from "TODO"       [2009-11-25 Wed 02:33]
   - Note taken on [2009-11-25 Wed 02:11] \\
     See: http://en.wikipedia.org/wiki/Debits_and_credits#.27T.27_Accounts.
   This would show debit amounts in one column, and credit amounts in a second
   column, rather than conflating positive and negative values in a single
   column.
   :PROPERTIES:
   :ID:       A3A7E04A-036F-498D-8C7D-FCE38DC858BF
   :CREATED:  [2009-11-25 Wed 02:09]
   :END:
** DONE [[bug:301][#301]] When abbreviating account names, expand to fill
   - State "DONE"       from "TODO"       [2010-06-14 Mon 07:20]
   - State "TODO"       from "DEFERRED"   [2010-06-12 Sat 05:30]
   - State "DEFERRED"   from "TODO"       [2009-10-25 Sun 22:05]
   For example, Assets:NRL:Checking in 15 chars should be:
     As:NRL:Checking
   The algorithm should only shorten the initial account names as much as
   needed, giving any surplus to the penultimate member.
   :PROPERTIES:
   :ID:       9135540C-C5F5-460B-AAEC-10D07FB67C21
   :CREATED:  [2009-10-24 Sat 19:19]
   :END:
** DONE [[bug:334][#334]] Support period expressions like "every 14 days"
   - State "DONE"       from "TODO"       [2010-06-14 Mon 07:29]
   :PROPERTIES:
   :ID:       E0CBC152-938E-4C58-BB7C-F8761A7B6D6B
   :CREATED:  [2010-06-13 Sun 18:02]
   :END:
** DONE [[bug:356][#356]] Budgeting and forecasting should use all periodic entries
   - State "DONE"       from "TODO"       [2010-06-21 Mon 17:17]
   :PROPERTIES:
   :ID:       77FD8EA5-DF69-4959-878E-1D9A95F3788A
   :CREATED:  [2010-06-20 Sun 18:09]
   :END:
** DONE [[bug:363][#363]] Make "only" a report query modifier, to match --only
   - State "DONE"       from "TODO"       [2010-06-24 Thu 00:48]
   :PROPERTIES:
   :ID:       36EE7D08-65F1-4619-94F6-22DEA64F92C1
   :CREATED:  [2010-06-22 Tue 20:58]
   :END:
** DONE [[bug:364][#364]] Make "for" a special report query modifier, for period strings
   - State "DONE"       from "TODO"       [2010-06-22 Tue 21:58]
   #+begin_src sh
   ledger reg cash for this month
   #+end_src
   :PROPERTIES:
   :ID:       F5487801-6D9E-45F5-AA36-10B59F7A4AD6
   :CREATED:  [2010-06-22 Tue 20:58]
   :END:
** DONE [[bug:368][#368]] A commodity annotation that asserts no negative quantities
- State "DONE"       from "TODO"       [2012-03-09 Fri 20:19] \\
  You can do that with an automated transaction.  To prevent negative EUR
  amounts from appearing in a journal:
  #+begin_src ledger
  = expr commodity == "EUR"
      assert ! (amount < 0)
  #+end_src
   :PROPERTIES:
   :ID:       09FA1386-E890-4600-98D0-86C248A24C31
   :CREATED:  [2010-06-27 Sun 21:27]
   :END:
** DONE [[bug:475][#475]] A solution to the commodity pricing problem
- State "DONE"       from "TODO"       [2012-03-09 Fri 07:29]
One of the things which stalled Ledger development recently is that I'd never
found a truly satisfying way to handle the "commodity pricing problem".  That
is, the current day value of a commodity can mean different things to
different people, depending on the accounts involved, the commodities, the
nature of the transactions, etc.

After experimenting with several different concepts and syntaxes, I found none
of them were either satisfying or general enough.  My one attempt at providing
"fixated prices" was too specific, and too inelegant for many usage patterns.

This morning, however, I think I've finally cracked this nut; and in a way
which fits harmoniously into the Ledger architecture as if it were meant to be
there all along...

Here's how the new scheme will work: When a user specifies '-V', or '-X COMM',
they are requesting that some or all of the commodities in their Ledger file
be valuated as of today (or whatever --now is set to).  But what does such a
valuation mean?  This meaning shall be governed by the presence of a "VALUE"
metadata property, whose content is an expression used to compute that value.

If no VALUE property is specified, each posting is assumed to have a default,
as if you'd specified a global, automated transaction as follows:

#+begin_src ledger
= expr true
  ; VALUE:: market(amount, date, exchange)
#+end_src

This definition emulates the present day behavior of -V and -X (in the case of
-X, the requested commodity is passed via the string 'exchange' above).

One thing many people have wanted to do is to fixate the valuation of old
European currencies in terms of the Euro after a certain date:

#+begin_src ledger
= expr commodity == "DM"
  ; VALUE:: date < [Jun 2008] ? market(amount, date, exchange) : 1.44 EUR
#+end_src

This says: If --now is some old date, use market prices as they were at that
time; but if --now is past June 2008, use a fixed price for converting Deutsch
Mark to Euro.

Or how about never re-valuating commodities used in Expenses, since they
cannot have a different future value:

#+begin_src ledger
= /^Expenses:/
  ; VALUE:: market(amount, post.date, exchange)
#+end_src

This says the future valuation is the same as the valuation at the time of
posting.  post.date equals the posting's date, while just 'date' is the value
of --now (defaults to today).

Or how about valuating miles based on a reimbursement rate during a specific
time period:

#+begin_src ledger
= expr commodity == "miles" and date >= [2007] and date < [2008]
  ; VALUE:: market($1.05, date, exchange)
#+end_src

In this case, miles driven in 2007 will always be valuated at $1.05 each.  If
you use -X EUR to expressly request all amounts in Euro, Ledger shall convert
$1.05 to Euro by whatever means are appropriate for dollars.

Note that you can have a valuation expression specific to a particular posting
or transaction, by overriding these general defaults using specific metadata:

#+begin_src ledger
2010-12-26 Example
    Expenses:Food                $20
    ; Just to be silly, always valuate *these* $20 as 30 DM, no matter what
    ; the user asks for with -V or -X
    ; VALUE:: 30 DM
    Assets:Cash
#+end_src

This example demonstrates that your VALUE expression should be as symbolic as
possible, using terms like 'amount' and 'date', rather than specific amounts
and dates.  Also, you should pass the amount along to the function 'market' so
it can be further revalued if the user has asked for a specific currency.

Or, if it better suits your accounting, you can be less symbolic, which allows
you to report most everything in EUR if you use -X EUR, except for certain
accounts or postings which should always be valuated in another currency.  For
example:

#+begin_src ledger
= /^Assets:Brokerage:CAD$/
  ; Always report the value of commodities in this account in terms of
  ; present day dollars, despite what was asked for on the command-line
  ; VALUE:: market(amount, date, '$')
#+end_src

I think this scheme, of using predicated value expressions which can be
generalized in automated transactions, and made specific via transaction and
posting-based metadata, provides sufficient flexibility to express most of the
use cases which have occurred on this topic.

Comments on the design welcome, as I haven't begun coding yet.  Feel free to
pose scenarios, and I'll try to model them for you.
:PROPERTIES:
:ID:       AEDF58BB-CE44-4C3E-B66E-0BB955E64206
:Message:  [[message://B24180CF-D2DB-49DD-BEBD-4FF7170D3639@newartisans.com][A solution to the commodity pricing problem]]
:CREATED:  [2011-02-04 Fri 07:32]
:END:
** DONE [[bug:538][#538]] -X should use posting dated values, and with -V should use current
- State "DONE"       from "TODO"       [2012-03-09 Fri 07:28]
   :PROPERTIES:
   :ID:       6BA58CB7-AE65-44FB-B0A2-9631950E133C
   :CREATED:  [2011-06-29 Wed 14:58]
   :END:
** DONE [[bug:539][#539]] Add 'any' and 'all' as operators in query expressions
- State "DONE"       from "TODO"       [2012-02-28 Tue 03:24]
   :PROPERTIES:
   :ID:       3643CE28-8322-4CDF-B151-DC34F1A30112
   :CREATED:  [2011-06-29 Wed 17:57]
   :END:
** DONE getquote script for UK users                                                     :ATTACH:
   This is a little python file for downloading quotes for UK shares and unit
   trusts. An unusual wrinkle is that UK shares must have ".L" in them - but
   Ledger doesn't support this kind of format.

   By way of example, if you have Glaxosmithklein shares, its symbol is
   "GSK.L".  In Ledger, you must set up its symbol as GSK_L. Do not set it up
   as merely GSK or GSK.L -- because errors will occur.  _getquote-uk.py_
   (which you must symlink to getquote somewhere in your path) translates the
   underscores into dots. So if Ledger tries to download a quote, it will
   execute the command
   :SCRIPT:
   getquote GSK_L
   :END:
   which (if you have symlinked it to my python file) will get the correct
   price for your share.

   OEICs and Unit Trusts are also supported.  If you own Fidelity Special
   Situations, for example, its symbol is GB0003875100GBP -- a bit of a
   mouthful, but it is correct when used in Ledger.

   I attached a revised version. For some reason, Ledger want to get a quote
   for £, which causes problems. I therefore give a quote of £1.00 in such
   circumstances.
   :PROPERTIES:
   :Submitter: Mark Carter <alt.mcarter@googlemail.com>
   :Version:  2.6.1
   :URL:      message://62f2a66e0811070641v7fe3a574mc9ea5a9eb3dfa1cf@mail.gmail.com
   :ID:       E400651B-FB69-4815-AE15-726E8B0675C3
   :Attachments: getquote-uk.py
   :CREATED:  [2008-12-08 Mon 23:59]
   :END:
** DONE [#C] Add a --depth=X opton, which is equivalent to -l 'depth<=X'
   - State "DONE"       [2009-02-25 Wed 04:01]
   :PROPERTIES:
   :ID:       6E62D47D-2F63-4939-8D76-8078BAAB35A8
   :CREATED:  [2009-02-24 Tue 12:01]
   :END:
** DONE [#C] Add a multi-column budget balance report
   - State "DONE"       from "TODO"       [2009-10-27 Tue 07:47]
   Incidentally, it would be great to see something like:
   :OUTPUT:
   % ledger bal --p this --budget auto:fuel food:out
   $ 67.15  $ 120.00   $ -52.85  56%  Expenses:Auto:Fuel
   $ 18.30  $ 100.00   $ -81.70  18%  Expenses:Food:Out
   $ 85.45  $ 220.00  $ -134.55  39%  Total
   :END:
   :PROPERTIES:
   :ID:       8254755E-7B61-47C8-B48E-A2A7FD79EB80
   :URL:      http://github.com/jwiegley/ledger/issues#issue/5
   :CREATED:  [2009-10-26 Mon 21:29]
   :END:
** DONE [#C] Add support for comments (notes) on entire xacts
   - State "DONE"       [2009-02-15 Sun 23:19]
   These get scanned for tags or regexp match when scanning xacts using e//.
   :PROPERTIES:
   :Version:  2.6
   :Ticket:   63
   :ID:       DCB44369-82CE-44CB-AD05-42B25BA6A492
   :CREATED:  [2008-04-11 Fri]
   :END:
** DONE [#C] Add the concept of spatially delimited "pages"
   - State "DONE"       [2009-02-26 Thu 05:05]
   Another way to associate a custag tag/field to entries is by virtue of their
   organisation in the file. We could tag a sequence of consecutive entries in
   a block, like this:
   :DATA:
   @page_begin Vacations

   ...

   @page_end
   :END:

   This gives us yet another dimension of tagging of transactions:

   - The account in which a transaction belongs
   - The page in which a transaction was declared.
   - The "notes" at the end of postings
   - The description of the transaction
   - The file in which a transaction was defined.

   These are all fields that can be used for selecting a subset of
   transactions. Some of these fields may allow us to simplify our accounts
   hierarchy to some extent.
   :PROPERTIES:
   :Submitter: Martin Blais <blais@furius.ca>
   :Version:  2.6
   :Ticket:   176
   :ID:       BCE275E5-37EA-4231-8F05-55ED96B5BB3F
   :CREATED:  [2008-04-11 Fri]
   :END:
** DONE [#C] Change self_total to amount, and family_total to total
   - State "DONE"       from "TODO"       [2009-10-27 Tue 19:04]
   :PROPERTIES:
   :ID:       AEDAEAE2-5A2D-4908-B733-B0FC80C5FC58
   :CREATED:  [2009-03-05 Thu 04:56]
   :END:
** DONE [#C] Change value_t to use a union instead of a char array
   - State "DONE"       [2009-02-15 Sun 23:19]
   This is needed on systems like Sparc64, where *((long *) data) = value will
   cause a SIGBUS due to a misaligned pointer access.
   :PROPERTIES:
   :Submitter: Thomas Delaet <thomas@delaet.org>
   :Version:  2.6
   :Ticket:   196
   :ID:       CAAC7BA1-882E-4BC1-A0BD-F65546EABDBF
   :CREATED:  [2008-05-07 Wed]
   :END:
** DONE [#C] Create a "cleared" report for balances
   - State "DONE"       from "TODO"       [2009-10-27 Tue 08:05]
   The idea for this report would be to show very nicely when the last date an
   account was balanced to was.  For example (from blais):
   :OUTPUT:
   .
   |----------------------------------------------------------------------------+-------------------------------------------------------------------------------+----------------------------------------------------------------------------+---------------------------------------------------------------------------|
   |                                                                            | -- Current                                                                    |                                                                            |                                                                           |
   |                                                                            |                                                                               | -- HSBC                                                                    |                                                                           |
   |                                                                            |                                                                               |                                                                            | -- Checking                                      2007-12-31 -> 2007-12-31 |
   |                                                                            |                                                                               |                                                                            | -- Savings                                       2007-12-31 -> 2008-03-28 |
   |                                                                            |                                                                               | `-- Secured                                       2007-12-31 -> 2008-03-28 |                                                                           |
   |                                                                            | `-- RBC                                                                       |                                                                            |                                                                           |
   |                                                                            |                                                                               | -- Checking                                      2007-12-31 -> 2008-04-02  |                                                                           |
   |                                                                            |                                                                               | -- Checking-US                                   2007-12-31 -> 2008-03-03  |                                                                           |
   |                                                                            | `-- Savings                                       2007-12-31 -> 2008-04-02    |                                                                            |                                                                           |
   | `-- Investments                                                            |                                                                               |                                                                            |                                                                           |
   |                                                                            | -- HSBC-Broker                                       2007-12-31 -> 2008-04-13 |                                                                            |                                                                           |
   |                                                                            | -- OANDA                                             2007-12-31 -> 2007-12-31 |                                                                            |                                                                           |
   | `-- RBC-Broker                                                             |                                                                               |                                                                            |                                                                           |
   |                                                                            | -- Account-CA                                    2008-01-01 -> 2008-04-01     |                                                                            |                                                                           |
   |                                                                            | -- Account-RSP                                   2007-12-31 -> 2008-01-31     |                                                                            |                                                                           |
   | `-- Account-US                                    2008-01-01 -> 2008-04-01 |                                                                               |                                                                            |                                                                           |
   `-- Liabilities
      |-- Credit-Card
      |   |-- HSBC-MasterCard                                   2007-12-31 -> 2008-04-04
      |   `-- RBC-VISA                                          2007-12-31 -> 2008-04-02
      `-- RBC
          |-- Credit-Line                                       2007-12-31 -> 2007-12-31
          `-- Mortgage
              |-- Credit-Line                                   2007-12-31 -> 2007-12-31
              `-- Loan                                          2007-12-31 -> 2007-12-31
   :END:
   To implement this I'll need the following value expressions items:
   - latest_cleared
   - latest
   - earliest
   All the kinds of things collected for the stats report, actually.  Maybe I
   should implement that report as a simple format string?
   :PROPERTIES:
   :Submitter: Martin Blais <blais@furius.ca>
   :Version:  2.6
   :Ticket:   182
   :ID:       4D175527-AE30-4030-B1B7-DD6A92B6F067
   :CREATED:  [2008-04-14 Mon]
   :END:
** DONE [#C] Enhanced comments
   - State "DONE"       [2009-02-10 Tue 02:07]
   - Note taken on [2008-07-21 Mon 18:53] \\
     I agree that we need something like this.  Also, whatever format is chosen, we
     should look at adding a flexible properties/tags/annotation mechanism for
     xacts and postings.
   12:47 < Demosthenes> i think we need a comment or further descriptive field that is preserved with the record
   12:47 < Nafai> That would probably be useful
   12:48 < Nafai> I can imagine, for example, in the future if I start scanning all of my receipts and such.  I'd like to be able to associate an xact with a given scan file
   12:48 < Nafai> I would do that via a comment, I suppose
   12:48 < Nafai> I'd bring it up on the mailing list and see what johnw thinks
   12:48 < Demosthenes> i was thinking expense report notes ;]
   13:02 < Demosthenes> if there were to be a comment, how would we make it look?
   13:03 < Demosthenes> my immediate suggestion would be to keep it freeform and use the ;, just that the parser would preserve the comments in the same text block as the ledger xact bounded by whitespace
   13:43 < Nafai> Yeah, that sounds reasonable
   14:16 < Demosthenes> then as an extension,  /^; ([A-Z][a-z]+): (.*)$/ could match key : value pairs for tags ;]
   14:17 < Nafai> Nice
   14:24 < Demosthenes> good news is, i can go ahead and write comments that way, and we'll see if its added later ;]
   15:22 < johnw> let me show you what I'm thinking of, in the spirit of Python
   15:23 < johnw> http://rafb.net/p/jyagP679.html
   15:25 < johnw> so, ; inside an xact will be a note, ; outside is a comment

   Example from johnw:
   :DATA:
   2008/07/21 For my friend Demosthenes
   ; This is an xact note, although it looks just like a comment.
   Expenses:Food ....
   :END:
   :PROPERTIES:
   :Submitter: Demosthenes
   :Version:  2.6
   :Ticket:   204
   :ID:       AC4FCEC6-7F38-4229-88AD-B0032C49AE93
   :CREATED:  [2008-07-21 Mon]
   :END:
** DONE [#C] Make --cost a synonym for --basis
   - State "DONE"       [2009-02-17 Tue 05:30]
   :PROPERTIES:
   :Version:  2.6
   :Ticket:   160
   :ID:       2CAD6455-2695-4BAC-BD79-FB61E0D8E092
   :END:
** DONE [#C] Make --last and --first be synonyms for --tail and --head
   - State "DONE"       [2009-02-16 Mon 16:05]
   :PROPERTIES:
   :Version:  2.6
   :Ticket:   159
   :ID:       CD7B03D4-E0B2-4E7F-81B2-D98816B68B84
   :END:
** DONE [#C] Option --args-only
   - State "DONE"       [2009-02-16 Mon 16:57]
   Have `--args-only`, which causes Ledger to ignore the environment or any
   initialization files.  Use this in the test scripts.  It will require making
   a standard price database.
   :PROPERTIES:
   :Version:  2.6
   :Ticket:   153
   :ID:       AB622F55-C2EF-43B9-B943-CABDBAF144F5
   :CREATED:  [2008-04-11 Fri]
   :END:
** DONE [#C] Request for unique payee list
   - State "DONE"       [2009-02-16 Mon 22:58]
   [[message://87k68rutji.fsf@kea-dev-lnx-lt.intruvert.com][e-mail]]
   :PROPERTIES:
   :Version:  2.6
   :Ticket:   157
   :ID:       A75FE2B8-86B0-42B9-AB7F-C37C8FF576EC
   :CREATED:  [2008-04-11 Fri]
   :END:
** DONE [#C] Support a "prefix column" for all reports
   - State "DONE"       from "TODO"       [2009-11-11 Wed 01:55]
   For example, so that the register report could show the filename that each
   posting is from.  This would require both a configuratino option for the
   column's contents (if present), and the size it should be (default to 10?).
   :PROPERTIES:
   :ID:       38B3A6DB-5110-40B5-9B93-31BBCAB02180
   :CREATED:  [2009-11-09 Mon 13:55]
   :END:
** DONE [#C] [[bug:175][#175]] Make an assert directive for Ledger
   - State "DONE"       from "TODO"       [2010-06-13 Sun 05:05]
   #+begin_src ledger :results outputb
   assert DATE AMOUNT ACCOUNT
   #+end_src
   is equivalent to
   #+begin_src ledger :results outputb
   DATE Reconciled statement
    [ACCOUNT]    = AMOUNT
   #+end_src
   :PROPERTIES:
   :ID:       52C041BD-5EF0-46E9-B046-A23CBF01632A
   :CREATED:  [2010-03-05 Fri 21:59]
   :END:
** DONE [#C] [[bug:176][#176]] Make "until today", "from yesterday" work for -p
   - State "DONE"       from "TODO"       [2010-06-14 Mon 08:04]
   :PROPERTIES:
   :ID:       438B58C4-59F6-462D-A9FA-CF4839BF064C
   :Message:  [[message://20100216095003.GA2870@rhodium.pps.jussieu.fr][from and until today, etc.]]
   :Submitter: Gabriel Kerneis <kerneis@pps.jussieu.fr>
   :CREATED:  [2010-02-16 Tue 23:31]
   :END:
** DONE [#C] [[bug:178][#178]] Have a way to set the date range to "this week" easily
   - State "DONE"       from "TODO"       [2010-06-14 Mon 08:14]
   :PROPERTIES:
   :ID:       3ED8AC82-37A1-4513-AB20-8FFC66A2BD00
   :Message:  [[message://8017aec0-63c1-4d55-bced-5e87e50e7a8d@o28g2000yqh.googlegroups.com][Is there a way to set the date range to "this week" easily?]]
   :Submitter: markscottwright <markscottwright@gmail.com>
   :CREATED:  [2010-01-09 Sat 21:08]
   :END:
** DONE [#C] [[bug:180][#180]] Allow for period expressions "4 months ago" and "last 5 weeks"
   - State "DONE"       from "TODO"       [2010-06-14 Mon 07:55]
   - State "TODO"       from "STARTED"    [2009-12-07 Mon 04:24]
   :PROPERTIES:
   :ID:       38B2FCC3-49E3-422D-8F90-03EF4A64382E
   :CREATED:  [2009-11-18 Wed 05:51]
   :END:
** DONE [#C] [[bug:223][#223]] Consider deprecating the --cache option
   - State "DONE"       from "TODO"       [2010-06-14 Mon 08:15] \\
     It is now officially deprecated.
   :PROPERTIES:
   :ID:       D8623268-D229-49A3-83A7-6C77010FC4A1
   :CREATED:  [2010-06-02 Wed 03:47]
   :END:
** DONE [#C] [[bug:293][#293]] Option --bold-if
   - State "DONE"       from "TODO"       [2010-06-22 Tue 03:23]
   - State "TODO"       from "DEFERRED"   [2010-06-12 Sat 05:31]
   - State "DEFERRED"   from "TODO"       [2009-10-25 Sun 22:06]
   Which will bold the whole transaction line if it matches the given predicate
   :PROPERTIES:
   :Version:  2.6
   :Ticket:   154
   :ID:       3D04C70F-422D-4CEC-BC4A-B177C76D834A
   :CREATED:  [2008-04-11 Fri]
   :END:
** CANCELED Add a within(DATE, PERIOD) valexpr function
   - State "CANCELED"   from "TODO"       [2010-03-17 Wed 00:56]
   :PROPERTIES:
   :ID:       112D9AD9-B6A7-4AB1-ACA9-0D25E974AC68
   :CREATED:  [2010-01-29 Fri 02:56]
   :END:
** CANCELED Add item sequence list to journal_t
   - State "CANCELED"   [2009-02-16 Mon 05:22]
   :PROPERTIES:
   :Version:  2.6
   :Ticket:   145
   :ID:       2BA660CC-E09A-4358-944F-4527BF11F19C
   :END:
** CANCELED Add the ability to map OFX numbers to specific accounts
   - State "CANCELED"   [2009-02-16 Mon 05:22]
   By allowing a directive like this:
   :DATA:
   @mapaccount 0004637467862632    Assets:Current:RBC:Checking
   :END:

   It could facilitate the parsing of OFX data into Ledger date.
   :PROPERTIES:
   :Submitter: Martin Blais <blais@furius.ca>
   :Version:  2.6
   :Ticket:   52
   :ID:       4FE37F8F-99F4-4548-88F3-D64CF7A76856
   :CREATED:  [2008-04-07 Mon]
   :END:
** CANCELED Allow Payee | Description for an xact payee
   - State "CANCELED"   [2009-02-16 Mon 05:23]
   :PROPERTIES:
   :Version:  2.6
   :Ticket:   185
   :ID:       383C04EE-94AF-4D01-BDEF-E644A12E97BF
   :CREATED:  [2008-04-20 Sun]
   :END:
** CANCELED Create an Org-mode table format report: "org"
   - State "CANCELED"   from "TODO"       [2010-05-22 Sat 17:55] \\
     The 'csv' report can now be used for this.
   :PROPERTIES:
   :ID:       CAF4C20A-1AA3-4E75-A39C-9ABB3BFA5EBB
   :CREATED:  [2010-04-30 Fri 07:29]
   :END:
** CANCELED Get rid of --print-format, and have print use hdr-format
   - State "CANCELED"   [2009-02-21 Sat 01:38]
   ... and post-format, which output uses.
   :PROPERTIES:
   :Version:  2.6
   :Ticket:   114
   :ID:       9D95A1BB-AC3C-41C5-9AE3-C6324F13458A
   :CREATED:  [2008-04-11 Fri]
   :END:
** CANCELED Make ^ be a power operator
   - State "CANCELED"   [2009-02-24 Tue 04:04]
   So that 0.234 * 10^7 notation is possible.
   :PROPERTIES:
   :Version:  2.6
   :Ticket:   156
   :ID:       CE06A271-419D-4F27-87C6-74412BE546E1
   :CREATED:  [2008-04-11 Fri]
   :END:
** CANCELED Make commodity_t::qualified_symbol a virtual function
   - State "CANCELED"   [2009-02-24 Tue 04:04]
   :PROPERTIES:
   :Version:  2.6
   :Ticket:   158
   :ID:       B20E725A-B218-4A13-B08B-D74659B35F32
   :END:
** CANCELED New reporting options: --descend and --descend-if
   - State "CANCELED"   [2009-02-16 Mon 05:24]
   message://m2slpojqjc.fsf@newartisans.com
   :PROPERTIES:
   :Version:  2.6
   :Ticket:   168
   :ID:       06F4D252-4049-42D5-BBD4-F52130ED3F82
   :CREATED:  [2008-04-11 Fri]
   :END:
** CANCELED Normalize automated postings
   - State "CANCELED"   [2009-02-16 Mon 05:24]
   So that there is no functional difference between the binary and textual
   data formats; this is needed for the GUI so that if xacts are added or
   changed, the auto_xacts are re-applied to that xact
   :PROPERTIES:
   :Version:  2.6
   :Ticket:   116
   :ID:       F6E6FDE5-15FA-4AFB-B451-493F0C77F37C
   :CREATED:  [2008-04-11 Fri]
   :END:
** CANCELED Option --transform VALEXPR
   - State "CANCELED"   [2009-02-24 Tue 04:05]
   Which is a handler that applies valexpr to each transaction and outputs a
   temporary transaction with that amount -- or is this just the same as -t?
   :PROPERTIES:
   :Version:  2.6
   :Ticket:   152
   :ID:       C112D47E-7814-47D1-AE8C-B777AEFB7C56
   :CREATED:  [2008-04-11 Fri]
   :END:
** CANCELED Output error messages in a way that compilation-mode can parse
   - State "CANCELED"   [2009-02-16 Mon 05:24]
   message://20080421160053.C6CE61144C3@banane.furius.ca
   :PROPERTIES:
   :ID:       EB8AAF67-40A1-479F-BF96-7CB17D9492C1
   :CREATED:  [2008-08-14 Thu]
   :END:
** CANCELED Parallelize resource cleanup (such as memory deallocation)
   - State "CANCELED"   from "STARTED"    [2010-05-08 Sat 03:12]
   :LOGBOOK:
   CLOCK: [2010-05-08 Sat 02:11]--[2010-05-08 Sat 03:11] =>  1:00
   :END:
   :PROPERTIES:
   :ID:       8D370CF3-347A-4BD7-B906-5256B90D7B48
   :URL:      [[http://arstechnica.com/software/news/2010/04/new-memory-management-method-give-multicore-boost-to-apps.ars?utm_source%3Drss&utm_medium%3Drss&utm_campaign%3Drss][New memory management method give multicore boost to apps]]
   :CREATED:  [2010-04-06 Tue 23:38]
   :END:
** CANCELED Support --read-format and --write-format
   - State "CANCELED"   [2009-02-16 Mon 05:25]
   :PROPERTIES:
   :Version:  2.6
   :Ticket:   120
   :ID:       2BDB9BCA-6C3F-4766-9AFC-F363237C9049
   :END:
** CANCELED Think about making streamable and xml_streamable interfaces
   - State "CANCELED"   [2009-02-08 Sun 16:07]
   :PROPERTIES:
   :ID:       E777B7FF-F109-4199-B5AA-89CC9DA92A9E
   :CREATED:  [2009-01-29 Thu 18:31]
   :END:
** CANCELED Tie-in with beancounter and quantlib
   - State "CANCELED"   [2009-02-27 Fri 16:31]
   :PROPERTIES:
   :Version:  2.6
   :Ticket:   118
   :ID:       7A8607F3-87C8-4A85-A4EF-BA090BB81EDE
   :END:
** CANCELED Use Boost.Expressive instead of Boost.Regex
- State "CANCELED"   from "TODO"       [2012-05-28 Mon 04:15] \\
  No, because it doesn't support ICU.
:PROPERTIES:
:ID:       0E23E0F3-384F-4558-BAB7-2EB31286A3EF
:CREATED:  [2012-05-17 Thu 18:05]
:END:
** CANCELED Value expression descriptions
   - State "CANCELED"   [2009-02-24 Tue 04:05]
   When parsing a value expression, allowing keeping a description tag, so that
   when an exception is fired the user can be told where the value expression
   came from.
   :PROPERTIES:
   :Version:  2.6
   :Ticket:   123
   :ID:       81340878-2C17-485B-BBA7-62A271925401
   :CREATED:  [2008-04-11 Fri]
   :END:
** CANCELED [[bug:481][#481]] Add a native "test" command to Ledger
- State "CANCELED"   from "TODO"       [2012-03-09 Fri 07:34]
- State "TODO"       from "DEFERRED"   [2012-02-28 Tue 21:44]
- State "DEFERRED"   from "TODO"       [2012-02-28 Tue 03:22]
   This would allow users to have their own "test" blocks in their data files,
   without having to run a Python script to do those tests.
   :PROPERTIES:
   :ID:       90A2246B-DE3E-4744-BC21-48F75FF852E8
   :CREATED:  [2011-02-24 Thu 14:54]
   :END:
** CANCELED read_xml and write_xml methods for values
   - State "CANCELED"   [2009-02-08 Sun 16:06]
   :PROPERTIES:
   :Version:  2.6
   :Ticket:   151
   :ID:       415F72A7-A744-41EE-A849-D9E80237E00C
   :CREATED:  [2008-04-11 Fri]
   :END:
** CANCELED [#C] Change the binary cache reader to use Boost.Interprocess
   - State "CANCELED"   [2009-02-15 Sun 23:19]
   ...to read it in as a memory mapped file
   :PROPERTIES:
   :ID:       A978C1E9-86EA-4074-B8E8-2A3DF1A12ED2
   :CREATED:  [2008-08-05 Tue]
   :END:
** CANCELED [#C] Consider Martin's @openbal directive
   "AutoOpenBalance" from Martin Blais <blais@furius.ca>
   :PROPERTIES:
   :ID:       60AC4948-4B40-46D4-A346-26C394C8F1F9
   :CREATED:  [2008-08-14 Thu]
   :END:
** CANCELED [#C] Consider using mixed_amount_t instead of balance_t
   - State "CANCELED"   [2009-02-10 Tue 02:07]
   :PROPERTIES:
   :ID:       34214DA1-8FFF-4AF5-8A68-7DD79EDE261B
   :CREATED:  [2008-10-18 Sat 02:06]
   :END:
** CANCELED [#C] Every destructor which contains TRACE_DTOR should specify throw()
   - State "CANCELED"   [2009-02-10 Tue 02:07]
   :PROPERTIES:
   :ID:       44497B2D-292F-4C82-8D4F-B928FE6143EC
   :CREATED:  [2008-07-25 Fri]
   :END:
** CANCELED [#C] ledger date 2009/07/01 takes forever to return an error message
   - State "CANCELED"   from "TODO"       [2009-11-10 Tue 14:21] \\
     This is somewhat necessary, as I need to parse the main data file before
     normalizing command options -- which must be done before looking up the
     command!
   :PROPERTIES:
   :ID:       C444D9F0-55AF-4D70-8C65-609761672953
   :CREATED:  [2009-11-06 Fri 02:44]
   :END:
** WONTFIX [[bug:218][#218]] Make {{AMOUNT}} universal give the total cost/amount
   - State "WONTFIX"    from "STARTED"    [2010-06-02 Wed 01:13] \\
     I have discovered that I cannot implement this.  The reason is that 7.0 EUR in
     the example above here is a property of the commodity, not of the posting.
     Thus, you have 5 unit of GBP bought at 1.4 EUR, not a 5-unit-group bought at
     7.0 EUR.  What happens if you sell just 2 of them?  The math gets very
     complicated, and I would have to track how many of the "lot" still existed.
     With commodity properties, such tracking is unnecessary.
   :LOGBOOK:
   CLOCK: [2010-06-02 Wed 00:44]--[2010-06-02 Wed 01:13] =>  0:29
   :END:
   :PROPERTIES:
   :ID:       F76CD79B-1362-4ABF-917F-937502CBCB72
   :CREATED:  [2010-05-31 Mon 10:35]
   :END:
** WONTFIX [[bug:282][#282]] Create an operator for value + post
   - State "WONTFIX"    from "CANCELED"   [2010-06-12 Sat 05:28]
   - State "CANCELED"   from "DEFERRED"   [2010-06-12 Sat 05:26]
   - State "DEFERRED"   from "TODO"       [2009-10-25 Sun 22:05]
   :PROPERTIES:
   :ID:       28CE49A7-919B-4C93-9754-966DCC435DBA
   :CREATED:  [2009-10-23 Fri 06:14]
   :END:
** WONTFIX [[bug:287][#287]] In the equity report, if the "collapse" option is used ...
   - State "WONTFIX"    from "TODO"       [2010-06-14 Mon 08:18]
   - State "TODO"       from "DEFERRED"   [2010-06-12 Sat 05:32]
   - State "DEFERRED"   [2009-02-24 Tue 04:04]
   ... output only one entry.  Otherwise, output an entry for every top-level
   account.
   :PROPERTIES:
   :Version:  2.6
   :Ticket:   111
   :ID:       29D7E913-1A5C-4ED2-8AB8-53D895021615
   :CREATED:  [2008-04-11 Fri]
   :END:
** WONTFIX [[bug:295][#295]] Restore the XML parser (code is in xml local branch)
   - State "WONTFIX"    from "DEFERRED"   [2010-06-12 Sat 05:31]
   - State "DEFERRED"   from "TODO"       [2009-10-27 Tue 19:15]
   :PROPERTIES:
   :ID:       5332850A-B67B-4CF2-B553-BFA23EA9DB6F
   :CREATED:  [2009-10-25 Sun 22:47]
   :END:
** WONTFIX [[bug:300][#300]] Warn if a file link points to a missing file
- State "WONTFIX"    from "DEFERRED"   [2012-02-28 Tue 21:42]
   - State "DEFERRED"   from "TODO"       [2009-11-07 Sat 06:24]
   :PROPERTIES:
   :ID:       232CCAA9-77C3-4541-B894-7F0CA9A7747B
   :CREATED:  [2009-11-02 Mon 15:50]
   :END:
** WONTFIX [[bug:575][#575]] Save file comments along with the transaction that follows them
- State "WONTFIX"    from "TODO"       [2012-02-28 Tue 03:29]
   :PROPERTIES:
   :ID:       50C6A5FE-E2A3-4532-A02E-C49ACDA871E7
   :CREATED:  [2011-10-11 Tue 03:36]
   :Date:     Mon, 10 Oct 2011 15:53:55 -0700
   :Message:  [[message://j6vt24$h0r$1@dough.gmane.org][Re: Comments that persist through "Print"]]
   :Submitter: Simon Michael <simon-jbxitMBJ2LLQT0dZR+AlfA@public.gmane.org>
   :END:
** WONTFIX [[bug:625][#625]] Add "semiannually" interval
- State "WONTFIX"    from "DEFERRED"   [2012-03-12 Mon 01:33]
- State "DEFERRED"   from "TODO"       [2012-03-11 Sun 20:32]
I'd like to be able to create a periodic transaction for my car insurance
payment, which is due semiannually.  The attached patch adds a "semiannually"
interval so that I can do so.
:PROPERTIES:
:ID:       99641892-1A8D-4557-9800-2122873300B9
:CREATED: [2012-02-23 Thu 21:53]
:END:
** WORKSFORME Excluding some transactions if a file is included
   :PROPERTIES:
   :ID:       AA1D4807-4477-4035-8156-74BFAA929E02
   :Message:  [[message://20100402180202.GA10823@jirafa.cyrius.com][Excluding some transactions if a file is included]]
   :CREATED:  [2010-04-04 Sun 15:18]
   :END:
** WORKSFORME [[bug:267][#267]] Restore the --price option
   - State "WORKSFORME" from "TODO"       [2010-06-14 Mon 04:27]
   - State "TODO"       from "DEFERRED"   [2010-06-12 Sat 05:35]
   - State "DEFERRED"   from "TODO"       [2009-10-25 Sun 22:06]
   Ryan Kolak had a few questions a while back about the way Ledger calculates
   some of its figures.  There was particularly one figure that was very hard
   to derive, so I've added a new --price option to make that available.  I
   also thought that now is a good time to review the various value reports,
   and what each of them means.  For the purposes of this example, I'm using
   the following input file:
   #+begin_src ledger
   1/18/2006 Inventory Purchas
        Inventory                       3 "1065" @ $15.00
        Liabilities:Credit Card

   1/22/2006 Sale #1200010
        Inventory                       -1 "1065" {$15.00} @ $25.00
        Income:Sales
   #+end_src

   First is the normal ledger "bal inventory":

   :OUTPUT:
              2 "1065"  Inventory
   --------------------
              2 "1065"
   :END:

   This, of course, shows how much you inventory you have on hand.  If I want
   to see it in terms of lots, I use --lots:
   :OUTPUT:
     2 "1065" {$15.00}  Inventory
   --------------------
     2 "1065" {$15.00}
   :END:

   Next is the -B, or cost basis report.  This sums up all transactions by
   *the cost to you for each*.  For the above case it reports:
   :OUTPUT:
                $20.00  Inventory
   --------------------
                $20.00
   :END:

   This reports $20 because you spent $45 to buy the inventory, then sold one
   item for $25.  $45 - $25 = $20.  This report can quickly tell you if you've
   made a profit on an item, by checking whether it has gone negative (meaning
   you've drawn more money from the account than you put into it).

   Next is the market value report (-V):
   :OUTPUT:
                $50.00  Inventory
   --------------------
                $50.00
   :END:

   Here it's $50 because you have two items left which are now valued at $25
   each (the most recently seen value for the item).  This is only meaningful
   if you believe the item is still worth $25 each.

   Now we come to the mysterious gain/loss report (-G):
   :OUTPUT:
                $30.00  Inventory
   --------------------
                $30.00
   :END:

   What does this mean?  Well, the current market value for the two items you
   hold is $50 ($25 * 2) -- but your net cost basis for these items is $20
   (since you gained some of your money back by selling one of them).  Thus,
   your overall net gain at this moment is $30, assuming you can sell the
   remaining two for the same price.  Another way of looking at it is that $75
   (total market value for 3 if all sold) - $45 (your cost for 3) = $30.  A
   confusing aspect of this report is that it subtracts a historical value
   (-B) from a present value (-V).

   Lastly we have a new report: --price, or -I for short.  There are also two
   new corresponding value expression variables, 'i' and 'I', for getting at
   the price and total price of a value.  You can remember -I by thinking of
   as the Inventory price.  The -I report for the above entries tells us:
   :OUTPUT:
                $30.00  Inventory
   --------------------
                $30.00
   :END:

   Ah, the same $30 again... but now it's coming from a different source.
   This report sums up the price you paid for each item in your current
   inventory, giving you $15 * 2.  This report, unlike the other value
   reports, can never go negative -- unless you try to sell inventory that
   doesn't exist.
   :PROPERTIES:
   :Version:  2.6
   :Ticket:   172
   :ID:       F6120E58-8985-4D76-908B-93A319E6D1D1
   :CREATED:  [2008-04-11 Fri]
   :END:
** WORKSFORME [[bug:268][#268]] @@ -- allow negative costs
   - State "WORKSFORME" from "TODO"       [2010-06-12 Sat 18:12]
   - State "TODO"       from "DEFERRED"   [2010-06-12 Sat 05:35]
   - State "DEFERRED"   from "TODO"       [2009-10-25 Sun 22:05]
   I am quite keen on the @@ syntax, as I like to deal with commodities on a
   net basis. However, there is a bit of an inconsistency between @@ and @.

   Suppose I have the ledger file:
   :DATA:
   2008/01/01 * Purchase Apple shares
       Equities        1000 AAPL @ $2
       Cash

   2008/06/30 * Sell some Apple shares
       Equities        -500 AAPL @ $2.5
       Cash
   :END:
   If I type:
   :SCRIPT:
   ledger -f example01.txt -jB reg Equities
   :END:
   I get the output:
   :OUTPUT:
   2008-01-01 2000
   2008-06-30 -1250
   :END:

   The above is correct. $2000 goes in as equities as an asset, and £1250 is
   marked as a negative, thereby reducing the equity balance.

   Now. Suppose I decide I would rather use the @@ command. I would have a
   ledger file:
   :DATA:
   2008/01/01 * Purchase Apple shares
   Equities    1000 AAPL @@ $2000
   Cash

   2008/06/30 * Sell some Apple shares
   Equities    -500 AAPL @@ $1250
   Cash
   :END:
   If I type:
   :SCRIPT:
   ledger -f example01.txt -jB reg Equities
   :END:
   I now get the output:
   :OUTPUT:
   2008-01-01 2000
   2008-06-30 1250
   :END:

   The above is incorrect, because the +1250 has changed to -1250. It implies
   the purchase of shares, rather than a sale. I can't just change the $1250 to
   -$1250 in the ledger file, either, because it complains:
   :OUTPUT:
   Error: A posting's cost may not be negative
   :END:
   :PROPERTIES:
   :Submitter: Mark Carter <alt.mcarter@googlemail.com>
   :Message:  [[message://62f2a66e0903280703g1826cc25u19cca48606e4e40@mail.gmail.com][RFE: @@ - allow negative costs]]
   :ID:       4F81E261-E6C6-401B-B6CA-0B356072D770
   :CREATED:  [2009-04-01 Wed 18:52]
   :END:
** INVALID [[bug:497][#497]] Review: CSV converter for multipart transactions
- State "INVALID"    from "TODO"       [2012-02-28 Tue 03:23]
   :PROPERTIES:
   :ID:       EC914849-D8CC-42E2-A0E2-F90294A6CFAC
   :CREATED:  [2011-03-07 Mon 14:49]
   :Message:  [[message://66bf854e-da6d-447b-927b-75595be016a0@j9g2000prj.googlegroups.com][For those that care, a CSV converter for multipart transactions]]
   :Submitter: tazz_ben <ben@wbpsystems.com>
   :Date:     Sat, 5 Mar 2011 10:27:33 -0800 (PST)
   :END:
** DUPLICATE Preserve XML comments
   - State "DUPLICATE"  [2009-01-29 Thu 15:38] \\
     Duplicated by D27098A4-647A-4EEA-B0B8-3088E069214D.
   :PROPERTIES:
   :Version:  2.6
   :Ticket:   142
   :ID:       D964682A-2B95-482F-B7FE-BAEE3E2E2AA8
   :CREATED:  [2008-04-11 Fri]
   :END:
** DUPLICATE [[bug:229][#229]] Have a primary directive
   - State "DUPLICATE"  from "TODO"       [2010-06-04 Fri 06:16] \\
     Duplicate of #217.
   primary CAD for account Expenses [and children]
   primary CAD for commodity $
   :PROPERTIES:
   :ID:       76751CDA-EE47-4D3F-BABE-24260E59A44E
   :CREATED:  [2010-06-04 Fri 02:24]
   :END:
** DUPLICATE [[bug:289][#289]] Integrate with libgcrypt so ledger files can be encrypted
   - State "DUPLICATE"  from "DEFERRED"   [2010-06-08 Tue 21:57] \\
     Duplicate of #278.
   - State "DEFERRED"   from "TODO"       [2010-05-08 Sat 02:07]
   :PROPERTIES:
   :ID:       7CB80AA0-5D86-421A-B3DD-232FCA7696AB
   :CREATED:  [2010-04-30 Fri 07:33]
   :END:
** DUPLICATE [[bug:296][#296]] Support alert warnings in Ledger
   - State "DUPLICATE"  from "TODO"       [2010-06-12 Sat 14:05] \\
     Duplicate of 272.
   - State "TODO"       from "DEFERRED"   [2010-06-12 Sat 05:30]
   - State "DEFERRED"   from "TODO"       [2009-10-25 Sun 22:05]
   Like if expenses during a given month are too high.  This could be
   implemented using automated transactions with a "warn" function as the
   amount of a bogus account.
   :PROPERTIES:
   :ID:       28BD75AE-219C-4DF5-9D19-E7774BFC8DED
   :CREATED:  [2009-10-23 Fri 06:12]
   :END:
** DUPLICATE [[bug:581][#581]] Port GnuCash support to 3.0
- State "DUPLICATE"  from "TODO"       [2011-10-24 Mon 15:26] \\
  Duplicates 182.
   :PROPERTIES:
   :ID:       54F5239D-65D6-431B-A4AD-27B57FE6B149
   :CREATED:  [2011-07-21 Thu 15:26]
   :Date:     Thu, 21 Jul 2011 09:17:53 -0700
   :Message:  [[message://jwiegley/ledger/issues/30@github.com][{ledger} GnuCash support? (#30)]]
   :Submitter: peti <reply+i-1264193-264a927819dca1fe83fc7c5b9a987fbdac22d9f7@reply.github.com>
   :END:
** DUPLICATE ~/.ledgerrc not being consulted
   - State "DUPLICATE"  from "TODO"       [2009-10-27 Tue 21:58] \\
     This is being caused by [[id:71FE0FAB-622D-403C-A944-C7541948AFFF]].
   :OUTPUT:
   % git log -1
   commit <a href="/jwiegley/ledger/commit/f35bc939c96c3a3bf09c5881d638b5ba60449c03">f35bc93</a>
   Author: John Wiegley <johnw@newartisans.com>
   Date:   Sun Oct 11 14:07:55 2009 -0400

       Added a note about "acprep update" to README
   % more ~/.ledgerrc
   --date-format %Y/%m/%d
   % ./ledger reg -p this grocer | head -1
   09-Oct-02 Kroger               Expenses:Food:Groceries      $ 38.63      $ 38.63
   % ./ledger reg --date-format %Y/%m/%d -p this grocer | head -1
   2009/10/02 Kroger               Expenses:Food:Groceries      $ 38.63      $ 38.63
   :END:
   :PROPERTIES:
   :ID:       863A769C-E97C-4CA6-B89F-B72C47F07543
   :URL:      http://github.com/jwiegley/ledger/issues#issue/4
   :CREATED:  [2009-10-26 Mon 21:29]
   :END:
** CLOSED -g/-performance removed in 3.0?
- State "CLOSED"     from "DONE"       [2012-03-27 Tue 15:47] \\
  Cannot be tested.
   - State "DONE"       from "TODO"       [2010-05-22 Sat 15:08]
   - Note taken on [2010-03-26 Fri 22:18] \\
     [[message://20100325210312.GL25018@jirafa.cyrius.com][Re: -g/-performance removed in 3.0?]]
   :PROPERTIES:
   :ID:       AEF3A0AD-25BE-4412-ABEF-82737B9980C7
   :Message:  [[message://20100325183756.GA19406@jirafa.cyrius.com][-g/-performance removed in 3.0?]]
   :CREATED:  [2010-03-26 Fri 22:18]
   :END:
** CLOSED Add UTF-8 support for input files, commands and reports
- State "CLOSED"     from "DONE"       [2012-03-27 Tue 15:55]
   - State "DONE"       [2009-01-29 Thu 15:30]
   :PROPERTIES:
   :Version:  2.6
   :Ticket:   140
   :ID:       BDBB79F0-9FC4-4B91-B922-D128E18982BA
   :END:
** CLOSED [[bug:230][#230]] Make format strings backward compatible with 2.x
- State "CLOSED"     from "DONE"       [2012-03-27 Tue 15:55]
- State "DONE"       from "TODO"       [2012-03-09 Fri 07:31]
   That way, %D would be the same as %(date).
   :PROPERTIES:
   :ID:       C19E4E9B-3593-4424-8F0D-109D79D1B15E
   :CREATED:  [2010-06-03 Thu 23:22]
   :END:
** CLOSED [[bug:231][#231]] Allow conversion of some but not all commodities
- State "CLOSED"     from "DONE"       [2012-03-18 Sun 18:57]
- State "DONE"       from "TODO"       [2012-03-09 Fri 20:14] \\
  Fixed by 2df8edc
   With -X, you currently can only say "convert everything to one commodity"
   but I'd like to be able to convert some stuff but not everything.

   My scenario: I have lived both in Autria (a EUR country) and the UK (which
   has GPB).  So right now I have accounts in EUR and GBP and then I also have
   some random money from travel (USD, TWD, etc) floating around as well as
   some shares.

   I'd like to be able to say: convert everything _but_ GBP to EUR (or GBP).
   This is what I'd like to see most of the time... just those two currencies.
   But sometimes I want to convert _everything_ (including GBP) to EUR.

   I like the "primary COMM ACCOUNT" syntax you propose in #217 but to achieve
   what I want I think we need an option --convert-primary or so.  Then I
   could say:
   #+begin_src sh
   -X EUR,GBP
   #+end_src
   to get EUR and GBP, or
   #+begin_src sh
   -X EUR --convert-primary
   #+end_src
   to get just EUR.
   :PROPERTIES:
   :ID:       83B4A0E5-3CC6-4F5E-9C58-A87F690836C8
   :CREATED:  [2010-06-08 Tue 16:45]
   :END:
** CLOSED [[bug:666][#666]] Add --daybreak to split multi-day time log entries into multiple days
- State "CLOSED"     from "TODO"       [2012-03-22 Thu 18:16] \\
  Fixed by 22c1b86
:PROPERTIES:
:ID:       0095F2CC-E2EB-4645-BCDC-D73006A89AB3
:CREATED:  [2012-02-29 Wed 02:59]
:END:
** NOTE Different types of commodity transactions
   - Never revalue this commodity
   - Only revalue this commodity if -X is used
   - Revalue this commodity at current market price
   - Revalue this commodity at the transaction price
   - Revalue this commodity at transaction price while a predicate holds true
   :PROPERTIES:
   :ID:       40235519-1818-4FFC-B509-590895D1DCB9
   :VISIBILITY: folded
   :CREATED:  [2010-11-27 Sat 15:00]
   :END:
* Python
  :PROPERTIES:
  :CATEGORY: Python
  :OVERLAY: (face (:background "#fdebeb"))
  :END:
** TODO (Henry) Getting start with Ledger and Python
:PROPERTIES:
:ID:       D79CDE1F-EE46-41D8-8374-25D524BC23FA
:CREATED:  [2012-05-13 Sun 08:51]
:Date: Fri, 11 May 2012 23:46:28 -0700 (PDT)
:Message: [[message://64669b5f-13b4-4c93-b77e-44046bdc3ec7@dg7g2000vbb.googlegroups.com][Re: Getting start with Ledger and Python]]
:Author: henry atting <me.henryatting-Re5JQEeQqe8AvxtiuMwx3w@public.gmane.org>
:END:
** TODO (Matthew) Exploring the Python interface -- segfault
:PROPERTIES:
:ID:       7E383E26-1495-4E1B-9BD9-AE067881E467
:CREATED:  [2012-06-25 Mon 19:09]
:Date: Sat, 23 Jun 2012 19:12:46 -0700 (PDT)
:Message: [[message://9b5390eb-b15c-4a23-8fad-0737b4aee22d@googlegroups.com][Exploring the Python interface -- segfault]]
:Author: Matthew Harris <mharris312@gmail.com>
:END:
** TODO (Michael) Segfault embedding ipython
:PROPERTIES:
:ID:       6790327F-4614-4623-A85D-0010EC9C17B7
:CREATED:  [2012-04-09 Mon 00:04]
:Date: Sun, 8 Apr 2012 20:59:45 -0400
:Message: [[message://CANt6aO_uuXF2EXvwDu9_TMzA1=mFY4Y89GW_R40amyKfhKttCQ@mail.gmail.com][Segfault embedding ipython]]
:Author: "Michael [Plouj] Ploujnikov" <ploujj-Re5JQEeQqe8AvxtiuMwx3w@public.gmane.org>
:END:
** TODO (Tim) Reply: Getting start with Ledger and Python
:PROPERTIES:
:ID:       FB0B5F94-ABB8-411B-8B4B-1DDEEDAD132F
:CREATED:  [2012-05-28 Mon 03:36]
:Date: Sun, 27 May 2012 16:39:38 -0700 (PDT)
:Message: [[message://893d3422-f27d-4040-bed8-bce6694bdd6d@googlegroups.com][Re: Getting start with Ledger and Python]]
:Author: Tim Crews <tim-QJ3Fn9itRil4wfmgmkLWVgC/G2K4zDHf@public.gmane.org>
:END:
** TODO [[bug:407][#407]] Problem with decimal commas and Python integration support
- State "TODO"       from "DEFERRED"   [2012-03-11 Sun 20:31]
- State "DEFERRED"   from "TODO"       [2012-02-28 Tue 03:19]
   :PROPERTIES:
   :ID:       91F750B3-C7D0-4945-8E9D-268AAA40529C
   :Submitter: bugzilla-daemon@mail.johnwiegley.com
   :Message:  [[message://20100811223735.A7B214227F8@mail.johnwiegley.com][{Bug 184} For those interested in the Python support]]
   :CREATED:  [2010-08-16 Mon 16:47]
   :END:
** TODO [[bug:682][#682]] post.xact.posts yields: 'instancemethod' object is not iterable
Thanks! I managed to compile with the --python passed to acprep but I get the
following error while trying to execute the examples shown on this post:
:OUTPUT:
./ledger/ledger python ledger-script.py
Traceback (most recent call last):
  File "ledger-script.py", line 6, in <module>
    for post in post.xact.posts:
TypeError: 'instancemethod' object is not iterable
Abort trap: 6
:END:
:PROPERTIES:
:ID:       A28E6676-EE66-4E5E-A980-BC4FE0F53701
:CREATED:  [2012-03-11 Sun 20:20]
:Date: Sun, 11 Mar 2012 07:59:28 -0700 (PDT)
:Message: [[message://15761882.245.1331477969030.JavaMail.geo-discussion-forums@yner4][Re: Getting start with Ledger and Python]]
:Author: Raphael Lorenzeto <raphael.lorenzeto-Re5JQEeQqe8AvxtiuMwx3w@public.gmane.org>
:END:
** TODO [[bug:773][#773]] ledger python intepreter segfaults on second command entered
:PROPERTIES:
:ID:       A838BC24-1787-40BB-AF4E-36383960D7F7
:CREATED:  [2012-05-31 Thu 18:48]
:Date: Thu, 31 May 2012 20:09:24 +0000
:Message: [[message://bug-773-1@http.bugs.ledger-cli.org/][{Bug 773} New: ledger python intepreter segfaults on second command entered]]
:Author: bugzilla-daemon@mail.johnwiegley.com
:END:
** TODO [[bug:774][#774]] ledger python messes up subsequent console input
:PROPERTIES:
:ID:       22BD6655-3920-41E9-A9E3-DD1CC60915DC
:CREATED:  [2012-05-31 Thu 18:48]
:Date: Thu, 31 May 2012 20:16:11 +0000
:Message: [[message://bug-774-1@http.bugs.ledger-cli.org/][{Bug 774} New: ledger python messes up subsequent console input]]
:Author: bugzilla-daemon@mail.johnwiegley.com
:END:
** TODO server.py no longer works with the latest version of Ledger
:PROPERTIES:
:ID:       6B73564D-2DF9-4120-82C7-06A745977A71
:CREATED:  [2012-03-19 Mon 15:46]
:END:
** DEFERRED [[bug:302][#302]] Add implicit conversion of mask_t to re
   - State "DEFERRED"   from "TODO"       [2009-11-07 Sat 06:36]
   [[file:py_value.cc::jww%202009%2011%2002%20Add%20implicit%20conversion%20of%20mask%20objects][py_value.cc]]
   :PROPERTIES:
   :ID:       DF00F985-18A8-438D-819C-EC5962EEE925
   :CREATED:  [2009-11-03 Tue 14:01]
   :END:
** DEFERRED [[bug:303][#303]] After using python/server.py, it segfaults on exit
   - State "DEFERRED"   from "TODO"       [2009-11-22 Sun 22:36]
   :PROPERTIES:
   :ID:       DA30D886-863D-4173-AE3C-369A98F0CD59
   :CREATED:  [2009-11-21 Sat 02:20]
   :END:
** DEFERRED [[bug:304][#304]] Allow a Python function to be used to download quotes
   - State "DEFERRED"   from "TODO"       [2009-11-12 Thu 05:27]
   - State "TODO"       from "DEFERRED"   [2009-11-05 Thu 04:23]
   - State "DEFERRED"   from "TODO"       [2009-10-25 Sun 22:04]
   :PROPERTIES:
   :ID:       277ACB9A-9B43-4D3D-8BF9-D64CBCF3674A
   :CREATED:  [2009-06-24 Wed 17:27]
   :END:
** DEFERRED [[bug:305][#305]] Allow to_xml methods on all Python-exposed objects
   - State "DEFERRED"   from "TODO"       [2009-11-22 Sun 22:36]
   :PROPERTIES:
   :ID:       0EDDE812-2913-4D16-BF2E-9C343F32A958
   :CREATED:  [2009-11-19 Thu 17:38]
   :END:
** DEFERRED [[bug:306][#306]] Do a complete review of all the Python bindings
   - State "DEFERRED"   from "TODO"       [2009-11-12 Thu 05:26]
   Looking for correctness, consistency, and rationality of interfaces.
   :PROPERTIES:
   :ID:       DFC8101B-CB9D-4522-8B93-F7546183BB66
   :CREATED:  [2009-11-11 Wed 21:38]
   :END:
** DEFERRED [[bug:307][#307]] Every ledger object should honor the iteration protocol
   - State "DEFERRED"   from "TODO"       [2009-11-12 Thu 05:26]
   - Note taken on [2009-11-07 Sat 06:20] \\
     The only ones left are balance_t and value_t.
   :PROPERTIES:
   :ID:       4E160265-93EA-42EE-825D-078A2A459BCA
   :CREATED:  [2009-11-02 Mon 15:50]
   :END:
** DEFERRED [[bug:308][#308]] Get ledger python to run within the build tree
   - State "DEFERRED"   from "TODO"       [2009-10-25 Sun 22:04]
   :PROPERTIES:
   :ID:       7274224C-3470-4A9F-B56E-A499F39E13C9
   :CREATED:  [2009-03-09 Mon 20:33]
   :END:
** DEFERRED [[bug:309][#309]] Have methods for serializing to and from a string
   - State "DEFERRED"   from "TODO"       [2009-11-07 Sat 06:23]
   :PROPERTIES:
   :CREATED:  [2009-11-03 Tue 07:41]
   :ID:       9383A1B7-34C8-4B3E-8FA0-B22A92F6B10F
   :END:
** DEFERRED [[bug:310][#310]] Having problems exporting std::pair<T, U *> from Boost.Python
   - State "DEFERRED"   from "TODO"       [2009-11-25 Wed 02:36]
   This is the e-mail I was drafting for the mailing list, in response to
   [[message://770306.78630.qm@web111402.mail.gq1.yahoo.com][Re: {boost} Boost.Python question about converters and make_getter]]:

   Just one quick question:

   I have a Boost.Python method that looks like this:

     .def("__iter__", range<return_value_policy<return_by_value> >
          (py_pool_commodities_begin, py_pool_commodities_end))

   Where the members of the map are std::pair<string, MyObject *>.  I want the
   pair passed by value, but I need the "second" member to be accessed using
   reference_existing_object.
   :PROPERTIES:
   :ID:       50EA95EE-E17A-444C-84BE-123F080811FA
   :Message:  [[message://0B5E0EBA-E74E-4303-A6FC-3CBA42B7055B@gmail.com][Re: {boost} Boost.Python question about converters and make_getter]]
   :CREATED:  [2009-11-24 Tue 22:18]
   :END:
** DEFERRED [[bug:311][#311]] In py_report.cc, export all "global" functions
   - State "DEFERRED"   from "TODO"       [2009-11-12 Thu 05:26]
   Move as many of these functions as possible into their related class.  For
   example, scrub should go into value_t::scrub.
   :PROPERTIES:
   :ID:       0912FE8A-79BE-4A6A-9B0F-6A73547A9B2C
   :CREATED:  [2009-11-05 Thu 08:28]
   :END:
** DEFERRED [[bug:312][#312]] Make sure I'm handling object lifetime correctly for Boost.Python
   - State "DEFERRED"   from "TODO"       [2009-11-12 Thu 05:26]
   http://wiki.python.org/moin/boost.python/CallPolicy
   :PROPERTIES:
   :ID:       D3727E42-6180-44F5-AD0B-651BAA822C8D
   :CREATED:  [2009-11-03 Tue 08:55]
   :END:
** DEFERRED [[bug:313][#313]] Standardize the find_account and find_commodity methods
   - State "DEFERRED"   from "TODO"       [2009-11-12 Thu 05:26]
   It should be find_account(STR), find_account(MASK), and
   find_or_create_account(STR).  Some with find_commodity, etc.
   :PROPERTIES:
   :ID:       BC6E6475-14C8-4E20-BF4E-0A0FAD36F01D
   :CREATED:  [2009-11-05 Thu 16:11]
   :END:
** DEFERRED [[bug:314][#314]] The error output when calling Python is out of order
   - State "DEFERRED"   from "TODO"       [2009-10-25 Sun 22:04]
   :OUTPUT:
   TypeError: No to_python (by-value) converter found for C++ type: ledger::value_t
   While evaluating value expression:
   myvalue(23)
   ^^^^^^^^^^^
   Error: While calling Python function 'myvalue'
   :END:
   This should be:
   :OUTPUT:
   While evaluating value expression:
   myvalue(23)
   ^^^^^^^^^^^
   While calling Python function 'myvalue':
   Error: TypeError: No to_python (by-value) converter found for C++ type: ledger::value_t
   :END:
   :PROPERTIES:
   :ID:       7CF0160B-A3FF-4BE7-B6D3-788F9556A20F
   :CREATED:  [2009-01-23 Fri 15:57]
   :END:
** DEFERRED [[bug:316][#316]] Write a Python demo script
   - State "DEFERRED"   from "STARTED"    [2009-11-22 Sun 22:36]
   :PROPERTIES:
   :ID:       9F26072D-C8E1-49CB-BF28-E2D32B170108
   :CREATED:  [2009-11-19 Thu 17:37]
   :END:
** DEFERRED [[bug:424][#424]] Make acprep compatible with Python 3                                    :ATTACH:
- State "DEFERRED"   from "TODO"       [2012-02-28 Tue 03:19]
   - Note taken on [2010-11-26 Fri 12:55] \\
     [[message://f97b7781-0cd1-48d4-b6d6-ec75688c8241@q14g2000yqe.googlegroups.com][Re: acprep Python 3 {patch}]]
   :PROPERTIES:
   :ID:       AA0C71E0-00BB-4EEF-A5F6-F7B44CA4C3E0
   :Submitter: John Piasetzki <john.piasetzki@gmail.com>
   :Message:  [[message://AANLkTimJcMdtJ-xwZkoRyJw7WjoNvzUwU6mmKhr9wjK_@mail.gmail.com][acprep Python 3 {patch}]]
   :Attachments: 0001-Update-acprep-to-work-with-Python3.patch
   :CREATED:  [2010-11-24 Wed 13:43]
   :END:
** DONE Add expr_t(string) and expr_t::operator() for ease of use from Python
   - State "DONE"       from "TODO"       [2009-11-09 Mon 14:08]
   :PROPERTIES:
   :ID:       55B576FF-4448-4569-8E5B-56C63D9703D8
   :CREATED:  [2009-11-03 Tue 18:54]
   :END:
** DONE Add implicit conversion of duration_t to PyDelta
   - State "DONE"       from "TODO"       [2009-11-10 Tue 20:34]
   [[file:py_times.cc::jww%202007%2005%2004%20Convert%20time%20duration%20objects%20to%20PyDelta][py_times.cc]]
   :PROPERTIES:
   :ID:       B5D1ABA9-1580-4719-A1B5-CBE8EA89147D
   :CREATED:  [2009-11-03 Tue 14:00]
   :END:
** DONE Add implicit conversion of value_t::sequence_t to tuple
   - State "DONE"       from "TODO"       [2009-11-11 Wed 04:48]
   [[file:py_value.cc::jww%202009%2011%2002%20Need%20to%20support%20conversion%20eof%20value_t%20sequence_t][py_value.cc]]
   :PROPERTIES:
   :ID:       9D00371D-44BC-44DB-B8FB-14AD2125876F
   :CREATED:  [2009-11-03 Tue 14:01]
   :END:
** DONE Create some standard Python modules for Ledger: http
   - State "DONE"       [2009-02-24 Tue 20:01]
   This would install from python/ledger/http.py, and would get activated if
   someone used the http command.
   :PROPERTIES:
   :ID:       D4CFF147-B825-43E2-B85C-28501936EEAE
   :CREATED:  [2009-02-24 Tue 11:08]
   :END:
** DONE Deal with PyUnicode objects
   - State "DONE"       from "TODO"       [2009-11-10 Tue 14:15]
   :PROPERTIES:
   :ID:       B7403D92-8C73-414F-A0EC-145D1F7101D4
   :CREATED:  [2009-11-07 Sat 06:35]
   :END:
** DONE Delete unused python classes: op, token, parser
   - State "DONE"       from "TODO"       [2009-11-05 Thu 04:21]
   :PROPERTIES:
   :ID:       C5834D2D-562C-4037-84B5-30D58337434B
   :CREATED:  [2009-11-03 Tue 18:54]
   :END:
** DONE Expose journal_t::read to Python
   - State "DONE"       from "TODO"       [2009-11-07 Sat 06:50]
   :PROPERTIES:
   :ID:       9B059767-253E-451C-B65A-FD27FE27944D
   :CREATED:  [2009-11-05 Thu 06:09]
   :END:
** DONE For Python's sake, all Journals should share a commodity_pool
   - State "DONE"       from "TODO"       [2009-11-21 Sat 05:29]
   :PROPERTIES:
   :ID:       B3D2495F-F542-4F96-9A11-065194D63AAD
   :CREATED:  [2009-11-19 Thu 17:36]
   :END:
** DONE Have Ledger fire up the Python interpreter only "as needed"
   - State "DONE"       [2009-01-24 Sat 05:24]
   :PROPERTIES:
   :ID:       A98BDA0B-8B08-433F-B292-AFCAFB675DE9
   :ARCHIVE_TIME: 2009-02-01 Sun 15:50
   :ARCHIVE_CATEGORY: Computer
   :CREATED:  [2009-01-23 Fri 03:39]
   :END:
** DONE I can simplify the Python integration even further with scopes
   - State "DONE"       [2009-02-09 Mon 00:04]
   Rather than exposing post_t, I can just do __getattr__ lookups in the
   current scope_t, the same way that value expressions would.
   :PROPERTIES:
   :ID:       DF2D6FE9-8598-4747-8B35-88075C6D7EAA
   :CREATED:  [2009-02-08 Sun 15:09]
   :END:
** DONE Ledger should always hand Unicode strings back to Python
   - State "DONE"       from "TODO"       [2009-11-10 Tue 20:14]
   :PROPERTIES:
   :ID:       802AE33C-8AA3-4799-9277-79621D11E290
   :CREATED:  [2009-11-10 Tue 14:41]
   :END:
** DONE Ledger: Add INFO statement regarding Python starting, etc.
   - State "DONE"       [2009-01-23 Fri 15:40]
   :PROPERTIES:
   :ID:       2BAE44BE-2EA4-4A51-B6A0-1DE6E7DFAA27
   :ARCHIVE_TIME: 2009-02-01 Sun 15:50
   :ARCHIVE_CATEGORY: Computer
   :CREATED:  [2009-01-23 Fri 03:41]
   :END:
** DONE Make sure journal and xact support the Python iteration protocol
   - State "DONE"       from "TODO"       [2009-11-05 Thu 04:21]
   http://wiki.python.org/moin/boost.python/iterator
   :PROPERTIES:
   :ID:       36026E30-95C9-4616-B39A-C1D30F807D12
   :CREATED:  [2009-11-03 Tue 07:59]
   :END:
** DONE Make the Python interface simpler
   - State "DONE"       from "TODO"       [2009-11-05 Thu 04:22]
   For example, this should be possible:
   :SOURCE:
   from ledger import *

   for txn in Journal("~/.ledger"):
     print txn.payee
     for post in txn:
       print post.account        # str() calls fullname()
   :END:
   :PROPERTIES:
   :ID:       68226663-9FF5-428A-AC39-DD70750F11B0
   :CREATED:  [2009-11-03 Tue 08:23]
   :END:
** DONE Move python/*.cc files into src/, so python/ can contain .py files
   - State "DONE"       [2009-02-24 Tue 16:13]
   :PROPERTIES:
   :ID:       DB0E282A-F1D4-4009-BBE0-B2D97EACA9B5
   :CREATED:  [2009-02-24 Tue 15:04]
   :END:
** DONE Restore py_amount, and the Python unit tests
   - State "DONE"       [2009-02-27 Fri 16:31]
   :PROPERTIES:
   :ID:       4F5490B3-7FE8-4CE7-B86C-71BCF3AE9918
   :CREATED:  [2009-02-21 Sat 12:35]
   :END:
** DONE The "ledger hello" command fails with "unknown function import_"
   - State "DONE"       from "TODO"       [2009-11-10 Tue 13:47] \\
     I've removed the "hello" command, and fixed the underlying problem.
   - State "TODO"       from "STARTED"    [2009-11-10 Tue 02:49]
   :PROPERTIES:
   :ID:       5FF900A4-8F86-406C-91F5-9314F74A9C6E
   :CREATED:  [2009-11-07 Sat 09:05]
   :END:
** DONE When passing SCOPE args, always downcast
   - State "DONE"       from "TODO"       [2009-11-05 Thu 17:17]
   This way I don't need to expose scope_t at all!
   :PROPERTIES:
   :ID:       2D867E72-2030-4451-9FEE-A77D77680847
   :CREATED:  [2009-11-05 Thu 08:29]
   :END:
** DONE [[bug:665][#665]] pymodule.value doesn't work yet for Python
- State "DONE"       from "TODO"       [2012-03-11 Sun 04:42]
I need to convert the pymodule to a scope_t-derived proxy whose lookup()
method will check the module's namespace.

Once this is done, then abstract the main module to use the same thing, and
make this a child scope of the Python session.
:PROPERTIES:
:ID:       5CD94EF6-4791-4ACA-81A7-5BAACDC1B0B9
:CREATED:  [2012-03-01 Thu 03:28]
:END:
** DONE account_total(X) should be account(X).amount
   - State "DONE"       from "TODO"       [2009-11-10 Tue 02:45]
   :PROPERTIES:
   :ID:       AB130FE5-33EC-4243-8F89-35C1A0848382
   :CREATED:  [2009-11-05 Thu 06:09]
   :END:
** CANCELED Create a Python wrapper for op_t objects
   - State "CANCELED"   from "DEFERRED"   [2009-11-05 Thu 04:23]
   - State "DEFERRED"   from "TODO"       [2009-10-25 Sun 22:04]
   If it's evaluated in a value context, like str, int or __repr__, then
   calculate and determine the value.  Otherwise, don't calculate so it remains
   callable.
   :PROPERTIES:
   :ID:       3040E933-2068-4C78-954F-F78A7BAFB2D6
   :CREATED:  [2009-02-24 Tue 22:15]
   :END:
** CANCELED Fix boost::optional translation class for Dmitriy
   - State "CANCELED"   from "DEFERRED"   [2009-11-10 Tue 20:34]
   - State "DEFERRED"   from "TODO"       [2009-11-10 Tue 20:16]
   - State "TODO"       from "DEFERRED"   [2009-11-05 Thu 04:23]
   - State "DEFERRED"   from "TODO"       [2009-10-27 Tue 19:11]
   - State "TODO"       from "DEFERRED"   [2009-10-22 Thu 07:34]
   - State "DEFERRED"   from "TODO"       [2009-06-16 Tue 16:27]
   [[message://2fd72fb20901281006u181318bke33c44a25098dfd8@mail.gmail.com][Re: boost::optional and boost::python]]
   :PROPERTIES:
   :ID:       DD3AABF8-A52D-4E1E-A931-DA6131F31F7A
   :CREATED:  [2009-02-02 Mon 03:13]
   :END:
** CANCELED Rewrite py_scope.cc
   - State "CANCELED"   from "TODO"       [2009-11-05 Thu 17:17]
   :PROPERTIES:
   :ID:       02F01290-311E-4A6C-9049-3EA78BA7CA1E
   :CREATED:  [2009-11-03 Tue 18:54]
   :END:
** WONTFIX Problems compiling with python support on debian squeeze
   - State "WONTFIX"    from "DONE"       [2010-01-22 Fri 20:06] \\
     This is apparently a packaging issue on Debian.
   - State "DONE"       from "TODO"       [2010-01-22 Fri 18:51]
   - Note taken on [2010-01-22 Fri 18:49] \\
     [[message://20100122004144.GA17106@atom][Re: problems compiling with python support on debian squeeze - solved]]
   - State "TODO"       from "WONTFIX"    [2010-01-22 Fri 18:49]
   - State "WONTFIX"    from "TODO"       [2010-01-21 Thu 04:28]
   :PROPERTIES:
   :ID:       0167EEB2-6D64-4387-8F1D-F464C699A047
   :Message:  [[message://20100104044948.GA14665@atom][problems compiling with python support on debian squeeze]]
   :CREATED:  [2010-01-09 Sat 21:07]
   :END:
** WONTFIX [[bug:315][#315]] Use Python to create a per-account debit/credit report
- State "WONTFIX"    from "DEFERRED"   [2012-03-10 Sat 21:39] \\
  This type of report can now be generated with the --dc option.
   - State "DEFERRED"   from "TODO"       [2009-10-25 Sun 22:04]
   Is there a way to let ledger output its reports showing the accounts in the
   more conventional way as debit and credit accounts, instead of having a
   positive or negative saldo?

   Here is one example:
   :OUTPUT:
   Assets:Bank
   Tr.# date            Text                    debit           credit          saldo
   1    2008-01-01      Mr. Sponsor             500                             500
   2    2008-01-02      Bill                                    100             400

   Income:Donations
   Tr.# date            Text                    debit           credit          saldo
   1    2008-01-01      Mr. Sponsor                             500             -500

   Expenses:Electricity
   Tr.# date            Text                    debit           credit          saldo
   2    2008-01-02      Bill                    100                             100
   :END:
   There should be a way of distinguishing between debit accounts, as assets
   and expenses, and credit accounts, as Income and liabilities. It is of
   course possible to processs ledger's output to achieve this, but it would be
   nice if it could be done in ledger directly.
   :PROPERTIES:
   :Submitter: Christopher <christopher.illies@ki.se>
   :Version:  2.6.1
   :ID:       444EFEE1-D873-4FD3-BB07-4E605BCB2BF4
   :CREATED:  [2008-10-08 Wed 00:58]
   :END:
** WORKSFORME [#A] [[bug:184][#184]] For those interested in the Python support                      :blocker:
   - State "WORKSFORME" from "TODO"       [2010-06-08 Tue 17:26] \\
     This can happen if the Python that Ledger is linked to is not the same as the
     Python that your libboost_python is linked to.

     This is not a problem in Ledger, but your build environment.  Send me e-mail
     directly and perhaps I can help you get it straightened out.
   Do you have any clue on the following error message?
   :OUTPUT:
   $ ./ledger python ./python/demo.py
   Welcome to the Ledger.Python demo!
   Traceback (most recent call last):
    File "./python/demo.py", line 99, in <module>
      comms.exchange(eur, ledger.Amount('$0.77')) # Trade 1 EUR for
   $0.77
   AttributeError: 'module' object has no attribute 'Amount'
   :END:
   :PROPERTIES:
   :ID:       3CA93725-E9BF-4FCF-8F21-50EA394C9FDA
   :Message:  [[message://390f36c2-1bde-485b-9d95-bb15b04b4408@u9g2000yqb.googlegroups.com][Re: For those interesting in the Python support]]
   :Submitter: thierry <thierry.daucourt@free.fr>
   :CREATED:  [2010-03-26 Fri 22:24]
   :END:
** CLOSED [[bug:758][#758]] post.cost: No Python class registered for C++ class boost::optional<ledger::amount_t>
- State "CLOSED"     from "TODO"       [2012-03-30 Fri 00:41]
:PROPERTIES:
:ID:       4D9288AE-2671-4707-B415-F3C542F206D6
:CREATED:  [2012-03-29 Thu 15:38]
:Date: Thu, 29 Mar 2012 20:04:27 +0000
:Message: [[message://bug-758-1@http.bugs.ledger-cli.org/][{Bug 758} New: post.cost: No Python class registered for C++ class boost::optional<ledger::amount_t>]]
:Author: bugzilla-daemon@mail.johnwiegley.com
:END:
** CLOSED [[bug:760][#760]] value(eur, post.date) doesn't work
- State "CLOSED"     from "TODO"       [2012-03-30 Fri 00:50]
:PROPERTIES:
:ID:       9188F587-D455-42F7-872D-F46C09D11475
:CREATED:  [2012-03-29 Thu 19:21]
:Date: Thu, 29 Mar 2012 21:31:34 +0000
:Message: [[message://bug-760-1@http.bugs.ledger-cli.org/][{Bug 760} New: value(eur, post.date) doesn't work]]
:Author: bugzilla-daemon@mail.johnwiegley.com
:END:
* Build
  :PROPERTIES:
  :CATEGORY: Build
  :OVERLAY: (face (:background "#fdebeb"))
  :END:
** TODO (Martin) Building with Ninja instead of Make
:PROPERTIES:
:ID:       660FD0BB-F419-40A7-939A-CF9DA3109A73
:CREATED:  [2012-09-27 Thu 16:46]
:Date:     Thu, 27 Sep 2012 09:09:10 +0100
:Message:  [[message://20120927080910.GB2344@jirafa.cyrius.com][Re: Building with Ninja instead of Make]]
:Author:   Martin Michlmayr <tbm@cyrius.com>
:END:
** TODO (Jeremiah) Problem using dijkstra_shortest_paths with Boost 1.51
Could you please try the new trunk version?  I tried to fix this issue.
:PROPERTIES:
:ID:       290DC78C-3469-4B72-8C1B-9D180E1C78A1
:CREATED:  [2012-09-27 Thu 01:19]
:Date:     Mon, 17 Sep 2012 23:28:20 -0400 (EDT)
:Message:  [[message://alpine.LRH.2.02.1209172327570.10825@flowerpot.osl.iu.edu][Re: Problem using dijkstra_shortest_paths with Boost 1.51]]
:Author:   Jeremiah Willcock <jewillco@osl.iu.edu>
:END:
** TODO (Alexis) Best way to install Ledger 3 on OS X Mountain Lion
:PROPERTIES:
:ID:       7DA42DA5-7AEA-4810-A9E3-E73A522E51F6
:CREATED:  [2012-09-10 Mon 18:45]
:Date:     Sat, 8 Sep 2012 12:28:25 +0200
:Message:  [[message://20120908102825.GB1539@kaori.local][Re: Best way to install Ledger 3 on OS X Mountain Lion]]
:Author:   Alexis <surryhill@gmail.com>
:END:
** TODO (Andreas) Building recent git src with --prefix
:PROPERTIES:
:ID:       EA37609C-3F4F-49D8-9316-E828224C84F3
:CREATED:  [2012-05-27 Sun 17:26]
:Date: Sat, 26 May 2012 02:28:21 +0200
:Message: [[message://87sjen6b16.fsf@web.de][building recent git src with --prefix]]
:Author: Andreas Reuleaux <reuleaux-S0/GAf8tV78@public.gmane.org>
:END:
** TODO (Johann) Reply: Ledger has switched to CMake
:PROPERTIES:
:ID:       B6F12F32-4421-40EC-82DD-4F827102AEC5
:CREATED:  [2012-05-21 Mon 03:48]
:Date: Sun, 20 May 2012 15:59:53 +0200
:Message: [[message://CAE+8KM34S_V+cw2Oqm12U7ARHOAqB0a=7H-Ckw2ndYY41AjvLQ@mail.gmail.com][Re: Ledger has switched to CMake]]
:Author: Johann Klähn <kljohann-Re5JQEeQqe8AvxtiuMwx3w@public.gmane.org>
:END:
** TODO (Max) Build error on mingw/msys
- Note taken on [2012-04-09 Mon 00:04] \\
  A few changes to RegressTests.py to account for different path
  seperators, shell quoting and shell escapes and most of the baseline and
  regress tests pass (instead of special casing python's os and os.path all
  over the place, I am using a sitecustomize.py to patch them at
  runtime). The path/shell fixes aren't complete , so there are still some
  failures there, but I guess they aren't very intereseting.  Most of the
  remaining failing tests have unicode characters.

  The output is here, along with the changes to RegressTests.py:

      http://paste.pocoo.org/show/577470/

  I guess the problem is with file input in the mingw libraries, but I
  haven't figured out where to look yet. Any tips there?
So my attempt to get acprep to run aclocal doesn't work. That explains libtool
emitting the wrong commands. A little fiddling with the autoconf stuff got it
working (I haven't minimized and verified the commands, but I think just
aclocal -I m4 and ./config.status libtool are enough.).

The last thing missing from mingw is an implementation of strptime. I looked
at a few and the one here is relatively self contained:

http://googlesitemapgenerator.googlecode.com/svn/trunk/src/common/timesupport.cc

I inserted it into the project using sha1.cpp/sha1.h as a model and the build
completes successfully (to be clear, my primary goal is a working windows
build and some documentation about doing that, any changes to the official
sources that simplify those goals are a bonus).

Next step is to try to get the tests working (the simple commands I have tried
do work and at a glance do output correct values).
:PROPERTIES:
:ID:       66FE3CBB-C98D-4B20-97A8-BADB26B3A360
:CREATED:  [2012-04-09 Mon 00:03]
:Date: Sat, 24 Mar 2012 06:55:27 -0700 (PDT)
:Message: [[message://4979b941-fe9f-4b66-b038-2980701f1cc1@lf20g2000pbb.googlegroups.com][Re: Build error on mingw/msys]]
:Author: Max Erickson <maxerickson-Re5JQEeQqe8AvxtiuMwx3w@public.gmane.org>
:END:
** TODO (Max) Build error on mingw/msys
:PROPERTIES:
:ID:       47B3A907-7AF6-40DC-AD70-05AAFA422F6A
:CREATED:  [2012-03-27 Tue 14:58]
:Date: Sat, 24 Mar 2012 06:55:27 -0700 (PDT)
:Message: [[message://4979b941-fe9f-4b66-b038-2980701f1cc1@lf20g2000pbb.googlegroups.com][Re: Build error on mingw/msys]]
:Author: Max Erickson <maxerickson-Re5JQEeQqe8AvxtiuMwx3w@public.gmane.org>
:END:
** TODO Build Emacs and Ledger with Intel's Optimizing C++ Compiler
:PROPERTIES:
:ID:       2689949B-2A39-4BF1-A481-4A95C6F10E9F
:CREATED:  [2012-03-20 Tue 05:13]
:END:
** TODO Cannot build Ledger with -O4
:PROPERTIES:
:ID:       E3313DE6-C106-40D1-BCF4-AC695278F8BB
:CREATED:  [2012-07-04 Wed 02:30]
:END:
** TODO Change configure.ac so that it requires a Boost version of 1.46 or newer
:PROPERTIES:
:ID:       082BC082-C5FB-49B7-AF19-C28DB40DAED6
:CREATED:  [2012-03-20 Tue 16:27]
:Date: Tue, 20 Mar 2012 10:47:11 +0000
:Message: [[message://bug-677-1-QslvLBxLoe@http.bugs.ledger-cli.org/][{Bug 677} Error building current next branch: no type named ‘key_type’ in ‘class ledger::date_specifier_t’]]
:Author: bugzilla-daemon@mail.johnwiegley.com
:END:
** TODO Compare gcc optimized Ledger with gcc
Gcc timing results:
:OUTPUT:
vulcan ~/src/ledger $ average ~/Products/ledger/opt/ledger -f build/mondo.dat reg exp --invert --monthly -o /dev/null
5.24763050079
:END:
:PROPERTIES:
:ID:       56C77989-E71A-4772-8FD7-5A6968E595D8
:CREATED:  [2012-05-03 Thu 02:38]
:END:
** TODO Convert Ledger 3.1 to use CMake
:PROPERTIES:
:ID:       EE0A5F5B-EBA8-4098-8BE0-F7E8A6C3DB7E
:CREATED:  [2012-05-16 Wed 21:13]
:END:
** TODO Ledger binaries for OpenBSD
:PROPERTIES:
:ID:       DA81FB92-BC4B-4BD0-9B29-B2EE3F4F2458
:CREATED:  [2012-05-04 Fri 02:19]
:Date: Fri, 4 May 2012 14:30:29 +1200
:Message: [[message://20120504023029.GA8816@li165-50.members.linode.com][Ledger binaries]]
:Author: alex@abushkevi.ch
:END:
** TODO Ledger cannot compile with icc due to lots of undefined symbols
:OUTPUT:
  CXXLD    ledger
ranlib: warning for library: .libs/ledger.a the table of contents is empty (no object file members in the library define global symbols)
ipo: warning #11060: ./.libs/libledger_report.a is an archive, but has no symbols (this can happen if ar is used where xiar is needed)
ipo: warning #11010: file format not recognized for ./.libs/libledger_report.a
[...]
ipo: warning #11021: unresolved __cxa_guard_acquire
        Referenced in /var/folders/tr/f6srfk8s709583xg8__xnnrm0000gn/T/ipo_icc2ayksM.o
ipo: warning #11021: unresolved __cxa_guard_release
        Referenced in /var/folders/tr/f6srfk8s709583xg8__xnnrm0000gn/T/ipo_icc2ayksM.o
[...]
ipo: remark #11000: performing multi-file optimizations
ipo: remark #11006: generating object file /var/folders/tr/f6srfk8s709583xg8__xnnrm0000gn/T/ipo_icc2ayksM.o
Undefined symbols for architecture x86_64:
  "__ZN6ledger12_desc_bufferE", referenced from:
      _main in ipo_icc2ayksM.o
      __ZN6ledger14global_scope_t15execute_commandESt4listINS_6stringESaIS2_EEb in ipo_icc2ayksM.o
      __ZN6ledger14global_scope_t9read_initEv in ipo_icc2ayksM.o
      __ZNK6ledger8option_tINS_8report_tEE3strEv in ipo_icc2ayksM.o
      __ZNK6ledger8option_tINS_14global_scope_tEE3strEv in ipo_icc2ayksM.o
      __ZN6ledger8option_tINS_9session_tEE7handlerERNS_12call_scope_tE in ipo_icc2ayksM.o
      __ZN6ledger8option_tINS_8report_tEE7handlerERNS_12call_scope_tE in ipo_icc2ayksM.o
      ...
[...]
:END:
:PROPERTIES:
:ID:       1983C10C-5810-482D-A525-D2EAAB0F45A1
:CREATED:  [2012-05-03 Thu 02:35]
:END:
** TODO Ledger gcov is failing to configure/build with Clang
:PROPERTIES:
:ID:       A37ED8AA-74BD-4981-9D24-603B92CDD9E1
:CREATED:  [2012-04-27 Fri 15:33]
:END:
** TODO Ledger proof build is hanging
:OUTPUT:
46972   ??  SN     0:11.89 /opt/local/bin/valgrind -q ./ledger --verify --columns=80 --args-only -f /Users/johnw/Products/ledger/ledger-proof-python-gcc47/test/regress/4D9288AE_py.test python test/regress/4D9288AE.py
46992   ??  SN     0:11.92 /opt/local/bin/valgrind -q ./ledger --verify --columns=80 --args-only -f /Users/johnw/Products/ledger/ledger-proof-python-gcc47/test/regress/78AB4B87_py.test python test/regress/78AB4B87.py
47012   ??  SN     0:11.95 /opt/local/bin/valgrind -q ./ledger --verify --columns=80 --args-only -f /Users/johnw/Products/ledger/ledger-proof-python-gcc47/test/regress/9188F587_py.test python test/regress/9188F587.py
:END:
:PROPERTIES:
:ID:       7130C12B-E931-43D2-B510-0CB7B6B5BF50
:CREATED:  [2012-04-13 Fri 14:45]
:END:
** TODO Ledger will not build with ASan
Is it linking with .a files which haven't been built with ASan?
:PROPERTIES:
:ID:       E55FEA99-3454-492D-8D79-8ADAA879B0AD
:CREATED:  [2012-06-30 Sat 00:10]
:END:
** TODO Report an error if the version of Boost is not high enough
:PROPERTIES:
:ID:       06724B9B-CD52-4440-ACFA-74FF7779EF1D
:CREATED:  [2012-03-20 Tue 03:26]
:END:
** TODO Ticket #25213: ledger-devel Portfile
:PROPERTIES:
:ID:       0AA615B8-AEA0-4C87-8A70-78BB5DFEFCF2
:CREATED:  [2012-05-14 Mon 23:45]
:URL: [[https://trac.macports.org/ticket/25213][#25213 (ledger-devel Portfile)]]
:END:
** TODO [[bug:234][#234]] Add some more configure arguments
   - State "TODO"       from "DEFERRED"   [2010-06-12 Sat 05:36]
   - State "DEFERRED"   from "TODO"       [2009-10-31 Sat 03:15]
   ./configure .... with-gmp=...  with-mpfr= ... with-python=...
   :PROPERTIES:
   :ID:       070D3625-FCAE-44B0-B1B7-BFD6BAD4028D
   :CREATED:  [2009-03-26 Thu 02:09]
   :END:
** TODO [[bug:371][#371]] VS project files & Windows installer
   :PROPERTIES:
   :ID:       E8F11AFF-8FD8-411C-8876-4A942793E9C9
   :Submitter: Roel Vanhout <roel.vanhout@gmail.com>
   :Message:  [[message://AANLkTilwxjENAIajnVXvoes8H1ccWUgeDsMNirDNgbu-@mail.gmail.com][VS project files & Windows installer]]
   :CREATED:  [2010-06-28 Mon 23:54]
   :END:
** TODO [[bug:405][#405]] Strange libboost suffix on Debian Squeeze with acprep
   :OUTPUT:
   ./acprep update
   acprep: INFO: Invoking primary phase: update
   acprep: INFO: Executing phase: update
   acprep: INFO: Executing phase: pull
   Already up-to-date.
   acprep: INFO: Executing phase: submodule
   acprep: INFO: Executing phase: make
   acprep: INFO: Executing phase: config
   acprep: INFO: Executing phase: submodule
   acprep: INFO: Executing phase: autoconf
   acprep: INFO: Executing phase: configure
   acprep: INFO: ./configure must be run because Makefile does not exist
   acprep: INFO: Looking for Boost in /usr/local/lib...
   acprep: INFO: Looking for Boost in /opt/local/lib...
   acprep: INFO: Looking for Boost in /sw/lib...
   acprep: INFO: Looking for Boost in /usr/lib...
   acprep: INFO: Found a Boost library: libboost_regex-gcc41-1_34_1.so.1.34.1
   acprep: INFO: Found Boost suffix => -gcc41-1_34_1
   acprep: INFO: Boost was found here:
   acprep: INFO: BOOST_HOME    => /usr
   acprep: INFO: BOOST_SUFFIX  => -gcc41-1_34_1
   acprep: INFO: Noticing include directory => /usr/local/include
   acprep: INFO: Noticing include directory => /usr/include/boost
   acprep: INFO: Noticing library directory => /usr/local/lib
   acprep: INFO: Noticing library directory => /usr/lib
   acprep: INFO: System type is => Linux
   acprep: INFO: Setting up build flavor => debug
   ...
   configure: error: in `/var/www/dev/ledger':
   configure: error: "Could not find boost_regex library (set CPPFLAGS and LDFLAGS?)"
   See `config.log' for more details.
   acprep: ERROR: Execution failed: sh configure CPPFLAGS=-isystem /usr/local/include -isystem /usr/include/boost CXXFLAGS=-fpch-deps -Wconversion -pthread -g -pipe LDFLAGS=-g -L/usr/local/lib -L/usr/lib --with-boost-suffix=-gcc41-1_34_1 --with-included-gettext --enable-python --enable-pch --enable-debug
   :END:
   I'm now trying just "./configure" and it seems to be going OK
   :PROPERTIES:
   :ID:       4EBBD321-AE9E-45A6-A37E-18EBEFFB865F
   :CREATED:  [2010-09-10 Fri 17:21]
   :END:
** TODO [[bug:456][#456]] Building on Arch Linux
   :PROPERTIES:
   :ID:       00C5345C-E8FA-475A-BCEA-3F15E848AC84
   :Submitter: emsenn <emsenn@emsenn.com>
   :Message:  [[message://AANLkTikJRbwJ6mkChu0zXF1ny1UL0vpaX9mtK%2BXP_A7F@mail.gmail.com][ledger on Arch Linux]]
   :CREATED:  [2010-11-28 Sun 20:32]
   :END:
** TODO [[bug:544][#544]] Failing tests in Ledger should cause all tests to fail
   :PROPERTIES:
   :ID:       B4E16081-08C6-430E-82F6-00304C388A22
   :CREATED:  [2011-07-08 Fri 13:40]
   :END:
** TODO [[bug:586][#586]] Improve build error for users without MacPorts or Fink
  "./acprep dependencies" only works if you have MacPorts installed. If you
  have Fink installed rather than MacPorts then it reports an error, but if
  you have neither then it silently does nothing. This silence led me to this
  that it had there were were no unresolved dependencies.
  :PROPERTIES:
  :ID:       AE5942B2-1622-42A3-B554-1C5E2BA3A1B1
  :CREATED:  [2011-10-24 Mon 15:33]
  :URL:      https://github.com/jwiegley/ledger/issues/33
  :END:
** TODO [[bug:594][#594]] ExprTests fail if --decimal-comma is specified in ~/.ledgerrc
- Note taken on [2011-11-03 Thu 14:05] \\
  :OUTPUT:
  ======================================================================
  ERROR: testCommodityComparisons (t_amount.t_amountTestCase)
  ----------------------------------------------------------------------
  Traceback (most recent call last):
    File "/home/thierry/ledger/test/python/t_amount.py", line 24, in setUp
      x1 = Amount(u"$1.00")
  ArithmeticError: Incorrect use of thousand-mark period
  :END:
  :PROPERTIES:
  :ID:       B89723B6-203F-4746-8B16-299FB5480659
  :CREATED:  [2011-11-01 Tue 10:30]
  :Date:     Mon, 31 Oct 2011 20:03:45 +0100
  :Message:  [[message://CA+R89YLLmnr2iYxCnmsjkwNwf8dSv1zHaE6s3xHGxJnEWzC1UQ@mail.gmail.com][{ledger bug} ExprTests failed]]
  :Submitter: Thierry Daucourt <thierry.daucourt@free.fr>
  :END:
** TODO [[bug:644][#644]] MacPorts #25213: ledger-devel Portfile
:PROPERTIES:
:ID:       C1CC1703-52F7-4203-B0C2-1C5BDA590493
:CREATED:  [2011-11-24 Thu 01:27]
:Date: Thu, 24 Nov 2011 07:04:31 +0000
:Message: [[message://063.34c9b6114c17ced1224f656ffb8081df@macports.org][Re: {MacPorts} #25213: ledger-devel Portfile]]
:Submitter: MacPorts <noreply@macports.org>
:END:
** TODO [[bug:669][#669]] Fix --no-python option
- Note taken on [2012-02-28 Tue 21:29] \\
  Maybe `--no-python` should be a no-op then? Or you should check if
  configure_args` contains `--enable-python`. In its current state calling
  acprep with `--no-python` will fail:

      self.configure_args.remove('--enable-python')
      ValueError: list.remove(x): x not in list
The `--no-python` option is currently broken:

    self.configure_args.remove('--enable-python')
    ValueError: list.remove(x): x not in list

See my comment on [[https://github.com/jwiegley/ledger/commit/7e6dbcd64ca1edb3a68b686e1d0a3ecdb71a8816#commitcomment-1016510][commit 7e6dbc]].
:PROPERTIES:
:ID:       35713523-7B72-436B-9D4B-A9E7B63397D4
:CREATED:  [2012-02-28 Tue 21:28]
:Date: Mon, 27 Feb 2012 11:09:57 -0800
:Message: [[message://jwiegley/ledger/issues/55@github.com][{ledger} Fix --no-python option (#55)]]
:Author: Johann Klähn <reply+i-3406217-3f5841687d8b3e1421db209bdc8e2da2af0d080c-8460@reply.github.com>
:END:
** TODO [[bug:671][#671]] --boost-file-suffix=.so.1.49.0 has not effect
:PROPERTIES:
:ID:       6009BF5A-2DA3-4604-BEF4-C938BC28BD3E
:CREATED:  [2012-03-07 Wed 11:42]
:Date: Wed, 07 Mar 2012 15:25:16 +0000
:Message: [[message://bug-671-1@http.bugs.ledger-cli.org/][{Bug 671} New: --boost-file-suffix=.so.1.49.0 has not effect]]
:Author: bugzilla-daemon@mail.johnwiegley.com
:END:
** TODO [[bug:689][#689]] configure is not finding python on freebsd 8.2, 2.6 and 2.7 installed
- Note taken on [2012-03-11 Sun 22:02] \\
  the pathname to python is /usr/local/bin/python the version of python for
  that executable currently is 2.7, it will change in the future and the
  system can also have several versions of python installed at the same
  time:

  - python2.6
  - python2.7
  - python3.1

  are currently on my system. I would like to use the "system" python if at
  all possible if not then /usr/local/bin/python2.6 is the path
- Note taken on [2012-03-11 Sun 22:02] \\
  Below is the debug output after a 'acprep gitclean', I can mail it to you as a file as well.
  :OUTPUT:
  gandalf% script

  Script started, output file is typescript
  $ ./acprep --debug update
  acprep: INFO: Invoking primary phase: update
  acprep: INFO: Executing phase: update
  acprep: INFO: Executing phase: pull
  acprep: DEBUG: Executing command: git pull
  Already up-to-date.
  acprep: INFO: Executing phase: submodule
  acprep: DEBUG: Executing command: git submodule init
  Submodule 'lib/utfcpp' () registered for path 'lib/utfcpp'
  acprep: DEBUG: Executing command: git submodule update
  acprep: INFO: Executing phase: make
  acprep: DEBUG: Configure arguments => []
  acprep: DEBUG: Makefile arguments => []
  acprep: INFO: Executing phase: config
  acprep: INFO: Executing phase: submodule
  acprep: DEBUG: Executing command: git submodule init
  Submodule 'lib/utfcpp' () registered for path 'lib/utfcpp'
  acprep: DEBUG: Executing command: git submodule update
  acprep: INFO: Executing phase: autoconf
  acprep: INFO: autogen.sh must be run because acprep is newer than configure
  acprep: INFO: Executing phase: autogen
  acprep: DEBUG: Executing command: sh tools/autogen.sh
  Preparing the ledger build system...please wait

  Found GNU Autoconf version 2.68
  Found GNU Automake version 1.11.1
  Found GNU Libtool version 2.4

  Automatically preparing build ... done

  The ledger build system is now prepared. To build here, run:
  ./configure
  make
  acprep: INFO: Executing phase: gettext
  acprep: INFO: Moving po/Makevars.template -> po/Makevars
  acprep: INFO: Executing phase: aclocal
  acprep: DEBUG: Executing command: aclocal -I m4
  acprep: INFO: Executing phase: configure
  acprep: DEBUG: Executing command: uname -s
  acprep: INFO: System type is => FreeBSD
  acprep: DEBUG: Saw option --pch
  acprep: DEBUG: Executing command: uname -s
  acprep: INFO: Looking for Boost in /opt/local/lib64...
  acprep: DEBUG: The directory "/opt/local/lib64" is not valid, skipping
  acprep: INFO: Looking for Boost in /usr/local/lib64...
  acprep: DEBUG: The directory "/usr/local/lib64" is not valid, skipping
  acprep: INFO: Looking for Boost in /sw/lib64...
  acprep: DEBUG: The directory "/sw/lib64" is not valid, skipping
  acprep: INFO: Looking for Boost in /usr/lib64...
  acprep: DEBUG: The directory "/usr/lib64" is not valid, skipping
  acprep: INFO: Looking for Boost in /opt/local/lib...
  acprep: DEBUG: The directory "/opt/local/lib" is not valid, skipping
  acprep: INFO: Looking for Boost in /usr/local/lib...
  acprep: INFO: Found a Boost library: /usr/local/lib/libboostregex.so.4
  acprep: INFO: Found a Boost suffix =>
  acprep: INFO: Found a Boost file suffix => .so
  acprep: INFO: Boost was found here:
  acprep: INFO: Boost home path => /usr/local
  acprep: INFO: Boost include path => /usr/local/include
  acprep: INFO: Boost library path => /usr/local/lib
  acprep: INFO: Boost suffix =>
  acprep: INFO: Boost file suffix => .so
  acprep: DEBUG: Setting Python home to /opt/local based on Boost's location
  acprep: INFO: Noticing include directory => /usr/local/include
  acprep: INFO: Noticing include directory => /usr/local/include
  acprep: DEBUG: Executing command: python-config --includes
  acprep: INFO: Noticing library directory => /usr/local/lib
  acprep: INFO: Setting up build flavor => debug
  acprep: DEBUG: Final value of CPPFLAGS: -isystem /usr/local/include -isystem /usr/local/include -isystem /usr/local/include/python2.6
  acprep: DEBUG: Final value of CXXFLAGS: -Wconversion -g -pipe
  acprep: DEBUG: Final value of LDFLAGS: -fpch-deps -g -L/usr/local/lib
  acprep: INFO: ./configure must be run because Makefile does not exist
  acprep: DEBUG: Source => /home/marc/projects/ledger3_build/ledger
  acprep: DEBUG: Build => /home/marc/projects/ledger3_build/ledger
  acprep: DEBUG: configure env => {'CPPFLAGS': '-isystem /usr/local/include -isystem /usr/local/include -isystem /usr/local/include/python2.6', 'GLADE_PIXMAP_PATH': ':', 'PYTHON': '/usr/bin/python', 'CXXFLAGS': '-Wconversion -g -pipe', 'LOGNAME': 'marc', 'WINDOWID': '31457284', 'PATH': '/opt/local/bin:/sbin:/bin:/usr/sbin:/usr/bin:/usr/games:/usr/local/sbin:/usr/local/bin:/home/marc/bin', 'HOME': '/home/marc', 'DISPLAY': ':0.0', 'SSH_AGENT_PID': '1827', 'TERM': 'xterm', 'SHELL': '/bin/sh', 'PYTHON_VERSION': '2.7', 'SCRIPT': 'typescript', 'SHLVL': '2', 'BLOCKSIZE': 'K', 'FTP_PASSIVE_MODE': 'YES', 'WINDOWPATH': '9', 'EDITOR': 'vi', 'LDFLAGS': '-fpch-deps -g -L/usr/local/lib', 'GLADE_CATALOG_PATH': ':', 'GLADE_MODULE_PATH': ':', 'CC': 'gcc', 'SSH_AUTH_SOCK': '/tmp/ssh-PLSBY8PlwG/agent.1826', 'LD': 'g++', 'ENV': '/home/marc/.shrc', 'MAIL': '/var/mail/marc', 'DBUS_SESSION_BUS_ADDRESS': 'unix:path=/var/tmp/dbus-7lRuVH945I,guid=b0dbe27d6b1892511194d39e00000035', '': 'g', 'DESKTOP_SESSION': 'xfce', 'XDG_CONFIG_DIRS': '/etc/xdg:/usr/local/etc/xdg', 'CXX': 'g++', 'OLDPWD': '/home/marc/projects/ledger3_build', 'SESSION_MANAGER': 'local/gandalf.ms4720.com:/tmp/.ICE-unix/1833', 'LIBGLADE_MODULE_PATH': ':/usr/local/lib/libglade/2.0', 'XDG_DATA_DIRS': '/usr/local/share:/usr/share', 'PWD': '/home/marc/projects/ledger3_build/ledger', 'DESKTOP_STARTUP_ID': '', 'COLORTERM': 'Terminal', 'PYTHON_HOME': '/opt/local', 'XDG_MENU_PREFIX': 'xfce-', 'PAGER': 'more', 'USER': 'marc'}
  acprep: DEBUG: configure args => ['sh', 'configure', 'CPPFLAGS=-isystem /usr/local/include -isystem /usr/local/include -isystem /usr/local/include/python2.6', 'CXXFLAGS=-Wconversion -g -pipe', 'LDFLAGS=-fpch-deps -g -L/usr/local/lib', '--with-included-gettext', '--enable-python', '--enable-pch', '--enable-debug']
  checking for a BSD-compatible install... /usr/bin/install -c
  checking whether build environment is sane... yes
  checking for a thread-safe mkdir -p... /usr/local/bin/gmkdir -p
  checking for gawk... gawk
  checking whether make sets $(MAKE)... yes
  checking for style of include used by make... GNU
  checking for gcc... gcc
  checking whether the C compiler works... yes
  checking for C compiler default output file name... a.out
  checking for suffix of executables...
  checking whether we are cross compiling... no
  checking for suffix of object files... o
  checking whether we are using the GNU C compiler... yes
  checking whether gcc accepts -g... yes
  checking for gcc option to accept ISO C89... none needed
  checking dependency style of gcc... gcc3
  checking how to run the C preprocessor... gcc -E
  checking for grep that handles long lines and -e... /usr/bin/grep
  checking for egrep... /usr/bin/grep -E
  checking for ANSI C header files... yes
  checking for sys/types.h... yes
  checking for sys/stat.h... yes
  checking for stdlib.h... yes
  checking for string.h... yes
  checking for memory.h... yes
  checking for strings.h... yes
  checking for inttypes.h... yes
  checking for stdint.h... yes
  checking for unistd.h... yes
  checking minix/config.h usability... no
  checking minix/config.h presence... no
  checking for minix/config.h... no
  checking whether it is safe to define EXTENSIONS... yes
  checking whether we are using the GNU C++ compiler... yes
  checking whether g++ accepts -g... yes
  checking dependency style of g++... gcc3
  checking whether make sets $(MAKE)... (cached) yes
  checking build system type... amd64-unknown-freebsd8.2
  checking host system type... amd64-unknown-freebsd8.2
  checking how to print strings... printf
  checking for a sed that does not truncate output... /usr/bin/sed
  checking for fgrep... /usr/bin/grep -F
  checking for ld used by gcc... g++
  checking if the linker (g++) is GNU ld... no
  checking for BSD- or MS-compatible name lister (nm)... /usr/bin/nm -B
  checking the name lister (/usr/bin/nm -B) interface... BSD nm
  checking whether ln -s works... yes
  checking the maximum length of command line arguments... 196608
  checking whether the shell understands some XSI constructs... yes
  checking whether the shell understands "+="... yes
  checking how to convert amd64-unknown-freebsd8.2 file names to amd64-unknown-freebsd8.2 format... func_convert_file_noop
  checking how to convert amd64-unknown-freebsd8.2 file names to toolchain format... func_convert_file_noop
  checking for g++ option to reload object files... -r
  checking for objdump... objdump
  checking how to recognize dependent libraries... pass_all
  checking for dlltool... no
  checking how to associate runtime and link libraries... printf %s\n
  checking for ar... ar
  checking for archiver @file support... no
  checking for strip... strip
  checking for ranlib... ranlib
  checking command to parse /usr/bin/nm -B output from gcc object... ok
  checking for sysroot... no
  checking for mt... mt
  checking if mt is a manifest tool... no
  checking for dlfcn.h... yes
  checking for objdir... .libs
  checking if gcc supports -fno-rtti -fno-exceptions... no
  checking for gcc option to produce PIC... -fPIC -DPIC
  checking if gcc PIC flag -fPIC -DPIC works... yes
  checking if gcc static flag -static works... yes
  checking if gcc supports -c -o file.o... yes
  checking if gcc supports -c -o file.o... (cached) yes
  checking whether the gcc linker (g++) supports shared libraries... yes
  checking whether -lc should be explicitly linked in... no
  checking dynamic linker characteristics... freebsd8.2 ld.so
  checking how to hardcode library paths into programs... immediate
  checking whether stripping libraries is possible... yes
  checking if libtool supports shared libraries... yes
  checking whether to build shared libraries... yes
  checking whether to build static libraries... yes
  checking how to run the C++ preprocessor... g++ -E
  checking for ld used by g++... g++
  checking if the linker (g++) is GNU ld... no
  checking whether the g++ linker (g++) supports shared libraries... yes
  checking for g++ option to produce PIC... -fPIC -DPIC
  checking if g++ PIC flag -fPIC -DPIC works... yes
  checking if g++ static flag -static works... yes
  checking if g++ supports -c -o file.o... yes
  checking if g++ supports -c -o file.o... (cached) yes
  checking whether the g++ linker (g++) supports shared libraries... yes
  checking dynamic linker characteristics... freebsd8.2 ld.so
  checking how to hardcode library paths into programs... unsupported
  checking whether NLS is requested... yes
  checking for msgfmt... /usr/local/bin/msgfmt
  checking for gmsgfmt... /usr/local/bin/msgfmt
  checking for xgettext... /usr/local/bin/xgettext
  checking for msgmerge... /usr/local/bin/msgmerge
  checking whether we are using the GNU C Library 2 or newer... no
  checking for ranlib... (cached) ranlib
  checking for simple visibility declarations... yes
  checking for inline... inline
  checking for size_t... yes
  checking for stdint.h... yes
  checking for working alloca.h... no
  checking for alloca... yes
  checking for stdlib.h... (cached) yes
  checking for unistd.h... (cached) yes
  checking for sys/param.h... yes
  checking for getpagesize... yes
  checking for working mmap... yes
  checking whether integer division by zero raises SIGFPE... yes
  checking for inttypes.h... yes
  checking for unsigned long long int... yes
  checking for inttypes.h... (cached) yes
  checking whether the inttypes.h PRIxNN macros are broken... no
  checking for ld used by GCC... g++
  checking if the linker (g++) is GNU ld... no
  checking for shared library run path origin... done
  checking whether imported symbols can be declared weak... yes
  checking pthread.h usability... yes
  checking pthread.h presence... yes
  checking for pthread.h... yes
  checking for pthread_kill in -lpthread... yes
  checking for pthread_rwlock_t... yes
  checking for multithread API to use... posix
  checking argz.h usability... no
  checking argz.h presence... no
  checking for argz.h... no
  checking for inttypes.h... (cached) yes
  checking limits.h usability... yes
  checking limits.h presence... yes
  checking for limits.h... yes
  checking for unistd.h... (cached) yes
  checking for sys/param.h... (cached) yes
  checking for getcwd... yes
  checking for getegid... yes
  checking for geteuid... yes
  checking for getgid... yes
  checking for getuid... yes
  checking for mempcpy... no
  checking for munmap... yes
  checking for stpcpy... yes
  checking for strcasecmp... yes
  checking for strdup... yes
  checking for strtoul... yes
  checking for tsearch... yes
  checking for argz_count... no
  checking for argz_stringify... no
  checking for argz_next... no
  checking for __fsetlocking... no
  checking whether feof_unlocked is declared... yes
  checking whether fgets_unlocked is declared... no
  checking for iconv... yes
  checking for working iconv... yes
  checking how to link with libiconv... /usr/local/lib/libiconv.so
  checking for iconv declaration...
  extern size_t iconv (iconv_t cd, const char * *inbuf, size_t *inbytesleft, char * *outbuf, size_t *outbytesleft);
  checking for NL_LOCALE_NAME macro... no
  checking for bison... bison
  checking version of bison... 2.4.3, ok
  checking for long long int... yes
  checking for wchar_t... yes
  checking for wint_t... yes
  checking for intmax_t... yes
  checking whether printf() supports POSIX/XSI format strings... yes
  checking whether we are using the GNU C Library 2.1 or newer... no
  checking for stdint.h... (cached) yes
  checking for SIZE_MAX... yes
  checking for stdint.h... (cached) yes
  checking for CFPreferencesCopyAppValue... no
  checking for CFLocaleCopyCurrent... no
  checking for ptrdiff_t... yes
  checking stddef.h usability... yes
  checking stddef.h presence... yes
  checking for stddef.h... yes
  checking for stdlib.h... (cached) yes
  checking for string.h... (cached) yes
  checking for asprintf... yes
  checking for fwprintf... yes
  checking for putenv... yes
  checking for setenv... yes
  checking for setlocale... yes
  checking for snprintf... yes
  checking for wcslen... yes
  checking whether _snprintf is declared... no
  checking whether _snwprintf is declared... no
  checking whether getc_unlocked is declared... yes
  checking for nl_langinfo and CODESET... yes
  checking for LC_MESSAGES... yes
  checking for CFPreferencesCopyAppValue... (cached) no
  checking for CFLocaleCopyCurrent... (cached) no
  checking whether included gettext is requested... yes
  checking whether to use NLS... yes
  checking where the gettext function comes from... included intl directory
  checking for emacs... emacs
  checking where .elc files should go... ${datarootdir}/emacs/site-lisp
  checking if pipes can be used... true
  checking if GMP is available... true
  checking if MPFR is available... true
  checking if libedit is available... false
  checking if boost_regex is available... true
  checking if boost_regex w/ICU is available... true
  checking if boost_date_time is available... true
  checking if boost_filesystem is available... true
  checking if boost_iostreams is available... true
  checking whether /usr/bin/python version >= 2.4... configure: error: too old
  acprep: ERROR: Execution failed: sh configure CPPFLAGS=-isystem /usr/local/include -isystem /usr/local/include -isystem /usr/local/include/python2.6 CXXFLAGS=-Wconversion -g -pipe LDFLAGS=-fpch-deps -g -L/usr/local/lib --with-included-gettext --enable-python --enable-pch --enable-debug
  :END:
:OUTPUT:
checking whether /usr/bin/python version >= 2.4... configure: error: too old
acprep: ERROR: Execution failed: sh configure CPPFLAGS=-isystem /usr/local/include -isystem /usr/local/include -isystem /usr/local/include/python2.6 CXXFLAGS=-Wconversion -g -pipe LDFLAGS=-fpch-deps -g -L/usr/local/lib --with-included-gettext --enable-python --enable-pch --enable-debug
:END:

also config is setting python to /usr/bin/python, from config.log:
PYTHON='/usr/bin/python'

and python is /usr/local/bin/python , python version 2.7

how do I get you the config.log file?
:PROPERTIES:
:ID:       75F365C0-AA34-4A17-88DF-F1C3B30640AA
:CREATED:  [2012-03-11 Sun 22:01]
:END:

** TODO [[bug:720][#720]] Linker warning about library locations
:PROPERTIES:
:ID:       F4E7E1F3-9E45-4132-BF8F-0EC05CBF22F6
:CREATED:  [2012-03-21 Wed 07:47]
:Date: Wed, 21 Mar 2012 05:08:11 +0000
:Message: [[message://bug-720-1@http.bugs.ledger-cli.org/][{Bug 720} New: Linker warning about library locations]]
:Author: bugzilla-daemon@mail.johnwiegley.com
:END:
** TODO [[bug:768][#768]] OS X installer is incomplete
:PROPERTIES:
:ID:       4E65ACE6-97D3-4FCD-BFD2-EAE50C63921C
:CREATED:  [2012-04-01 Sun 23:40]
:Date: Mon, 02 Apr 2012 04:11:54 +0000
:Message: [[message://bug-768-1@http.bugs.ledger-cli.org/][{Bug 768} New: OS X installer is incomplete]]
:Author: bugzilla-daemon@mail.johnwiegley.com
:END:
** TODO [[bug:775][#775]] "--local" acprep option is not honoured
:PROPERTIES:
:ID:       D2EA2063-3C63-4FB1-886D-B422910DA8C4
:CREATED:  [2012-06-10 Sun 15:41]
:Date: Sun, 10 Jun 2012 14:52:28 +0000
:Message: [[message://bug-775-1@http.bugs.ledger-cli.org/][{Bug 775} New: "--local" acprep option is not honoured]]
:Author: bugzilla-daemon@mail.johnwiegley.com
:END:
** TODO [[bug:776][#776]] "acprep check" fails not being able to find Tests executables
:PROPERTIES:
:ID:       89E9699D-0B4E-46B2-A07B-D3618553D03C
:CREATED:  [2012-06-17 Sun 16:27]
:Date: Sun, 17 Jun 2012 19:08:07 +0000
:Message: [[message://bug-776-1@http.bugs.ledger-cli.org/][{Bug 776} New: "acprep check" fails not being able to find Tests executables]]
:Author: bugzilla-daemon@mail.johnwiegley.com
:END:
** TODO [[bug:780][#780]] Support Homebrew
:PROPERTIES:
:ID:       F05C7744-F526-467F-8DE0-BB0AACFB25AA
:CREATED:  [2012-07-04 Wed 18:14]
:Date: Wed, 04 Jul 2012 19:51:19 +0000
:Message: [[message://bug-780-1@http.bugs.ledger-cli.org/][{Bug 780} New: Support Homebrew]]
:Author: bugzilla-daemon@mail.johnwiegley.com
:END:
** TODO acprep check, with no build tree, fails to build dependencies
:PROPERTIES:
:ID:       FBA9DE92-570A-4238-95E5-6FEC5702E66C
:CREATED:  [2012-05-20 Sun 05:17]
:END:
** TODO main.cc and global.cc don't use the precompiled header
:PROPERTIES:
:ID:       B67A337C-EB4A-478B-A209-34B3C73D41CD
:CREATED:  [2012-05-19 Sat 18:37]
:END:
** TODO make distcheck (normal) and --python proof builds failing
:PROPERTIES:
:ID:       16F91AF7-D463-4B5A-BCBF-05D15CF2EE87
:CREATED:  [2012-03-24 Sat 18:05]
:Date: Sat, 24 Mar 2012 07:02:03 -0500
:Message: [[message://20120324120203.GA32930@vulcan.local][{ledger} Proof build FAILED]]
:Author: John Wiegley <johnw@boostpro.com>
:END:
** TODO [#C] (Craig) Wacky MPFR error with latest build
- Note taken on [2012-05-21 Mon 20:18] \\
  This appears to be a ledger bug, but I am at a loss to explain it, so here goes:

  The MPFR assertion failure is caused when I have both the following
  transactions in my ledger:

  2012/03/29 * (DD) Travel Reimburse
      Expenses:Millennium:Travel            $ -5495.49
      ;Trip: 2012-03-05 Ulm/Uberlingen
      Assets:NFCU:Checking

  2012/03/29 * (DD) Travel Reimburse
      Expenses:Millennium:Travel            $ -1653.05
      ;Trip: 2012-03-19 Santa Fe SC68
      Assets:NFCU:Checking

  If I delete either or both of them the error goes away.

  If I isolate them in there own data file and run ledger -f on that
  file everything works.  If I remove them from my ledger and include
  that individual data file the failure comes back.

  Let me repeat: if I delete either or both of the transactions the
  failure goes away.  If both of them are in my ledger the MPFR
  assertion error happens.

  Now it gets even stranger.  If I repeat both transactions in the
  ledger, the error goes away.

  I will keep troubleshooting.
I can decide whether this is ledger or MPFR.

I can execute commands some commands just fine:

0:37:09 ~/FinanceData (master) > ledger cleared Joint
        $ 362.10           $ 3664.26    2012/05/19    Assets:VWCU:Joint
>
0:38:35 ~/FinanceData (master) > ledger cleared Joint U:Grace
       $ 1269.10           $ 4799.28                 Assets:VWCU
        $ 893.38            $ 997.21    2012/05/18      Grace
        $ 362.10           $ 3664.26    2012/05/19      Joint
----------------  ----------------    ---------
       $ 1269.10           $ 4799.28

but others fail with an MPFR assertion error:

10:39:10 ~/FinanceData (master) > ledger bal
get_str.c:153: MPFR assertion failed: size_s1 >= m
Abort trap: 6

I can't seem to find any rhyme or reason to why it fails on really
simple commands but not on more complex.
:PROPERTIES:
:ID:       940FBB71-CD5F-4C45-A73B-AC3C4F178D0B
:CREATED:  [2012-05-21 Mon 20:17]
:Date: Mon, 21 May 2012 10:41:26 -0700
:Message: [[message://CAKs9TOJ-NT-LFkEWikffuX5Xw2Ny-gOmo98Tgtj7CbBaG=LBGQ@mail.gmail.com][Wacky MPFR error with latest build]]
:Author: Craig Earls <enderw88-Re5JQEeQqe8AvxtiuMwx3w@public.gmane.org>
:END:
** DEFERRED [[bug:216][#216]] Ledger packages for Debian
   - State "DEFERRED"   from "TODO"       [2010-06-10 Thu 14:52]
   - Note taken on [2010-05-31 Mon 15:06] \\
     [[message://AANLkTilCFWypqs-A8-X7OMRP-ivli9vwZWlIM3TQwHaW@mail.gmail.com][Re: Ledger for Ubuntu hardy?]]
   - Note taken on [2010-05-31 Mon 15:05] \\
     [[message://1275233562.30458.480.camel@sirius][Re: Ledger for Ubuntu hardy?]]
   :PROPERTIES:
   :ID:       4E07F327-5B75-4804-ACFE-AAB4CE2FA20E
   :URL:      [[https://launchpad.net/~mbudde/%2Barchive/ledger/%2Bpackages][Packages in “Ledger” : Ledger : Michael Budde]]
   :CREATED:  [2010-05-29 Sat 20:00]
   :END:
** DEFERRED [[bug:238][#238]] Build .deb, .rpm, .exe (in .zip), and .pkg installs
   - State "DEFERRED"   from "TODO"       [2009-10-25 Sun 19:16]
   :PROPERTIES:
   :ID:       769BFB8F-F805-4510-ABF2-A933D0EDBE0C
   :CREATED:  [2009-01-29 Thu 19:40]
   :END:
** DEFERRED [[bug:240][#240]] Setup virtual machines for every OS Ledger should run on
   - State "DEFERRED"   from "TODO"       [2009-10-25 Sun 19:16]
   :PROPERTIES:
   :ID:       C91FEFD0-CF11-41C2-B2D0-B6BED7E142A2
   :CREATED:  [2009-10-08 Thu 17:12]
   :END:
** DEFERRED [[bug:339][#339]] Automate the building of Ledger binaries on CentOS 5
   - State "DEFERRED"   from "TODO"       [2010-06-19 Sat 16:18]
   :PROPERTIES:
   :ID:       09B41575-766E-4598-A8F3-164D8AE25589
   :CREATED:  [2010-06-15 Tue 07:08]
   :END:
** DEFERRED [[bug:573][#573]] acprep should accept --python --python-home and --python-version
- State "DEFERRED"   from "TODO"       [2012-03-11 Sun 20:32]
   :PROPERTIES:
   :ID:       495BADED-6797-4E7E-B95E-DC9C7F292239
   :CREATED:  [2011-08-18 Thu 14:32]
   :END:
** DONE [#A] Add a --no-git option to acprep for orc_emac
   - State "DONE"       from "TODO"       [2009-11-10 Tue 20:05]
   :PROPERTIES:
   :ID:       833997BF-EE60-4F81-BCBC-D9F7C607472F
   :CREATED:  [2009-11-10 Tue 15:13]
   :END:
** DONE [#A] Build failure building latest Git version (archive.cc)
   - State "DONE"       from "TODO"       [2009-11-07 Sat 06:51]
   :PROPERTIES:
   :CREATED:  [2009-11-03 Tue 15:18]
   :ID:       9EF3FC3E-1699-4DFA-B7AF-27779BCAC510
   :Message:  [[message://7ff1eb7d-2fbe-4b50-9d0a-373e7d929574@j19g2000yqk.googlegroups.com][Build failure latest git]]
   :END:
** DONE [#A] [[bug:346][#346]] Release Ledger 2.6.3
   - State "DONE"       from "TODO"       [2010-06-19 Sat 06:53]
   :PROPERTIES:
   :ID:       5C68774D-05F7-49A6-990B-EAA889F73B20
   :Submitter: Brent Pinkney <brp@4dst.com>
   :Message:  [[message://201006161241.33330.brp@4dst.com][Ledger 2.6.1 - patches for gcc 4.4.3]]
   :CREATED:  [2010-06-16 Wed 18:17]
   :END:
** DONE [#A] [[bug:472][#472]] Regression failure in Ledger master
   - State "DONE"       from "TODO"       [2011-03-28 Mon 01:59]
   I've got a checked-out copy of ledger from github (master).  'git pull'
   shows everything is up to date. 'cat /etc/*release*' shows:
   :OUTPUT:
   DISTRIB_ID=Ubuntu
   DISTRIB_RELEASE=10.10
   DISTRIB_CODENAME=maverick
   DISTRIB_DESCRIPTION="Ubuntu 10.10"
   :END:

   I ran 'make dist-clean; configure; make; make check' and got the following:
   :OUTPUT:
   Regression failure in output from opt-lot-prices.test:
    @@ -347,8 +347,8 @@
                                             "Plans: Mithril Shield Spike" 1 {2.105G}
                                              "Plans: Mithril Shield Spike" 1 {2.30G}
                                                    "Plans: Wildthorn Mail" 1 {1.25G}
    -                                      "Recipe: Elixir of Giant Growth" 1 {1.00G}
    -                                      "Recipe: Elixir of Giant Growth" 2 {1.50G}
    +                                      "Recipe: Elixir of Giant Growth" 2 {1.00G}
    +                                      "Recipe: Elixir of Giant Growth" 1 {1.50G}
                                                                    46.42G
                                             "Plans: Mithril Shield Spike" 1 {2.105G}
                                              "Plans: Mithril Shield Spike" 1 {2.30G}
   E...
   Regression failure in output from opt-lots.test:
    @@ -384,8 +384,8 @@
                                 "Plans: Mithril Shield Spike" 1 {2.30G} [2006/03/15]
                                       "Plans: Wildthorn Mail" 1 {1.25G} [2006/03/14]
                              "Recipe: Elixir of Giant Growth" 1 {1.00G} [2006/03/15]
    -                         "Recipe: Elixir of Giant Growth" 1 {1.50G} [2006/03/15]
    -                                      "Recipe: Elixir of Giant Growth" 1 {1.50G}
    +                                      "Recipe: Elixir of Giant Growth" 1 {1.00G}
    +                         "Recipe: Elixir of Giant Growth" 1 {1.50G} [2006/03/15]
                                        "Beaststalker's Belt" 1 {65.00G} [2006/03/15]
                                                    "Beaststalker's Belt" -1 {65.00G}
                                                                    46.42G
   E........................................................................
   OK (142)  FAILED (119)
   FAIL: BaselineTests
   :END:
   :PROPERTIES:
   :Submitter: Alan Young <alansyoungiii@gmail.com>
   :ID:       B5828DDD-4022-4246-AF49-C236051F13F6
   :Message:  [[message://AANLkTi=7j=FpzODjv5PMRjod+aHb7MGHmJE4fKwYCGzJ@mail.gmail.com][Regression failure in output from ...]]
   :CREATED:  [2011-02-02 Wed 05:51]
   :END:
** DONE [#A] make release-distcheck is failing
   - State "DONE"       [2009-03-07 Sat 14:59]
   - State "STARTED"    [2009-03-06 Fri 17:59]
   :PROPERTIES:
   :ID:       FF734E1D-5A6F-4E1E-927B-6D6D60075FAC
   :CREATED:  [2009-03-06 Fri 17:55]
   :END:
** DONE [#A] tools/proof is failing
   - State "DONE"       [2009-03-08 Sun 01:24]
   - State "STARTED"    [2009-03-06 Fri 17:59]
   :PROPERTIES:
   :ID:       5663B55E-43BA-4694-B6C7-3A75E58024FA
   :CREATED:  [2009-03-06 Fri 17:55]
   :END:
** DONE Add a "dependencies" phase, which installs all of Ledger's deps
   - State "DONE"       [2009-03-09 Mon 17:22]
   :PROPERTIES:
   :ID:       62A2C553-30DA-48D5-9654-A6956A216D09
   :CREATED:  [2009-03-09 Mon 13:57]
   :END:
** DONE Add a BOOST_PREFIX envvar, and much more debugging info
   - State "DONE"       [2009-03-09 Mon 22:02]
   :PROPERTIES:
   :ID:       A3B72BA7-5D50-4370-822B-FA63DF01B6F5
   :CREATED:  [2009-03-09 Mon 17:56]
   :END:
** DONE Add a way for building in any directory (other than ~/Products) in acprep
   - State "DONE"       [2008-08-08 Fri]
   :PROPERTIES:
   :ID:       FFA63988-237E-4B2A-AC12-6CA362AEC7B1
   :CREATED:  [2008-07-24 Thu]
   :END:
** DONE Build Ledger with Clang
   - State "DONE"       from "TODO"       [2010-10-06 Wed 22:01]
   :PROPERTIES:
   :ID:       EEA6F9AB-C03D-4FA4-88AF-7FDAC9750598
   :CREATED:  [2010-10-06 Wed 02:25]
   :END:
** DONE Convert Ledger tests to CMake
- State "DONE"       from "TODO"       [2012-05-20 Sun 16:41]
:PROPERTIES:
:ID:       58B7A8A6-F8A8-48F0-9DAD-F5F97A79E1F5
:CREATED:  [2012-05-19 Sat 19:38]
:END:
** DONE Create a MacPorts Portfile for Ledger
   - State "DONE"       [2008-09-28 Sun 17:09]
   :PROPERTIES:
   :ID:       03B44F60-68CC-4A32-80AC-3C38E319750D
   :ARCHIVE_TIME: 2008-10-15 Wed 17:17
   :ARCHIVE_CATEGORY: Computer
   :CREATED:  [2008-09-28 Sun 16:45]
   :END:
** DONE Create a phase for packaging up and uploading ledger-3.0a.dmg
   - State "DONE"       from "TODO"       [2009-06-16 Tue 17:08]
   :PROPERTIES:
   :ID:       206551B6-6CF2-4D48-BC5C-7469C00F395C
   :CREATED:  [2009-03-19 Thu 03:04]
   :END:
** DONE Create an MacPorts build of Ledger
   - State "DONE"       [2009-01-29 Thu 15:31]
   :PROPERTIES:
   :ID:       7F75AEF6-BBB8-4BBA-BCCA-FE328037EBC4
   :CREATED:  [2008-08-08 Fri]
   :END:
** DONE Enable "buildbot try" on the VPS
   - State "DONE"       [2008-05-03 Sat]
   :PROPERTIES:
   :ID:       6A9A8E1B-29E9-4B06-9AE3-BBB2D5BB6D9E
   :CREATED:  [2008-04-24 Thu]
   :END:
** DONE Ensure only the minimum amount of compilation is being done
   - State "DONE"       [2009-03-05 Thu 00:07]
   :PROPERTIES:
   :ID:       8E14BB51-28FF-484E-BEC1-F132A5C0F657
   :CREATED:  [2009-03-04 Wed 20:44]
   :END:
** DONE Find out how to submit a build against a specific branch on Buildbot
   - State "DONE"       [2008-07-26 Sat]
   This may simply be a matter of telling the scheduler and Git() object to
   watch other branches.
   :PROPERTIES:
   :ID:       4B291AFD-00BF-479B-A067-0B01139BA475
   :CREATED:  [2008-04-24 Thu]
   :END:
** DONE Find out why master fails to build on tdelaet's OpenBSD box
   - State "DONE"       [2008-08-17 Sun 06:33] \\
     It's because his Boost isn't up to date.  I'll have to wait until he has Boost
     1.35 working OpenBSD 4.4 before we can build anything other than v2.6.1b on
     his machines.
   ssh obsd86
   :PROPERTIES:
   :ID:       30186BD0-CD2E-4B22-AD4C-84D7F6552D4B
   :CREATED:  [2008-08-14 Thu]
   :END:
** DONE Fix the warnings that g++ 4.3.3 finds
   - State "DONE"       [2009-02-28 Sat 05:02]
   :PROPERTIES:
   :ID:       56EACF79-5A4F-4880-878B-605731F7F0FC
   :CREATED:  [2009-02-27 Fri 21:33]
   :END:
** DONE Gather together the Ledger products directories
   - State "DONE"       [2009-03-09 Mon 05:52]
   For example, collect them all under ~/Products/ledger/<branch>/<type>
   :PROPERTIES:
   :ID:       E82A95D4-D423-4739-A024-EF01A32409DA
   :CREATED:  [2009-03-08 Sun 18:40]
   :END:
** DONE Get 'make check' working again for Ledger 2.7
   - State "DONE"       [2008-07-27 Sun]
   This means getting the unit tests running again.
   :PROPERTIES:
   :ID:       987FB7D3-B04E-44E4-9CC4-F0694F96051E
   :CREATED:  [2008-07-26 Sat]
   :END:
** DONE Get 'make distcheck' working again with Ledger 2.6.1
   - State "DONE"       [2008-07-28 Mon]
   :PROPERTIES:
   :ID:       F5850319-0C51-429B-90BE-DDA4400F7F02
   :CREATED:  [2008-04-23 Wed]
   :END:
** DONE Get 'make distcheck' working again with Ledger 2.7
   - State "DONE"       [2008-08-08 Fri]
   :PROPERTIES:
   :ID:       A6AA8D89-51B0-434B-8259-A557FB15BC47
   :CREATED:  [2008-07-27 Sun]
   :END:
** DONE Get Buildbot builds to work on my MacBook Pro
   - State "DONE"       [2008-04-26 Sat]
   make[1]: *** No rule to make target `all'.  Stop.
   :PROPERTIES:
   :ID:       1D0FD629-FD7B-4E7F-8E8F-3D73FD725F32
   :CREATED:  [2008-04-24 Thu]
   :END:
** DONE Have the version in Ledger's configure.in based off of git-describe
   - State "DONE"       [2008-05-18 Sun]
   :PROPERTIES:
   :ID:       08E58F60-5437-46BE-A81B-1839FA4921FB
   :CREATED:  [2008-05-08 Thu]
   :END:
** DONE Improve my pre-commit so it checks out everything it needs to
   - State "DONE"       [2009-02-21 Sat 16:32]
   :PROPERTIES:
   :ID:       5374E1C7-41CA-474D-A16F-54D26BD18AF3
   :CREATED:  [2009-02-21 Sat 02:09]
   :END:
** DONE Keep logging on for NDEBUG builds
   - State "DONE"       from "TODO"       [2010-06-05 Sat 03:38]
   :PROPERTIES:
   :ID:       7D51AB9B-71FB-476F-AFE4-7F4C1C543A41
   :CREATED:  [2010-06-04 Fri 06:36]
   :END:
** DONE Ledger download link is broken
- State "DONE"       from "TODO"       [2012-05-16 Wed 22:20]
- State "TODO"       from "STARTED"    [2012-05-12 Sat 19:56]
:PROPERTIES:
:ID:       B9C3D782-BA5B-42DB-AC96-63DF3CB7D0A8
:CREATED:  [2012-05-10 Thu 04:24]
:Date: Wed, 9 May 2012 21:09:28 -0400
:Message: [[message://CAMhgfU+Gaom9pFwBibWNHbvkWFQQVqPxMNQtrHfFPZgoyArk5A@mail.gmail.com][Link broken]]
:Author: Pier-Luc Caron St-Pierre <pierluc.caronstpierre-Re5JQEeQqe8AvxtiuMwx3w@public.gmane.org>
:END:
** DONE Ledger won't build with g++-4.7
- State "DONE"       from "TODO"       [2012-05-20 Sun 16:41]
:PROPERTIES:
:ID:       2A9E75B2-480E-4468-9E1A-747446B90672
:CREATED:  [2012-05-19 Sat 18:37]
:END:
** DONE Make the optimized build for tools/push use -j16
   - State "DONE"       from "TODO"       [2009-11-27 Fri 13:51]
   :PROPERTIES:
   :ID:       05DADC75-EA29-44CE-94F4-4F8D1419AFF1
   :CREATED:  [2009-11-25 Wed 15:25]
   :END:
** DONE Move system.hh.gch into the build directory
   - State "DONE"       [2009-03-09 Mon 17:22]
   :PROPERTIES:
   :ID:       81C1D1E9-3F33-4EFF-B8BD-4B4BF3520289
   :CREATED:  [2009-03-09 Mon 13:56]
   :END:
** DONE Provide acprep options for exactly locating where Boost is
   - State "DONE"       from "TODO"       [2010-01-21 Thu 02:36]
   :PROPERTIES:
   :ID:       86E13BB1-4C0B-4B74-B612-3708A3273307
   :Message:  [[message://90e4c24f-0cab-466d-8415-1b7cd008c15c@v25g2000yqk.googlegroups.com][acprep/configure boost-suffix detection finds oldest first]]
   :CREATED:  [2010-01-20 Wed 16:30]
   :END:
** DONE Quiet the Makefile by reducing the Python link lines
   - State "DONE"       [2009-02-05 Thu 21:55]
   :PROPERTIES:
   :ID:       FC243C26-63F1-4969-88C0-FEC720DE0248
   :CREATED:  [2009-02-05 Thu 03:42]
   :END:
** DONE Restore VCS history for Ledger from April to September 2004 from backups
   - State "DONE"       [2008-07-15 Tue]
   :PROPERTIES:
   :ID:       844BCBC7-7DAB-479B-A448-9062F6F5480C
   :CREATED:  [2008-05-28 Wed]
   :END:
** DONE Restore old Ledger tests, like tools/confirm.py
   - State "DONE"       [2009-02-24 Tue 22:32]
   :PROPERTIES:
   :ID:       53E1B0D6-1CD9-44C1-B066-E40F4A3D461D
   :CREATED:  [2009-02-24 Tue 11:08]
   :END:
** DONE The Buildbot is failing to build master
   - State "DONE"       [2008-08-17 Sun 06:32] \\
     Fixed now.
   :OUTPUT:
   src/session.h: In member function 'void ledger::session_t::clean_all()':
   src/session.h:171: error: 'clear_posts' was not declared in this scope
   src/session.h:172: error: 'clear_accounts' was not declared in this scope
   make[1]: *** [libledger_la-journal.lo] Error 1
   :END:
   :PROPERTIES:
   :ID:       FFE100BB-3383-4E27-ADD9-08AFF0518846
   :CREATED:  [2008-08-16 Sat]
   :END:
** DONE Upgrade to use local-time-0.9.2
   - State "DONE"       [2007-11-25 Sun 21:02]
   :PROPERTIES:
   :ARCHIVE_TIME: 2007-12-03 Mon 17:50
   :ARCHIVE_CATEGORY: Computer
   :ID:       D7354D27-EFEA-4747-8185-B2A48E2F5FF3
   :CREATED:  [2007-11-24 Sat]
   :END:
** DONE Using my PowerPC, build a universal Ledger binary for OS X Leopard
   - State "DONE"       [2008-08-08 Fri]
   :PROPERTIES:
   :ID:       DF73E41F-A867-4A29-BA88-BC9F69A139CD
   :CREATED:  [2008-08-04 Mon]
   :END:
** DONE Why does the make process keep regenerating files
   - State "DONE"       [2009-02-27 Fri 04:11]
   :OUTPUT:
   $ git --no-pager commit -F - --all --amend
   make  check-recursive
   Making check in po
   make ledger.pot-update
   if LC_ALL=C grep 'GNU ledger' ../* 2>/dev/null | grep -v 'libtool:' >/dev/null; then \
          package_gnu='GNU '; \
        else \
          package_gnu=''; \
        fi; \
        if test -n '' || test 'johnw@newartisans.com' = '@'PACKAGE_BUGREPORT'@'; then \
          msgid_bugs_address=''; \
        else \
          msgid_bugs_address='johnw@newartisans.com'; \
        fi; \
        case `/opt/local/bin/xgettext --version | sed 1q | sed -e 's,^[^0-9]*,,'` in \
          '' | 0.[0-9] | 0.[0-9].* | 0.1[0-5] | 0.1[0-5].* | 0.16 | 0.16.[0-1]*) \
            /opt/local/bin/xgettext --default-domain=ledger --directory=.. \
              --add-comments=TRANSLATORS: --keyword=_ --keyword=N_  \
              --files-from=./POTFILES.in \
              --copyright-holder='Free Software Foundation, Inc.' \
              --msgid-bugs-address="$msgid_bugs_address" \
            ;; \
          *) \
            /opt/local/bin/xgettext --default-domain=ledger --directory=.. \
              --add-comments=TRANSLATORS: --keyword=_ --keyword=N_  \
              --files-from=./POTFILES.in \
              --copyright-holder='Free Software Foundation, Inc.' \
              --package-name="${package_gnu}ledger" \
              --package-version='unknown' \
              --msgid-bugs-address="$msgid_bugs_address" \
            ;; \
        esac
   test ! -f ledger.po || { \
          if test -f ./ledger.pot; then \
            sed -f remove-potcdate.sed < ./ledger.pot > ledger.1po && \
            sed -f remove-potcdate.sed < ledger.po > ledger.2po && \
            if cmp ledger.1po ledger.2po >/dev/null 2>&1; then \
              rm -f ledger.1po ledger.2po ledger.po; \
            else \
              rm -f ledger.1po ledger.2po ./ledger.pot && \
              mv ledger.po ./ledger.pot; \
            fi; \
          else \
            mv ledger.po ./ledger.pot; \
          fi; \
        }
   test ! -f ./ledger.pot || \
          test -z "" || make
   Making check in intl
   make[2]: Nothing to be done for `check'.
   make  RegressTests BaselineTests ConfirmTests UtilTests MathTests ExprTests DataTests ReportTests PyUnitTests
   echo "/usr/bin/python ./test/RegressTests.py ./ledger ./test/regress" > RegressTests
   chmod 755 RegressTests
   echo "/usr/bin/python ./test/RegressTests.py ./ledger ./test/baseline" > BaselineTests
   chmod 755 BaselineTests
   echo "/usr/bin/python ./test/ConfirmTests.py ./ledger ./test/input" > ConfirmTests
   chmod 755 ConfirmTests
    LD UtilTests
    LD MathTests
    LD ExprTests
    LD DataTests
    LD ReportTests
   /usr/bin/python ./test/convert.py test/unit/t_utils.cc test/python/t_utils.py
   /usr/bin/python ./test/convert.py test/unit/t_times.cc test/python/t_times.py
   /usr/bin/python ./test/convert.py test/unit/t_commodity.cc test/python/t_commodity.py
   /usr/bin/python ./test/convert.py test/unit/t_amount.cc test/python/t_amount.py
   /usr/bin/python ./test/convert.py test/unit/t_balance.cc test/python/t_balance.py
   /usr/bin/python ./test/convert.py test/unit/t_expr.cc test/python/t_expr.py
   chmod 755 PyUnitTests
   make  check-TESTS
   . . . . . . .
   OK (7)
   PASS: RegressTests
   . . . . . . .
   :END:
   :PROPERTIES:
   :ID:       8CF2975B-3082-482B-9185-F265B756378D
   :CREATED:  [2009-02-26 Thu 05:53]
   :END:
** DONE Write unit tests for all of Ledger and its reporting options
   - State "DONE"       [2009-02-24 Tue 04:06]
   :PROPERTIES:
   :ID:       A8DE6DCB-917B-433F-8D07-3ACE45A05F45
   :CREATED:  [2008-08-14 Thu]
   :END:
** DONE [[bug:215][#215]] Compile fails for version 3.0
   - State "DONE"       from "TODO"       [2010-06-02 Wed 18:45] \\
     This was a problem with universal binaries, so I've turned them off by default
     in acprep and add a --universal option.
   :PROPERTIES:
   :ID:       5AB0A35C-1875-46CF-98D2-C0BC5DDD2962
   :Submitter: Thomas Bikeev <thomas.bikeev@me.com>
   :Message:  [[message://2262D050-DAEA-4CC2-8295-3A5471FF8E36@me.com][Re: Compile fails on 3.0]]
   :CREATED:  [2010-05-30 Sun 03:33]
   :END:
** DONE [[bug:321][#321]] vim syntax doesn't support tag/pop
   - State "DONE"       from "TODO"       [2010-06-11 Fri 17:03]
   :PROPERTIES:
   :ID:       A77837CF-8CE2-4B70-A7ED-323E63F067E4
   :Submitter: bugzilla-daemon@mail.johnwiegley.com
   :Message:  [[message://bug-321-1@http.newartisans.com/bugzilla/][{Bug 321} New: vim syntax doesn't support tag/pop]]
   :CREATED:  [2010-06-10 Thu 22:37]
   :END:
** DONE [[bug:324][#324]] Get the CentOS build working for orc_emac
   - State "DONE"       from "TODO"       [2010-06-14 Mon 03:25]
   - Note taken on [2010-06-12 Sat 04:55] \\
     It's almost done building now.
   :PROPERTIES:
   :ID:       1A96B0D0-C427-4193-A204-F4C217BD6A44
   :CREATED:  [2010-06-10 Thu 16:01]
   :END:
** DONE [[bug:328][#328]] Build Ledger with Visual Studio
   - State "DONE"       from "TODO"       [2010-06-15 Tue 05:24]
   1. Some compiler warnings. There are a number of contructs where VS is more
      fussy about than gcc. I have disabled these specific warnings, which I
      think is fine, especially for the ones where there is no direct Unix
      equivalent.
      - Warning: force int to bool, performance penalty. In many places in the
        code, ints and bools are directly compared or used in single
        expressions which apparently can (or could in the past) cause a
        performance degradation as it would require a few more instructions to
        do the comparison with an int. I think it's safe to ignore this
        warning; I've disabled it in the project files.
      - Unused variables. Mostly in catch() blocks, the 'err' variable is
        hardly ever used. Can ignore this too, I think.
      - Mixing of struct and class. In many places, forward declarations
        happen as class while the actual declaration is as struct. Only
        difference is the default visibility; if I change everything to be
        'class' I get errors on accessing private members. I'm not sure if the
        standard prescribes what should happen in this case, I've just changed
        everything to 'struct' and now it compiles fine. This is mostly a
        stylistic issue, I'll leave that to you to decide.
      - str_xxx functions. Those are deprecated in VS because they're
        potentially unsafe; replacements with a _s suffix are provided. Since
        those are not portable I suggest we ignore these warnings; I've
        disabled them in the project properties.
      - Cast from uint_least32_t for SHA1::Result. In 2 or 3 places (in
        utils.cc, filters.cc, utils.h) I had to add a cast to uint* like this:
        #+begin_src c++
        sha.Result((unsigned int*)message_digest);
        #+end_src
        Is this ok? I'm not quite sure why uint_least32_t[] was used here in
        the first place?
   2. Missing preprocessor defines. The code uses PACKAGE_VERSION and VERSION
      precompiler constants. Can you explain where they come from?  (I mean I
      guess they come from the build chain, but where are their values taken
      from?) For now I've manually set them to 'next' in the project
      configuration but I guess they should automatically use the correct one.
   3. Another minor stylistic issue is the mixing of tabs and spaces. The code
      is quite hard to read in some places because the spaces seem to assume
      an indent of 2, but the tab width is set to 4 (by default) on VS. I
      don't know anyone who ever changes it either. So this is really minor
      but it would be nice if all tabs could be replaced with 2 spaces, or
      tabs would be used consistently.
   4. Now we get to the real problems. There are a few places where real
      Unix constructs are used that have no equivalent in Wnidows.
      - In visit_man_page, fork() is used. It looks like this is only for
        showing the man page though. I suggest an #ifdef where the Windows
        version opens a browser with the documentation, considering there is
        no such thing as man on Windows.
      - stream.cc uses pipes and forks for the 'pager' functionality.  Could
        you explain what this does? Is this required on Windows? I've
        commented it out for now.
      - main.cc sets a handler for the SIGPIPE signal which doesn't exist on
        Windows. I've put that in a #ifdef _WIN32 section, seems the
        reasonable thing to do.
   5. Python integration. The py_ files don't seem to have a way to be
      disabled through the preprocessor; I guess the Unix build chain compiles
      them or not based on the ./configure options. I have left them out of
      the project for now. It's been a long time since I embedded Python
      somewhere, I'd have to look into this a bit deeper.
   6. amount.cc uses mpfr_asprintf . I got an error from the linker that the
      implementation of this was not found. I can't find it in my mpfr sources
      either. I've replaced it with gmp_asprintf and now it compiles and links
      fine. I'm not familiar with all of these libraries, is this the same
      function with a different name? Did I screw something up in configuring
      mpfr?
   7. Lastly, I haven't run the tests yet. The program itself compiles and
      runs fine (ledger --help, that is - haven't tried any real
      functionality) but the next step would be for me to test if all
      functionality works as expected. I see a bunch of python and c++ code in
      the test directory; do I need python to run any tests at all or can I
      skip those and focus on the cpp tests first?
   :PROPERTIES:
   :ID:       69F46250-CB1D-40C2-AC4A-39AB4E366310
   :Submitter: Roel Vanhout <roel.vanhout@gmail.com>
   :Message:  [[message://AANLkTilNxUsD8glzKcEWW4fQ56uGF5GlPOmMWA1oPM3_@mail.gmail.com][Building Ledger with VS (was: Re: Help: How do I start?)]]
   :CREATED:  [2010-06-11 Fri 17:23]
   :END:
** DONE [[bug:331][#331]] [MacPorts] #25213: ledger-devel Portfile
   - State "DONE"       from "TODO"       [2010-06-15 Tue 08:25]
   :PROPERTIES:
   :ID:       59444116-2810-4073-BE96-52DA023CC540
   :Submitter: MacPorts <noreply@macports.org>
   :Message:  [[message://063.0b8b1c6b9c8651a8e3a62880f1596b01@macports.org][Re: {MacPorts} #25213: ledger-devel Portfile]]
   :CREATED:  [2010-06-11 Fri 22:26]
   :END:
** DONE [[bug:367][#367]] Missing install-sh in ledger-2.6.3.tar.gz
   - State "DONE"       from "TODO"       [2010-07-12 Mon 23:38]
   - Note taken on [2010-06-28 Mon 23:53] \\
     He later wrote: [[message://B38200D9-590A-4999-82C7-3182E9B966C4@gmail.com][Re: Improved version of git-changelog]].
   :PROPERTIES:
   :ID:       3F1FACAE-CFBF-422B-97F9-274E38B3D448
   :Submitter: Lionel Young <lionelyoung@gmail.com>
   :Message:  [[message://op.vewpodevoxqjz7@localhost.localdomain][Missing install-sh in ledger-2.6.3.tar.gz]]
   :CREATED:  [2010-06-28 Mon 23:53]
   :END:
** DONE [[bug:419][#419]] Resolve Clang warnings in the Ledger build
   - State "DONE"       from "TODO"       [2011-02-04 Fri 07:26]
   :PROPERTIES:
   :ID:       44F046A0-CA2B-4856-BA00-4B4A5CB8979F
   :CREATED:  [2010-11-10 Wed 11:19]
   :END:
** DONE [[bug:430][#430]] Build is failing on Ubuntu 10.10
   - State "DONE"       from "TODO"       [2011-03-28 Mon 02:00]
   :PROPERTIES:
   :ID:       798C73BE-6AA0-4325-9545-8E9BAECF1178
   :CREATED:  [2011-02-16 Wed 12:03]
   :Message:  [[message://20110216143052.C7F1773@mail.johnwiegley.com][{Bug 430} Build is failing on Ubuntu 10.10]]
   :Submitter: bugzilla-daemon@mail.johnwiegley.com
   :Date:     Wed, 16 Feb 2011 08:30:52 -0600 (CST)
   :END:
** DONE [[bug:574][#574]] Change acprep bindmg to include Boost and all dependencies
- State "DONE"       from "TODO"       [2012-02-28 Tue 03:30]
   :PROPERTIES:
   :ID:       BD6B88C1-1312-4DEB-B63F-B679F01807BE
   :CREATED:  [2011-08-23 Tue 13:24]
   :END:
** DONE acprep gives no warning about an unknown phase
   - State "DONE"       from "STARTED"    [2010-01-21 Thu 01:27]
   :LOGBOOK:
   CLOCK: [2010-01-21 Thu 01:24]--[2010-01-21 Thu 01:27] =>  0:03
   :END:
   :PROPERTIES:
   :ID:       3FAC3387-9DCC-40AB-BE60-BA692E922F3F
   :CREATED:  [2009-12-06 Sun 06:03]
   :END:
** DONE acprep should call submodule
   - State "DONE"       from "TODO"       [2009-10-25 Sun 19:16]
   :PROPERTIES:
   :ID:       7A3A602A-3F31-4E4C-9941-F5BBF0D58ED6
   :CREATED:  [2009-10-23 Fri 06:13]
   :END:
** DONE acprep should report an error if cmake cannot be found
- State "DONE"       from "TODO"       [2012-05-23 Wed 02:01]
:PROPERTIES:
:ID:       D7EE7500-7C79-4A29-8E63-5F82D002C3A8
:CREATED:  [2012-05-22 Tue 20:28]
:Date: Tue, 22 May 2012 19:28:16 -0500
:Message: [[message://CAFwo6Tb0Rh-A9TeEaz_OACw3mXhVMWD++WpAo6yk0-ieo9OkbQ@mail.gmail.com][Compile-time warnings]]
:Author: Hyrum K Wright <hyrum-krATTUSiS2OIzK9ZyXRbJA@public.gmane.org>
:END:
** DONE acprep's --boost option does not accept a value
   - State "DONE"       from "TODO"       [2009-11-07 Sat 06:34]
   :PROPERTIES:
   :ID:       36778975-47E7-4D79-98FF-4B6C8F650914
   :CREATED:  [2009-11-01 Sun 06:41]
   :END:
** DONE g++-4.3 core dumps when trying to use system.hh.gch
   - State "DONE"       [2009-03-16 Mon 04:56] \\
     The problem was that my pre-compiled header file was not the very first
     #include in every .cc file.
   :PROPERTIES:
   :ID:       3165A1E3-F216-4BA2-A09E-9C442D900802
   :CREATED:  [2009-03-09 Mon 20:16]
   :END:
** DONE make distcheck is failing due to path issues
- State "DONE"       from "TODO"       [2012-04-25 Wed 03:26]
:OUTPUT:
make  check-TESTS
'../test/regress' is not a directory or file (cwd /Volumes/Data/Products/ledger-proof-clang/default/ledger-3.0.0-20120217)FAIL: RegressTests
'../test/baseline' is not a directory or file (cwd /Volumes/Data/Products/ledger-proof-clang/default/ledger-3.0.0-20120217)FAIL: BaselineTests
'../test/manual' is not a directory or file (cwd /Volumes/Data/Products/ledger-proof-clang/default/ledger-3.0.0-20120217)FAIL: ManualTests
'../test/input' is not a directory or file (cwd /Volumes/Data/Products/ledger-proof-clang/default/ledger-3.0.0-20120217)FAIL: ConfirmTests
...................
:END:
:PROPERTIES:
:ID:       F756F706-C66C-41B1-A311-ED1649219D9F
:CREATED:  [2012-04-23 Mon 13:57]
:Date: Mon, 23 Apr 2012 08:50:53 -0500
:Message: [[message://20120423135053.GA49765@vulcan.local][{ledger} Proof build FAILED]]
:Author: John Wiegley <johnw@boostpro.com>
:END:
** DONE myacprep and tools/build shoud accept --opt, --prof, --gcov
   - State "DONE"       [2009-02-21 Sat 15:53]
   :PROPERTIES:
   :ID:       4CCF74DD-62AC-47F6-9E84-9D4C2EA6FB37
   :CREATED:  [2009-02-21 Sat 15:19]
   :END:
** DONE [#C] (Philip) Disable gettext in Ledger's CMake
- State "DONE"       from "TODO"       [2012-05-25 Fri 01:59]
:PROPERTIES:
:ID:       859E695B-282D-4372-9024-3A4EB94EE1DF
:CREATED:  [2012-05-23 Wed 05:38]
:Date: Wed, 23 May 2012 10:25:13 +0100
:Message: [[message://m2mx4zntae.fsf@bo.sak.lan][Re: Ledger has switched to CMake]]
:Author: Philip Rooke <phil-EN7OJFYE3RC1Qrn1Bg8BZw@public.gmane.org>
:END:
** DONE [#C] Build Ledger master on Ubuntu so I can figure out Nafai's problem
   - State "DONE"       [2008-08-31 Sun 21:21] \\
     It's all working now, after three commits to fix things.
   - State "STARTED"    [2008-08-31 Sun 20:00] \\
     Working with Nafai on it now in #ledger.
   - State "STARTED"    [2008-08-28 Thu 23:57] \\
     I've gotten things to the point now where I can see what Nafai is seeing.  The
     next step is to fix it.
   - State "STARTED"    [2008-08-28 Thu 02:35] \\
     I'm still building the dependencies.
   :PROPERTIES:
   :ID:       EC1EABBA-A613-4E57-AB8A-687DC5036BE8
   :CREATED:  [2008-08-27 Wed]
   :END:
** DONE [#C] Comb through the warnings generated when all warnings are enabled
   - State "DONE"       [2009-02-16 Mon 22:59]
   - State "STARTED"    [2009-02-16 Mon 14:25]
   :PROPERTIES:
   :ID:       B129BF67-ACC2-4800-870C-93F9ADA151F6
   :CREATED:  [2008-08-14 Thu]
   :END:
** DONE [#C] Get the PowerBook's buildbot working again
   - State "DONE"       [2008-08-17 Sun 02:52]
   :PROPERTIES:
   :ID:       6B92EE7F-9F6A-452A-B242-347FB9206832
   :CREATED:  [2008-08-16 Sat]
   :END:
** DONE [#C] Ledger proof build is failing
   - State "DONE"       from "TODO"       [2010-05-12 Wed 03:12]
   :PROPERTIES:
   :ID:       68319BDB-95AC-4459-BB05-9F04D59EEA7D
   :CREATED:  [2010-05-10 Mon 00:02]
   :END:
** DONE [#C] Ledger's proof build is failing
   - State "DONE"       from "STARTED"    [2010-06-02 Wed 00:31]
   :LOGBOOK:
   CLOCK: [2010-06-01 Tue 20:43]--[2010-06-02 Wed 00:31] =>  3:48
   :END:
   :PROPERTIES:
   :ID:       11318EF9-6D74-4F7C-B833-E2FD0E53465B
   :CREATED:  [2010-05-28 Fri 16:06]
   :END:
** CANCELED Accept multiple phases in acprep if they can be recognized as such
   - State "CANCELED"   from "DEFERRED"   [2009-10-22 Thu 07:35]
   - State "DEFERRED"   from "TODO"       [2009-06-16 Tue 17:08]
   :PROPERTIES:
   :ID:       B8B9F5ED-32F0-4BFA-8E84-6B0F6064E88A
   :CREATED:  [2009-03-10 Tue 16:29]
   :END:
** CANCELED Create a Puppet script for setting up a Ledger build slave
   - State "CANCELED"   [2009-03-08 Sun 04:30]
   This should work for any platform, so that I can fire up a virtual
   buildslave on Solaris, Ubuntu, CentOS, OS X, etc.
   :PROPERTIES:
   :ID:       2599B64E-7888-4E56-9C46-718EFEF822BA
   :CREATED:  [2008-09-04 Thu]
   :END:
** CANCELED Create a fully static binary for OS X
   - State "CANCELED"   [2009-03-08 Sun 04:30]
   :PROPERTIES:
   :ID:       0ECCBFEB-C2F6-4F13-95C4-95D835E7030C
   :CREATED:  [2009-02-21 Sat 15:20]
   :END:
** CANCELED Devise a way to publish the Buildbot ledger builds
   - State "CANCELED"   from "TODO"       [2009-06-16 Tue 17:08]
   Michal Wallace has offered hosting space: [[message://3226fffd-f75a-4a17-8df0-34ee4d5f227f@m36g2000hse.googlegroups.com][buildbot but no builds?]]
   :PROPERTIES:
   :ID:       AFFBA1FA-6D2A-45B6-B56A-A57FEE8B93CA
   :CREATED:  [2008-10-25 Sat 00:50]
   :END:
** CANCELED Problems with CVS version under Debian
   - State "CANCELED"   [2009-02-08 Sun 16:03] \\
     This might not apply any longer.
   - State "TODO"       [2008-07-17 Thu 21:46] \\
     Until I get some info on this, I'll just have to postpone for 2.7.
   - State "TODO"       [2008-07-16 Wed 03:52] \\
     I don't have a Debian system to try this out with.  Can you give me a login to
     your, rpw, or let me know where I can find an ISO of the epost version you're
     using?
   Downloaded and (eventually) compiled the latest version from anonymous CVS.

   Had to update my 'automake' to 1.9 and add "#include <cassert>" to
   datetime.h to get it to make.

   Runs the help screen OK but SEGV's out when attempting to do any useful
   work.

   System is debian stable ('sarge'), gcc 3.3.5 fully upgraded.

   Any clues?
   :OUTPUT:
   $gdb ledger
   (gdb) run -f sample.dat print
   Starting program: /home/rpw/ledger-cvs/ledger/ledger
   -f sample.dat print

   Program received signal SIGSEGV, Segmentation fault.
   0x400a9e5a in std::ostream::sxact::sxact () from
   /usr/lib/libstdc++.so.5
   (gdb) bt
   #0  0x400a9e5a in std::ostream::sxact::sxact () from
   /usr/lib/libstdc++.so.5
   #1  0x400a9fbf in std::operator<<
   <std::char_traits<char> > () from
   /usr/lib/libstdc++.so.5
   #2  0x0805ef16 in
   ledger::annotated_commodity_t::write_annotations
   (out=@0xbfffdef0, price=@0xbfffde60,
    date=@0xbfffde40, tag=@0x815fd20) at
   datetime.h:249
   #3  0x0805f3b8 in ledger::(anonymous
   namespace)::make_qualified_name (comm=@0x815fdc8,
   price=@0xbfffe4f0,
    date=@0xbfffddf0, tag=@0xbfffddf0) at
   amount.cc:1732
   #4  0x0805f70f in
   ledger::annotated_commodity_t::find_or_create
   (comm=@0x815fdc8, price=@0xbfffe4f0,
    date=@0xbfffe410, tag=@0x815fd20) at
   amount.cc:1752
   #5  0x0805dfde in ledger::amount_t::annotate_commodity
   (this=0x815fd48, price=@0xbfffe4f0, date=@0xbfffe410,
    tag=@0xbfffde00) at datetime.h:97
   #6  0x080b9965 in ledger::parse_posting (
    line=0x8144040 "  Assets:Brokerage", ' ' <repeats
   14 times>, "50 AAPL @ $30.00", account=0xbfffddf0,
    xact=0xbfffe530) at memory:271
   #7  0x080bb2b8 in ledger::parse_xact (in=@0xbfffed40,
    line=0x8144040 "  Assets:Brokerage", ' ' <repeats
   14 times>, "50 AAPL @ $30.00", master=0x815cb90,
    parser=@0x8143bd4, beg_pos=95) at memory:284
   #8  0x080be0aa in ledger::textual_parser_t::parse
   (this=0x8143bd4, in=@0xbfffed40, config=@0xbffff930,
    journal=0x815cb58, master=0x815cb90,
   original_file=0xbffff934) at stl_list.h:671
   #9  0x080af07c in ledger::parse_journal
   (in=@0xbfffed40, config=@0xbfffddf0,
   journal=0x815cb58,
    master=0x815cb90, original_file=0xbfffddf0) at
   stl_list.h:585
   #10 0x080af1ee in ledger::parse_journal_file
   (path=@0x815c1f4, config=@0xbfffddf0,
   journal=0x815cb58,
    master=0xbfffddf0, original_file=0xbffff934) at
   parser.cc:92
   #11 0x080afa5b in ledger::parse_ledger_data
   (config=@0xbffff930, journal=0x815cb58,
   cache_parser=0x815cb68,
    xml_parser=0x0, stdin_parser=0x8143bd4) at
   parser.cc:181
   #12 0x0804c977 in parse_and_report
   (config=@0xbffff930, report=@0xbffff8d0, argc=4,
   argv=0xbffffa04,
    envp=0xbfffddf0) at memory:284
   #13 0x080535b6 in main (argc=-1073750544,
   argv=0xbfffddf0, envp=0xbfffddf0) at main.cc:452
   (gdb)
   :END:
   :PROPERTIES:
   :Submitter: rpw101ml@yahoo.com.au
   :Version:  2.5
   :Ticket:   9
   :ID:       0DD9D927-7C79-41A4-8D9A-67C00550B67D
   :CREATED:  [2007-12-10 Mon]
   :END:
** CANCELED [#C] Build a binary DMG of Ledger's next branch for dgou
   - State "CANCELED"   from "TODO"       [2011-07-18 Mon 03:33]
   :PROPERTIES:
   :ID:       78E3E8CE-32F5-496E-867F-B38031BF4431
   :CREATED:  [2011-07-12 Tue 13:58]
   :Date:     Tue, 12 Jul 2011 13:59:54 -0400
   :Message:  [[message://8D4ECB3B-AB36-4E08-82E3-8F952723C495@mac.com][Re: ledger make check failure report...]]
   :Submitter: Douglas Philips <dgou@mac.com>
   :END:
** CANCELED [#C] Work with dgou to resolve [[bug:543][#543]]
   - State "CANCELED"   from "TODO"       [2011-07-13 Wed 02:41]
   :PROPERTIES:
   :ID:       9ACD676A-B2B5-4416-99C0-4833E56D6206
   :CREATED:  [2011-07-08 Fri 14:26]
   :Date:     Fri,  8 Jul 2011 14:24:27 -0500 (CDT)
   :Message:  [[message://20110708192427.C6C1588@mail.johnwiegley.com][{Bug 543} ledger make check failure report...]]
   :Submitter: bugzilla-daemon@mail.johnwiegley.com
   :END:
** WONTFIX [[bug:237][#237]] Avoid having to rm -fr ledger-proof
   - State "WONTFIX"    from "DEFERRED"   [2010-06-12 Sat 15:03]
   - State "DEFERRED"   from "TODO"       [2009-06-16 Tue 17:08]
   :OUTPUT:
   acprep: INFO: === Wiping build directory /home/nafai/Products/ledger-proof/default ===
   acprep: ERROR: Caught exception
   Traceback (most recent call last):
   File "./acprep", line 141, in run
    exit_code = self.main(*main_args)
   File "./acprep", line 297, in main
    PrepareBuild.__dict__['phase_' + cmd](self, *args)
   File "./acprep", line 1239, in phase_proof
    self.configure_flavor('default')
   File "./acprep", line 1176, in configure_flavor
    shutil.rmtree(self.build_directory())
   File "/usr/lib/python2.5/shutil.py", line 175, in rmtree
    rmtree(fullname, ignore_errors, onerror)
   File "/usr/lib/python2.5/shutil.py", line 180, in rmtree
    onerror(os.remove, fullname, sys.exc_info())
   File "/usr/lib/python2.5/shutil.py", line 178, in rmtree
    os.remove(fullname)
   OSError: [Errno 13] Permission denied: '/home/nafai/Products/ledger-proof/default/ledger-3.0/config.sub'
   :END:
   :PROPERTIES:
   :ID:       12D4AB31-964F-4206-8AA0-2CA9C509DA30
   :CREATED:  [2009-03-11 Wed 20:54]
   :END:
** WONTFIX [[bug:239][#239]] Ledger 2.6 is not building on Debian 5 latest
   - State "WONTFIX"    from "DEFERRED"   [2010-06-12 Sat 05:28]
   - State "DEFERRED"   from "TODO"       [2009-10-25 Sun 19:16]
   :PROPERTIES:
   :ID:       427F8D8D-39CB-47ED-8438-BF07BBBE6672
   :CREATED:  [2009-04-24 Fri 17:13]
   :END:
** WONTFIX [[bug:421][#421]] Provide a pre-built DMG of Leger for OS X 10.5 users                    :blocker:
- State "WONTFIX"    from "DEFERRED"   [2012-02-28 Tue 21:38]
   - State "DEFERRED"   from "TODO"       [2011-02-12 Sat 18:18]
   :PROPERTIES:
   :ID:       61815102-1516-48A3-AC16-2746ADA72D3C
   :Submitter: David Glasser <glasser@davidglasser.net>
   :Message:  [[message://AANLkTimq1xuJbPnka5%2BoNLjV_zjPoMeGMR6yeWTBg2mz@mail.gmail.com][Ledger 3 on OS X 10.5?]]
   :CREATED:  [2010-10-18 Mon 16:12]
   :END:
** WONTFIX [[bug:572][#572]] Rebuild Boost and Ledger with gcc-4.6
- State "WONTFIX"    from "TODO"       [2012-02-28 Tue 03:30]
   - State "TODO"       from "STARTED"    [2011-08-21 Sun 15:03]
   :PROPERTIES:
   :ID:       BE861EF4-241B-4D26-A12C-03E8B369DA4F
   :CREATED:  [2011-08-18 Thu 10:01]
   :END:
** WORKSFORME [#A] [[bug:162][#162]] sm is seeing a segfault with the register command               :blocker:
   - State "WORKSFORME" from "TODO"       [2010-06-17 Thu 20:49]
   - State "TODO"       from "WORKSFORME" [2010-06-16 Wed 18:47]
   - State "WORKSFORME" from "TODO"       [2010-06-06 Sun 03:22] \\
     This now works fine for me.
   - Note taken on [2009-12-06 Sun 06:05] \\
     It happens on Leopard for me in a virtual machine.
   - Note taken on [2009-11-25 Wed 04:40] \\
     This is happening because boost::regex is constructing a bad object.
   :PROPERTIES:
   :ID:       46196FD4-B82B-4633-A728-94D0FFB65F69
   :Message:  [[message://hef2ir$tuh$1@ger.gmane.org][register segfault with recent build]]
   :Submitter: Simon Michael <simon@joyful.com>
   :CREATED:  [2009-11-24 Tue 22:13]
   :END:
** WORKSFORME [#A] [[bug:645][#645]] acprep opt producing a debug executable
- State "WORKSFORME" from "TODO"       [2012-03-16 Fri 01:16]
Just grabbed the latest "next" and acprep opt is building a 14MB executable
that runs very slowly.  It produces a file identical to acprep debug
:OUTPUT:
20:06:04 ~/ledger > ./acprep opt
...
20:18:34 ~/ledger > ls -la ledger
-rwxr-xr-x  1 cpearls  staff  14061676 Nov 10 20:18 ledger

20:20:36 ~/ledger > ./acprep debug update
...
20:33:13 ~/ledger > ls -la ledger
-rwxr-xr-x  1 cpearls  staff  14061676 Nov 10 20:33 ledger
:END:
:PROPERTIES:
:ID:       0D1B3962-02A1-4213-8025-3849DA554337
:CREATED:  [2011-11-11 Fri 14:08]
:Date:     Thu, 10 Nov 2011 20:38:12 -0700
:Message:  [[message://CAKs9TOLp84z6Od+Cg27y-uY42ZW7UkQAbUVo4TeviX2Mv1wRbQ@mail.gmail.com][acprep opt producing a debug executable]]
:Submitter: Craig Earls <enderw88-Re5JQEeQqe8AvxtiuMwx3w@public.gmane.org>
:END:
** DUPLICATE [#A] [[bug:473][#473]] RegressTests failing on Ubuntu 10.10
   - State "DUPLICATE"  from "TODO"       [2011-02-12 Sat 16:08] \\
     Duplicate of #472.
   :PROPERTIES:
   :ID:       69A61481-598F-4380-A52C-5F26911F0A6A
   :Message:  [[message://AANLkTimp16-_yY7qvsW7DhwgFTF4q6umZ5BAiqakRTwF@mail.gmail.com][RegressTests failing on Ubuntu 10.10]]
   :CREATED:  [2011-01-31 Mon 19:53]
   :END:
** DUPLICATE [[bug:646][#646]] configure is not finding python on freebsd 8.2
- State "DUPLICATE"  from "TODO"       [2012-02-28 Tue 03:31] \\
  Will be fixed by #573
... 2.6 and 2.7 installed

:OUTPUT:
checking whether /usr/bin/python version >= 2.4... configure: error: too old
acprep: ERROR: Execution failed: sh configure CPPFLAGS=-isystem
/usr/local/include -isystem /usr/local/include -isystem
/usr/local/include/python2.6 CXXFLAGS=-Wconversion -g -pipe LDFLAGS=-fpch-deps
-g -L/usr/local/lib --with-included-gettext --enable-python --enable-pch
--enable-debug
:END:

also config is setting python to /usr/bin/python, from config.log:
PYTHON='/usr/bin/python'

and python is /usr/local/bin/python , python version 2.7 

how do I get you the config.log file?
:PROPERTIES:
:ID:       A82B7536-D1F5-47C2-9CDE-6E66AC07B454
:CREATED:  [2011-12-05 Mon 00:36]
:Date: Sat, 3 Dec 2011 11:41:04 -0800
:Message: [[message://jwiegley/ledger/issues/47@github.com][{ledger} configure is not finding python on freebsd 8.2, 2.6 and 2.7 installed (#47)]]
:Submitter: Marc Spitzer <reply+i-2438826-719e6bc6d8ff7b4d80a3aa0f1e5d3ce9db669c36-8460@reply.github.com>
:END:
** NOTE Building Ledger with gcc and Clang on different media
   Test Machine:
     Early 2009 Mac Pro
     8-core 2.26 GHz Core i7
     24G RAM
     7200RPMx4 HD

   This is a debug build (the one I do most) of a smallish (30k lines) C++
   program, which uses a 130M pre-compiled header.  Build times are from a
   configured tree, but cleaned.

   This does show a slight speed advantage with Clang (this is Clang from
   about a month ago), and it shows that disk I/O is a minor factor.

   | Filesystem | Opts | Cc    | User    | System |   CPU |   Total |
   |------------+------+-------+---------+--------+-------+---------|
   | ZFS RAID10 | -j16 | Clang | 764.22s | 85.30s | 1101% | 1:17.13 |
   | HFS+ SSD   | -j16 | Clang | 761.80s | 83.02s | 1042% | 1:21.06 |
   | HFS+ RAM   | -j16 | Clang | 763.11s | 83.91s | 1149% | 1:13.68 |
   |------------+------+-------+---------+--------+-------+---------|
   | ZFS RAID10 | -j16 | gcc45 | 865.78s | 67.88s | 1016% | 1:31.85 |
   | HFS+ SSD   | -j16 | gcc45 | 875.54s | 62.46s |  971% | 1:36.60 |
   | HFS+ RAM   | -j16 | gcc45 | 868.30s | 61.95s | 1068% | 1:27.06 |
   :PROPERTIES:
   :ID:       C1FBC631-4D30-438A-A5D8-10BCC2EEF0D0
   :VISIBILITY: folded
   :CREATED:  [2010-11-08 Mon 15:30]
   :END:
** NOTE If autoreconf fails, try installing the autopoint library
   :PROPERTIES:
   :ID:       30455F9F-D192-493A-AA81-2BC0E238C18E
   :Message:  [[message://20110202143502.GL8293@x201][Re: Compile failure]]
   :CREATED:  [2011-02-02 Wed 15:46]
   :END:
** NOTE Using Visual Studio 2008 to build Ledger for Windows
   The build is huge, so I'd have to pick out only the parts you actually need
   which is quite involved. You should be able to get it to work with the
   binary installers from http://www.boostpro.com/download . I build from
   source at work because I need to set some compiler flags (disable checked
   iterators) but that's not necessary for ledger's case. I'm not sure where
   the installer puts its files, I presume program files/boost or
   something. There will probably be a directory called 'lib' or 'libs' or
   something. You go to Tools -> Options -> Projects and Solutions -> VC++
   Directories and select 'Library files' in the top right corner. In that
   list you add a new directory, the one where the boost installer's library
   files are in. If you select 'Include files' in that drop down box, you can
   immediately set the path to the boost headers, too. These options can also
   be set on the project level but since they'll be different on different
   machines I prefer to put them in global settings and document them in the
   build procedure.
   :PROPERTIES:
   :ID:       88838D10-FBA4-433C-A77D-AB64AC8D47CA
   :VISIBILITY: folded
   :CREATED:  [2010-06-15 Tue 04:21]
   :END:
* Tests
  :PROPERTIES:
  :CATEGORY: Tests
  :OVERLAY: (face (:background "#fdebeb"))
  :END:
** TODO [[bug:185][#185]] Read through Peter's article, and make sure it all applies                  :ATTACH:
   :PROPERTIES:
   :ID:       72FC1715-E53C-4D4D-BF2C-514EB376DD19
   :Attachments: Tutorial%20on%20multiple%20currency%20accounting.pdf
   :CREATED:  [2009-11-24 Tue 22:04]
   :END:
** TODO [[bug:187][#187]] Use coverage analysis to determine if everything is being tested
- State "TODO"       from "DEFERRED"   [2012-03-11 Sun 20:31]
   - State "DEFERRED"   from "TODO"       [2010-06-02 Wed 00:44]
   :PROPERTIES:
   :ID:       13E43A50-FC0C-4C3D-A175-7C6CB147A37C
   :CREATED:  [2008-08-14 Thu]
   :END:
** TODO [[bug:349][#349]] Implement empty tests in test/baseline
   :PROPERTIES:
   :ID:       C243CD5F-F852-4BA8-A164-1F14CB56F326
   :CREATED:  [2010-06-18 Fri 19:45]
   :END:
** DEFERRED [[bug:318][#318]] New tests to create for Ledger [0/3]
   - State "DEFERRED"   from "TODO"       [2009-10-26 Mon 21:54]
   - [ ] GarbageTests
         Feed every one of the distribution's source files back to Ledger, to
         make sure it dies gracefully.
   - [ ] RandomTests
         Feed random data (probably base64) both as options and input.
   - [ ] ScrambleTests
         Pass random combinations of options.
   :PROPERTIES:
   :ID:       F866DFA5-7350-45D3-BF76-286D68755A2A
   :CREATED:  [2009-02-27 Fri 16:19]
   :END:
** DEFERRED [[bug:319][#319]] Use --cache=/dev/null when running the unit tests
   - State "DEFERRED"   from "TODO"       [2009-11-06 Fri 02:08] \\
     I cannot read/write the cache to /dev/null, so I'll have to use a temp file
     that gets cleaned up.
   :PROPERTIES:
   :ID:       957CABA8-FEE1-4609-ABCD-0B285B49F2CE
   :CREATED:  [2009-11-03 Tue 18:55]
   :END:
** DEFERRED [[bug:340][#340]] Create OptionsTests, which generate possible option combinations
- State "DEFERRED"   from "TODO"       [2012-03-11 Sun 20:31]
   :PROPERTIES:
   :ID:       54EED1FA-C0A2-4D3A-9C5A-F44E36504179
   :CREATED:  [2010-06-15 Tue 20:25]
   :END:
** DONE Abstract RegressTests.py (was: opt-lots should use input/wow.dat)
   - State "DONE"       [2009-03-03 Tue 03:18]
   This means that RegressTests.py needs to be sensitive to whether -f was
   explicitly specified, and should substitute $test for the input directory.

   I can also abstract the reading of <<<, >>> sections in RegressTests, into
   a RegressTest object that knows how to read out multiple subsections.
   :PROPERTIES:
   :ID:       AEEB769E-9D44-428A-A028-D88E79D76B8D
   :CREATED:  [2009-02-28 Sat 06:17]
   :END:
** DONE BOOST_FOREACH is causing many invalid branch coverage failures
   - State "DONE"       from "TODO"       [2010-06-16 Wed 03:52]
   :PROPERTIES:
   :ID:       24D76FE5-1E7B-4889-B447-2C02EFB1D019
   :CREATED:  [2010-06-15 Tue 17:12]
   :END:
** DONE Can't build tests with -j3
   - State "DONE"       [2009-03-08 Sun 18:46]
   :OUTPUT:
   g++ -DHAVE_CONFIG_H -I. -I..  -I../test -I../src -I../lib -I../lib/utfcpp/source -isystem /usr/local/stow/cppunit/include  -isystem /usr/local/include -isystem /usr/local/include/boost-1_38 -isystem /usr/include/python2.5 -isystem /opt/local/include  -pipe -c -o ReportTests-ReportTests.o `test -f 'test/ReportTests.cc' || echo '../'`test/ReportTests.cc
   /opt/local/bin/python ../test/convert.py ../test/unit/t_utils.cc test/python/t_utils.py
   /opt/local/bin/python ../test/convert.py ../test/unit/t_times.cc test/python/t_times.py
   Traceback (most recent call last):
   File "../test/convert.py", line 45, in <module>
    os.makedirs(dirname)
   File "/System/Library/Frameworks/Python.framework/Versions/2.5/lib/python2.5/os.py", line 172, in makedirs
    mkdir(name, mode)
   OSError: [Errno 17] File exists: '/private/tmp/ledger/ledger-3.0/_build/test/python'
   make[5]: *** [test/python/t_utils.py] Error 1
   make[5]: *** Waiting for unfinished jobs....
   make[4]: *** [check-am] Error 2
   make[3]: *** [check-recursive] Error 1
   make[2]: *** [check] Error 2
   make[1]: *** [distcheck] Error 2
   make: *** [release-distcheck] Error 2
   %%% FAILED to build release-distcheck %%%
   :END:
   :PROPERTIES:
   :ID:       7E6E57B8-A011-4F47-904C-71AD5D03EADF
   :CREATED:  [2009-03-08 Sun 18:43]
   :END:
** DONE Change tests to use comment {} blocks
   - State "DONE"       from "TODO"       [2011-02-12 Sat 18:18]
   The intention is that test files are directly readable by Ledger, just like
   Clang tests are.
   :PROPERTIES:
   :ID:       7BD17484-F524-4FE6-A144-00AF31015047
   :CREATED:  [2011-02-09 Wed 09:26]
   :END:
** DONE Clear out all #if 0 and jww commented sections
   - State "DONE"       from "TODO"       [2009-10-31 Sat 04:33]
   :PROPERTIES:
   :Version:  2.6
   :Ticket:   97
   :ID:       7C87DEC8-1FB6-47FC-ADAC-01980020924B
   :CREATED:  [2008-04-11 Fri]
   :END:
** DONE Enable lot spec generation in generate.cc
   - State "DONE"       [2009-02-27 Fri 16:22]
   :PROPERTIES:
   :ID:       C23B7780-378A-412D-AEB1-235B9788F78D
   :CREATED:  [2009-02-27 Fri 04:22]
   :END:
** DONE Ledger performance breakdown
   - State "DONE"       [2009-03-06 Fri 04:11]
   50% parsing
      7% balancing transactions
      7% parsing posting amounts
     36% applying automated transactions
   50% reporting
     38% calculating (due to balance copying in +=)
   :PROPERTIES:
   :ID:       FD55C52B-46D3-4EAE-ABE5-571B7426B842
   :CREATED:  [2009-03-04 Wed 04:43]
   :END:
** DONE Major areas of implementation remaining [117/117]
   - Note taken on [2009-06-26 Fri 17:49] \\
     These are all being tested (except for those marked).
   - State "DONE"       from "TODO"       [2009-06-26 Fri 17:49]
   - [X] abbrev_len_
   - [X] account_
   - [X] account_width_
   - [X] actual
   - [X] add_budget
   - [X] amount_
   - [X] amount_data
   - [X] amount_width_
   - [X] anon
   - [X] args_only
   - [X] average
   - [X] balance_format_
   - [X] base
   - [X] basis
   - [X] basis, cost
   - [X] begin_
   - [X] budget
   - [X] by_payee
   - [X] cleared
   - [X] code_as_account
   - [X] code_as_payee
   - [X] collapse
   - [X] collapse_if_zero
   - [X] color
   - [X] color
   - [X] columns_
   - [X] comm-as-account
   - [X] comm-as-payee
   - [X] comm_as_account, commodity_as_account
   - [X] comm_as_payee, commodity_as_payee
   - [X] csv_format_
   - [X] current
   - [X] daily
   - [X] date_format_
   - [X] date_width_
   - [X] debug_
   - [X] depth_
   - [X] deviation
   - [X] display_
   - [X] display_amount_
   - [X] display_total_
   - [X] dow
   - [X] download [NOT TO BE TESTED]
   - [X] effective
   - [X] empty
   - [X] end_
   - [X] equity
   - [X] exact
   - [X] exchange
   - [X] file_
   - [X] flat
   - [X] forecast_while_, forecast_ [TIME DEPENDENT]
   - [X] format_
   - [X] gain
   - [X] head_, first_
   - [X] init_file_
   - [X] input_date_format_
   - [X] invert
   - [X] limit_
   - [X] lot_dates
   - [X] lot_prices
   - [X] lot_tags
   - [X] lots
   - [X] lots_actual
   - [X] market
   - [X] monthly
   - [X] no-total
   - [X] only_
   - [X] output_
   - [X] pager_
   - [X] payee_as_account
   - [X] payee_width_
   - [X] pending
   - [X] percent
   - [X] period_
   - [X] plot_amount_format_
   - [X] plot_total_format_
   - [X] price
   - [X] price_db_ [NOT TO BE TESTED]
   - [X] price_exp_, leeway_ [NOT TO BE TESTED]
   - [X] prices_format_
   - [X] pricesdb_format_
   - [X] print_format_
   - [X] quantity
   - [X] quarterly
   - [X] raw
   - [X] real
   - [X] register_format_
   - [X] related
   - [X] related_all
   - [X] revalued
   - [X] revalued_only
   - [X] script_
   - [X] seed_
   - [X] set_account_
   - [X] set_payee_
   - [X] sort_
   - [X] sort_all_
   - [X] sort_xacts_
   - [X] start_of_week_
   - [X] strict
   - [X] subtotal
   - [X] tail_, last_
   - [X] total_
   - [X] total_data
   - [X] total_width_
   - [X] trace_
   - [X] truncate_
   - [X] unbudgeted
   - [X] uncleared
   - [X] unround
   - [X] verbose
   - [X] verify
   - [X] version
   - [X] weekly
   - [X] wide
   - [X] yearly
   :PROPERTIES:
   :ID:       C6C58983-0EB1-49EC-AB04-AB00DE67D61D
   :CREATED:  [2009-02-06 Fri 15:23]
   :END:
** DONE Merge in the --unrealized* baseline tests MisterN wrote
   - State "DONE"       from "TODO"       [2009-11-25 Wed 04:51]
   :PROPERTIES:
   :ID:       AB515F51-E71D-4331-94DE-DC53141A5C2E
   :CREATED:  [2009-11-24 Tue 22:11]
   :END:
** DONE Run Ledger through the profiler, against mondo.dat (to beat 11s)
   - State "DONE"       from "TODO"       [2009-11-25 Wed 04:51]
   :PROPERTIES:
   :ID:       B03634E5-C2D7-4DCE-8BBF-A787996BF7BE
   :CREATED:  [2009-02-25 Wed 04:15]
   :END:
** DONE The regression test 13965214.test is time sensitive
   - State "DONE"       [2009-03-02 Mon 04:41]
   :PROPERTIES:
   :ID:       8ED593A1-B953-4629-B0BD-411B82FF283F
   :CREATED:  [2009-03-01 Sun 05:36]
   :END:
** DONE The regression tests are failing with the latest changes
   - State "DONE"       [2009-03-06 Fri 02:37]
   :PROPERTIES:
   :ID:       E01A104A-2D45-4C0A-AF3C-93AF12324C53
   :CREATED:  [2009-03-05 Thu 05:12]
   :END:
** DONE The tokenizer unit test can just iterate the token stream
   - State "DONE"       from "TODO"       [2009-10-28 Wed 17:46]
   :PROPERTIES:
   :ID:       ABCB7791-E098-4C32-A2F6-129E61CC4B10
   :CREATED:  [2009-10-28 Wed 17:29]
   :END:
** DONE UtilTests is currently getting a bus error, with the new acprep
   - State "DONE"       [2009-03-09 Mon 22:02]
   :PROPERTIES:
   :ID:       C89561FB-C59F-43EE-AD70-AFC01EF93F2A
   :CREATED:  [2009-03-09 Mon 05:26]
   :END:
** DONE When a test fails, output the command to run
   - State "DONE"       from "TODO"       [2011-02-12 Sat 18:18]
   The same way that Clang does.
   :PROPERTIES:
   :ID:       766AEB60-4A6D-4191-AA40-93C41447CC4F
   :CREATED:  [2011-02-09 Wed 09:27]
   :END:
** DONE Write a utility to measure commenting level of functions
   - State "DONE"       from "TODO"       [2010-06-16 Wed 03:52]
   :PROPERTIES:
   :ID:       9A0E5877-6D16-4328-8265-427A3F7B76B2
   :CREATED:  [2010-06-15 Tue 17:11]
   :END:
** DONE Write an "xact generator", to create random xacts for testing
   - State "DONE"       [2009-02-27 Fri 04:11]
   :PROPERTIES:
   :ID:       031DAD5C-8C92-40C1-837F-ABE6F29D4046
   :CREATED:  [2009-02-24 Tue 21:46]
   :END:
** DONE Write an org-mode function to turn a bug TODO into a regression test
   - State "DONE"       from "TODO"       [2009-10-25 Sun 21:58]
   :PROPERTIES:
   :ID:       6A4F436B-E69C-45B2-ABBA-7E550EDBCFCD
   :CREATED:  [2009-02-27 Fri 04:41]
   :END:
** DONE [[bug:219][#219]] Add a Makefile rule ensuring all options are tested and documented
   - State "DONE"       from "TODO"       [2010-06-18 Fri 19:47]
   - State "TODO"       from "STARTED"    [2010-06-16 Wed 03:54]
   - State "TODO"       from "STARTED"    [2010-06-02 Wed 17:12]
   :PROPERTIES:
   :ID:       F44DCE38-1191-4759-8DC7-194B8A5BF8E0
   :CREATED:  [2010-05-31 Mon 01:14]
   :END:
** DONE [[bug:317][#317]] Ledger is still failing the higher-numbered generation seed tests
   - State "DONE"       from "DEFERRED"   [2010-06-12 Sat 05:29]
   - State "DEFERRED"   from "TODO"       [2009-10-29 Thu 01:00]
   :PROPERTIES:
   :ID:       B9C429C8-A894-48FE-9C8D-8068E2467D75
   :CREATED:  [2009-03-03 Tue 15:47]
   :END:
** DONE [[bug:325][#325]] Migrate from CppUnit to the Boost Test FrameWork
   - State "DONE"       from "TODO"       [2011-02-04 Fri 03:41]
   - State "TODO"       from "DEFERRED"   [2011-02-04 Fri 03:41]
   - State "DEFERRED"   from "TODO"       [2010-06-19 Sat 13:38]
   - State "TODO"       from "DEFERRED"   [2010-06-15 Tue 17:00]
   - State "DEFERRED"   from "TODO"       [2010-06-14 Mon 08:17]
   :PROPERTIES:
   :ID:       44B30EE4-6C72-4DDE-8BDA-1E6DE683B796
   :URL:      [[http://www.boost.org/doc/libs/1_43_0/libs/test/doc/html/tutorials/hello-the-testing-world.html][Introduction to using the Unit Test Framework]]
   :CREATED:  [2010-06-11 Fri 17:10]
   :END:
** DONE [[bug:357][#357]] The parallelized RegressTests no longer notices errors
   - State "DONE"       from "TODO"       [2010-06-22 Tue 03:23]
   :PROPERTIES:
   :ID:       943839DB-32DF-4807-9589-BA4173FA193A
   :CREATED:  [2010-06-20 Sun 18:36]
   :END:
** DONE opt-prices-format.test is failing due to timezone differences
   - State "DONE"       from "TODO"       [2009-10-22 Thu 07:09]
   :PROPERTIES:
   :ID:       70828011-2F1E-4823-8D7D-422720A0F8E8
   :Message:  [[message://b0bc07100906260800m28db8cb1xd1199dd1e05675ea@mail.gmail.com][Test failure (opt-prices-format test) with git HEAD]]
   :CREATED:  [2009-07-02 Thu 18:09]
   :END:
** DONE tools/proof is failing
   - State "DONE"       [2009-03-08 Sun 04:31]
   :PROPERTIES:
   :ID:       72621A77-F08E-4DED-A2C6-F0B1F337CD9A
   :CREATED:  [2009-03-01 Sun 16:22]
   :END:
** DONE tools/regtest is producing errors
   - State "DONE"       [2009-02-26 Thu 04:10]
   :PROPERTIES:
   :ID:       C7C5BDBF-59E9-4D75-924E-0167B077F35F
   :CREATED:  [2009-02-24 Tue 22:32]
   :END:
** DONE [#C] The opt-forecast-while test is time sensitive, and is failing
   - State "DONE"       from "TODO"       [2009-10-27 Tue 19:11]
   :PROPERTIES:
   :ID:       7B8D466B-6F38-41E6-B2B1-964B8378C929
   :CREATED:  [2009-03-01 Sun 05:36]
   :END:
** CANCELED Serialize error output from the test harness
   - State "CANCELED"   from "TODO"       [2011-02-12 Sat 18:18]
   This makes it possible to see test output without it being overlapped.
   :PROPERTIES:
   :ID:       3E4EA1F5-D949-43BD-A045-B4CD1EEA3384
   :CREATED:  [2011-02-09 Wed 09:27]
   :END:
* Docs
  :PROPERTIES:
  :CATEGORY: Docs
  :OVERLAY: (face (:background "#fdebeb"))
  :END:
** TODO (Vladimir) [ledger] @ in documentation
:PROPERTIES:
:ID:       86FD20F0-B32B-45D8-8690-60DF8607C8DE
:CREATED:  [2012-10-04 Thu 23:37]
:Date:     Thu, 4 Oct 2012 00:14:08 -0700
:Message:  [[message://jwiegley/ledger/issues/85@github.com][{ledger} @ in documentation (#85)]]
:Author:   Vladimir Parfinenko <notifications@github.com>
:END:
** TODO (jeroendv) [ledger] typo in the 3.0 documentation?
:PROPERTIES:
:ID:       30A911BA-4BA1-4B57-9234-8AE6E72B11ED
:CREATED:  [2012-09-28 Fri 22:41]
:Date:     Fri, 28 Sep 2012 07:19:53 -0700
:Message:  [[message://jwiegley/ledger/issues/83@github.com][{ledger} typo in the 3.0 documentation? (#83)]]
:Author:   jeroendv <notifications@github.com>
:END:
** TODO (Raphael) Reply: Optimal automatic virtual transactions
:PROPERTIES:
:ID:       34BF68CD-F6BE-4C8A-B3CC-68C7A89647C6
:CREATED:  [2012-03-15 Thu 00:32]
:Date: Tue, 13 Mar 2012 19:32:43 -0700 (PDT)
:Message: [[message://9778734.2026.1331692363192.JavaMail.geo-discussion-forums@vbmf37][Optimal automatic virtual transactions]]
:Author: Raphael Lorenzeto <raphael.lorenzeto-Re5JQEeQqe8AvxtiuMwx3w@public.gmane.org>
:END:
** TODO Convert README.textile to README.md
:PROPERTIES:
:ID:       9CD9430C-8F97-4CA2-AC05-ABB59762D75F
:CREATED:  [2012-05-19 Sat 19:33]
:END:
** TODO Document value expressions for Craig on the mailing list
:PROPERTIES:
:ID:       72A8CF34-E693-4E25-AA3B-CB5FC3873402
:CREATED:  [2012-05-22 Tue 18:57]
:Date: Tue, 22 May 2012 16:03:55 -0700
:Message: [[message://CAKs9TOJTHmcB23n8BB8uuPtSwAuOc07zvJu9uu1BUhFdbSPvmQ@mail.gmail.com][Re: {homebrew} ledger --HEAD has changed build system to cmake (#12373)]]
:Author: Craig Earls <enderw88@gmail.com>
:END:
** TODO Write up a mini-doc on the value expression language
:PROPERTIES:
:ID:       BBD6227A-6AB0-497C-985B-203FB79C2AAE
:CREATED:  [2012-03-13 Tue 16:32]
:END:
** TODO [[bug:169][#169]] Language translations for 3.0
   | Name                    | E-mail                           | Language             |
   |-------------------------+----------------------------------+----------------------|
   | Thierry Daucourt        | thierry.daucourt@free.fr         | French               |
   | Alexis Hildebrandt      | alexis.hildebrandt@surryhill.net | German               |
   | Felipe Magno de Almeida | felipe.m.almeida@gmail.com       | Brazilian Portuguese |
   | Roel Vanhout            | roel.vanhout@gmail.com           | Dutch                |
   :PROPERTIES:
   :ID:       9D19729F-343C-464D-BE88-143C9DDA9394
   :CREATED:  [2009-11-09 Mon 03:40]
   :END:
** TODO [[bug:186][#186]] Rewrite the sample.dat file to be more realistic
   :PROPERTIES:
   :ID:       6E0F0FD6-38A2-4269-870F-41DE8B10D23C
   :CREATED:  [2009-11-20 Fri 18:31]
   :END:
** TODO [[bug:195][#195]] How to declare a statement reconciliation                                   :ATTACH:
   :PROPERTIES:
   :ID:       32A4A048-886F-43FC-892E-EC125F372750
   :Attachments: foo.dat
   :CREATED:  [2009-12-10 Thu 18:05]
   :END:
** TODO [[bug:452][#452]] Fixes to the ledger wiki/README-1ST
   :PROPERTIES:
   :ID:       07EB8797-458D-4FBB-B125-062BAC1B732B
   :Submitter: Matthew Palmer <mpalmer@hezmatt.org>
   :Message:  [[message://20101207061035.GC4783@hezmatt.org][Fixes to the ledger wiki/README-1ST]]
   :CREATED:  [2010-12-07 Tue 16:33]
   :END:
** TODO [[bug:474][#474]] Create documentation stubs in ledger3.texi for all features
- State "TODO"       from "DELEGATED"  [2012-03-18 Sun 23:56]
- State "DELEGATED"  from "TODO"       [2012-02-23 Thu 21:54]
- State "TODO"       from "DONE"       [2011-11-18 Fri 20:04]
- State "DONE"       from "TODO"       [2011-11-18 Fri 20:02]
   :PROPERTIES:
   :ID:       F8237174-35B6-493D-A0B0-FEC900C2C2D3
   :CREATED:  [2011-01-26 Wed 13:21]
   :END:
** TODO [[bug:500][#500]] Enforcing balanced books
   - Note taken on [2011-03-16 Wed 22:14] \\
     From: tazz_ben <ben@wbpsystems.com>

     It all involves scenarios where you (the accountant) has screwed up.
     Don't think of this as an exhaustive list I'm just throwing you some
     examples your way.

     1. Say you have an asset (like a building) your depreciating for some
        number of years and you get in the habit of doing it and you
        depreciate it below zero.  So, with a normal accounting program you
        would catch this one of two ways; one the program won't allow the
        account onto the balance sheet because it is a non-contra asset
        account with a credit balance so it knows that's not right so the
        fundamental equation doesn't balance.  Alternatively, it places it in
        the assets sections as a negative number and the fundamental equation
        does balance but you will see it anyway because it will be the only
        non-contra account with a negative sign in front of it. You *might*
        find this on ledger, but because Ledger doesn't know about contra
        accounts, your negative asset account might end up lost in a sea of
        contras.

     2. This one is simple. Say you have a suspense account (these are suppose
        to contain transactions for VERY brief periods -- for instance I use
        one to store automated transactions until they post -- under 60
        seconds). They don't go on the balance sheet; ever.  If one is
        containing a balance, then it will knock your balance sheet off.

     3. This one is harder to understand, but it is the most common scenario
        so I'll mention it again.  There is a sub-topic of accounting called
        work-in-progress accounting, or sometimes referred to as
        construction-in-progress.  This is type of accounting you use when you
        are hired to do a very long job (usually very expensive, otherwise you
        wouldn't bother).  Think contractor hired to build a road for a (lump
        sum) 100 million and having it take three years.  Anyhow, the
        accounting is extremely complex because it has to be (the goal is to
        accurately report income while the project is still underway, yeah,
        that's why its hard).  And there is multiple points where you can
        screw up (there is this whole thing where you are re-estimating that
        can get very confusing), anyhow any one of those screw ups will be
        found on a properly formed balance sheet.
   :PROPERTIES:
   :ID:       6283EA8C-3E2B-463E-9E29-9554F08F4A9D
   :CREATED:  [2011-03-16 Wed 16:38]
   :Message:  [[message://ilo3d5$kuq$1@dough.gmane.org][enforcing balanced books]]
   :Submitter: Simon Michael <simon@joyful.com>
   :Date:     Tue, 15 Mar 2011 09:16:33 -0700
   :END:
** TODO [[bug:520][#520]] Ledger's Doxygen file is broken
   :PROPERTIES:
   :ID:       74F07B78-A5E8-44EB-B662-C5E219635118
   :CREATED:  [2011-04-20 Wed 18:03]
   :Message:  [[message://BANLkTikfhhS55Bd_gJrcYNzU9=uyNsaK0g@mail.gmail.com][ledger]]
   :Submitter: press0 <press0@gmail.com>
   :Date:     Mon, 18 Apr 2011 01:20:35 -0500
   :END:
** TODO [[bug:579][#579]] Depreciate assets (cars, equipment, buildings, etc)
   I've developed a couple of apps to help out ledger with depreciation.
   Depreciation, for those that don't know, is the method of recognizing an
   expense inline with when the asset is used.  For instance if you buy a
   building, you wouldn't expense it when you buy it, you'd expense it over
   the life of the building (like say 50 years).  A computer would have a much
   shorter depreciation schedule, but it would use one of the accelerated
   methods (ddb or sum of the years digits).
   
   Anyhow, ledger by itself can't really deal with this, you would have to
   make a depreciation schedule by hand then make every entry as they come up
   over time (which might encourage you to not do it on smallish assets --
   which is against GAAP -- or do it once a year, which would screw up monthly
   income).  I've automated this process with a couple of tools:
   https://github.com/tazzben/DepreciateForLedger/wiki
   https://github.com/tazzben/LedgerScheduler/wiki
   
   Depreciate for Ledger, creates every entry of the depreciation schedule.
   You can specify the depreciation method (it currently supports
   straight-line, double declining balance, sum of the years digits and a
   hybrid of straight-line and DDB), cost, residual, etc. and save it to a
   file.  This looks like any other ledger file except the dates are all in
   the future.
   
   Ledger Scheduler takes the file (which can contain any future ledger
   entries) and pushes the appropriate transactions into a target file on the
   appropriate date.  You can set this to run with cron.  Technically, you
   could set any schedule you want, but given the nature of depreciation, once
   a month is sufficient for most people, and once a day would be sufficient
   for anyone.
   :PROPERTIES:
   :ID:       CB4A2972-2F68-4419-B4EC-973725107739
   :CREATED:  [2011-07-21 Thu 21:12]
   :Date:     Sat, 2 Apr 2011 16:23:55 -0700 (PDT)
   :Message:  [[message://1024645.103.1301786635133.JavaMail.geo-discussion-forums@prfx36][Depreciate assets (cars, equipment, buildings, etc) and push them into the ledger file on a schedule]]
   :Submitter: tazz_ben <ben@wbpsystems.com>
   :END:
** TODO [[bug:596][#596]] Improve download/install instructions for the Mac
- State "TODO"       from "DEFERRED"   [2012-03-11 Sun 20:32]
    - State "DEFERRED"   from "TODO"       [2011-08-18 Thu 13:15]
   :PROPERTIES:
   :ID:       2BB63C6F-90D0-4433-8308-80A9D201D880
   :CREATED:  [2011-07-25 Mon 00:55]
   :Date:     Sun, 24 Jul 2011 10:21:51 -0700
   :Message:  [[message://jwiegley/ledger/issues/32@github.com][{ledger} Improve download/install instructions for the Mac (#32)]]
   :Submitter: richardcooper <reply+i-1278078-1be2b9ab93ac7c481fd66bb7244f2447690518e1@reply.github.com>
   :END:
** TODO [[bug:641][#641]] Add note about ledger openbsd port to ledger-cli.org
:PROPERTIES:
:ID:       209EBF3A-D147-49F0-B731-510183D54AEB
:CREATED:  [2011-12-15 Thu 13:23]
:Date: Thu, 15 Dec 2011 19:48:09 +0400
:Message: [[message://20111215154809.GA19226@sergeyb.sw.ru][port ledger to openbsd]]
:Submitter: Sergey Bronnikov <estetus@gmail.com>
:END:
** TODO [[bug:642][#642]] Post to the Wiki that Ledger 3 is in nixpkgs
:PROPERTIES:
:ID:       49B5728F-565B-47F1-B01B-38A6F273C502
:CREATED:  [2012-01-08 Sun 16:43]
:Date: Sat, 07 Jan 2012 12:39:53 -0500
:Message: [[message://4F088369.6060102@shealevy.com][Ledger 3 is in nixpkgs]]
:Author: Shea Levy <shea@shealevy.com>
:END:
** TODO [[bug:643][#643]] Ledger syntax coloring for TextWrangler
Those among you who (would like to) use TextWrangler (free OS X text editor)
to edit a ledger file may be interested in adding some colors to their
transactions:

https://gist.github.com/1597432

Just copy Ledger.plist into ~/Library/Application Support/TextWrangler and
re-open TextWrangler. Files with suffix .ledger will be recognized as Ledger
files. Additional suffixes can be added in TextWrangler > Preferences >
Languages.
:PROPERTIES:
:ID:       B93B60D0-1B57-4653-8E04-FEF5DCDF0725
:CREATED:  [2012-01-12 Thu 17:35]
:Date: Thu, 12 Jan 2012 10:54:58 +0100
:Message: [[message://github-87F922.10545812012012@news.gmane.org][Ledger syntax coloring for TextWrangler]]
:Author: Niekas <github-Vzr4Esry4JzzIImvGDD8mw@public.gmane.org>
:END:
** DEFERRED [[bug:170][#170]] Fill out membership form for the Software Conservancy
- State "DEFERRED"   from "TODO"       [2012-03-11 Sun 20:31]
- State "TODO"       from "WAITING"    [2012-01-11 Wed 14:25]
   - State "WAITING"    from "TODO"       [2010-05-22 Sat 18:47] \\
     I'm waiting for the official form to come from the Conservancy.
   - State "TODO"       from "WAITING"    [2010-05-22 Sat 15:05]
   - State "WAITING"    from "TODO"       [2010-01-22 Fri 20:06] \\
     I'm waiting on the new agreement to be sent.
   :PROPERTIES:
   :ID:       78635C7A-98F2-494F-93A4-7CDA6094E681
   :Message:  [[message://4B240026.5040408@softwarefreedom.org][Re: Offer of membership to the Ledger project into the Software Freedom Conservancy, Inc.]]
   :Submitter: Karen Sandler <karen@softwarefreedom.org>
   :CREATED:  [2009-12-17 Thu 02:44]
   :END:
** DEFERRED [[bug:241][#241]] Complete the internal documentation, exported using Doxygen
   - State "DEFERRED"   from "TODO"       [2009-06-16 Tue 17:10]
   :PROPERTIES:
   :ID:       986054C6-CD18-4EA1-8F8C-FF02C9842EB0
   :CREATED:  [2008-08-14 Thu]
   :END:
** DEFERRED [[bug:242][#242]] Ledger example: building a better "du"                                  :ATTACH:
   - State "DEFERRED"   from "TODO"       [2009-10-26 Mon 22:06]
   Since Ledger does not internally focus on finance, there is no reason why
   it can't be used in any situation where amounts are either kept in certain
   places, or moved from place to place, including:

   - tracking time
   - recording data transfers between computers
   - recording scientific data (converting any input to any output)
   - reporting on the layout of your hard drive

   To show an example of this, I'm written a Python script called "ledger-du"
   which simply outputs whatever directories you specify as arguments in the
   form of Ledger entries.  There is one entry per file, where the "payee" is
   the file name, the "account" is a colon-separated directory hierarchy, and
   the "date" is the last modified time of the file.

   By running this script and sending the output to "/tmp/out.dat", you can
   now perform some very sophisticated queries on your data -- including
   showing you the same kind of information that the venerable "du" itself
   would show.  Except that now you can see the tree hierarchy with the
   "balance" command, and other enhancements to the basic form of "du".

   For example, here's a command that shows me where all my C++ source files
   are, subtotaled by the sub-directory that contains them, and sorted by
   total size.  The "equity" account (where all the bytes are balanced) even
   ends up telling me the total size of all C++ files in my queried directory:
   :SCRIPT:
   ledger --format \
     "%D %-.20P\n  %-.52A %12.67t %12.80T\n%/  %-.52A %12.67t %12.80T\n" \
     -f /tmp/out.dat -s -S "-U(t)" register -- \\.cc\$
   :END:
   I specified a new format string here (a variation on the default balance
   format) so that I could see account totals each on their own line, since
   some of the account names get very long.
   :PROPERTIES:
   :Version:  2.6
   :Ticket:   169
   :ID:       85DAE1AB-F6D3-4AAC-A4F7-99D146B355E7
   :Message:  message://m2odzwxupz.fsf@newartisans.com
   :Attachments: ledger-du
   :CREATED:  [2006-03-24 Fri]
   :END:
** DEFERRED [[bug:243][#243]] Using Ledger as a scientific analysis tool
   - State "DEFERRED"   from "TODO"       [2009-10-26 Mon 22:06]
   :PROPERTIES:
   :Version:  2.6
   :Ticket:   173
   :ID:       C653003E-52A8-4D06-9DEB-634B1156B04C
   :END:
** DEFERRED [[bug:244][#244]] Using Ledger to track inventory
   - State "DEFERRED"   from "TODO"       [2009-10-26 Mon 22:06]
   :PROPERTIES:
   :Version:  2.6
   :Ticket:   174
   :ID:       F7A6A833-5AC6-4ED0-A5EA-93CD6B97EEBF
   :END:
** DEFERRED [[bug:369][#369]] Internalize the --help option in v3
- State "DEFERRED"   from "TODO"       [2012-03-11 Sun 20:31]
   :PROPERTIES:
   :ID:       F1FEC526-6B6D-48C2-9BA8-CDDD15595BD5
   :Submitter: Roel Vanhout <roel.vanhout@gmail.com>
   :Message:  [[message://AANLkTinl0OW5pklgt-LV-t0QbmoCor1W6wBQgFB4mdbg@mail.gmail.com][Re: --help option in v3]]
   :CREATED:  [2010-06-28 Mon 23:54]
   :END:
** DEFERRED [[bug:423][#423]] Rubygem for converting arbitrary csv files into ledger format
- State "DEFERRED"   from "TODO"       [2012-03-11 Sun 20:31]
   - Note taken on [2010-11-14 Sun 20:51] \\
     [[message://AANLkTimZ%2B%3DeisPa4rYgcLkb%2BnOZoqn6yj%3DuXEceNdtuh@mail.gmail.com][Re: Rubygem for converting arbitrary csv files into ledger format and guessing accounts]]
   - Note taken on [2010-11-11 Thu 12:31] \\
     [[message://AANLkTikZ4Fa45ez784k9SP47%3DkQczLA2GCyTo%3DhiLU5W@mail.gmail.com][Re: Rubygem for converting arbitrary csv files into ledger format and guessing accounts]]
   - Note taken on [2010-11-11 Thu 12:31] \\
     [[message://AANLkTim0_TFnT5WL3nBhqK%3DvE2ZNqwRvBwYQbZvvUOks@mail.gmail.com][Re: Rubygem for converting arbitrary csv files into ledger format and guessing accounts]]
   - Note taken on [2010-11-07 Sun 14:08] \\
     [[message://AANLkTinoU88tNVkO9gbOphYDsbv9oeY6uO5DmWcODv%2BQ@mail.gmail.com][Re: Rubygem for converting arbitrary csv files into ledger format and guessing accounts]]
   :PROPERTIES:
   :ID:       68744705-640F-4F62-9A7B-EE8C815FD596
   :Submitter: Andrew Cantino <cantino@gmail.com>
   :Message:  [[message://AANLkTin8%3DcrNWggCMtHP%2B6MhvR41RHQeqBSveN05oiEd@mail.gmail.com][Rubygem for converting arbitrary csv files into ledger format and guessing accounts]]
   :CREATED:  [2010-11-07 Sun 13:10]
   :END:
** DONE [#A] [[bug:422][#422]] Correct definitions of release and beta in the README
   - State "DONE"       from "TODO"       [2010-12-09 Thu 17:25]
   :PROPERTIES:
   :ID:       931B6920-95D3-4F8E-A517-036E4B7DB0EF
   :Submitter: Michael Ploujnikov <ploujj@gmail.com>
   :Message:  [[message://29d9299c-f958-42a2-928c-2bacbf6b63e3@29g2000prb.googlegroups.com][current beta release vs master maint 2.6.1]]
   :CREATED:  [2010-11-25 Thu 15:27]
   :END:
** DONE [#A] [[bug:578][#578]] Show Craig how to write testable Ledger examples
- State "DONE"       from "TODO"       [2012-03-16 Fri 01:16] \\
  I wrote about how to do this on the mailing list.
   :PROPERTIES:
   :ID:       A204A515-E665-41C1-9C77-389F2F45EFF7
   :CREATED:  [2011-10-04 Tue 14:26]
   :Date:     Sun, 2 Oct 2011 21:20:27 -0700
   :Message:  [[message://CAKs9TOJxATpjCeQZ2JVoGSwszULOigy0NpcKYtVcj19AXWi34Q@mail.gmail.com][Draft of manual.]]
   :Submitter: Craig Earls <enderw88@gmail.com>
   :END:
** DONE (Simon) Consolidate the ledger-cli repository as a website branch
- State "DONE"       from "TODO"       [2012-03-11 Sun 20:36]
:PROPERTIES:
:ID:       488FD290-3F00-428D-A3B7-D7F115C2E5F0
:CREATED:  [2012-03-10 Sat 22:10]
:Date: Fri, 09 Mar 2012 19:31:19 -0800
:Message: [[message://jjehu8$5uv$1@dough.gmane.org][Re: docs status (Re: consolidate docs?)]]
:Author: Simon Michael <simon-jbxitMBJ2LLQT0dZR+AlfA@public.gmane.org>
:END:
** DONE Add license headers to every file
   - State "DONE"       [2009-01-29 Thu 15:29]
   :PROPERTIES:
   :Version:  2.6
   :Ticket:   99
   :ID:       E99806BC-8781-4469-9FEF-B77C23BB3413
   :CREATED:  [2008-04-11 Fri]
   :END:
** DONE Change --help* so it runs "man ledger"
   - State "DONE"       [2009-02-21 Sat 16:32]
   :PROPERTIES:
   :ID:       69F58499-2EE7-4A76-9B1B-E9F8495D9514
   :CREATED:  [2009-02-21 Sat 15:02]
   :END:
** DONE Describe the new balance algorithm in pseudocode for sm
   - State "DONE"       [2009-02-17 Tue 17:43]
   :PROPERTIES:
   :ID:       68EA6398-E410-45A2-8EB3-7ACFEA5238CC
   :CREATED:  [2009-02-17 Tue 07:20]
   :END:
** DONE Download QIFtoLedger to the Ledger archive
   - State "DONE"       from "TODO"       [2011-02-24 Thu 14:58]
   :PROPERTIES:
   :ID:       A375A7DA-435F-436C-B3C5-B347C97DAC89
   :CREATED:  [2011-02-09 Wed 14:27]
   :Message:  [[message://a7d80b22-b6eb-42b5-9c54-dbca1475d2d9@d23g2000prj.googlegroups.com][Re: Bank of America OFX]]
   :END:
** DONE Format ledger.texi in the same manner as the SBCL manual
   - State "DONE"       [2007-12-04 Tue 18:14]
   :PROPERTIES:
   :ARCHIVE_TIME: 2007-12-11 Tue 18:33
   :ARCHIVE_CATEGORY: Computer
   :ID:       7D3DE56C-34E2-4992-87CA-B129E19B6FD1
   :CREATED:  [2007-11-28 Wed]
   :END:
** DONE Organize my ledger todo file and integrate it into the main agenda
   - State "DONE"       [2007-10-01 Mon 03:40] \\
     Done, although I still need to pull all of my old data from Trac and Merlin.
   :PROPERTIES:
   :ARCHIVE_TIME: 2007-10-03 Wed 14:01
   :ARCHIVE_CATEGORY: Computer
   :ID:       B89FA87D-CAE6-4F78-9442-E25EE572E8FD
   :CREATED:  [2007-09-27 Thu]
   :END:
** DONE Post links on Ledger Web to the new dmg and coverage report
- State "DONE"       from "TODO"       [2012-02-19 Sun 02:05]
:PROPERTIES:
:ID:       A2E9F14E-A826-45D3-9BFB-8D3EBFD9F8C8
:CREATED:  [2012-02-17 Fri 17:26]
:END:
** DONE Post the Ledger manual in HTML format on newartisans.com
   - State "DONE"       from "TODO"       [2009-06-16 Tue 17:10]
   :PROPERTIES:
   :Version:  2.6
   :Ticket:   187
   :ID:       C6E7C61C-13A3-4812-AA28-CD3E247D6F8C
   :CREATED:  [2008-08-14 Thu]
   :END:
** DONE Remove --commodity-as-account from the man page and manual
   - State "DONE"       from "TODO"       [2010-02-05 Fri 00:03]
   :PROPERTIES:
   :ID:       849EB210-BEEB-4FDE-A90C-688400D55ECE
   :CREATED:  [2009-12-29 Tue 16:07]
   :END:
** DONE Start a real manpage
   - State "DONE"       [2009-02-21 Sat 14:50]
   :PROPERTIES:
   :ID:       9ED06BD9-774E-411E-9942-F1D672EB67C8
   :CREATED:  [2009-02-21 Sat 12:49]
   :END:
** DONE Stop using Doxygen to generate code documentation
   - State "DONE"       [2009-03-06 Fri 17:52]
   :PROPERTIES:
   :ID:       A7A589D0-2799-40ED-9729-BDB6892EB279
   :CREATED:  [2009-03-06 Fri 04:21]
   :END:
** DONE There is an issue with unescaped @ signs in the Ledger docs
   - State "DONE"       [2008-03-27 Thu]
   :PROPERTIES:
   :ID:       30ED70CB-0679-4651-A1C3-1247764B250D
   :CREATED:  [2008-03-26 Wed]
   :END:
** DONE Write the balance reporting algorithm for sm
   - State "DONE"       [2009-03-11 Wed 15:53]
   :PROPERTIES:
   :ID:       96737B51-1E78-473D-BE6A-B94094C20EB6
   :CREATED:  [2009-03-11 Wed 15:34]
   :END:
** DONE [PATCH] Documentation patch for ledger
   - State "DONE"       from "TODO"       [2010-05-28 Fri 01:07]
   :PROPERTIES:
   :ID:       79E94C3D-F48C-4972-826E-7C0E36C5CDD7
   :Message:  [[message://4BBD4587.9050508@nicta.com.au][documentation patch for ledger]]
   :CREATED:  [2010-04-08 Thu 18:49]
   :END:
** DONE [PATCH] Remove transaction code from initial example
   - State "DONE"       from "TODO"       [2010-05-28 Fri 01:12]
   :PROPERTIES:
   :ID:       3F0F0710-AE95-438C-B93F-ADA17A882C03
   :Message:  [[message://20100322161315.GA6884@jirafa.cyrius.com][{PATCH} Remove transaction code from initial example]]
   :CREATED:  [2010-03-26 Fri 22:22]
   :END:
** DONE [PATCH] Typo fix in ledger docs
   - State "DONE"       from "TODO"       [2010-05-28 Fri 01:13]
   :PROPERTIES:
   :ID:       8BF17914-8EE8-4E75-B29F-7D3BC73C9DBA
   :Message:  [[message://20100322090706.GA2523@jirafa.cyrius.com][{PATCH} Typo fix in ledger docs]]
   :CREATED:  [2010-03-26 Fri 22:23]
   :END:
** DONE [PATCH] ledger: add a missing word to the manual
   - State "DONE"       from "TODO"       [2010-05-28 Fri 01:10]
   :PROPERTIES:
   :ID:       9FE43582-2AF8-4350-8031-923758C7204A
   :Message:  [[message://20100408202815.GA5996@jirafa.cyrius.com][{PATCH} ledger: add a missing word to the manual]]
   :CREATED:  [2010-04-08 Thu 18:50]
   :END:
** DONE [PATCH] ledger: fix a cosmetic problem in the manual
   - State "DONE"       from "TODO"       [2010-05-28 Fri 01:11]
   :PROPERTIES:
   :ID:       E1283FBD-F5FE-4EB9-A8A7-038AE6DBE9CB
   :Message:  [[message://20100410170310.GA24308@jirafa.cyrius.com][{PATCH} ledger: fix a cosmetic problem in the manual]]
   :CREATED:  [2010-04-11 Sun 03:55]
   :END:
** DONE [[bug:194][#194]] Initial example in ledger manual bogus
   - State "DONE"       from "TODO"       [2010-06-09 Wed 04:51]
   While reading the ledger manual, I got really confused by the initial
   example which seemed wrong to me.  While looking at the mailing list
   archives, I noticed that this has been pointed out more than a year ago:

   http://groups.google.com/group/ledger-cli/browse_thread/thread/ecd57e8f16eb90e3#

   Any chance to get the example fixed or removed?  It's really confusing for
   newbies.
   :PROPERTIES:
   :ID:       B91DED0E-B52A-4C99-A100-6564961DE5C4
   :Message:  [[message://20100410171011.GB24387@jirafa.cyrius.com][Initial example in ledger manual bogus]]
   :Submitter: Martin Michlmayr <tbm@cyrius.com>
   :CREATED:  [2010-04-11 Sun 03:55]
   :END:
** DONE [[bug:209][#209]] Escape @ characters in the manual
   - State "DONE"       from "TODO"       [2010-06-02 Wed 01:15]
   :PROPERTIES:
   :ID:       2C789E95-C5D1-41B4-9F14-3165A8A8FAD9
   :Submitter: bugzilla-daemon@mail.johnwiegley.com
   :Message:  [[message://bug-209-1@http.newartisans.com/bugzilla/][{Bug 209} New: escape @ characters in manual]]
   :CREATED:  [2010-05-31 Mon 14:40]
   :END:
** DONE [[bug:385][#385]] Syntax error in new ledger3 doc
   - State "DONE"       from "TODO"       [2010-07-30 Fri 05:02]
   :PROPERTIES:
   :ID:       DF8EDC70-262C-4C26-8E1A-C25024378EA8
   :Submitter: bugzilla-daemon@mail.johnwiegley.com
   :Message:  [[message://bug-385-1@http.newartisans.com/bugzilla/][{Bug 385} New: Syntax error in new ledger3 doc]]
   :CREATED:  [2010-07-20 Tue 23:21]
   :END:
** DONE [[bug:453][#453]] Documentation patches for 3.0
   - State "DONE"       from "TODO"       [2010-12-30 Thu 02:44]
   :PROPERTIES:
   :ID:       49655F42-5CE7-4CC5-86E8-BAE7775EFA1E
   :Submitter: Matthew Palmer <mpalmer@hezmatt.org>
   :Message:  [[message://20101211001916.GG4308@hezmatt.org][Documentation patches for 3.0]]
   :CREATED:  [2010-12-12 Sun 17:12]
   :END:
** DONE [[bug:640][#640]] Add the "autopoint" dependency for Debian to the README
- State "DONE"       from "TODO"       [2012-03-21 Wed 07:48] \\
  Fixed in d3401dd91d
:PROPERTIES:
:ID:       282660AC-1A0A-4681-9B62-EB9A51DC0B5F
:CREATED:  [2011-12-02 Fri 14:24]
:Date: Tue, 29 Nov 2011 20:58:58 +0000
:Message: [[message://20111129205858.GG21967@jirafa.cyrius.com][Re: ledger fails to build]]
:Submitter: Martin Michlmayr <tbm@cyrius.com>
:END:
** DONE [#C] [[bug:202][#202]] doc/NEWS and xml
   - State "DONE"       from "TODO"       [2010-06-15 Tue 08:42] \\
     This comment is no longer in the NEWS file.
   doc/NEWS claims that the xml command was removed but it's still there (at
   least "ledger -f foo.dat xml" works; maybe you meant a different xml
   command?).
   :PROPERTIES:
   :ID:       130C2697-1601-488A-B0D7-2422CF50CB86
   :Message:  [[message://20100322161529.GA7030@jirafa.cyrius.com][doc/NEWS and xml]]
   :Submitter: Martin Michlmayr <tbm@cyrius.com>
   :CREATED:  [2010-03-26 Fri 22:22]
   :END:
** DONE [#C] [[bug:208][#208]] Special characters in manual don't show up in PDF
   - State "DONE"       from "TODO"       [2010-06-14 Mon 08:16] \\
     With modern versions of Texinfo, this should now work.  I was able to see
     accented characters in the PDF generated here.
   :PROPERTIES:
   :ID:       971BE95D-7538-4076-901E-E5C35BD87438
   :CREATED:  [2010-05-31 Mon 14:39]
   :END:
** WONTFIX [[bug:662][#662]] If Ledger crashes in std::string::_Rep::_M_dispose...
- State "WONTFIX"    from "TODO"       [2012-03-11 Sun 04:43]
Check which libstdc++.6.dylib Boost and Ledger (and the other component
libraries) are linked with.
:PROPERTIES:
:ID:       594901C8-DF06-4E0B-B8E9-6BB7682047A0
:CREATED:  [2012-03-01 Thu 22:41]
:END:
** WORKSFORME [[bug:221][#221]] Value expressions don't work as documented
   - State "WORKSFORME" from "TODO"       [2010-06-01 Tue 17:12]
   - Note taken on [2010-06-01 Tue 17:11] \\
     In 3.0 you would use this:
   - Note taken on [2010-06-01 Tue 17:11] \\
     BTW, here's what I'm actually trying to do: ledger bal shows me a total
     of expenses I made in EUR, GBP and USD.  I'd then like to use ledger reg
     to search for all postings of only _one_ of these currencies (e.g. what
     did I spend in USD).  Is this possible already, possibly with {..}?
   #+begin_src sh
     ledger reg -l 'commodity = "USD"'
   #+end_src
   It seems the value expressions don't (or no longer) work as documented.
   For example, section "Complex expressions" suggests that you can use
   p/REGEXP/.  So I tried this:
   :OUTPUT:
   $ ledger -f 2 reg expenses p/foo/
   While parsing value expression:
     (account =~ /expenses/ | account =~ /p/foo//)
                                            ^^^
   Error: Missing ')'
   :END:

   I then realized that I probably need an -d option, but this
   also doesn't work:
   :OUTPUT:
   $ ledger -f 2 reg expenses -d p/foo/
   While parsing value expression:
     (p/foo/)&(amount|(!post&total))
            ^
   Error: ) operator not followed by argument
   :END:

   In fact, not even the example from the manual works:
   :OUTPUT:
   $ ledger -f 2 -d "/^Liabilities/?T<0:UT>100" balance
   While evaluating value expression:
     (/^Liabilities/ ? (T < 0) : (UT > 100) & (amount | (!(post) & total)))
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   Error: Cannot determine truth of a regexp (did you mean 'account =~
   /^Liabilities/'?)
   :END:
   :PROPERTIES:
   :ID:       D8729755-A094-4CE9-B03C-8B3016AC6590
   :Submitter: bugzilla-daemon@mail.johnwiegley.com
   :CREATED:  [2010-06-01 Tue 15:15]
   :END:
** DUPLICATE Apply fix to the Ledger documentation
   - State "DUPLICATE"  [2008-09-11 Thu 03:08] \\
     This has already been fixed by A7CA0F5B-1F08-417A-9071-A223601100CA.
   I found a tiny bug in the info documentation for ledger, version
   2.6.0.90, regarding per-unit and complete xact cost.  There
   seems to be @'s missing (maybe texinfo gobbles up at least on @)

   It says:

   > The `ACCOUNT' may be surrounded by parentheses if it is a virtual
   > posts, or square brackets if it is a virtual posts
   > that must balance.  The `AMOUNT' can be followed by a per-unit
   > xact cost, by specifying ` AMOUNT', or a complete
   > xact cost with `@ AMOUNT'.  Lastly

   whereas I believe (from reading the source of textual.cc) it should
   be:

   > The `ACCOUNT' may be surrounded by parentheses if it is a virtual
   > posts, or square brackets if it is a virtual posts
   > that must balance.  The `AMOUNT' can be followed by a per-unit
   > xact cost, by specifying `@ AMOUNT', or a complete
   > xact cost with `@@ AMOUNT'.  Lastly
   :PROPERTIES:
   :Submitter: Par Kurlberg <kurlberg@math.kth.se>
   :ID:       ED900734-1655-4229-A88F-9BCB96634E00
   :CREATED:  [2008-09-02 Tue 06:26]
   :END:
** DUPLICATE [[bug:450][#450]] Document how to do inventory accounting
- State "DUPLICATE"  from "DONE"       [2011-11-18 Fri 20:05] \\
  This is a duplicate of #244.
- State "DONE"       from "TODO"       [2011-11-18 Fri 20:01]
   :PROPERTIES:
   :ID:       0F52624A-61F8-43D8-8ECD-A6595BBB78C5
   :Submitter: Jeff Kowalczyk <jeff.kowalczyk@gmail.com>
   :Message:  [[message://53ee80cf-2711-430f-8c00-e4c7959b0916@f20g2000prn.googlegroups.com][re: inventory accounting]]
   :CREATED:  [2010-12-27 Mon 03:40]
   :END:
** CLOSED [[bug:528][#528]] vim 'commentstring'
- State "CLOSED"     from "TODO"       [2012-04-24 Tue 04:30]
   - Note taken on [2011-10-24 Mon 15:29] \\
     Where should this be added?
   (one liner addition, can't be bother forking)
   
   add this to 'contrib/vim/ftplugin/ledger.vim'
   #+begin_src vim
   set commentstring=;%s
   #+end_src
   useful for setting modelines in ledger files
   :PROPERTIES:
   :ID:       5E9FEB37-907E-4494-B75E-ACA9D6AA3BFA
   :CREATED:  [2011-05-17 Tue 17:54]
   :Message:  [[message://jwiegley/ledger/issues/28@github.com][{ledger} vim 'commentstring' (#28)]]
   :Submitter: felix <reply+i-902603-b6d6abde0c89d70840fd263ccbd9750abc4e5819@reply.github.com>
   :Date:     Sun, 15 May 2011 08:04:12 -0700
   :END:
** CLOSED [[bug:529][#529]] vim indent file
- State "CLOSED"     from "TODO"       [2012-04-24 Tue 04:30]
   There is another one floating around but it doesn't seem to work. It is
   basic but here it is nonetheless:
   #+begin_src vim
   " File Name: ledger.vim
   " Maintainer: Felix Hanley
   " Created: 2011-05-15
   " Updated: 2011-05-15
   " Description: Ledger indentation file for vim
   
   if exists("b:did_indent")
       finish
   endif
   let b:did_indent = 1 
   
   setlocal indentexpr=LedgerIndent()
   
   if exists("*LedgerIndent")
       finish
   endif
   
   
   function LedgerIndent()
       let lnum = prevnonblank(v:lnum - 1)
       let ind = 0 
       if lnum == 0
           return 0
       endif
       if indent(lnum) != 0 && getline(v:lnum - 1) !~ '^$'
           return -1
       endif
       if getline(lnum) =~ '^[^\d]\S\+'
           let ind = ind + &sw 
       endif
       return ind 
   endfunction
   #+end_src
   :PROPERTIES:
   :ID:       5E9B3912-B3C4-4985-BB74-FF99C7328F80
   :CREATED:  [2011-05-17 Tue 17:55]
   :Message:  [[message://jwiegley/ledger/issues/27@github.com][{ledger} vim indent file (#27)]]
   :Submitter: felix <reply+i-902562-5184554569b2269b61f555ca1f9b8d0d07d8e681@reply.github.com>
   :Date:     Sun, 15 May 2011 07:47:45 -0700
   :END:
** NOTE Plotting time-series histograms with R and ggplot2
   #+begin_src R :results output
   install.packages("ggplot2")
   library(ggplot2)
   mydata <- read.table("/tmp/data.txt", header=TRUE)
   qplot(date, amount, data = mydata, geom="histogram")
   #+end_src

#+RESULTS:

   :PROPERTIES:
   :ID:       CA4ED683-21CD-4BED-9820-C9F1077B78AE
   :VISIBILITY: folded
   :CREATED:  [2010-03-11 Thu 03:19]
   :END:

** NOTE Questions on Ledger
- Did you use a separate ledger for this trip, or were your entries in the
  same ledger as your personal finances?
- How did you discover the loss from roundtrip currency conversions?
- How do you label your currencies? (I find ascii $ works fine, but £ shows
  up in emacs as £ (if typed into Terminal) and shows up in Terminal as ?
  (if typed in Emacs). I've switched to GBP until Emacs supports UTF-8 NCD)
- How did you deal with using a USD based Mastercard to pay for a Shekels
  meal? Do you have to wait until you get your Mastercard statement to
  determine the exchange rate or extra fees for international usage?
- Your blog suggests that you kept a paper ledger during the trip, and only
  used Ledger after you got home. Would it have worked if you'd used Ledger
  in real-time?
- What accounts did you use? How many of each type (Income, Equity,
  Liability, Expense, Asset?)
- What did your most basic entries look like?
- What were your most complex entries, and what lessons did you learn from
  them? Did you restructure your accounts along the way because of an
  unforeseen wrinkle?
- What ledger command lines did you use to compute the amount owed by each
  person?
:PROPERTIES:
:ID:       7786026F-2E73-45CA-B89F-A234DC4A6317
:VISIBILITY: folded
:CREATED:  [2011-06-19 Sun 18:23]
:END:
* Website
** DONE Add a link to the Fink package for Ledger on the Ledger page
   - State "DONE"       [2007-10-28 Sun 22:33]
   [2007-10-27 Sat] [[message://m2ve8rnc8c.fsf@dnab423967.stanford.edu][fink package for ledger]]
   :PROPERTIES:
   :ARCHIVE_TIME: 2007-11-04 Sun 23:42
   :ARCHIVE_CATEGORY: Computer
   :ID:       BEAF3CBA-298C-4711-95EC-E437915D2D3E
   :END:
** DONE Check out Mark Carter's Ledger page
   - State "DONE"       [2008-12-09 Tue 20:39]
   http://mcarter.myzen.co.uk/ledger/ledger.htm
   :PROPERTIES:
   :ID:       D6BE0562-9DE3-42CC-ADE5-3909B8140A63
   :ARCHIVE_TIME: 2008-12-17 Wed 14:08
   :ARCHIVE_CATEGORY: Computer
   :CREATED:  [2008-12-09 Tue 02:39]
   :END:
** DONE Convert 10 Trac bugs to the Ledger TODO file
   - State "DONE"       [2008-09-17 Wed 08:31]
   - State "DONE"       [2008-09-10 Wed 22:00]
   - State "DONE"       [2008-09-08 Mon 05:46]
   - State "DONE"       [2008-08-29 Fri 04:27]
   :PROPERTIES:
   :ID:       4372A987-E157-4F44-A22F-F5A2E85A974B
   :ARCHIVE_TIME: 2008-10-15 Wed 17:18
   :ARCHIVE_CATEGORY: Computer
   :CREATED:  [2008-08-26 Tue]
   :END:
** DONE Find out why Thomas can't fetch my git repo over HTTP
   - State "DONE"       [2008-04-26 Sat]
   - State "TODO"       [2008-04-26 Sat 00:16]
   error: pick-rref: refs/heads/master not found No such ref
     refs/heads/master at http://newartisans.com/git/ledger.git
     It turns out this is a bug in git itself, which someone in #git said they
     are going to work on.
   :PROPERTIES:
   :ID:       5B36755A-03D7-47FF-BE7F-4AFFC570C5FB
   :CREATED:  [2008-04-25 Fri]
   :END:
** DONE Fix the link on my Ledger project page to sourceforge.net
   - State "DONE"       [2007-11-07 Wed 03:56]
   :PROPERTIES:
   :ARCHIVE_TIME: 2007-11-14 Wed 17:14
   :ARCHIVE_CATEGORY: Ledger-2
   :ID:       753361B3-7BE0-45CE-A8E5-B8A277F259C9
   :CREATED:  [2007-11-06 Tue]
   :END:
** DONE Make a note of the published Ledger manual on the webpage
   - State "DONE"       from "TODO"       [2009-06-16 Tue 18:30]
   one big page: http://joyful.com/repos/ledger/doc/ledger.html
   many pages: http://joyful.com/repos/ledger/doc/ledger/
   pdf: http://joyful.com/repos/ledger/doc/ledger.pdf
   :PROPERTIES:
   :Submitter: Simon Michael <simon@joyful.com>
   :Version:  2.6.1
   :ID:       B5748AF6-A3D8-4F49-B0B0-7C8E463883AB
   :CREATED:  [2008-10-25 Sat 23:59]
   :END:
** DONE Mention Martin's beancount project from the Ledger home page
   - State "DONE"       from "TODO"       [2009-06-16 Tue 18:30]
   "Beancount on PyPi" from Martin Blais <blais@furius.ca>
   :PROPERTIES:
   :Submitter: Martin Blais <blais@furius.ca>
   :ID:       81540394-3662-4CBA-8747-3F6CEAEE61D5
   :CREATED:  [2008-08-14 Thu]
   :END:
** DONE Post to the Ledger forums about Ledger's new direction
   - State "DONE"       [2008-08-04 Mon]
   :PROPERTIES:
   :ID:       A11857E2-776B-4A0D-8BE1-D6D75843FBA2
   :CREATED:  [2008-04-24 Thu]
   :END:
** DONE The Ledger project page is not formatted correctly
   - State "DONE"       [2008-06-26 Thu]
   It appears that the MultiMarkdown codes are being ignored.
   :PROPERTIES:
   :ID:       5C4EA977-7231-42E4-BAB5-77F9963D846F
   :CREATED:  [2008-05-29 Thu]
   :END:
** DONE [#C] Create a Wiki page titled "Who's using Ledger?"
   - State "DONE"       from "TODO"       [2009-10-26 Mon 22:19]
   :PROPERTIES:
   :Version:  2.6
   :Ticket:   93
   :ID:       F50ADD18-F246-4FDC-85A2-65C435ADE1A4
   :CREATED:  [2008-04-11 Fri]
   :END:
* Misc
** NOTE Speed comparison of strptime/strftime to Boost time_facet
   |                   |  Debug | Optimized |
   |-------------------+--------+-----------|
   | strptime/strftime |  9.356 |     3.355 |
   | Boost time_facet  | 10.367 |     3.765 |
   :PROPERTIES:
   :ID:       BFA80E12-0390-47A5-8B4C-5604DAB44E08
   :VISIBILITY: folded
   :CREATED:  [2009-10-25 Sun 19:02]
   :END:
* Colophon
#+STARTUP: content fninline hidestars
#+ARCHIVE: TODO-3.0::
#+SEQ_TODO: STARTED TODO(@) REVIEW(@) WAITING(@) DELEGATED(@) DEFERRED(@) | DONE(@) CANCELED(@) WONTFIX(@) WORKSFORME(@) INVALID(@) DUPLICATE(@) CLOSED(@) NOTE
#+TAGS: blocker(B) critical(C)
#+DRAWERS: PROPERTIES LOGBOOK OUTPUT SCRIPT SOURCE DATA
#+LINK: bug http://bugs.ledger-cli.org/show_bug.cgi?id=
#+CATEGORY: Ledger
